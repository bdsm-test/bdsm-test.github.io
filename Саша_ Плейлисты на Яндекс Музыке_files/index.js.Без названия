!function(external){var __escape=(rules={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},reg=/[&<>"'\/]/g,rep=function(t){return rules[t]},function(t){return t&&(t+"").replace(reg,rep)}),__escapeJS=function(){var t={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},e=/[&><\u2028\u2029]/g,i=function(e){return t[e]};return function(t){return t&&(t+"").replace(e,i)}}(),rules,reg,rep;external.exports=function(t){var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var i={},n=function(a){if(a in i)return i[a].exports;if(!t[a])throw new ReferenceError("module "+a+" is not found");var s=i[a]={exports:{}};return t[a].call(e,s,s.exports,n,e),s.exports};return n(0)}([function(t,e,i,n){window.clientSide=!0,window.serverSide=!1,Mu.settings.serverSide=!1,window.YaMBPaymentManager=window.YaMBPaymentManager||[],i(1),i(4),i(10),i(17),Mu.eventize=i(23),Mu.dnd=i(24),Mu.utils=i(25),window.yr=i(29),i(30);try{i(31),i(32),i(33)}catch(t){}"console"in window||(window.console={log(){}});try{window&&window.opener&&window.opener.location&&"/settings"===window.opener.location.pathname&&"/"===window.location.pathname&&window.close()}catch(t){}const a=i(34);if(Mu.settings.csp){new a({cspUrl:Mu.settings.csp.reportUrl+"/csp",reqid:Mu.settings.requestId,login:Mu.authData.user.login,yandexuid:Mu.authData.user.uid,from:"music",counter:"690.1893.1894",tld:Mu.settings.tld,domainExact:Mu.settings.csp.allowedHosts}).start()}i(35),i(82),Mu.blocks=new Mu.Blocks,i(130),i(245),Mu.pages=new Mu.Pages,Mu.sidebars=new Mu.Sidebars,Mu.popups=new Mu.Popups,Mu.mediaControls=new Mu.MediaControls;!function(t){for(const e in t)yr.externals[e]=t[e]}(i(585).dots),Mu.render=function(t,e,i){return e=e||{},yr.run(Mu.settings.module,e,t,i)},ya.music.antiAdbSetup&&ya.music.antiAdbSetup(".smalladv.ads-block, .ads-block__item:not(.ads-block__item_mega), .ads-block__no-ads, .ads-block__no-ads *,.notify",["class","id","data-b"],!1),window.isActiveTab=!0,Mu.init=function(){$("body").attr("data-everything-loaded","false"),$(window).on("focus",(function(){window.isActiveTab=!0})).on("blur",(function(){window.isActiveTab=!1})).on("load",(function(){$("body").attr("data-everything-loaded","true")}));const t=$(".page-root");t[0].innerHTML=Mu.render(null,{data:Mu.pageData,name:Mu.pageName}),t.addClass("deco-pane-back");const e=new Mu.MiniDi;Mu.dataSrc=new Mu.DataSrc;const i=new ya.music.Player({overlay:document.querySelector("#flash_player_overlay"),streamRequired:!0});e.init({cache:Mu.cache,trackscache:new Mu.TracksCache,metrika:new Mu.Metrika("",{},{tns:{account:"yandex_ru",tmsec:"yandex_music"}}),player:i,adapter:new Mu.Adapter,seq:new Mu.PlayFlow,mediaControls:Mu.mediaControls,flash_overlay:new Mu.FlashOverlay,layout:Mu.layout,pages:Mu.pages,sidebars:Mu.sidebars,popups:Mu.popups,routes:Mu.routes,navigation:Mu.navigation,dataSrc:Mu.dataSrc,auth:new Mu.Auth,forceAuth:new Mu.ForceAuth,fav:new Mu.Favorites,dislikes:new Mu.Dislikes,library:new Mu.Library,hiliter:new Mu.Hiliter,blocks:Mu.blocks,yate_extrnals:yr.externals,broker:Lego.block["i-social"],storage:Mu.Storage.create(),shortcuts:new Mu.Shortcuts,froms:new Mu.Froms,unity:new Mu.Unity,clck:new Mu.ClckCounter,favicon:new Mu.Favicon,playbackProgress:new Mu.PlaybackProgressSender,diag:new Mu.Diag,externalAPI:new Mu.ExternalAPI,messages:new Mu.Messages,webPush:new Mu.WebPush,tabVisability:new Mu.TabVisability,yaMBPaymentManager:window.YaMBPaymentManager||[]}),Mu.blocks.initPendingBlocks(document.body),Mu.navigation.start(),Mu.blocks.get("theme").setThemeToRoot(),$(document.body).addClass("deco-pane-body"),$.removeCookie("instruction",{path:"/",domain:".yandex.ru"})},Mu.constants={KIND_LIKE:3}},function(t,e,i,n){t.exports=i(2)},function(t,e,i,n){t.exports=i(3)},function(t,e,i,n){const a="undefined"==typeof window,s=a?n.Promise:window.Promise;if(!a){const{then:t}=s.prototype;s.prototype.then=function(...e){const i=t.apply(this,e),n=new Error;return i.createdAt=n.stack&&n.stack.split("\n",3)[2]||"nowhere... install modern browser",i}}s.prototype.fail||(s.prototype.fail=s.prototype.catch),t.exports=s},function(t,e,i,n){e["../node_modules/music-ui/js/libs/compat.js"]=i(5),e["../node_modules/music-ui/js/libs/cross-storage.js"]=i(6),e["../node_modules/music-ui/js/libs/jquery.ba-hashchange.js"]=i(7),e["../node_modules/music-ui/js/libs/jquery.cookie.js"]=i(8),e["../node_modules/music-ui/js/libs/jquery.query-string.js"]=i(9)},function(t,e,i,n){Date.prototype.getWeekNumber=function(){var t=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),e=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-e);var i=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-i)/864e5+1)/7)},String.prototype.htmlEscape=function(){return this.split("&").join("&#38;").split("<").join("&#60;").split(">").join("&#62;").split('"').join("&#34;").split("'").join("&#39;")},String.prototype.hashCode=function(){if(0===this.length)return 0;for(var t=0,e=0;e<this.length;e++)t=(t<<5)-t^this.charCodeAt(e);return t},Array.shuffle=function(t){for(var e=(t=t.slice(0)).length;e-- >0;){var i=Math.floor(Math.random()*(e+1)),n=t[i];t[i]=t[e],t[e]=n}return t},Function.prototype.inherit=function(t){var e=function(){};e.prototype=t.prototype,this.prototype=new e,this.prototype.constructor=this},Function.mixin=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},function(t,e,i,n){var a=window._xstorage=window._xstorage||{};t.exports=function(t,e){return a[t]||(a[t]=new Promise((function(i,n){var a=document.createElement("iframe");if(a.src=t+"/"+location.hostname+"/",e)a.classList.add(e);else{var s=a.style;s.position="absolute",s.width=0,s.height=0,s.left="-1000px",s.top="-1000px",s=null}var o=document.createElement("a");o.href=t,""==o.host&&(o.href=o.href);var r=o.protocol+"//"+o.hostname;o=null;var l={},c=function(t){if(!l.hasOwnProperty(t)||!l[t])throw new Error("Storage is unavailable")},d={setItem:function(t,e,i){return c(t),f("setItem",t,e,i),m(t+".setItem."+e)},getItem:function(t,e){return c(t),l[t][e]?Promise.resolve(l[t][e]):(f("getItem",t,e),m(t+".getItem."+e))},removeItem:function(t,e){return c(t),f("removeItem",t,e),m(t+".removeItem."+e)},on:function(t,e){p[t]||(p[t]=[]),p[t].push(e)},off:function(t,e){if(p[t]){var i=p[t].indexOf(e);-1!=i&&p[t].splice(i,1)}}},u={update:function(t,e,i){l[t][e]=i,g(t+".setItem."+e,!0,i),h(t+":update",{key:e,value:i})},data:function(t,e,i){l[t][e]=i,g(t+".getItem."+e,!0,i),h(t+":data",{key:e,value:i})},remove:function(t,e){delete l[t][e],g(t+".removeItem."+e,!0),h(t+":remove",{key:e})},error:function(t){var e=t.event,i=new Error(t.message);g(e.storage+"."+e.event+"."+e.key,!1,i)},clear:function(t){l[t]={},h(t+":clear")},ready:function(t){for(var e in clearTimeout(y),t)t.hasOwnProperty(e)&&(l[e]={});d.storages=t,i(d)},failed:function(){n(new Error("No available"))}},p={},h=function(t,e){if(p[t])for(var i=p[t],n=0,a=i.length;n<a;n++)i[n](e)},_={},m=function(t){if(_[t])return _[t].promise;var e=new Promise((function(e,i){_[t]={resolve:e,reject:i,timeout:setTimeout((function(){i(new Error("Request timeout: "+t)),delete _[t]}),5e3)}}));return _[t].promise=e,e},g=function(t,e,i){_[t]&&(_[t][e?"resolve":"reject"](i),clearTimeout(_[t].timeout),delete _[t])},f=function(t,e,i,n){a.postMessage({event:t,data:{storage:e,key:i,value:n}},r)};window.addEventListener("message",(function(t){if((t.origin||t.originalEvent.origin)===r){var e=t.data.event,i=t.data.data;if("ready"===e)return u.ready(i);if("failed"===e)return u.failed();if("error"===e)return u.error(i);try{c(i.storage)}catch(t){return}u.hasOwnProperty(e)&&"function"==typeof u[e]&&u[e](i.storage,i.key,i.value)}}));var y=setTimeout(u.failed,5e3);document.body.appendChild(a),a=a.contentWindow}))),a[t]}},function(t,e,i,n){
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(t,e,i){var n,a=document,s=t.event.special,o=a.documentMode,r="onhashchange"in e&&(void 0===o||o>7);function l(t){var e=(t=t||location.href).indexOf("#");return-1===e?"#":t.substr(e)}t.fn.hashchange=function(t){return t?this.bind("hashchange",t):this.trigger("hashchange")},t.fn.hashchange.delay=50,s.hashchange=t.extend(s.hashchange,{setup:function(){if(r)return!1;t(n.start)},teardown:function(){if(r)return!1;t(n.stop)}}),n=function(){var i,n,s,o={},c=l(),d=function(t){return t},u=d,p=d;function h(){var n=l(),a=p(c);n!==c?(u(c=n,a),t(e).trigger("hashchange")):a!==c&&(location.href=location.href.replace(/#.*/,"")+a),i=setTimeout(h,t.fn.hashchange.delay)}return o.start=function(){i||h()},o.stop=function(){i&&clearTimeout(i),i=void 0},e.attachEvent&&!e.addEventListener&&!r&&(o.start=function(){n||(s=(s=t.fn.hashchange.src)&&s+l(),n=t('<iframe tabindex="-1" title="empty"/>').hide().one("load",(function(){s||u(l()),h()})).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow,t.fn.hashchange.hiddenIframe=n,a.onpropertychange=function(){try{"title"===event.propertyName&&(n.document.title=a.title)}catch(t){}})},o.stop=d,p=function(){return l(n.document.location.href)},u=function(e,i){var s=n.document,o=t.fn.hashchange.domain;e!==i&&(s.title=a.title,s.open(),o&&s.write('<script>document.domain="'+o+'"<\/script>'),s.close(),s.location.hash=e)}),o}()}(jQuery,this)},function(t,e,i,n){
/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */var a;a=function(t){var e=/\+/g;function i(t){return t}function n(t){return decodeURIComponent(t.replace(e," "))}function a(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s.json?JSON.parse(t):t}catch(t){}}var s=t.cookie=function(e,o,r){if(void 0!==o){if("number"==typeof(r=t.extend({},s.defaults,r)).expires){var l=r.expires,c=r.expires=new Date;c.setDate(c.getDate()+l)}return o=s.json?JSON.stringify(o):String(o),document.cookie=[s.raw?e:encodeURIComponent(e),"=",s.raw?o:encodeURIComponent(o),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var d=s.raw?i:n,u=document.cookie.split("; "),p=e?void 0:{},h=0,_=u.length;h<_;h++){var m=u[h].split("="),g=d(m.shift()),f=d(m.join("="));if(e&&e===g){p=a(f);break}e||(p[g]=a(f))}return p};s.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!0)}},"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)},function(t,e,i,n){jQuery.queryString=function(t){if(!t)return{};t=t.split("&");for(var e={},i=0;i<t.length;++i){var n=t[i].split("=");2===n.length&&(e[n[0]]=decodeURIComponent(n[1].replace(/\+/g," ")))}return e}},function(t,e,i,n){"undefined"==typeof globalThis&&(globalThis=this),globalThis.__Mu_getUrlFn=i(11),globalThis.__Mu_appLinkUtility=i(12)},function(t,e,i,n){var a={feedback:"//feedback2.yandex.ru/newmusic/",feedbackMobile:"//yandex.ru/support/music/users/payment.html#problems",emailValidator:"//passport.yandex.{{TLD}}/profile/emails/list",agreementMobile:"//legal.yandex.ru/music_mobile_agreement/",lumiaMarketLink:"http://market.yandex.ru/catalog/91491/list?gfilter=1801946%3A8500761%2C1871151&gfilter=2142542726%3A-1347084400&gfilter=2142557976%3A-413129622%2C-1446900121&in-stock=1&how=ddate&from=musicapp",tld:"ru"};t.exports=function(t){return(a[t]||"").replace(/\{\{TLD\}\}/g,Mu.settings.tld)}},function(t,e,i,n){var a=i(13),s=i(15).deeplink;t.exports={getDeviceInfo:function(){return Mu&&Mu.settings&&Mu.settings.uatraits||{}},getNonBranchLink:function(){var t=this.getDeviceInfo();return"iOS"===t.OSFamily?"https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music":"Android"===t.OSFamily?"https://play.google.com/store/apps/details?id=ru.yandex.music":"/pay-promo"},getLink:function(t,e){return this.isSupportedDevice()?s(t,a(),e):this.getNonBranchLink()},isSupportedIOs:function(){var t=this.getDeviceInfo(),e=parseFloat(t.BrowserVersion);return"iOS"===t.OSFamily&&e>=9||"Android"===t.OSFamily&&e>=4.1||t.inAppBrowser},isSupportedDevice:function(){var t=this.getDeviceInfo(),e=parseFloat(t.BrowserVersion);return this.isSupportedIOs()||"Android"===t.OSFamily&&e>=4.1},hasAppStore:function(){return this.isSupportedDevice()}}},function(t,e,i,n){t.exports=i(14)},function(t,e,i,n){t.exports=function(){return Mu.authData&&Mu.authData.user}},function(t,e,i,n){i(16);var a=/[^\w\-\.\/:\?=\&\[\]%]/gi,s=function(t){return"string"==typeof t&&(t=t.replace(a,"")),t},o={album:"album/{id}/",track:"album/{id}/track/{trackId}/",playlist:"users/{owner.login}/playlists/{kind}/",artist:"artist/{id}/",promocode:"subscription/promocode?text={code}",autoplaylist:"playlist/{playlistType}"},r={blockName:{"app-get-sms":{prefix:"sms_",contextName:{apps:"apps",artist:"artist",album:"album",track:"track",playlist:"playlist",appBrick:"AppBrick"},contextType:{page:"main",sidebar:"fridge",below:"floatbanner"},blockPosition:{above:"above",below:"below"}},"app-wall":{prefix:"splash_",contextName:{artist:"artist",album:"album",track:"track",playlist:"playlist",home:"morda",main:"main",index:"morda"}},"d-overhead-mobile":{prefix:"mobbrick_"}}},l={contextName:{travel:"travel"},blockName:{"app-get-sms":"musicAppsPageSms"}},c=["channel","deep_link_value","af_dp","refererId","referrer_id","referrer_userpic","referrer_name"],d=function(t,e){var i="",n=e;t=t.split(".");for(var a=0;a<t.length;a++){if(void 0===(n=n[t[a]])){i="";break}i=n}return i},u=function(t){var e=t.entity||{},i="",n=o[t.entityType];return n&&(i=function(t,e){for(var i=/\{([^{]+)\}/g,n=i.exec(t);n;)t=t.replace(n[0],d(n[1],e)),n=i.exec(t);return t}(n,e)),i};t.exports={deeplink:function(t,e,i){void 0===i&&(i={});let n="yandexmusic://"+(i.deeplink_url||u(t));t.autoPlay&&(n+=`?${t.autoPlay.argument}=${t.autoPlay.value}`);var a={campaign:"yamusicweb",channel:"musicmain"};for(var o in a.deep_link_value=n,a.af_dp=n,a.pid=[],t)if(t.hasOwnProperty(o)){if(r[o]&&void 0!==r[o][t[o]]){var d=r[o][t[o]],p=d.prefix?d.prefix:"";for(var h in t)t.hasOwnProperty(h)&&d[h]&&d[h][t[h]]&&a.pid.push(p+d[h][t[h]])}l[o]&&void 0!==l[o][t[o]]&&(a.channel=l[o][t[o]])}for(var _ in i.tags&&(i.tags instanceof Array?i.tags.map((function(t){return s(t)})):i.tags=s(i.tags),i.tags.length&&(a.pid=a.pid.concat(i.tags))),void 0!==i.channel&&(a.channel=s(i.channel)),e.login&&(a.login=s(e.login)),c)i.hasOwnProperty(c[_])&&(a[c[_]]=s(i[c[_]]));0===a.pid.length&&("d-overhead-mobile"===t.blockName?a.pid=p+t.contextName:delete a.pid);var m=[];for(var g in a)if(a.hasOwnProperty(g)){var f=a[g];if("string"==typeof f)f=encodeURIComponent(a[g]),m.push(g+"="+f);else if(f instanceof Array){for(var y=[],v=0;v<f.length;v++)y.push(g+"="+encodeURIComponent(f[v]));m.push(y.join("&"))}}return"https://music.onelink.me/VkDa?"+m.join("&")}}},function(t,e,i,n){t.exports=i(5)},function(t,e,i,n){var a=i(18),s=function(){this.isProductStreamSended=!1};s.prototype.init=function(){this.newGtagSandbox=a("newgtag","id=GTM-5NRR55M",(function(){}))},s.prototype.sendProductStream=function(){this.isProductStreamSended||(setTimeout(()=>{this.newGtagSandbox.send({event:"product_stream"})},12e4),this.isProductStreamSended=!0)},s.prototype.sendPaymentCompleted=function(){this.newGtagSandbox.send({event:"PaymentCompleted"})};var o=new s;"undefined"==typeof Mu||Mu.newGtag||(o.init(),Mu.newgtag=o),t.exports=o},function(t,e,i,n){var a=i(19);t.exports=function(t,e,i){return a("https://"+Mu.settings.sandbox+"/iframe?type="+t+(e?"&"+e:""),"sandbox-iframe sandbox-iframe__"+t,i)}},function(t,e,i,n){var a=i(20),s={allowfullscreen:!1,allowpaymentrequest:!1,referrerpolicy:"no-referrer",sandbox:"allow-same-origin allow-scripts"};t.exports=function(t,e,i){var n=new a(t,!0),o=new a(location.href),r=Math.random().toString().slice(2);n.query.from=o.host,n.query.token=r,n.set("query",n.query);var l=function(t,e){var i=document.createElement("iframe");for(var n in i.className=e,s)s.hasOwnProperty(n)&&(i[n]=s[n]);return i.src=t,i}(n.href,e);document.body.appendChild(l);var c,d=l.contentWindow,u=new Promise((function(t){c=t})),p=function(t){u.then((function(){d.postMessage(JSON.stringify(t),n.origin)}))},h=function(t){if(t.origin===n.origin&&t.source===d){var e=JSON.parse(t.data);e.token===r&&(t.stopImmediatePropagation(),c&&e.data.event&&"ready"===e.data.event&&(c(),c=null),i(e.data))}},_=function(){window.removeEventListener("message",h),l.parentNode&&l.parentNode.removeChild(l),i=n=o=r=l=d=u=p=h=_=c=null};return window.addEventListener("message",h),{send:function(t){p(t)},remove:function(){_()},ready:u,iframe:l}}},function(t,e,i,n){"use strict";var a=i(21),s=i(22),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,d=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function p(t){return(t||"").toString().replace(o,"")}var h=[["#","hash"],["?","query"],function(t,e){return g(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],_={hash:1,query:1};function m(t){var e,i=("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}).location||{},a={},s=typeof(t=t||i);if("blob:"===t.protocol)a=new y(unescape(t.pathname),{});else if("string"===s)for(e in a=new y(t,{}),_)delete a[e];else if("object"===s){for(e in t)e in _||(a[e]=t[e]);void 0===a.slashes&&(a.slashes=l.test(t.href))}return a}function g(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function f(t,e){t=(t=p(t)).replace(r,""),e=e||{};var i,n=d.exec(t),a=n[1]?n[1].toLowerCase():"",s=!!n[2],o=!!n[3],l=0;return s?o?(i=n[2]+n[3]+n[4],l=n[2].length+n[3].length):(i=n[2]+n[4],l=n[2].length):o?(i=n[3]+n[4],l=n[3].length):i=n[4],"file:"===a?l>=2&&(i=i.slice(2)):g(a)?i=n[4]:a?s&&(i=i.slice(2)):l>=2&&g(e.protocol)&&(i=n[4]),{protocol:a,slashes:s||g(a),slashesCount:l,rest:i}}function y(t,e,i){if(t=(t=p(t)).replace(r,""),!(this instanceof y))return new y(t,e,i);var n,o,l,c,d,_,v=h.slice(),b=typeof e,k=this,w=0;for("object"!==b&&"string"!==b&&(i=e,e=null),i&&"function"!=typeof i&&(i=s.parse),n=!(o=f(t||"",e=m(e))).protocol&&!o.slashes,k.slashes=o.slashes||n&&e.slashes,k.protocol=o.protocol||e.protocol||"",t=o.rest,("file:"===o.protocol&&(2!==o.slashesCount||u.test(t))||!o.slashes&&(o.protocol||o.slashesCount<2||!g(k.protocol)))&&(v[3]=[/(.*)/,"pathname"]);w<v.length;w++)"function"!=typeof(c=v[w])?(l=c[0],_=c[1],l!=l?k[_]=t:"string"==typeof l?~(d="@"===l?t.lastIndexOf(l):t.indexOf(l))&&("number"==typeof c[2]?(k[_]=t.slice(0,d),t=t.slice(d+c[2])):(k[_]=t.slice(d),t=t.slice(0,d))):(d=l.exec(t))&&(k[_]=d[1],t=t.slice(0,d.index)),k[_]=k[_]||n&&c[3]&&e[_]||"",c[4]&&(k[_]=k[_].toLowerCase())):t=c(t,k);i&&(k.query=i(k.query)),n&&e.slashes&&"/"!==k.pathname.charAt(0)&&(""!==k.pathname||""!==e.pathname)&&(k.pathname=function(t,e){if(""===t)return e;for(var i=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=i.length,a=i[n-1],s=!1,o=0;n--;)"."===i[n]?i.splice(n,1):".."===i[n]?(i.splice(n,1),o++):o&&(0===n&&(s=!0),i.splice(n,1),o--);return s&&i.unshift(""),"."!==a&&".."!==a||i.push(""),i.join("/")}(k.pathname,e.pathname)),"/"!==k.pathname.charAt(0)&&g(k.protocol)&&(k.pathname="/"+k.pathname),a(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(~(d=k.auth.indexOf(":"))?(k.username=k.auth.slice(0,d),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(d+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin="file:"!==k.protocol&&g(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}y.prototype={set:function(t,e,i){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(i||s.parse)(e)),n[t]=e;break;case"port":n[t]=e,a(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,c.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!i;break;case"pathname":case"hash":if(e){var o="pathname"===t?"/":"#";n[t]=e.charAt(0)!==o?o+e:e}else n[t]=e;break;case"username":case"password":n[t]=encodeURIComponent(e);break;case"auth":var r=e.indexOf(":");~r?(n.username=e.slice(0,r),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(r+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<h.length;l++){var d=h[l];d[4]&&(n[d[1]]=n[d[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin="file:"!==n.protocol&&g(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n},toString:function(t){t&&"function"==typeof t||(t=s.stringify);var e,i=this,n=i.host,a=i.protocol;a&&":"!==a.charAt(a.length-1)&&(a+=":");var o=a+(i.protocol&&i.slashes||g(i.protocol)?"//":"");return i.username?(o+=i.username,i.password&&(o+=":"+i.password),o+="@"):i.password?(o+=":"+i.password,o+="@"):"file:"!==i.protocol&&g(i.protocol)&&!n&&"/"!==i.pathname&&(o+="@"),(":"===n[n.length-1]||c.test(i.hostname)&&!i.port)&&(n+=":"),o+=n+i.pathname,(e="object"==typeof i.query?t(i.query):i.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),i.hash&&(o+=i.hash),o}},y.extractProtocol=f,y.location=m,y.trimLeft=p,y.qs=s,t.exports=y},function(t,e,i,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,i,n){"use strict";var a=Object.prototype.hasOwnProperty;function s(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var i,n,s=[];for(n in"string"!=typeof e&&(e="?"),t)if(a.call(t,n)){if((i=t[n])||null!=i&&!isNaN(i)||(i=""),n=o(n),i=o(i),null===n||null===i)continue;s.push(n+"="+i)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,i=/([^=?#&]+)=?([^&]*)/g,n={};e=i.exec(t);){var a=s(e[1]),o=s(e[2]);null===a||null===o||a in n||(n[a]=o)}return n}},function(t,e,i,n){var a="__eventCallbacks__",s=function(t){return t instanceof Array},o=function(t){if(this.hasOwnProperty(a)){var e=this[a][t];if(s(e)){e=e.slice(0,e.length);for(var i=[].slice.call(arguments,1),n=0;n<e.length;n++)if("function"==typeof e[n])try{e[n].apply(this,i)}catch(t){console.error(t)}}}},r=function(t,e){if(this.hasOwnProperty(a)){var i=this[a][t];s(i)||(i=this[a][t]=[]),i.push(e)}},l=function(t,e){if(this.hasOwnProperty(a))if("*"===t)this[a]={};else if(e){var i=this[a][t];if(!s(i))return;for(var n=i.length;n-- >0;)i[n]===e&&i.splice(n,1)}else delete this[a][t]};t.exports=function(t){t[a]={},t.trigger=o,t.on=r,t.off=l}},function(t,e,i,n){var a=void 0,s=$(document),o=$(window),r=void 0,l=function(t,e){this.startX=e.startX||t.pageX,this.startY=e.startY||t.pageY,this.options=e||{},this.overlay=void 0,e.shim=!("shim"in e)||e.shim,s.bind("mousemove.DnD",this.onMove.bind(this)),s.bind("mouseup.DnD",this.end.bind(this,!1)),o.bind("blur",this.end.bind(this,!0)),this.state=this.options.draggable?1:2,this.onMove(t),t.preventDefault()};l.prototype.onMove=function(t){t.deltaX=t.pageX-this.startX,t.deltaY=t.pageY-this.startY,1===this.state&&this.onDragStart(t),2===this.state&&this.onDragMove(t)},l.prototype.onDragStart=function(t){t.deltaX*t.deltaX+t.deltaY*t.deltaY<64||(this.options.shim&&this.showShim(),this.showOverlay(),this.state=2,this.options.onDragStart&&this.options.onDragStart(t),document.body.style.userSelect=document.body.style.MozUserSelect="none")},l.prototype.onDragMove=function(t){this.moveOverlay(t),this.options.onMove&&this.options.onMove(t),t.preventDefault()},l.prototype.showOverlay=function(){if(this.options.overlay){var t=$('<div style="position: absolute; z-index: 100001; pointer-events: none;"></div>');t.append(this.options.overlay),t.appendTo(document.body);var e={x:-Math.round(t.outerWidth()/2),y:-Math.round(t.outerHeight()/2)};this.overlay={$cont:t,offset:e}}},l.prototype.hideOverlay=function(){this.overlay&&(this.overlay.$cont.remove(),this.overlay=void 0)},l.prototype.moveOverlay=function(t){if(this.overlay){var e=this.overlay.offset;this.overlay.$cont.css({left:t.pageX+e.x,top:t.pageY+e.y})}},l.prototype.showShim=function(){r||this.initShim(),r.css({display:"block"})},l.prototype.hideShim=function(){r&&r.css({display:"none"})},l.prototype.initShim=function(){(r=$('<div style="position: fixed; z-index: 100000; left: 0; top: 0; width: 100%; height: 100%; display: none;"></div>')).appendTo(document.body)},l.prototype.end=function(t,e){s.unbind(".DnD"),this.options.shim&&this.hideShim(),this.state=0,this.hideOverlay(),t||this.onMove(e),this.options.onEnd&&this.options.onEnd(e,!!t),a=void 0},t.exports=function(t,e){a&&a.end(!0,void 0),a=new l(t,e)}},function(t,e,i,n){var a=i(26),s={throttle:function(t,e,i,n){var a,s=0;return"boolean"!=typeof e&&(n=i,i=e,e=!1),function(){var o=+new Date-s,r=arguments,l=function(){s=+new Date,i.apply(this,r)}.bind(this),c=function(){a=null};n&&!a&&l(),a&&clearTimeout(a),void 0===n&&o>t?l():!0!==e&&(a=setTimeout(n?c:l,void 0===n?t-o:t))}},debounce:function(t,e,i){return void 0===i?this.throttle(t,e,!1):this.throttle(t,i,!1!==e)},random:function(t,e){return Math.floor(Math.random()*(e-t))+t},promiseTransitioned:function(t){if(!t)return Promise.resolve({});var e=new a,i=function(n){t.removeEventListener("transitionend",i,!0),e.resolve(n)};return t.addEventListener("transitionend",i,!0),e.promise()},dateToISOStringWithTimezone:function(t){var e=-t.getTimezoneOffset(),i=e>=0?"+":"-",n=function(t){return(t<10?"0":"")+t};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+"T"+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+i+n(e/60)+":"+n(e%60)},objectsAreEquivalent:function(t,e){if(typeof t!=typeof e)return!1;if("object"==typeof t){for(var i in t)if(t.hasOwnProperty(i)&&!s.objectsAreEquivalent(t[i],e[i]))return!1;return!0}return t===e}};t.exports=s},function(t,e,i,n){t.exports=i(27)},function(t,e,i,n){var a=i(3),s=i(28);t.exports=function(){var t=this,e=new a((function(e,i){t.resolve=e,t.reject=i}));e.catch(s),this.promise=function(){return e}}},function(t,e,i,n){t.exports=function(){}},function(t,e,i,n){var a={};!function(){a.log=function(){};var t={},e=/&/g,i=/</g,n=/>/g,s=/"/g,o=/&amp;/g,r=/&lt;/g,l=/&gt;/g;function c(t){return t.replace(/&/g,"&amp;")}a.text2xml=function(t){return null==t?"":(""+t).replace(e,"&amp;").replace(i,"&lt;").replace(n,"&gt;")},a.xml2text=function(t){return null==t?"":(""+t).replace(r,"<").replace(l,">").replace(o,"&")},a.text2attr=function(t){return null==t?"":(""+t).replace(e,"&amp;").replace(s,"&quot;").replace(i,"&lt;").replace(n,"&gt;")},a.xml2attr=function(t){return null==t?"":(""+t).replace(s,"&quot;").replace(i,"&lt;").replace(n,"&gt;")},a.register=function(e,i){if(a.isRegistered(e))throw Error('Module "'+e+'" already exists');for(var n=i.imports||[],s=[i],o=0,r=n.length;o<r;o++){var l=t[n[o]];if(!l)throw Error('Module "'+n[o]+"\" doesn't exist");s=s.concat(l.imports)}i.imports=s,t[e]=i},a.isRegistered=function(e){return!!t[e]},a.run=function(e,i,n,a){n=n||"";var s=t[e];if(!s)throw'Module "'+e+'" is undefined';var o=new u(i);return a?s.a.apply(s,[s,0,[o.root],n,{a:{}}].concat(a)):s.a(s,0,[o.root],n,{a:{}})},a.join=function(t,e){return t.concat(e)},a.nodeValue=function(t){var e=t.data;return"object"==typeof e?"":e},a.nodeName=function(t){var e=t[0];return e?e.name:""},a.simpleScalar=function(t,e){var i=e.data;if(!i)return"";if("*"===t){for(var n in i)return a.simpleScalar(n,e);return""}var s=i[t];return"object"==typeof s||void 0===s?"":s},a.simpleBoolean=function(t,e){var i=e.data;if(!i)return!1;if("*"===t){for(var n in i){var s;if(s=a.simpleBoolean(n,e))return!0}return!1}return!!(s=i[t])&&(!Array.isArray(s)||s.length)},a.nodeset2scalar=function(t){if(!t.length)return"";var e=t[0].data;return"object"==typeof e?"":e},a.nodeset2boolean=function(t){return!!(t&&t.length>0)&&!!t[0].data},a.nodeset2xml=function(t){return a.scalar2xml(a.nodeset2scalar(t))},a.nodeset2attrvalue=function(t){return a.scalar2attrvalue(a.nodeset2scalar(t))},a.scalar2xml=a.text2xml,a.xml2scalar=a.xml2text,a.xml2attrvalue=a.xml2attr,a.scalar2attrvalue=a.text2attr,a.object2nodeset=function(t){return[new u(t).root]},a.array2nodeset=function(t){return[new u({item:t}).root]},a.cmpSN=function(t,e){for(var i=0,n=e.length;i<n;i++)if(t==a.nodeValue(e[i]))return!0;return!1},a.cmpNN=function(t,e){var i=e.length;if(0===i)return!1;if(1===i)return a.cmpSN(a.nodeValue(e[0]),t);for(var n=[],s=a.nodeValue(e[0]),o=0,r=t.length;o<r;o++){var l=a.nodeValue(t[o]);if(l==s)return!0;n[o]=l}for(var c=1;c<i;c++){s=a.nodeValue(e[c]);for(o=0,r=t.length;o<r;o++)if(n[o]==s)return!0}return!1},a.shortTags={br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,wbr:!0},a.closeAttrs=function(t){var e=t.s;if(e){var i="",n=t.a;for(var s in n)i+=" "+s+'="'+n[s].quote()+'"';return i+=a.shortTags[e]?"/>":">",t.s=null,i}return""},a.copyAttrs=function(t,e){for(var i in e)t[i]=e[i]},a.scalarAttr=function(t){this.s=null==t?"":""+t},a.scalarAttr.prototype.quote=function(){return a.text2attr(this.s)},a.scalarAttr.prototype.addxml=function(t){return new a.xmlAttr(c(this.s)+t)},a.scalarAttr.prototype.addscalar=function(t){return new a.scalarAttr(this.s+t)},a.xmlAttr=function(t){this.s=null==t?"":""+t},a.xmlAttr.prototype.quote=function(){return a.xml2attr(this.s)},a.xmlAttr.prototype.addscalar=function(t){return new a.xmlAttr(this.s+c(t))},a.slice=function(t,e,i){return t=""+t,i?t.slice(e,i):t.slice(e)},a.exists=function(t){return t.length>0},a.grep=function(t,e){for(var i=[],n=0,a=t.length;n<a;n++){var s=t[n];e(s,n,a)&&i.push(s)}return i},a.byIndex=function(t,e){return t.slice(e,e+1)},a.sort=function(t,e,i){for(var n=[],a=0,s=t.length;a<s;a++){var o=t[a],r=e(o,a,s);n.push({node:o,value:r})}var l=i?-1:1,c=i?1:-1,d=n.sort((function(t,e){var i=t.value,n=e.value;return i<n?c:i>n?l:0})),u=[];for(a=0,s=d.length;a<s;a++)u.push(d[a].node);return u},a.nodeset2data=function(t){var e=t.length;if(0===e)return"";if(1===e)return t[0].data;for(var i=[],n=0;n<e;n++)i.push(t[n].data);return i},a.externals={};var d=function(){};function u(t){Array.isArray(t)&&(t={item:t}),this.root={data:t,parent:null,name:"",doc:this},this._vars={},this._keys={}}d.prototype.a=function(t,e,i,n,a){var s,o="";arguments.length>5&&(s=Array.prototype.slice.call(arguments,5));for(var r=t.imports,l=0,c=i.length;l<c;l++){for(var d,u,p=i[l],h=!1,_=e,m=r.length;!h&&_<m;){var g=(d=r[_++]).matcher[n];if(g){var f=g[p.name]||g["*"];if(f)for(var y=0,v=f.length;!h&&y<v;){var b=f[y++],k=(u=d[b]).j;if(k)d.matched(k,u.a,p,l,c)&&(h=b);else for(var w=u.s,x=u.a,M=0,T=w.length;M<T;M++)if(d.matched(w[M],x[M],p,l,c)){h=b;break}}}}h&&(o+=s?u.apply(t,[t,p,l,c,a].concat(s)):u(t,p,l,c,a))}return o},d.prototype.matched=function(t,e,i,n,a){if(1===t)return!i.parent;for(var s=t.length-2;s>=0;){if(!i)return!1;switch(t[s]){case 0:var o=t[s+1];if("*"!==o&&o!==i.name)return!1;i=i.parent;break;case 2:case 4:if(!(0,t[s+1])(this,i,n,a))return!1}s-=2}return!e||!i.parent},d.prototype.s=function(t,e){return this.n(t,[e])},d.prototype.n=function(t,e){for(var i,n=e,s=n.length,o=0,r=t.length;o<r;o+=2){i=[];var l=t[o],c=t[o+1];switch(l){case 0:for(var d=0;d<s;d++)a.selectNametest(c,n[d],i);break;case 1:for(d=0;d<s;d++){for(var u=0,p=n[d];u<c&&p;)p=p.parent,u++;p&&i.push(p)}break;case 2:for(d=0;d<s;d++){c(this,p=n[d],d,s)&&i.push(p)}break;case 3:i=(p=n[c])?[p]:[];break;case 4:if(s>0)c(this,(p=n[0]).doc.root,0,1)&&(i=i.concat(n))}if(!(s=(n=i).length))return[]}return i},a.selectNametest=function(t,e,i){var n=e.data;if(!n||"object"!=typeof n)return i;if("*"===t){if(Array.isArray(n))for(var s=0,o=n.length;s<o;s++)a.selectNametest(s,e,i);else for(t in n)a.selectNametest(t,e,i);return i}if(void 0===(n=n[t]))return i;var r=e.doc;if(Array.isArray(n))for(s=0,o=n.length;s<o;s++)i.push({data:n[s],parent:e,name:t,doc:r});else i.push({data:n,parent:e,name:t,doc:r});return i},a.document=function(t){return[(t.length?new u(t[0].data):new u({})).root]},a.subnode=function(t,e,i){var n=i.doc;if(Array.isArray(e)){for(var a=[],s=0,o=e.length;s<o;s++)a.push({data:e[s],name:t,parent:i,doc:n});return a}return[{data:e,name:t,parent:i,doc:n}]},d.prototype.v=function(t,e){var i=e.doc._vars,n=i[t];if(void 0===n){var a=this.findSymbol(t);n="function"==typeof a?a(this,e,0,1):a,i[t]=n}return n},d.prototype.f=function(t,e,i,n,a){var s=this.findSymbol(t);if(arguments.length>5){var o=Array.prototype.slice.call(arguments);return o[0]=this,s.apply(this,o)}return void 0!==a?s(this,e,i,n,a):s(this,e,i,n)},d.prototype.k=function(t,e,i,n){var s=i.doc._keys,o=this.findSymbol(t),r=s[t];r||(r=this._initKey(o,t,e,i));var l=r.values,c=r.nodes,d=this;if(n){var u;if(r.xml){u="";for(var p=0,h=e.length;p<h;p++){i=e[p];u+=m(a.nodeValue(i))}}else{u=[];for(p=0,h=e.length;p<h;p++){i=e[p];u=u.concat(m(a.nodeValue(i)))}}return u}var _=l[e];return void 0===_&&(_=m(e)),_;function m(t){var e,i=c[t];if(r.xml){if(e="",i)for(var n=0,a=i.length;n<a;n++){var s=i[n];e+=o.b(d,s.c,s.i,s.l,{})}}else if(e=[],i)for(n=0,a=i.length;n<a;n++){s=i[n];e=e.concat(o.b(d,s.c,s.i,s.l))}return l[t]=e,e}},d.prototype._initKey=function(t,e,i,n){var s=n.doc._keys[e]={};s.xml="xml"===t.bt;var o=t.n(this,n),r=s.nodes={};if("nodeset"===t.ut)for(var l=0,c=o.length;l<c;l++)for(var d=o[l],u=0,p=(h=t.u(this,d,l,c)).length;u<p;u++)_(a.nodeValue(h[u]),{c:d,i:l,l:c});else for(l=0,c=o.length;l<c;l++){var h;d=o[l];_(h=t.u(this,d,l,c),{c:d,i:l,l:c})}return s.values={},s;function _(t,e){var i=r[t];i||(i=r[t]=[]),i.push(e)}},d.prototype.findSymbol=function(t){for(var e=this.imports,i=0,n=e.length;i<n;i++){var a=e[i][t];if(void 0!==a)return a}},a.Module=d}(),void 0!==t&&(t.exports=a)},function(t,e,i,n){var a=a||i(29);!function(){var t=a.cmpNN,e=a.cmpSN,i=a.nodeset2xml,n=a.nodeset2boolean,s=a.nodeset2attrvalue,o=a.nodeset2scalar,r=a.scalar2attrvalue,l=(a.xml2attrvalue,a.scalar2xml),c=a.xml2scalar,d=a.simpleScalar,u=a.simpleBoolean,p=a.selectNametest,h=a.closeAttrs,_=new a.Module;_.f0=function(t,e,i,n,a,s,o){var r="",l=(a-a%o)/o,c=1+(s-s%o)/o;return r+=a<=1?"":s%o==0?" button_pin_right":s==a-1||s%o==o-1?" button_pin_left":" button_pin_both",r+=1==l?"":1==c?" button_pin_bottom":c==l?" button_pin_top":" button_pin_vertical"},_.f1=function(t,e,i,n,a){var s="";return s+=300==a?"XL":200==a?"L":100==a?"S":40==a?"XS":"M"},_.f2=function(t,e,i,n,a){var s="";return s+=300==a?"XL":200==a?"L":100==a?"S":40==a?"XS":"M"};var m=[0,"tld"];_.v7=function(t,e,i,n){return"https://music.yandex."+o(t.n(m,a.object2nodeset(a.externals.getSettings())))},_.f3=function(t,e,i,n,a,s){var o="";return o+=s?"asc"==a?"desc":"asc":"asc"==a?"asc":"desc"};var g=[0,"*"],f=[1,0],y=[0,"attrs",0,"*"];var v=[0,"*",2,function(t,i,n,a){return e("pp",p("icon",i,[]))}];var b=[0,"*",2,function(t,e,i,n){return p("buttons",e,[]).length>1}],k=[0,"title"],w=[0,"lang"],x=[0,"type"],M=[0,"region"],T=[0,"isCIS"];var S=[0,"*",2,function(t,i,n,a){return e("radio",p("icon",i,[]))}],$=[0,"data",0,"__trace"],L=[0,"data",0,"error"],P=[0,"moodEnergy",0,"name"],C=[0,"moodEnergy",0,"possibleValues"],D=[0,"moodEnergy"],E=[0,"diversity",0,"name"],A=[0,"diversity",0,"possibleValues"],Y=[0,"diversity"],I=[0,"language",0,"name"],O=[0,"language",0,"possibleValues"],j=[0,"language"],R=[0,"station",0,"icon",0,"backgroundColor"],N=[0,"station",0,"icon",0,"imageUrl"],z=[0,"station",0,"name"],H=[0,"device",0,"os"],F=[0,"data",0,"playlist",0,"isOwner"],B=[0,"data",0,"playlist",0,"doNotIndex"],U=[0,"data",0,"playlist",0,"kind"];var q=[0,"*",2,function(t,i,n,a){return e("artist",p("name",i,[]))}];var W=[0,"*",2,function(t,i,n,a){return e("album",p("name",i,[]))&&!u("trackId",i)}];var V=[0,"*",2,function(t,i,n,a){return e("album",p("name",i,[]))&&u("trackId",i)}];var G=[0,"*",2,function(t,i,n,a){return e("playlist",p("name",i,[]))}],K=[0,"version"];var J=[0,"*",2,function(t,i,n,a){return e("album",p("name",i,[]))}],X=[0,"data",0,"volumes"];var Z=[0,"*",2,function(t,i,n,a){return e("playlist",p("name",i,[]))||e("artist",p("name",i,[]))}];var Q=[0,"*",2,function(t,i,n,a){return!e("artist",p("name",i,[]))}];var tt=[0,"*",2,function(t,i,n,a){return e("home",p("name",i,[]))||e("index",p("name",i,[]))||e("feed",p("name",i,[]))}],et=[0,"data",0,"artist",0,"name"],it=[0,"data",0,"artist"],nt=[0,"cover",0,"uri"],at=[0,"data",0,"type"],st=[0,"data",0,"title"],ot=[0,"data",0,"version"];function rt(t,e,i,n){return!u("various",e)}var lt=[0,"data",0,"artists",2,rt],ct=[0,"data",0,"trackCount"],dt=[0,"data",0,"coverUri"],ut=[0,"data",0,"playlist"],pt=[0,"isOwner"],ht=[0,"doNotIndex"],_t=[0,"trackCount"],mt=[0,"data",0,"playlist",0,"cover"],gt=[0,"avatars"],ft=[0,"dir"],yt=[0,"uri"];var vt=[0,"*",2,function(t,i,n,a){return e("mix",p("name",i,[]))}],bt=[0,"data",0,"imageUri"];var kt=[0,"*",2,function(t,i,n,a){return e("explicit",p("contentWarning",i,[]))}],wt=[0,"counts",0,"tracks"];var xt=[0,"*",2,function(t,i,n,a){return e("artist",p("type",i,[]))}],Mt=[0,"data",0,"allCovers"],Tt=[0,"data",0,"index"];var St=[0,"*",2,function(t,i,n,a){return e("album",p("type",i,[]))}];var $t=[0,"*",2,function(t,i,n,a){return e("playlist",p("type",i,[]))}],Lt=[0,"data",0,"cover",0,"uri"];var Pt=[0,"*",2,function(t,i,n,a){return e("albums",p("promotionType",i,[]))||e("albums-for-unknown-user",p("promotionType",i,[]))||e("new-albums-for-features",p("promotionType",i,[]))}];var Ct=[0,"*",2,function(t,i,n,a){return e("playlists",p("promotionType",i,[]))}];var Dt=[0,"*",2,function(t,i,n,a){return e("tracks",p("promotionType",i,[]))}];var Et=[0,"*",2,function(t,i,n,a){return e("artists",p("promotionType",i,[]))}];var At=[0,"*",2,function(t,i,n,a){return e("concert",p("promotionType",i,[]))}];var Yt=[0,"*",2,function(t,i,n,a){return e("nothing",p("promotionType",i,[]))}];var It=[0,"*",2,function(t,i,n,a){return e("mix-link",p("type",i,[]))}],Ot=[0,"data",0,"backgroundImageUri"],jt=[0,"data",0,"url"],Rt=[0,"data",0,"textColor"];var Nt=[0,"cover",2,function(t,e,i,n){return!u("error",e)}],zt=[0,"madeFor",0,"userInfo",0,"uid"],Ht=[0,"uid"],Ft=[0,"playCounter",0,"value"],Bt=[0,"cover",0,"type"];var Ut=[0,"*",2,function(t,i,n,a){return e("mosaic",t.s(Bt,i))}],qt=[0,"cover",0,"itemsUri"],Wt=[0,"kind"];var Vt=[0,"*",2,function(t,i,n,a){return e("explicit",t.s(Bt,i))}];var Gt=[0,"*",2,function(t,i,n,a){return e("pic",t.s(Bt,i))}],Kt=[0,"cover",0,"dir"],Jt=[0,"cover",0,"version"];var Xt=[0,"*",2,function(t,i,n,a){return e(3,p("kind",i,[]))||e("likes-playlist",p("type",i,[]))}];var Zt=[0,"*",2,function(t,i,n,a){return e("track",p("promotionType",i,[]))||e("album",p("promotionType",i,[]))||e("artist",p("promotionType",i,[]))||e("playlist",p("promotionType",i,[]))}],Qt=[0,"album",0,"coverUri"],te=[0,"artist",0,"cover",0,"uri"],ee=[0,"track",0,"albums",0,"coverUri"],ie=[0,"playlist",0,"playlist"],ne=[0,"visibility"];var ae=[0,"*",2,function(t,i,n,a){return e("middle",p("imagePosition",i,[]))}];var se=[0,"*",2,function(t,i,n,a){return e("ad",p("promotionType",i,[]))}];var oe=[0,"*",2,function(t,i,n,a){return e("track",p("promotionType",i,[]))}];var re=[0,"*",2,function(t,i,n,a){return e("album",p("promotionType",i,[]))}];var le=[0,"*",2,function(t,i,n,a){return e("artist",p("promotionType",i,[]))}];var ce=[0,"*",2,function(t,i,n,a){return e("playlist",p("promotionType",i,[]))}];var de=[0,"*",2,function(t,i,n,a){return e("tracks-video",p("promotionType",i,[]))}],ue=[0,"data",0,"promoId"],pe=[0,"data",0,"image"],he=[0,"data",0,"heading"],_e=[0,"data",0,"subtitle"],me=[0,"station",0,"id",0,"type"],ge=[0,"station",0,"visibility"],fe=[0,"station",0,"children"];var ye=[0,"*",2,function(t,i,n,a){return e("user",t.s(me,i))&&!e("public",t.s(ge,i))}];var ve=[0,"*",2,function(t,i,n,a){return e("user",t.s(me,i))}],be=[0,"station",0,"fullName"],ke=[0,"icon",0,"backgroundColor"],we=[0,"theme"];var xe=[0,"*",2,function(t,i,n,a){return e("dashboard",p("theme",i,[]))}],Me=[0,"login"],Te=[0,"station",0,"id",0,"tag"];var Se=[0,"*",2,function(t,i,n,a){return e("preview",p("theme",i,[]))}];var $e=[0,"*",2,function(t,i,n,a){return e("page",p("theme",i,[]))}];var Le=[0,"*",2,function(t,i,n,a){return e("generative",t.s(me,i))}],Pe=[0,"station",0,"data",0,"backgroundColor"],Ce=[0,"station",0,"data",0,"imageUrl"],De=[0,"station",0,"data",0,"title"],Ee=[0,"track",0,"prefix"],Ae=[0,"track",0,"albums"];var Ye=[0,"*",2,function(t,e,i,n){return u("promotionType",e)}];var Ie=[0,"*",2,function(t,e,i,n){return u("fixed",e)}];var Oe=[0,"*",2,function(t,i,n,a){return e("flat",p("theme",i,[]))||e("borderless",p("theme",i,[]))}];var je=[0,"*",2,function(t,i,n,a){return e("transparent",p("theme",i,[]))}],Re=[0,"concert",0,"concertTitle"];var Ne=[0,"*",2,function(t,e,i,a){return n(t.s(Re,e))}],ze=[0,"tooltip",0,"text"],He=[0,"tooltip",0,"disabledText"];var Fe=[0,"*",2,function(t,i,n,a){return e("vote",p("popupType",i,[]))}],Be=[0,"auth",0,"user",0,"login"],Ue=[0,"user",0,"login"],qe=[0,"sort"],We=[0,"sortEnabled"],Ve=[0,"url"],Ge=[0,"sort",0,"url"],Ke=[0,"sort",0,"param"],Je=[0,"sort",0,"dir"];var Xe=[0,"*",2,function(t,i,n,a){return e("playlistHistory",p("id",i,[]))}];var Ze=[0,"*",2,function(t,i,n,a){return e("playlistDefault",p("id",i,[]))}];var Qe=[0,"*",2,function(t,i,n,a){return e("playlistLike",p("id",i,[]))}];var ti=[0,"*",2,function(t,i,n,a){return e("playlistQueue",p("id",i,[]))}];var ei=[0,"*",2,function(t,i,n,a){return e("playlistCount",p("id",i,[]))}],ii=[0,"artist",0,"id"];var ni=[0,"*",2,function(t,e,i,n){return!u("theme",e)}],ai=[0,"tail",0,"className"],si=[0,"album",0,"id"],oi=[0,"track",0,"artists"],ri=[0,"track",0,"artists",2,rt],li=[0,"track",0,"ugcTag",0,"artists"],ci=[0,"track",0,"ugcArtistName"],di=[0,"album",0,"type"],ui=[0,"album",0,"title"],pi=[0,"userInfo",0,"uid"],hi=[0,"track",0,"desiredVisibility"],_i=[0,"track",0,"canPublish"];var mi=[0,"*",2,function(t,e,i,n){return u("type",e)&&u("track",e)}],gi=[0,"track",0,"id"],fi=[0,"query",0,"title"],yi=[0,"error",0,"code"],vi=[0,"playlist",0,"owner",0,"login"],bi=[0,"playlist",0,"kind"],ki=[0,"playlist",0,"title"],wi=[0,"uatraits",0,"BrowserName"];_.t0=function(t,e,i,n,s,o,r){var l="";return l+=h(s),u("href",e)||u("use-link",e)?(l+="<a",s.a={},s.s="a",!u("checked",e)&&u("href",e)&&(s.a.href=new a.scalarAttr(d("href",e)),u("target",e)&&(s.a.target=new a.scalarAttr(d("target",e)))),l+=t.a(t,0,t.s(f,e),"button__class",s,o,r),l+=t.a(t,0,t.s(f,e),"button__attrs",s),l+=t.a(t,0,t.s(f,e),"button__content",s,o),l+=h(s),u("after",e)&&(l+=d("after",e)),l+="</a>"):(l+="<button",s.a={},s.s="button",l+=t.a(t,0,t.s(f,e),"button__class",s,o,r),l+=t.a(t,0,t.s(f,e),"button__attrs",s),l+=t.a(t,0,t.s(f,e),"button__content",s,o),l+=h(s),u("after",e)&&(l+=d("after",e)),l+="</button>"),l},_.t0.j=g,_.t0.a=0,_.t1=function(t,e,i,n,s,o,r){var l="";o&&(l+=" button_size_"+o),r&&(l+=" "+r),u("icon",e)&&(l+=" button_ico"),u("checked",e)&&(l+=" button_checked"),u("disabled",e)&&(l+=" button_disabled deco-button_disabled");var c=l;return s.a.class=new a.scalarAttr("button"+c),""},_.t1.j=g,_.t1.a=0,_.t2=function(t,e,i,n,s){for(var r=t.s(y,e),l=0,c=r.length;l<c;l++){var d=r[l];s.a[d.name]=new a.scalarAttr(o(t.s(f,d)))}return""},_.t2.j=g,_.t2.a=0,_.t3=function(t,i,n,s,o,r){var l="";return l+=h(o),l+="<span",o.a={class:new a.scalarAttr("button-inner deco-button-stylable")},o.s="span",e("right",p("iconPosition",i,[]))?(l+=t.a(t,0,t.s(f,i),"button__label",o," button__label_left"),l+=t.a(t,0,t.s(f,i),"button__icon",o,r)):(l+=t.a(t,0,t.s(f,i),"button__icon",o,r),l+=t.a(t,0,t.s(f,i),"button__label",o)),l+=h(o),l+="</span>"},_.t3.j=g,_.t3.a=0,_.t4=function(t,e,i,n,s,r){var l="";if(l+=h(s),u("icon",e)){if(l+="<span",s.a={class:new a.scalarAttr("icon icon_"+o(p("icon",e,[])))},s.s="span","S"==r){var c=s.a.class;s.a.class=c?c.addscalar(" icon_size_M"):new a.scalarAttr(" icon_size_M")}else if("L"==r){c=s.a.class;s.a.class=c?c.addscalar(" icon_size_XL"):new a.scalarAttr(" icon_size_XL")}else if("XL"==r||"XXL"==r){c=s.a.class;s.a.class=c?c.addscalar(" icon_size_XXL"):new a.scalarAttr(" icon_size_XXL")}else{c=s.a.class;s.a.class=c?c.addscalar(" icon_size_L"):new a.scalarAttr(" icon_size_L")}l+=h(s),l+="</span>"}return l},_.t4.j=g,_.t4.a=0,_.t5=function(t,e,i,n,s,o){var r="",l={icon:"play-small"};return r+=t.a(t,0,a.object2nodeset(l),"d-icon",s)},_.t5.j=v,_.t5.a=0,_.t6=function(t,e,i,n,a,s){var o="";return o+=h(a),u("text",e)&&(o+='<span class="button__label'+r(s)+'">',o+=d("text",e),o+="</span>"),o},_.t6.j=g,_.t6.a=0,_.t7=function(t,e,i,n,s,o,r,l){r=void 0===r?"":r,l=void 0===l?0:l;var _="",m=[],g=m=u("group",e)?p("group",e,[]):p("*",e,[]),y=g.length,v=(m="",m+=l>0?l:y);_+=h(s),_+="<span",s.a={class:new a.scalarAttr("button-group")},s.s="span",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"button-group"));for(var b=g,k=0,w=b.length;k<w;k++){var x=b[k];_+=t.a(t,0,t.s(f,x),"button",s,o,r+(u("class",x)?" "+c(d("class",x)):"")+t.f("f0",x,k,w,y,k,v))}return _+=h(s),_+="</span>"},_.t7.j=g,_.t7.a=0,_.t8=function(t,e,n,s,l){var c="",d=100/p("buttons",e,[]).length;c+=h(l),c+="<div",l.a={class:new a.scalarAttr("button-radio-slider")},l.s="div",l.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"button-radio-slider")),c+=h(l),c+='<div class="button-radio-slider__title">'+i(p("title",e,[]))+"</div>";for(var _=p("buttons",e,[]),m=0,g=_.length;m<g;m++){var y=_[m];if(c+="<div",l.a={class:new a.scalarAttr("button-radio-slider__item"),style:new a.scalarAttr("width: "+d+"%"),"data-value":new a.scalarAttr(o(p("value",y,[])))},l.s="div",u("active",y)){var v=l.a.class;l.a.class=v?v.addscalar(" active"):new a.scalarAttr(" active")}c+=h(l),c+="<span>",c+=i(p("text",y,[])),c+="</span>",c+="</div>",u("active",y)&&(c+='<div class="button-radio-slider__selector" style="width: '+r(d)+"%; transform: translateX("+r(1*m)+'00%)"></div>')}return c+="</div>"},_.t8.j=b,_.t8.a=0,_.t9=function(t,e,n,s,r){var l="",d="",_={a:{}};u("href",e)?(d+=h(_),d+=i(p("href",e,[]))):d+=t.a(t,0,t.s(f,e),"button-store__url",_);var m=d,g=t.n(w,a.object2nodeset(a.externals.getSettings()));return l+=h(r),l+="<a",r.a={class:new a.scalarAttr("button-store button-store_"+o(p("type",e,[]))+" button-store_lang_"+o(g)),href:new a.scalarAttr(c(m)),rel:new a.scalarAttr("noopener"),target:new a.scalarAttr("_blank")},r.s="a",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"button-store")),l+=h(r),l+="</a>"},_.t9.j=g,_.t9.a=0,_.t10=function(t,n,s,o,r){var l="",c={};(d={}).default="https://play.google.com/store/apps/details?id=ru.yandex.music",c.google=d;(d={})[225]="https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",d[187]="https://itunes.apple.com/UA/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",d[149]="https://itunes.apple.com/BY/app/andeks.muzyka/id520797969&?mt=8&uo=4&at=1000lqjf&ct=music",d[159]="https://itunes.apple.com/KZ/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",d[181]="https://itunes.apple.com/il/app/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",d[983]="https://itunes.apple.com/tr/app/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",d.default="https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",c.apple=d;(d={})[225]="https://www.microsoft.com/store/apps/9NBLGGH0CB6D",d[149]="https://www.microsoft.com/store/apps/9NBLGGH0CB6D",d[159]="https://www.microsoft.com/store/apps/9NBLGGH0CB6D",d.default="https://www.microsoft.com/store/apps/9NBLGGH0CB6D",c.microsoft=d;(d={}).default="https://appmetrika.yandex.ru/serve/1731283382186890820",c["google-radio"]=d;var d;(d={}).default="https://appmetrika.yandex.ru/serve/10341874599426334658",c["apple-radio"]=d;var u=c,_=p("type",n,[]);var m=[0,"*",2,function(t,i,n,a){return e(i.name,_)},0,"*",2,function(t,i,n,s){return e(i.name,t.n(M,a.object2nodeset(a.externals.getSettings())))||"default"==i.name},3,0];return l+=h(r),l+=i(t.n(m,a.object2nodeset(u)))},_.t10.j=g,_.t10.a=0,_.t11=function(t,e,i,s,o){var r="",l="";u("goal",e)?l+=d("goal",e):l+="";var c=l;(r+=h(o),r+="<div",o.a={class:new a.scalarAttr("button-store_all")},o.s="div",(l={type:"google"}).goal=c+"GooglePlay",r+=t.a(t,0,a.object2nodeset(l),"button-store",o),(l={}).type="apple",l.goal=c+"AppStore",r+=t.a(t,0,a.object2nodeset(l),"button-store",o),n(t.n(T,a.object2nodeset(a.externals.getSettings()))))&&((l={type:"microsoft"}).goal=c+"WinPhone",r+=t.a(t,0,a.object2nodeset(l),"button-store",o));return r+=h(o),r+="</div>"},_.t11.j=g,_.t11.a=0,_.t12=function(t,e,i,n,s){var o="",r="";u("goal",e)?r+=d("goal",e):r+="";var l=r;return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("button-store_all")},s.s="div",(r={type:"google-radio"}).goal=l+"GooglePlay",o+=t.a(t,0,a.object2nodeset(r),"button-store",s),(r={type:"apple-radio"}).goal=l+"AppStore",o+=t.a(t,0,a.object2nodeset(r),"button-store",s),o+=h(s),o+="</div>"},_.t12.j=g,_.t12.a=0,_.t13=function(t,e,i,n,s,o,r){var l="";return l+=h(s),u("href",e)||u("use-link",e)?(l+="<a",s.a={},s.s="a",u("href",e)&&(s.a.href=new a.scalarAttr(d("href",e)),u("target",e)&&(s.a.target=new a.scalarAttr(d("target",e)))),l+=t.a(t,0,t.s(f,e),"button2__class",s,o,r),l+=t.a(t,0,t.s(f,e),"button2__attrs",s),l+=t.a(t,0,t.s(f,e),"button2__content",s,o),l+=h(s),l+="</a>"):(l+="<button",s.a={},s.s="button",l+=t.a(t,0,t.s(f,e),"button2__class",s,o,r),l+=t.a(t,0,t.s(f,e),"button2__attrs",s),l+=t.a(t,0,t.s(f,e),"button2__content",s,o),l+=h(s),l+="</button>"),l},_.t13.j=g,_.t13.a=0,_.t14=function(t,e,i,n,s,o,r){var l="";o&&(l+=" button2_size_"+o),r&&(l+=" "+r),u("icon",e)&&(l+=" button2_w-icon"),u("disabled",e)&&(l+=" button2_disabled");var c=l;return s.a.class=new a.scalarAttr("button2"+c),""},_.t14.j=g,_.t14.a=0,_.t15=function(t,e,i,n,s){for(var r=t.s(y,e),l=0,c=r.length;l<c;l++){var d=r[l];s.a[d.name]=new a.scalarAttr(o(t.s(f,d)))}return""},_.t15.j=g,_.t15.a=0,_.t16=function(t,i,n,a,s,o){var r="";return e("right",p("iconPosition",i,[]))?(r+=t.a(t,0,t.s(f,i),"button2__label",s),r+=t.a(t,0,t.s(f,i),"button2__icon",s,o)):(r+=t.a(t,0,t.s(f,i),"button2__icon",s,o),r+=t.a(t,0,t.s(f,i),"button2__label",s)),r},_.t16.j=g,_.t16.a=0,_.t17=function(t,e,i,n,a,o){var r="";return r+=h(a),u("icon",e)&&(r+='<span class="icon icon_'+s(p("icon",e,[]))+'"></span>'),r},_.t17.j=g,_.t17.a=0,_.t18=function(t,e,i,n,s,o){var r="",l={icon:"play-small"};return r+=t.a(t,0,a.object2nodeset(l),"d-icon",s)},_.t18.j=v,_.t18.a=0,_.t19=function(t,e,i,n,s,o){var r="",l={icon:"radio"};return r+=t.a(t,0,a.object2nodeset(l),"d-icon",s)},_.t19.j=S,_.t19.a=0,_.t20=function(t,e,n,a,s,o){var l="";return l+=h(s),u("text",e)&&(l+='<span class="button2__label'+r(o)+'">'+i(p("text",e,[]))+"</span>"),l},_.t20.j=g,_.t20.a=0,_.t21=function(t,e,s,o,r){var c="";if(c+=h(r),c+='<div class="debug">',c+='<div class="debug__desc">'+l(a.externals.i18n("debug","Отладочная информация (видна только внутри сети Яндекса)"))+"</div>",u("message",e)?(c+="<h3>JS Error: "+i(p("message",e,[]))+"</h3>",c+="<pre>"+i(p("stack",e,[]))+"</pre>"):c+="<h3>500: "+i(p("error",e,[]))+"</h3>",n(t.s($,e))){c+="<pre>",c+=i(t.s(L,e)),c+="\n\nTrace\n\n";for(var d=t.s($,e),_=0,m=d.length;_<m;_++){var g=d[_];c+=i(p("status",g,[]))+" "+i(p("path",g,[]))+" "+i(p("time",g,[]))+"\n\n"}c+="</pre>"}return c+="</div>"},_.t21.j=g,_.t21.a=0,_.t22=function(t,e,n,s,o){var r="";return r+=h(o),r+="<div",o.a={class:new a.scalarAttr("popup diagnostic")},o.s="div",o.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"diagnostic",!0)),r+=h(o),r+='<div class="diagnostic__title">',r+=l(a.externals.i18n("diagnostic","Диагностика. Нажмите, чтобы выделить.")),r+='<textarea readonly="readonly" class="diagnostic__info">',r+=i(p("diag",e,[])),r+="</textarea>",r+="</div>",r+="</div>"},_.t22.j=g,_.t22.a=0,_.t23=function(t,e,n,a,s){var o="",l="";u("mode",e)?l+=d("mode",e):l+="positive";var c=l;return o+=h(s),o+='<div class="notice notice_'+r(c)+'">',o+=i(p("text",e,[])),u("note",e)&&(o+='<span class="notice__separator"></span>',o+='<span class="notice__note">'+i(p("note",e,[]))+"</span>"),o+="</div>"},_.t23.j=g,_.t23.a=0,_.t24=function(t,e,i,n,s,o,r){var l="",c=a.externals.pagesMax(t.s(f,e));if(l+=h(s),c>1){var u,p=a.externals.querySeparator(o);if(l+="<div",s.a={class:new a.scalarAttr("pager")},s.s="div",(u={}).text=a.externals.i18n("pager","В начало"),u.href=o,l+=t.a(t,0,a.object2nodeset(u),"button",s,"M",r),l+=h(s),l+="  ",l+=t.a(t,0,a.object2nodeset(a.externals.pagerData(t.s(f,e),o)),"button-group",s,"M",r),d("page",e)+5<c)l+="  ",(u={text:"+5"}).href=o+p+"page="+(d("page",e)+5),l+=t.a(t,0,a.object2nodeset(u),"button",s,"M",r);l+="</div>"}return l},_.t24.j=g,_.t24.a=0,_.t25=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("popup-holder")},s.s="div";var r={listenOn:"popups",class:"loading_popup"};return o+=t.a(t,0,a.object2nodeset(r),"loading",s),o+=h(s),o+="</div>"},_.t25.j=g,_.t25.a=0,_.t26=function(e,i,n,s,o){var r,l="",c=p("settings",i,[]),d=p("restrictions",i,[]);l+=h(o),l+="<div",o.a={class:new a.scalarAttr("settings-stream")},o.s="div",o.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(e.s(f,i),"settings-stream",!0)),l+=e.a(e,0,e.s(f,i),"settings-stream__title",o),(r={name:"moodEnergy"}).title=a.nodeset2data(e.n(P,d));for(var u=[],_=0,m=(y=e.n(C,d)).length;_<m;_++){var g=y[_];(v={}).text=a.nodeset2data(p("name",g,[])),v.value=a.nodeset2data(p("value",g,[])),v.active=t(p("value",g,[]),e.n(D,c)),u.push(v)}r.buttons=u,l+=e.a(e,0,a.object2nodeset(r),"button-radio-slider",o),(r={name:"diversity"}).title=a.nodeset2data(e.n(E,d));for(u=[],_=0,m=(y=e.n(A,d)).length;_<m;_++){g=y[_];(v={}).text=a.nodeset2data(p("name",g,[])),v.value=a.nodeset2data(p("value",g,[])),v.active=t(p("value",g,[]),e.n(Y,c)),u.push(v)}r.buttons=u,l+=e.a(e,0,a.object2nodeset(r),"button-radio-slider",o),(r={name:"language"}).title=a.nodeset2data(e.n(I,d));var y;for(u=[],_=0,m=(y=e.n(O,d)).length;_<m;_++){var v;g=y[_];(v={}).text=a.nodeset2data(p("name",g,[])),v.value=a.nodeset2data(p("value",g,[])),v.active=t(p("value",g,[]),e.n(j,c)),u.push(v)}return r.buttons=u,l+=e.a(e,0,a.object2nodeset(r),"button-radio-slider",o),l+=h(o),l+="</div>"},_.t26.j=g,_.t26.a=0,_.t27=function(t,e,n,s,o){var r="";if(r+=h(o),r+="<div",o.a={class:new a.scalarAttr("settings-stream__title typo")},o.s="div",u("showIcon",e)){var l={};l.backgroundColor=a.nodeset2data(t.s(R,e)),l.imageUrl=a.nodeset2data(t.s(N,e)),r+=t.a(t,0,a.object2nodeset(l),"station-icon",o,"xs")}return r+=h(o),r+="<span>",r+=i(t.s(z,e)),r+="</span>",r+="</div>"},_.t27.j=g,_.t27.a=0,_.t28=function(t,e,n,s,r){var l="";if(l+=h(r),l+="<div",r.a={class:new a.scalarAttr("tooltip tooltip_hidden")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"tooltip",!0)),u("class",e)){var c=r.a.class;r.a.class=c?c.addscalar(" "+o(p("class",e,[]))):new a.scalarAttr(" "+o(p("class",e,[])))}return l+=h(r),l+='<div class="tooltip__content">',l+='<span class="tooltip__static-text">'+i(p("text",e,[]))+"</span>",l+="</div>",l+='<div class="tooltip__tail">',l+='<div class="tooltip__tail-elem"></div>',l+="</div>",l+="</div>"},_.t28.j=g,_.t28.a=0,_.t29=function(t,s,r,c,d){var _="";_+=h(d),_+="<div",d.a={class:new a.scalarAttr("app-wall")},d.s="div",d.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,s),"app-wall"));var m=d.a.class;if(d.a.class=m?m.addscalar(" device-"+o(t.s(H,s))):new a.scalarAttr(" device-"+o(t.s(H,s))),n(p("isInteractiveSplashscreenPage",s,[]))){m=d.a.class;d.a.class=m?m.addscalar(" app-wall--interactive-experiment"):new a.scalarAttr(" app-wall--interactive-experiment")}_+=h(d),_+='<div class="app-wall__mbform__wrapper">',_+='<div class="app-wall__mbform__wrapper__close">',_+="<div",d.a={class:new a.scalarAttr("app-wall__mbform__wrapper__close__inner")},d.s="div";var g={icon:"cross-big",class:"local-icon-theme-black"};_+=t.a(t,0,a.object2nodeset(g),"d-icon",d),_+=h(d),_+="</div>",_+="</div>",_+=t.a(t,0,t.s(f,s),"mbform",d),_+="</div>",_+=t.a(t,0,t.s(f,s),"app-wall__suggest-plus-modal",d),_+="<div",d.a={},d.s="div";g="";if(g+=t.a(t,0,t.s(f,s),"scaleabale-class",{a:{}}),d.a.class=new a.xmlAttr(g),_+=h(d),_+="<div",d.a={class:new a.scalarAttr("app-wall__header")},d.s="div",(g={}).text=a.externals.i18n("head","Музыка"),g.link="none",_+=t.a(t,0,a.object2nodeset(g),"d-logo",d),_+=h(d),_+="</div>",_+=t.a(t,0,t.s(f,s),"app-wall__entity",d),_+='<div class="app-wall-interactive">',!e("main",p("name",s,[]))){var y=e("playlist",p("name",s,[])),v=y&&!a.exists(p("likesCount",s,[])),b=y&&!n(t.s(F,s))&&n(t.s(B,s)),k=y&&n(t.s(F,s))&&e(3,t.s(U,s)),w=b||k||v;_+='<div class="app-wall__controls">',_+="<div",d.a={class:new a.scalarAttr("app-wall__controls__button app-wall__controls__button-share")},d.s="div";var g={},x={};if(x.size="L",x.icon="arrow-share",x.rounded=!0,x.class=a.nodeset2data(p("commonButtonClass",s,[])),g.button=x,g.value=a.nodeset2data(p("linkForShare",s,[])),g.successText=a.externals.i18n("app-wall","[feature/mfront-3352]Ссылка скопирована"),g.errorText=a.externals.i18n("app-wall","[feature/mfront-3352]Скопировать не удалось"),_+=t.a(t,0,a.object2nodeset(g),"d-copy",d),_+=h(d),_+='<span class="app-wall__controls__button__label">',_+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Поделиться")),_+="</span>",_+="</div>",_+="<div",d.a={class:new a.scalarAttr("app-wall__controls__button app-wall__controls__button-play")},d.s="div",_+=t.a(t,0,t.s(f,s),"app-wall__control__play-button",d),_+=h(d),_+='<span class="app-wall__controls__button__label app-wall__controls__button-play-label">',_+='<span class="app-wall__controls__button__label-listen">'+l(a.externals.i18n("app-wall","[feature/mfront-3352]Слушать"))+"</span>",_+='<span class="app-wall__controls__button__label-pause">'+l(a.externals.i18n("app-wall","[feature/mfront-3352]Пауза"))+"</span>",_+="</span>",_+="</div>",_+="<div",d.a={class:new a.scalarAttr("app-wall__controls__button app-wall__controls__button-like")},d.s="div",u("isLoggedIn",s)&&!w)_+=t.a(t,0,t.s(f,s),"app-wall__like-button",d);else(g={size:"L",icon:"heart",rounded:!0}).class=a.nodeset2data(p("commonButtonClass",s,[])),g.disabled=w,_+=t.a(t,0,a.object2nodeset(g),"d-button",d);_+=h(d),_+='<span class="app-wall__controls__button__label">',!u("likesCount",s)||e("album",p("name",s,[]))&&!e("podcast",p("pageDataType",s,[]))||e("track",p("name",s,[]))?_+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Нравится")):_+=i(p("likesCount",s,[])),_+="</span>",_+="</div>",_+="</div>",u("isArtistAlbumPage",s)||(_+="<div",d.a={class:new a.scalarAttr("app-wall__track-list")},d.s="div",_+=t.a(t,0,t.s(f,s),"app-wall__track-list",d),_+=h(d),_+="</div>"),e("artist",p("name",s,[]))&&!u("isArtistTrackPage",s)&&(_+="<div",d.a={class:new a.scalarAttr("app-wall__album-list")},d.s="div",_+=t.a(t,0,t.s(f,s),"app-wall__album-list",d),_+=h(d),_+="</div>")}(_+='<div class="app-wall__footer">',_+='<div class="app-wall__footer__disclamer">',_+=l(a.externals.i18n("app-wall","[feature/mfront-3990-1]Больше музыки и подкастов в приложении Яндекс Музыки")),_+="</div>",(g={}).href=a.nodeset2data(p("link",s,[])),g.use_link=!0,g.rounded=!0,g.size="L",g.class="app-wall__footer__button app-wall__footer__button--open-app",g.text=a.externals.i18n("app-wall","[feature/mfront-3438]Слушать в приложении"),g.type="action",_+=t.a(t,0,a.object2nodeset(g),"d-button",d),n(p("isPremium",s,[])))&&((g={}).text=a.externals.i18n("app-wall","[feature/mfront-3438]Перейти на сайт"),g.style="muted",g.class="app-wall__button app-wall__close",_+=t.a(t,0,a.object2nodeset(g),"d-link",d));return _+="</div>",_+="</div>",_+="</div>",_+="</div>"},_.t29.j=g,_.t29.a=0,_.t30=function(t,e,i,n,s){var o="";if(u("canListenTrack",e)&&u("hasLimitToListen",e)&&p("allTrackList",e,[]).length>0){var r={},l="";l+=u("trackId",e)?"track":d("name",e),r.type=l,r.item=a.nodeset2data(p("pageItem",e,[])),r.size="L",r.disableAuthTooltip=!0,r.class=a.nodeset2data(p("commonButtonClass",e,[])),o+=t.a(t,0,a.object2nodeset(r),"button-play",s)}else{(r={size:"L",icon:"play",rounded:!0}).class="app-wall__disabled-control-button-play button-play "+d("commonButtonClass",e),r.disabled=0==p("allTrackList",e,[]).length,o+=t.a(t,0,a.object2nodeset(r),"d-button",s)}return o},_.t30.j=g,_.t30.a=0,_.t31=function(t,s,c,_,m){var g="",y=p("isArtistAlbumPage",s,[]),v=p("previewAlbumsLimit",s,[]);g+=h(m),p("albumList",s,[]).length>0&&(g+='<div class="app-wall__track-list-title">',g+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Популярные альбомы")),g+="</div>");for(var b=p("albumList",s,[]),k=0,w=b.length;k<w;k++){var x=b[k];if(n(y)||k<o(v)){var M="/album/"+d("id",x);g+='<a href="'+r(M)+'" class="app-wall__album-list__item">',g+='<img class="app-wall__album-list__item__cover" src="'+r(a.externals.cover(d("coverUri",x)))+'"/>',g+='<div class="app-wall__album-list__item__title">',g+=i(p("title",x,[])),g+="<span> </span>",e("explicit",p("contentWarning",x,[]))&&(g+=t.a(t,0,t.s(f,x),"d-explicit-mark",m)),g+="</div>",g+='<div class="app-wall__album-list__item__year">',!u("hideYear",x)&&u("year",x)&&(g+=i(p("year",x,[]))),e("single",p("type",x,[]))&&(g+='<span class="separator"> </span>',g+=l(a.externals.i18n("app-wall","[feature/mfront-3352]сингл"))),g+="</div>",g+="</a>"}}if(!u("isArtistAlbumPage",s)&&p("albumList",s,[]).length>4){var T=!1,S=T=!!u("isPremium",s)&&"/artist/"+d("artistId",s)+"/albums";(T={}).href=S,T.class="app-wall__show-full app-wall__show-full-album-list",T.arrow=!0,T.noHoverColor=!0,T.text=a.externals.i18n("app-wall","[feature/mfront-3352]Смотреть всё"),g+=t.a(t,0,a.object2nodeset(T),"d-link",m)}return g},_.t31.j=q,_.t31.a=0,_.t32=function(t,e,i,n,s){var o="",r={size:"L"};return r.album=a.nodeset2data(p("pageItem",e,[])),r.className=a.nodeset2data(p("commonButtonClass",e,[])),o+=t.a(t,0,a.object2nodeset(r),"d-like",s)},_.t32.j=W,_.t32.a=0,_.t33=function(t,e,i,n,s){var o="",r={size:"L"},l={};return l.track=a.nodeset2data(p("pageItem",e,[])),r.entry=l,r.className=a.nodeset2data(p("commonButtonClass",e,[])),o+=t.a(t,0,a.object2nodeset(r),"d-like",s)},_.t33.j=V,_.t33.a=0,_.t34=function(t,e,i,n,s){var o="",r={size:"L"};return r.artist=a.nodeset2data(p("pageItem",e,[])),r.className=a.nodeset2data(p("commonButtonClass",e,[])),o+=t.a(t,0,a.object2nodeset(r),"d-like",s)},_.t34.j=q,_.t34.a=0,_.t35=function(t,e,i,n,s){var o="",r={size:"L"};return r.playlist=a.nodeset2data(p("pageItem",e,[])),r.className=a.nodeset2data(p("commonButtonClass",e,[])),o+=t.a(t,0,a.object2nodeset(r),"d-like",s)},_.t35.j=G,_.t35.a=0,_.t36=function(t,e,i,n,s){var o="";if(o+=h(s),o+="<div",s.a={class:new a.scalarAttr("app-wall__track-button-play-appendable-wrap")},s.s="div",u("canListenTrack",e)&&u("hasLimitToListen",e)){var r={type:"track"};r.item=a.nodeset2data(p("item",e,[])),r.size="L",r.theme="withoutButton",r.disableAuthTooltip=!0,o+=t.a(t,0,a.object2nodeset(r),"button-play",s)}else o+=h(s),o+='<div class="button-play_full app-wall__disabled-track-button-play"></div>';return o+=h(s),o+="</div>"},_.t36.j=g,_.t36.a=0,_.t37=function(t,e,a,s,o){var r="";return r+=h(o),n(p("version",e,[]))&&(r+='<span class="page-album__version"> '+i(p("version",e,[]))+"</span>"),r},_.t37.j=g,_.t37.a=0,_.t38=function(t,s,c,_,m){var g="",y=e("podcast",p("pageDataType",s,[])),v=t.s(X,s).length,b=p("albumVolumes",s,[]),k=p("canListenTrack",s,[]),w=p("hasLimitToListen",s,[]);if(g+=h(m),!u("trackId",s)){for(var x=b,M=0,T=x.length;M<T;M++){var S=x[M];v>1&&(g+='<div class="page-album__vol">',g+=l(y?a.externals.i18n("app-wall","[feature/mfront-3352]Сезон %1",v-M):a.externals.i18n("app-wall","[feature/mfront-3352]Диск %1",M+1)),g+="</div>");for(var $=p("*",S,[]),L=0,P=$.length;L<P;L++){var C=$[L];if(g+="<div",m.a={class:new a.scalarAttr("app-wall__track-list__track"),"data-track-id":new a.scalarAttr(o(p("id",C,[])))},m.s="div",e("explicit",p("contentWarning",C,[]))){var D=m.a.class;m.a.class=D?D.addscalar(" app-wall__track-list__track--with-explicit"):new a.scalarAttr(" app-wall__track-list__track--with-explicit")}if(y){D=m.a.class;m.a.class=D?D.addscalar(" app-wall__track-list__track--with-cover"):new a.scalarAttr(" app-wall__track-list__track--with-cover"),g+=h(m),g+='<div class="app-wall__track-list__track__cover" style="background-image: url('+r(a.externals.cover(d("coverUri",C)))+')"></div>'}else{D=m.a.class;m.a.class=D?D.addscalar(" app-wall__track-list__track--wo-cover"):new a.scalarAttr(" app-wall__track-list__track--wo-cover"),g+=h(m),g+='<div class="app-wall__track-list__track__pointer">'+l(L+1)+"</div>"}if(g+=h(m),g+='<div class="d-track__bubble"></div>',(E={}).canListenTrack=n(k)&&u("available",C),E.hasLimitToListen=a.nodeset2data(w),E.item=a.nodeset2data(t.s(f,C)),g+=t.a(t,0,a.object2nodeset(E),"app-wall__track-play-button",m),n(p("best",C,[]))){var E={icon:"lightning"};g+=t.a(t,0,a.object2nodeset(E),"d-icon",m)}g+='<div class="app-wall__track-list__track__title">',g+=i(p("title",C,[])),g+=t.a(t,0,t.s(f,C),"app-wall__entity-version",m),g+="</div>",e("explicit",p("contentWarning",C,[]))&&(g+=t.a(t,0,t.s(f,C),"d-explicit-mark",m)),g+="</div>"}}g+=t.a(t,0,t.s(f,s),"track_list_show_more",m)}return g},_.t38.j=J,_.t38.a=0,_.t39=function(t,s,c,_,m){var g="",y=p("isArtistTrackPage",s,[]),v=p("isFullTrackList",s,[]),b=p("canListenTrack",s,[]),k=p("previewTracksLimit",s,[]),w=p("hasLimitToListen",s,[]);g+=h(m),e("artist",p("name",s,[]))&&p("allTrackList",s,[]).length>0&&(g+='<div class="app-wall__track-list-title">',g+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Популярные треки")),g+="</div>");for(var x=p("allTrackList",s,[]),M=0,T=x.length;M<T;M++){var S=x[M];if(n(y)||n(v)||M<o(k)){var $=p("artists",S,[]).length;if(g+="<div",m.a={class:new a.scalarAttr("app-wall__track-list__track app-wall__track-list__track--with-cover"),"data-track-id":new a.scalarAttr(o(p("id",S,[])))},m.s="div",e("explicit",p("contentWarning",S,[]))){var L=m.a.class;m.a.class=L?L.addscalar(" app-wall__track-list__track--with-explicit"):new a.scalarAttr(" app-wall__track-list__track--with-explicit")}if(g+=h(m),g+='<div class="d-track__bubble"></div>',(P={}).canListenTrack=n(b)&&u("available",S),P.hasLimitToListen=a.nodeset2data(w),P.item=a.nodeset2data(t.s(f,S)),g+=t.a(t,0,a.object2nodeset(P),"app-wall__track-play-button",m),n(p("best",S,[]))){var P={icon:"lightning"};g+=t.a(t,0,a.object2nodeset(P),"d-icon",m)}g+='<div class="app-wall__track-list__track__cover" style="background-image: url('+r(a.externals.cover(d("coverUri",S)))+')"></div>',g+='<div class="app-wall__track-list__track__title">',g+=i(p("title",S,[])),g+=t.a(t,0,t.s(f,S),"app-wall__entity-version",m),g+="</div>",g+='<div class="app-wall__track-list__track__artists">';for(var C=p("artists",S,[]),D=0,E=C.length;D<E;D++){var A=C[D];g+='<span class="app-wall__track-list__track__artists__item">'+i(p("name",A,[]))+"</span>",D<$-1&&(g+='<span class="app-wall__track-list__track__artists__item">, </span>')}g+="</div>",e("explicit",p("contentWarning",S,[]))&&(g+=t.a(t,0,t.s(f,S),"d-explicit-mark",m)),g+="</div>"}}return g+=t.a(t,0,t.s(f,s),"track_list_show_more",m)},_.t39.j=Z,_.t39.a=0,_.t40=function(t,e,i,n,s){var o="";if(p("allTrackList",e,[]).length>d("previewTracksLimit",e)&&!u("isFullTrackList",e)){var r={};r.class="app-wall__show-full app-wall__show-full-track-list "+d("commonButtonClass",e),r.arrow=!0,r.noHoverColor=!0,r.text=a.externals.i18n("app-wall","[feature/mfront-3352]Смотреть всё"),o+=t.a(t,0,a.object2nodeset(r),"d-link",s)}return o},_.t40.j=Q,_.t40.a=0,_.t41=function(t,e,i,n,s){var o="",r=!1,l=r=!!u("isPremium",e)&&"/artist/"+d("artistId",e)+"/tracks",c="app-wall__show-full"+(u("isPremium",e)?"":" app-wall__show-full-track-list")+" "+d("commonButtonClass",e);!u("isArtistTrackPage",e)&&p("allTrackList",e,[]).length>=d("previewTracksLimit",e)&&((r={}).href=l,r.class=c,r.arrow=!0,r.noHoverColor=!0,r.text=a.externals.i18n("app-wall","[feature/mfront-3352]Смотреть всё"),o+=t.a(t,0,a.object2nodeset(r),"d-link",s));return o},_.t41.j=q,_.t41.a=0,_.t42=function(t,e,i,n,a){var s="";return s+=h(a),s+="app-wall__scaleable"},_.t42.j=g,_.t42.a=0,_.t43=function(t,e,i,n,a){var s="";return s+=h(a),s+="app-wall__scaleable app-wall__scaleable_centered"},_.t43.j=tt,_.t43.a=0,_.t44=function(t,e,i,s,o){var r="";if(n(p("isShowAppLink",e,[]))){var l={};l.href=a.nodeset2data(p("link",e,[])),l.use_link=!0,l.rounded=!0,l.size="XL",l.class="app-wall__button app-wall__app",l.text=a.externals.i18n("app-wall","Слушать в приложении"),l.type="action",l.icon="play-small",r+=t.a(t,0,a.object2nodeset(l),"d-button",o)}return r},_.t44.j=g,_.t44.a=0,_.t45=function(t,e,i,n,s){var o="",r="",l=r+=t.a(t,0,t.s(f,e),"app-wall__entity-pic-url",{a:{}});return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("app-wall__entity-pic")},s.s="div",s.a.style=new a.scalarAttr("background-image: url("+c(l)+")"),o+=h(s),o+="</div>"},_.t45.j=g,_.t45.a=0,_.t46=function(t,e,i,n,s){var o="",r="",l=r+=t.a(t,0,t.s(f,e),"app-wall__entity-pic-url",{a:{}});return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("app-wall__entity-pic app-wall__entity-pic__default")},s.s="div",s.a.style=new a.scalarAttr("background-image: url("+c(l)+")"),o+=h(s),o+="</div>"},_.t46.j=tt,_.t46.a=0,_.t47=function(t,e,i,n,a){var s="";return s+=h(a),s+="/blocks/app-wall/app-wall__icon.svg"},_.t47.j=g,_.t47.a=0,_.t48=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("app-wall__entity")},s.s="div",o+=t.a(t,0,t.s(f,e),"app-wall__entity-pic",s),o+=h(s),o+="</div>"},_.t48.j=g,_.t48.a=0,_.t49=function(t,e,n,s,o){var r="";r+=h(o),r+="<div",o.a={class:new a.scalarAttr("app-wall__entity")},o.s="div",r+=t.a(t,0,t.s(f,e),"app-wall__entity-pic",o);var l={};return l.entity=a.externals.i18n("app-wall","Исполнитель"),r+=t.a(t,0,a.object2nodeset(l),"stamp",o),r+=h(o),r+='<div class="app-wall__entity-name">',r+=i(t.s(et,e)),r+="</div>",r+="<div",o.a={class:new a.scalarAttr("app-wall__entity-info")},o.s="div",r+=t.a(t,0,t.s(it,e),"artist-summary",o,!0,!0),r+=h(o),r+="</div>",r+="</div>"},_.t49.j=q,_.t49.a=0,_.t50=function(t,e,i,n,s){var o="",r="",l=r+=t.a(t,0,t.s(f,e),"app-wall__entity-pic-url",{a:{}});return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("app-wall__entity-pic app-wall__entity-pic_round")},s.s="div",s.a.style=new a.scalarAttr("background-image: url("+c(l)+")"),o+=h(s),o+="</div>"},_.t50.j=q,_.t50.a=0,_.t51=function(t,e,i,s,r){var c="",d=t.s(it,e);return c+=h(r),n(t.n(nt,d))?c+=l(a.externals.cover(o(t.n(nt,d)))):c+="/blocks/artist-pics/placeholder-artist.svg",c},_.t51.j=q,_.t51.a=0,_.t52=function(t,s,r,c,d){var u="",_=e("podcast",p("pageDataType",s,[])),m=p("isInteractiveSplashscreenPage",s,[]),g="";e("podcast",t.s(at,s))||e("audiobook",t.s(at,s))||e("fairy-tale",t.s(at,s))?g+=a.externals.i18n("app-wall","[feature/mfront-2238]Подкаст"):g+=a.externals.i18n("app-wall","Альбом");var y=g;(u+=h(d),u+="<div",d.a={class:new a.scalarAttr("app-wall__entity")},d.s="div",u+=t.a(t,0,t.s(f,s),"app-wall__entity-pic",d),(g={}).entity=y,u+=t.a(t,0,a.object2nodeset(g),"stamp",d),u+=h(d),u+='<div class="app-wall__entity-name">',u+=i(t.s(st,s)),!_&&n(t.s(ot,s))&&n(m))&&((g={}).version=a.nodeset2data(t.s(ot,s)),u+=t.a(t,0,a.object2nodeset(g),"app-wall__entity-version",d));if(u+=t.a(t,0,p("data",s,[]),"app-wall__entity-explicit-mark",d),u+="</div>",u+="<div",d.a={class:new a.scalarAttr("app-wall__entity-info")},d.s="div",_&&n(m))u+=h(d),u+=l(a.externals.plural(o(t.s(ct,s)),a.externals.i18n("app-wall","[feature/mfront-3352]%s выпуск|%s выпуска|%s выпусков|нет выпусков")));else{var v=t.s(lt,s);(g={}).artists=a.nodeset2data(v),g.nolink=!0,u+=t.a(t,0,a.object2nodeset(g),"d-artists",d)}return u+=h(d),u+="</div>",u+="</div>"},_.t52.j=J,_.t52.a=0,_.t53=function(t,e,i,n,s){var r="";return r+=h(s),r+=l(a.externals.cover(o(t.s(dt,e))))},_.t53.j=J,_.t53.a=0,_.t54=function(s,r,l,c,d){var u="",_=e("podcast",p("pageDataType",r,[])),m=p("isInteractiveSplashscreenPage",r,[]),g=p("albumId",r,[]),y="";e("podcast",s.s(at,r))||e("audiobook",s.s(at,r))||e("fairy-tale",s.s(at,r))?y+=a.externals.i18n("app-wall","[feature/mfront-3193-fix-mobile]Выпуск"):y+=a.externals.i18n("app-wall","Трек");var v=y,b=p("trackId",r,[]);var w=[0,"data",0,"volumes",0,"*",2,function(e,i,n,a){return t(p("id",i,[]),b)}],x=s.s(w,r);(u+=h(d),u+="<div",d.a={class:new a.scalarAttr("app-wall__entity")},d.s="div",u+=s.a(s,0,s.s(f,r),"app-wall__entity-pic",d),(y={}).entity=v,u+=s.a(s,0,a.object2nodeset(y),"stamp",d),u+=h(d),u+='<div class="app-wall__entity-name">',u+=i(s.n(k,x)),!_&&n(s.n(K,x))&&n(m))&&((y={}).version=a.nodeset2data(s.n(K,x)),u+=s.a(s,0,a.object2nodeset(y),"app-wall__entity-version",d));if(u+=s.a(s,0,x,"app-wall__entity-explicit-mark",d),u+="</div>",u+="<div",d.a={class:new a.scalarAttr("app-wall__entity-info")},d.s="div",_&&n(m)){(y={}).href="/album/"+o(g),y.noHoverColor=!0,y.text=a.nodeset2data(s.s(st,r)),y.class="app-wall__entity-info__podcast-name",u+=s.a(s,0,a.object2nodeset(y),"d-link",d)}else{var M=s.s(lt,r);(y={}).artists=a.nodeset2data(M),y.nolink=!0,u+=s.a(s,0,a.object2nodeset(y),"d-artists",d)}return u+=h(d),u+="</div>",u+="</div>"},_.t54.j=V,_.t54.a=0,_.t55=function(t,e,s,r,c){var d="",u=t.s(ut,e),_=!n(t.n(pt,u))&&n(t.n(ht,u));d+=h(c),d+="<div",c.a={class:new a.scalarAttr("app-wall__entity")},c.s="div",d+=t.a(t,0,t.s(f,e),"app-wall__entity-pic",c);var m={};return m.entity=a.externals.i18n("app-wall","Плейлист"),d+=t.a(t,0,a.object2nodeset(m),"stamp",c),d+=h(c),d+='<div class="app-wall__entity-name">',d+=i(t.n(k,u)),d+=t.a(t,0,u,"app-wall__entity-explicit-mark",c),d+="</div>",n(t.n(_t,u))&&(d+='<div class="app-wall__entity-info">',d+=l(a.externals.plural(o(t.n(_t,u)),a.externals.i18n("app-wall","%s трек|%s трека|%s треков|нет треков"))),d+="</div>"),n(p("isInteractiveSplashscreenPage",e,[]))&&(n(t.n(_t,u))||_||(d+='<div class="app-wall__entity-info">'+l(a.externals.i18n("app-wall","[feature/mfront-3352]Плейлист пока пуст"))+"</div>"),_&&(d+='<div class="app-wall__entity-info">'+l(a.externals.i18n("app-wall","[feature/mfront-3352]Пользователь предпочёл скрыть свою музыку"))+"</div>")),d+="</div>"},_.t55.j=G,_.t55.a=0,_.t56=function(t,s,r,c,d){var u="",p=t.s(mt,s);return u+=h(d),n(t.n(yt,p))?u+=l(a.externals.cover(o(t.n(yt,p)))):e("pic",t.n(x,p))?u+="//"+i(t.n(gt,a.object2nodeset(a.externals.getSettings())))+i(t.n(ft,p))+"orig?"+i(t.n(K,p)):u+="/blocks/playlist-cover/playlist-cover_no_cover"+l(o(t.s(U,s))%5)+".png",u},_.t56.j=G,_.t56.a=0,_.t57=function(t,e,n,s,o){var r="";r+=h(o),r+="<div",o.a={class:new a.scalarAttr("app-wall__entity")},o.s="div",r+=t.a(t,0,t.s(f,e),"app-wall__entity-pic",o);var l={};return l.entity=a.externals.i18n("app-wall","Подборка"),r+=t.a(t,0,a.object2nodeset(l),"stamp",o),r+=h(o),r+='<div class="app-wall__entity-name">',r+=i(t.s(st,e)),r+="</div>",r+="</div>"},_.t57.j=vt,_.t57.a=0,_.t58=function(t,e,i,n,s){var r="";return r+=h(s),r+=l(a.externals.cover(o(t.s(bt,e))))},_.t58.j=vt,_.t58.a=0,_.t59=function(t,e,i,n,a){var s="";return s+=h(a),s+=" ",s+=t.a(t,0,t.s(f,e),"d-explicit-mark",a)},_.t59.j=kt,_.t59.a=0,_.t60=function(t,e,i,n,s){var o="";o+=h(s),o+='<div class="app-wall__suggest-plus-modal">',o+='<div class="app-wall__suggest-plus-modal__inner">',o+="<div",s.a={class:new a.scalarAttr("app-wall__suggest-plus-modal__close")},s.s="div";var c={rounded:!0,size:"L",class:"local-icon-theme-black",icon:"cross-big",type:"action",noHoverColor:!0};return o+=t.a(t,0,a.object2nodeset(c),"d-button",s),o+=h(s),o+="</div>",o+='<div class="app-wall__suggest-plus-modal__banner">',o+='<img class="app-wall__suggest-plus-modal__banner-image" src="'+r("/blocks/app-wall/app-wall-suggest-plus-banner.png")+'"/>',o+="</div>",o+='<div class="app-wall__suggest-plus-modal__content">',o+='<div class="app-wall__suggest-plus-modal__content__title">',o+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Музыка без ограничений для тех, кто в Плюсе")),o+="</div>",o+='<div class="app-wall__suggest-plus-modal__content__text">',o+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Оформите подписку, чтобы слушать треки без рекламы, скачивать их и брать с собой на море, в дорогу или на дачу")),o+="</div>",o+='<div class="app-wall__suggest-plus-modal__subscription_button"></div>',(c={rounded:!0,size:"L",class:"app-wall__suggest-plus-modal__button app-wall__suggest-plus-modal__button-has-plus"}).text=a.externals.i18n("app-wall","[feature/mfront-3352]У меня уже есть Плюс"),c.type="action",c.noHoverColor=!0,o+=t.a(t,0,a.object2nodeset(c),"d-button",s),o+="</div>",o+="</div>",o+="</div>"},_.t60.j=g,_.t60.a=0,_.t61=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Добавлено в вашу коллекцию"))},_.t61.j=g,_.t61.a=0,_.t62=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("app-wall","[feature/mfront-3352]Удалено из вашей коллекции"))},_.t62.j=g,_.t62.a=0,_.t63=function(t,i,s,r,c,d,_){var m="";if(m+=h(c),m+='<div class="artist-summary">',!d){var g=p("trackCount",i,[]).concat(t.s(wt,i));m+='<span class="artist-summary__tracks-count">',n(g)?m+=l(a.externals.plural(o(g),a.externals.i18n("artist-summary","%s трек|%s трека|%s треков|"))):m+=" ",m+="</span>"}if(!u("composer",i)){var y=[0,"genres",2,function(t,i,n,s){return!e("other",t.s(f,i))&&a.externals.genreName(o(t.s(f,i)))}],v=t.s(y,i);v.length&&!d&&(m+=t.a(t,0,t.s(f,i),"separator",c));var b={};b.genres=a.nodeset2data(v),b.noLink=!0,m+=t.a(t,0,a.object2nodeset(b),"d-genres",c)}return m+="</div>"},_.t63.j=g,_.t63.a=0,_.t64=function(t,e,i,n,a){var o="";return o+=h(a),o+='<img class="counter" src="https://clck.yandex.ru/counter/dtype=stred/pid=78/cid=72656/path='+s(p("param",e,[]))+'/*" alt=""/>'},_.t64.j=g,_.t64.a=0,_.t65=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("popup cover-popup")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"cover-popup",!0));var r={};return r.items=a.nodeset2data(t.s(Mt,e)),r.loop=!0,r.index=a.nodeset2data(t.s(Tt,e)),o+=t.a(t,0,a.object2nodeset(r),"pictures-slider",s),o+=h(s),o+="</div>"},_.t65.j=xt,_.t65.a=0,_.t66=function(t,e,i,n,s){var l="",c=a.externals.cover(o(t.s(dt,e)),1e3,!0);return l+=h(s),l+="<div",s.a={class:new a.scalarAttr("popup cover-popup")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"cover-popup",!0)),l+=h(s),l+='<img class="cover-popup__item cover-popup__cover" src="'+r(c)+'"/>',l+="</div>"},_.t66.j=St,_.t66.a=0,_.t67=function(t,e,i,n,s){var l="",c=a.externals.cover(o(t.s(Lt,e)),1e3,!0);return l+=h(s),l+="<div",s.a={class:new a.scalarAttr("popup cover-popup")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"cover-popup",!0)),l+=h(s),l+='<img class="cover-popup__item cover-popup__cover" src="'+r(c)+'"/>',l+="</div>"},_.t67.j=$t,_.t67.a=0,_.t68=function(t,e,i,n,a){return""},_.t68.j=g,_.t68.a=0,_.t69=function(t,e,i,n,s,r,l){var c="";c+=h(s),c+="<div",s.a={class:new a.scalarAttr("editorial")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"editorial"));var d={};return d.param=o(p("promoId",e,[]))+"."+r,c+=t.a(t,0,a.object2nodeset(d),"counter",s),c+=h(s),u("title",e)&&(l?(c+="<h1",s.a={class:new a.scalarAttr("editorial__title typo typo-h2_bold")},s.s="h1",c+=t.a(t,0,t.s(f,e),"editorial__title",s),c+=h(s),c+="</h1>"):(c+="<div",s.a={class:new a.scalarAttr("editorial__title typo typo-h2_bold")},s.s="div",c+=t.a(t,0,t.s(f,e),"editorial__title",s),c+=h(s),c+="</div>")),u("description",e)&&(c+=t.a(t,0,t.s(f,e),"editorial__description",s)),c+=t.a(t,0,t.s(f,e),"editorial__content",s,l),c+="</div>"},_.t69.j=g,_.t69.a=0,_.t70=function(t,e,n,s,r){var l="";return l+=h(r),u("titleUrl",e)?(l+="<a",r.a={class:new a.scalarAttr("link link_mimic"),href:new a.scalarAttr(o(p("titleUrl",e,[])))},r.s="a",(a.externals.startsWith(d("titleUrl",e),"//")||a.externals.startsWith(d("titleUrl",e),"http"))&&(r.a.target=new a.scalarAttr("_blank")),l+=h(r),l+=i(p("title",e,[])),l+="</a>"):l+=i(p("title",e,[])),l},_.t70.j=g,_.t70.a=0,_.t71=function(t,e,i,n,a){return""},_.t71.j=g,_.t71.a=0,_.t72=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="editorial__description deco-link-parent deco-link-parent_marked">'+d("description",e)+"</div>"},_.t72.j=g,_.t72.a=0,_.t73=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t73.j=Pt,_.t73.a=0,_.t74=function(t,e,i,n,s,o){var r="";if(r+=h(s),1==p("albums",e,[]).length){r+="<div",s.a={class:new a.scalarAttr("editorial__albums editorial__albums_single")},s.s="div",(v={}).album=a.nodeset2data(p("albums",e,[])),r+=t.a(t,0,a.object2nodeset(v),"album",s),r+=h(s),r+="</div>"}else{var l=[0,"albums",2,function(t,e,i,n){return i<4}],c=t.s(l,e);var d=[0,"albums",2,function(t,e,i,n){return i>=4}],u=t.s(d,e),_=u.length;r+="<div",s.a={class:new a.scalarAttr("editorial__albums")},s.s="div";for(var m=0,g=(k=c).length;m<g;m++){var y=k[m];(v={}).album=a.nodeset2data(t.s(f,y)),r+=t.a(t,0,a.object2nodeset(v),"album",s)}if(_)if(o)for(m=0,g=(k=u).length;m<g;m++){y=k[m];(v={}).album=a.nodeset2data(t.s(f,y)),r+=t.a(t,0,a.object2nodeset(v),"album",s)}else{var v="",b=v+=1==_?a.externals.i18n("editorial","Показать ещё один альбом"):a.externals.plural(_,a.externals.i18n("editorial","Показать ещё %s альбом|Показать ещё %s альбома|Показать ещё %s альбомов|"));(v={}).text=b;for(var k,w="",x={a:{}},m=0,g=(k=u).length;m<g;m++){var y=k[m],M={};M.album=a.nodeset2data(t.s(f,y)),w+=t.a(t,0,a.object2nodeset(M),"album",x)}v.html=w,r+=t.a(t,0,a.object2nodeset(v),"more",s)}r+=h(s),r+="</div>"}return r},_.t74.j=Pt,_.t74.a=0,_.t75=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t75.j=Ct,_.t75.a=0,_.t76=function(t,e,i,n,s,o){var r="";var l=[0,"playlists",0,"playlist",2,function(t,e,i,n){return i<4}],c=t.s(l,e);var d=[0,"playlists",0,"playlist",2,function(t,e,i,n){return i>=4}],u=t.s(d,e),p=u.length;if(r+=h(s),r+="<div",s.a={class:new a.scalarAttr("editorial__playlists")},s.s="div",r+=t.a(t,0,c,"playlist",s),p)if(o)r+=t.a(t,0,u,"playlist",s);else{var _="",m=_+=1==p?a.externals.i18n("editorial","Показать ещё один плейлист"):a.externals.plural(p,a.externals.i18n("editorial","Показать ещё %s плейлист|Показать ещё %s плейлиста|Показать ещё %s плейлистов|"));(_={}).text=m;var g="";g+=t.a(t,0,u,"playlist",{a:{}}),_.html=g,r+=t.a(t,0,a.object2nodeset(_),"more",s)}return r+=h(s),r+="</div>"},_.t76.j=Ct,_.t76.a=0,_.t77=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t77.j=Dt,_.t77.a=0,_.t78=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("editorial__tracks")},s.s="div";for(var r=p("tracks",e,[]),l=0,c=r.length;l<c;l++){var d=r[l],u={};u.track=a.nodeset2data(t.s(f,d)),u.listIndex=l,u.type="withCover",u.showChartPosition=!0,o+=t.a(t,0,a.object2nodeset(u),"d-track",s)}return o+=h(s),o+="</div>"},_.t78.j=Dt,_.t78.a=0,_.t79=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t79.j=Et,_.t79.a=0,_.t80=function(t,e,i,n,s,o){var r="";var l=[0,"artists",2,function(t,e,i,n){return i<3}],c=t.s(l,e);var d=[0,"artists",2,function(t,e,i,n){return i>=3}],u=t.s(d,e),p=u.length;if(r+=h(s),r+="<div",s.a={class:new a.scalarAttr("editorial__artists")},s.s="div",r+=t.a(t,0,c,"editorial__artist",s),p)if(o)r+=t.a(t,0,u,"editorial__artist",s);else{var _="",m=_+=1==p?a.externals.i18n("editorial","Показать ещё одного исполнителя"):a.externals.plural(p,a.externals.i18n("editorial","Показать ещё %s исполнителя|Показать ещё %s исполнителя|Показать ещё %s исполнителей|"));(_={}).text=m;var g="";g+=t.a(t,0,u,"editorial__artist",{a:{}}),_.html=g,r+=t.a(t,0,a.object2nodeset(_),"more",s)}return r+=h(s),r+="</div>"},_.t80.j=Et,_.t80.a=0,_.t81=function(t,e,i,n,s){var o="",r={};return r.artist=a.nodeset2data(t.s(f,e)),o+=t.a(t,0,a.object2nodeset(r),"artist",s)},_.t81.j=g,_.t81.a=0,_.t82=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t82.j=At,_.t82.a=0,_.t83=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("editorial__concert")},s.s="div",o+=t.a(t,0,p("concert",e,[]),"concert",s),o+=h(s),o+="</div>"},_.t83.j=At,_.t83.a=0,_.t84=function(t,e,i,n,a,s,o){var r="";return r+=t.a(t,0,t.s(f,e),"editorial__layout",a,s,o)},_.t84.j=Yt,_.t84.a=0,_.t85=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("head-progress")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"head-progress")),o+=h(s),o+="</div>"},_.t85.j=g,_.t85.a=0,_.t86=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="hint">',o+='<div class="hint__tail"></div>',o+='<div class="hint__content">',o+=i(p("content",e,[])),o+="</div>",o+="</div>"},_.t86.j=g,_.t86.a=0,_.t87=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="mix">',u("withoutTitle",e)||(o+='<div class="mix__title">',o+=d("title",e),o+="</div>"),o+="<div",s.a={class:new a.scalarAttr("mix__container")},s.s="div",o+=t.a(t,0,p("entities",e,[]),"mix__item",s),o+=h(s),o+="</div>",o+="</div>"},_.t87.j=g,_.t87.a=0,_.t88=function(t,e,i,n,l){var c="";return c+=h(l),c+='<figure class="mix__item">',c+='<img class="mix__preview deco-pane" src="'+r(a.externals.cover(o(t.s(Ot,e)),200))+'" srcset="'+r(a.externals.cover(o(t.s(Ot,e)),400))+' 2x" alt="'+s(t.s(st,e))+'"/>',c+='<figcaption class="mix__link-wrapper">',c+='<a href="'+s(t.s(jt,e))+'" class="mix__link">',c+="<span",l.a={class:new a.scalarAttr("mix__name")},l.s="span",l.a.style=new a.scalarAttr("color: "+o(t.s(Rt,e))+";"),c+=h(l),c+=o(t.s(st,e)),c+="</span>",c+="</a>",c+="</figcaption>",c+="</figure>"},_.t88.j=It,_.t88.a=0,_.t89=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("more")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"more"));var r={};return r.text=a.nodeset2data(p("text",e,[])),o+=t.a(t,0,a.object2nodeset(r),"button",s,"L"),o+=h(s),o+="</div>"},_.t89.j=g,_.t89.a=0,_.t90=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("notify")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"notify",!0)),o+=h(s),o+="</div>"},_.t90.j=g,_.t90.a=0,_.t91=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="overlay deco-pane-overlay"></div>'},_.t91.j=g,_.t91.a=0,_.t92=function(t,i,n,s,o){var r="",l=p("index",i,[]);if(r+=h(o),r+="<div",o.a={class:new a.scalarAttr("pictures-slider pictures-slider_first")},o.s="div",o.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,i),"pictures-slider")),u("loop",i)){var c=o.a.class;o.a.class=c?c.addscalar(" pictures-slider__looped"):new a.scalarAttr(" pictures-slider__looped")}for(var d=p("items",i,[]),_=0,m=d.length;_<m;_++){var g=d[_],y="";e(_,l)?y+="pictures-slider__item_selected":y+="";var v=y;r+=t.a(t,0,t.s(f,g),"pictures-slider__item",o,1e3,!0,"",v)}if(p("items",i,[]).length>1){y={type:"flat",icon:"paging-forward",class:"pictures-slider__button pictures-slider__button_right"};r+=t.a(t,0,a.object2nodeset(y),"d-button",o);y={type:"flat",icon:"paging-backwards",class:"pictures-slider__button pictures-slider__button_left"};r+=t.a(t,0,a.object2nodeset(y),"d-button",o)}return r+=h(o),r+="</div>"},_.t92.j=g,_.t92.a=0,_.t93=function(t,e,n,s,o,l,c,_,m){var g="",f=a.externals.cover(d("uri",e),l,c,_);return g+=h(o),g+='<div class="pictures-slider__item '+r(m)+'">',g+='<img class="cover-popup__cover pictures-slider__cover" src="'+r(f)+'"/>',(u("copyrightCline",e)||u("copyrightName",e))&&(g+='<div class="pictures-slider__copyright">',g+=i(p("copyrightCline",e,[])),u("copyrightCline",e)&&u("copyrightName",e)&&(g+=" / "),u("copyrightName",e)&&(g+="© ",g+=i(p("copyrightName",e,[]))),g+="</div>"),g+="</div>"},_.t93.j=g,_.t93.a=0,_.t94=function(e,i,s,o,r,l,c,d,p){c=void 0===c?200:c;var _="";if(_+=h(r),_+="<div",r.a={class:new a.scalarAttr("playlist-cover")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(e.s(f,i),"playlist-cover",!0)),p){var m=r.a.class;r.a.class=m?m.addscalar(" playlist-cover_size_"+p):new a.scalarAttr(" playlist-cover_size_"+p)}else{var g=e.f("f1",i,s,o,c);m=r.a.class;r.a.class=m?m.addscalar(" playlist-cover_size_"+g):new a.scalarAttr(" playlist-cover_size_"+g)}if(l){m=r.a.class;r.a.class=m?m.addscalar(" "+l):new a.scalarAttr(" "+l)}return n(e.s(Nt,i))?_+=e.a(e,0,e.s(f,i),"playlist-cover__cover",r,c,d):_+=e.a(e,0,e.s(f,i),"playlist-cover__note",r),u("playCounter",i)&&t(e.s(zt,i),e.n(Ht,a.object2nodeset(a.externals.getUser())))&&(_+=e.a(e,0,e.s(f,i),"playlist-cover__counter",r)),_+=h(r),_+="</div>"},_.t94.j=g,_.t94.a=0,_.t95=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="auto-playlist__counter deco-counter">',o+='<span class="auto-playlist__counter-number typo local-theme-black">'+i(t.s(Ft,e))+"</span>",o+="</div>"},_.t95.j=g,_.t95.a=0,_.t96=function(t,i,n,s,l,c,d){var u="",_=t.s(qt,i),m=_.length,g=c/2;if(e(3,p("kind",i,[])))u+=t.a(t,0,t.s(f,i),"playlist-cover__note",l,!0);else if(m>1){var y="";y+=h({a:{}});for(var v=a.externals.mosaic(_),b=0,k=v.length;b<k;b++){var w=v[b];y+='<img src="'+r(a.externals.cover(o(t.s(f,w)),g))+'" srcset="'+r(a.externals.cover(o(t.s(f,w)),2*g))+' 2x" class="playlist-cover__img deco-pane" alt=""/>'}var x=y;u+=h(l),u+="<div",l.a={class:new a.scalarAttr("playlist-cover__mosaic")},l.s="div",(y={}).content=x,y.class="playlist-cover__wrapper",u+=t.a(t,0,a.object2nodeset(y),"d-cover__wrapper",l),u+=h(l),u+="</div>"}else if(m>0){y="";var M=[3,0];y+=h({a:{}});var T=y+='<img src="'+r(a.externals.cover(o(t.n(M,_)),c))+'" srcset="'+r(a.externals.cover(o(t.n(M,_)),2*c))+' 2x" class="playlist-cover__img deco-pane" alt=""/>';(y={}).content=T,y.class="playlist-cover__wrapper",u+=t.a(t,0,a.object2nodeset(y),"d-cover__wrapper",l)}else u+=t.a(t,0,t.s(f,i),"playlist-cover__note",l,!0);return u},_.t96.j=Ut,_.t96.a=0,_.t97=function(t,e,i,n,o,r,l){var c="",d="";d+=h({a:{}});var u=d+='<img src="'+s(t.s(nt,e))+'" class="playlist-cover__img deco-pane" alt=""/>';return(d={}).content=u,d.class="playlist-cover__wrapper",c+=t.a(t,0,a.object2nodeset(d),"d-cover__wrapper",o)},_.t97.j=Vt,_.t97.a=0,_.t98=function(t,e,i,s,l,c,p){var _="",m="";u("animatedCoverUri",e)?m+=a.externals.cover(d("animatedCoverUri",e),c):n(t.s(nt,e))?m+=a.externals.cover(o(t.s(nt,e)),c):m+="//"+o(t.n(gt,a.object2nodeset(a.externals.getSettings())))+o(t.s(Kt,e))+c+"x"+c+"?"+o(t.s(Jt,e));var g=m;m="";u("animatedCoverUri",e)?m+=a.externals.cover(d("animatedCoverUri",e),2*c):n(t.s(nt,e))?m+=a.externals.cover(o(t.s(nt,e)),2*c):m+="//"+o(t.n(gt,a.object2nodeset(a.externals.getSettings())))+o(t.s(Kt,e))+2*c+"x"+2*c+"?"+o(t.s(Jt,e));var f=m;m="";m+=h({a:{}});var y=m+='<img src="'+r(g)+'" srcset="'+r(f)+' 2x" class="playlist-cover__img deco-pane" alt=""/>';return(m={}).content=y,m.class="playlist-cover__wrapper",_+=t.a(t,0,a.object2nodeset(m),"d-cover__wrapper",l)},_.t98.j=Gt,_.t98.a=0,_.t99=function(t,e,i,n,s){var o="",r="";r+=h({a:{}}),r+='<div class="playlist-cover__type-empty">',r+='<img src="/blocks/playlist-cover/playlist-cover_no_cover.png" class="playlist-cover__img deco-pane"/>';var l=r+="</div>";return(r={}).content=l,r.class="playlist-cover__wrapper",o+=t.a(t,0,a.object2nodeset(r),"d-cover__wrapper",s)},_.t99.j=g,_.t99.a=0,_.t100=function(t,e,i,n,s){var o="",l="/blocks/playlist-cover/playlist-cover_no_cover"+d("kind",e)%5+".png",c="";c+=h({a:{}});var u=c+='<img src="'+r(l)+'" class="playlist-cover__img deco-pane"/>';return(c={}).content=u,c.class="playlist-cover__wrapper",o+=t.a(t,0,a.object2nodeset(c),"d-cover__wrapper",s)},_.t100.j=g,_.t100.a=0,_.t101=function(t,e,i,n,s){var o="",l="/blocks/playlist-cover/playlist-cover_like.png",c="";c+=h({a:{}});var d=c+='<img src="'+r(l)+'" srcset="'+r(l)+" 1x, "+r("/blocks/playlist-cover/playlist-cover_like_2x.png")+' 2x" class="playlist-cover__img deco-pane"/>';return(c={}).content=d,c.class="playlist-cover__wrapper",o+=t.a(t,0,a.object2nodeset(c),"d-cover__wrapper",s)},_.t101.j=Xt,_.t101.a=0,_.t102=function(t,e,i,s,o,r,l,c,d,u){c=void 0===c?200:c;var p="";if(p+=h(o),p+="<div",o.a={class:new a.scalarAttr("playlist-cover-stack")},o.s="div",u){var _=o.a.class;o.a.class=_?_.addscalar(" playlist-cover-stack_size_"+u):new a.scalarAttr(" playlist-cover-stack_size_"+u)}else{var m=t.f("f2",e,i,s,c);_=o.a.class;o.a.class=_?_.addscalar(" playlist-cover-stack_size_"+m):new a.scalarAttr(" playlist-cover-stack_size_"+m)}if(l){_=o.a.class;o.a.class=_?_.addscalar(" "+l):new a.scalarAttr(" "+l)}if(r){_=o.a.class;o.a.class=_?_.addscalar(" playlist-cover-stack_decorated"):new a.scalarAttr(" playlist-cover-stack_decorated")}return n(t.s(Nt,e))?p+=t.a(t,0,t.s(f,e),"playlist-cover-stack__cover",o,c,r,d):p+=t.a(t,0,t.s(f,e),"playlist-cover-stack__note",o,r),p+=h(o),p+="</div>"},_.t102.j=g,_.t102.a=0,_.t103=function(t,e,i,n,s,l,c,d){var u="",p=t.s(qt,e),_=p.length,m=l/2;if(_>1){var g="";g+=h({a:{}});for(var y=0,v=(w=a.externals.mosaic(p)).length;y<v;y++){var b=w[y];g+='<img src="'+r(a.externals.cover(o(t.s(f,b)),m))+'" srcset="'+r(a.externals.cover(o(t.s(f,b)),2*m))+' 2x" class="playlist-cover-stack__img" alt=""/>'}var k=g;if(u+=h(s),c){var w,x=[2,function(t,e,i,n){return i<2}];for(y=0,v=(w=t.n(x,a.externals.mosaic(p))).length;y<v;y++){b=w[y];u+='<div class="playlist-cover-stack__back-'+r(y+1)+'">',u+='<img src="'+r(a.externals.cover(o(t.s(f,b)),m))+'" alt=""/>',u+="</div>"}}u+="<div",s.a={class:new a.scalarAttr("playlist-cover-stack__mosaic")},s.s="div",(g={}).content=k,g.class="playlist-cover__wrapper",u+=t.a(t,0,a.object2nodeset(g),"d-cover__wrapper",s),u+=h(s),u+="</div>"}else if(_>0){g="";var M=[3,0];g+=h({a:{}});var T=g+='<img src="'+r(a.externals.cover(o(t.n(M,p)),l))+'" srcset="'+r(a.externals.cover(o(t.n(M,p)),2*l))+' 2x" class="playlist-cover-stack__img" alt=""/>';if(c){u+=t.a(t,0,t.s(f,e),"playlist-cover-stack__back_empty",s,a.externals.cover(o(t.n([3,0],p)),l))}(g={}).content=T,g.class="playlist-cover__wrapper",u+=t.a(t,0,a.object2nodeset(g),"d-cover__wrapper",s)}else u+=t.a(t,0,t.s(f,e),"playlist-cover-stack__note",s,!0);return u},_.t103.j=Ut,_.t103.a=0,_.t104=function(t,e,i,s,l,c,d,u){var p="",_="";n(t.s(nt,e))?_+=a.externals.cover(o(t.s(nt,e)),c):_+="//"+o(t.n(gt,a.object2nodeset(a.externals.getSettings())))+o(t.s(Kt,e))+c+"x"+c+"?"+o(t.s(Jt,e));var m=_;_="";n(t.s(nt,e))?_+=a.externals.cover(o(t.s(nt,e)),2*c):_+="//"+o(t.n(gt,a.object2nodeset(a.externals.getSettings())))+o(t.s(Kt,e))+2*c+"x"+2*c+"?"+o(t.s(Jt,e));var g=_;_="";_+=h({a:{}});var y=_+='<img src="'+r(m)+'" srcset="'+r(g)+' 2x" class="playlist-cover-stack__img" alt=""/>';d&&(p+=t.a(t,0,t.s(f,e),"playlist-cover-stack__back_empty",l,m));return(_={}).content=y,p+=t.a(t,0,a.object2nodeset(_),"d-cover__wrapper",l)},_.t104.j=Gt,_.t104.a=0,_.t105=function(t,e,i,n,s){var o="",r="";r+=h({a:{}});var l=r+='<img src="/blocks/playlist-cover-stack/playlist-cover_no_cover.png" class="playlist-cover-stack__img"/>';return(r={}).content=l,r.class="playlist-cover__wrapper",o+=t.a(t,0,a.object2nodeset(r),"d-cover__wrapper",s)},_.t105.j=g,_.t105.a=0,_.t106=function(t,e,i,n,a,s){var o="";return o+=h(a),o+='<div class="playlist-cover-stack__back-1 playlist-cover-stack__back-1_empty">',o+='<img src="'+r(s)+'"/>',o+="</div>",o+='<div class="playlist-cover-stack__back-2 playlist-cover-stack__back-2_empty">',o+='<img src="'+r(s)+'"/>',o+="</div>"},_.t106.j=g,_.t106.a=0,_.t107=function(t,e,i,n,s,o){var l="",c="/blocks/playlist-cover-stack/playlist-cover_no_cover"+d("kind",e)%5+".png",u="";u+=h({a:{}});var p=u+='<img src="'+r(c)+'" class="playlist-cover-stack__img"/>';return o&&(l+=t.a(t,0,t.s(f,e),"playlist-cover-stack__back_empty",s,c)),(u={}).content=p,u.class="playlist-cover__wrapper",l+=t.a(t,0,a.object2nodeset(u),"d-cover__wrapper",s)},_.t107.j=g,_.t107.a=0,_.t108=function(t,e,i,n,s,o){var l="",c="/blocks/playlist-cover-stack/playlist-cover_like.png",d="";d+=h({a:{}});var u=d+='<img src="'+r(c)+'" class="playlist-cover-stack__img"/>';return o&&(l+=t.a(t,0,t.s(f,e),"playlist-cover-stack__back_empty",s,c)),(d={}).content=u,d.class="playlist-cover__wrapper",l+=t.a(t,0,a.object2nodeset(d),"d-cover__wrapper",s)},_.t108.j=Xt,_.t108.a=0,_.t109=function(t,e,i,n,a){return""},_.t109.j=g,_.t109.a=0,_.t110=function(t,i,n,s,l,c){var _="",m="";u("imageUri",i)?e("right",p("imagePosition",i,[]))?m+=a.externals.cover(d("imageUri",i),260):m+=a.externals.cover(d("imageUri",i),200):u("image",i)&&(m+=d("image",i));var g=m;m="";u("imageUri",i)?e("right",p("imagePosition",i,[]))?m+=a.externals.cover(d("imageUri",i),260):m+=a.externals.cover(d("imageUri",i),400):u("image",i)&&(m+=d("image",i));var y=m;m="";u("imageUri",i)?e("right",p("imagePosition",i,[]))?m+=a.externals.cover(d("imageUri",i),260):m+=a.externals.cover(d("imageUri",i),1e3):u("image",i)&&(m+=d("image",i));var v=m;m="";g&&e("right",p("imagePosition",i,[]))?m+="right":m+="left";var b=m;if(_+=h(l),_+="<div",l.a={class:new a.scalarAttr("promo deco-pane-promo")},l.s="div",l.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,i),"promo",!0)),u("background",i)){var k=l.a.class;if(l.a.class=k?k.addscalar(" promo_colored"):new a.scalarAttr(" promo_colored"),l.a.style=new a.scalarAttr("background:"+o(p("background",i,[]))),a.externals.isColorDark(d("background",i))){k=l.a.class;l.a.class=k?k.addscalar(" promo_dark local-icon-theme-black"):new a.scalarAttr(" promo_dark local-icon-theme-black")}}if("left"==b){k=l.a.class;l.a.class=k?k.addscalar(" promo_cover"):new a.scalarAttr(" promo_cover")}if((m={}).param=o(p("promoId",i,[]))+"."+c,_+=t.a(t,0,a.object2nodeset(m),"counter",l),_+=h(l),_+='<div class="promo__wrapper local-theme-white local-icon-theme-white">',_+="<div",l.a={class:new a.scalarAttr("promo__thumb")},l.s="div","right"==b)_+=h(l),_+='<div class="promo__image">',_+='<img class="promo__img" src="'+r(g)+'" srcset="'+r(y)+' 2x" alt=""/>',_+="</div>",_+='<div class="promo__image promo__image_big">',_+='<img class="promo__img_big" src="'+r(y)+'" srcset="'+r(v)+' 2x" alt=""/>',_+="</div>";else if(!g&&e("playlist",p("promotionType",i,[])))_+=t.a(t,0,t.s(ie,i),"playlist-cover",l,"promo__image"),_+=t.a(t,0,t.s(ie,i),"playlist-cover",l,"promo__image_big",400);else{var m="";if(g)m+=g;else{var w=t.n([3,0],t.s(Qt,i).concat(t.s(te,i).concat(t.s(ee,i))));m+=a.externals.cover(o(w),200)}var x=m,m="";if(y)m+=y;else{var M=t.n([3,0],t.s(Qt,i).concat(t.s(te,i).concat(t.s(ee,i))));m+=a.externals.cover(o(M),400)}var T=m;m="";if(v)m+=v;else{var S=t.n([3,0],t.s(Qt,i).concat(t.s(te,i).concat(t.s(ee,i))));m+=a.externals.cover(o(S),1e3)}var $=m;_+=h(l),_+='<div class="promo__image">',_+='<img class="promo__img" src="'+r(x)+'" srcset="'+r(T)+' 2x" alt=""/>',_+="</div>",_+='<div class="promo__image promo__image_big">',_+='<img class="promo__img" src="'+r(T)+'" srcset="'+r($)+' 2x" alt=""/>',_+="</div>"}if(_+=h(l),_+="<div",l.a={class:new a.scalarAttr("promo__controls")},l.s="div",_+=t.a(t,0,t.s(f,i),"promo__play",l),_+=h(l),_+=" ",e("track",p("promotionType",i,[]))){m={};(P={}).track=a.nodeset2data(p("track",i,[])),m.entry=P,m.theme="flat",m.size="S",_+=t.a(t,0,a.object2nodeset(m),"d-like",l),_+=" ";m={};(P={}).track=a.nodeset2data(p("track",i,[])),m.entry=P,m.style="flat";(P={}).size="S",m.button=P,_+=t.a(t,0,a.object2nodeset(m),"d-addition",l),_+=" ",(m={}).promo=a.nodeset2data(t.s(f,i)),m.track=a.nodeset2data(p("track",i,[])),m.theme="flat",m.btnSize="M",_+=t.a(t,0,a.object2nodeset(m),"d-share-popup",l)}if(e("album",p("promotionType",i,[]))){(m={}).album=a.nodeset2data(p("album",i,[])),m.theme="flat",m.size="S",_+=t.a(t,0,a.object2nodeset(m),"d-like",l),_+=" ",(m={}).album=a.nodeset2data(p("album",i,[])),m.style="flat";(P={}).size="S",m.button=P,_+=t.a(t,0,a.object2nodeset(m),"d-addition",l),_+=" ",(m={}).promo=a.nodeset2data(t.s(f,i)),m.album=a.nodeset2data(p("album",i,[])),m.theme="flat",m.btnSize="M",_+=t.a(t,0,a.object2nodeset(m),"d-share-popup",l)}if(e("playlist",p("promotionType",i,[]))){var L=t.s(ie,i);if(!e(3,t.n(Wt,L)))(m={}).playlist=a.nodeset2data(L),m.theme="flat",m.size="S",_+=t.a(t,0,a.object2nodeset(m),"d-like",l),_+=" ";(m={}).playlist=a.nodeset2data(L),m.style="flat";var P;(P={}).size="S",m.button=P,_+=t.a(t,0,a.object2nodeset(m),"d-addition",l),_+=" ",(m={}).promo=a.nodeset2data(t.s(f,i)),m.title=a.nodeset2data(p("title",i,[])),m.playlist=a.nodeset2data(L),m.disabled=e("private",t.n(ne,L)),m.theme="flat",m.btnSize="M",_+=t.a(t,0,a.object2nodeset(m),"d-share-popup",l)}e("artist",p("promotionType",i,[]))&&((m={}).artist=a.nodeset2data(p("artist",i,[])),m.theme="flat",m.size="S",_+=t.a(t,0,a.object2nodeset(m),"d-like",l),_+=" ",(m={}).promo=a.nodeset2data(t.s(f,i)),m.artist=a.nodeset2data(p("artist",i,[])),m.theme="flat",m.btnSize="M",_+=t.a(t,0,a.object2nodeset(m),"d-share-popup",l));return _+="</div>",_+="</div>",_+='<div class="promo__data deco-typo">',_+="<div",l.a={class:new a.scalarAttr("promo__title")},l.s="div",_+=t.a(t,0,p("title",i,[]),"promo__link",l,d("titleUrl",i)),_+=h(l),_+="</div>",u("subtitle",i)&&(_+="<div",l.a={class:new a.scalarAttr("promo__subtitle")},l.s="div",_+=t.a(t,0,p("subtitle",i,[]),"promo__link",l,d("subtitleUrl",i)),_+=h(l),_+="</div>"),_+='<div class="promo__description">'+d("description",i)+"</div>",_+="</div>",_+="</div>",_+="</div>"},_.t110.j=Zt,_.t110.a=0,_.t111=function(t,e,i,n,s){var l="",c="";u("imageUri",e)?c+=a.externals.cover(d("imageUri",e)):u("image",e)&&(c+=d("image",e));var _=c;l+=h(s),l+="<div",s.a={class:new a.scalarAttr("promo promo_showcase-middle")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"promo",!0));c="";if(u("background",e)&&(c+="background-color:"+o(p("background",e,[]))+";"),s.a.style=new a.scalarAttr(c),u("background",e)){var m=s.a.class;if(s.a.class=m?m.addscalar(" promo_colored"):new a.scalarAttr(" promo_colored"),a.externals.isColorDark(d("background",e))){m=s.a.class;s.a.class=m?m.addscalar(" promo_dark local-icon-theme-black"):new a.scalarAttr(" promo_dark local-icon-theme-black")}}return l+=h(s),l+='<div class="promo__top">',l+="<div",s.a={class:new a.scalarAttr("promo__title")},s.s="div",l+=t.a(t,0,p("title",e,[]),"promo__link",s,d("titleUrl",e)),l+=h(s),l+="</div>",l+='<div class="promo__description">'+d("description",e)+"</div>",l+="</div>",l+='<img class="promo__img" src="'+r(_)+'" alt=""/>',l+="<div",s.a={class:new a.scalarAttr("promo__controls")},s.s="div",l+=t.a(t,0,t.s(f,e),"promo__play",s,"L"),l+=h(s),l+="</div>",l+="</div>"},_.t111.j=ae,_.t111.a=0,_.t112=function(t,e,n,s,l,c){var _="",m="";if(u("imageUri",e))a.externals.cover(d("imageUri",e));else u("image",e)&&(m+=d("image",e));var g=m;_+=h(l),_+="<div",l.a={class:new a.scalarAttr("promo promo_announce promo_showcase-middle")},l.s="div",l.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"promo",!0));m="";if(u("background",e)&&(m+="background-color:"+o(p("background",e,[]))+";"),l.a.style=new a.scalarAttr(m),u("background",e)){var y=l.a.class;l.a.class=y?y.addscalar(" promo_colored"):new a.scalarAttr(" promo_colored")}if(a.externals.isColorDark(d("background",e))){y=l.a.class;l.a.class=y?y.addscalar(" promo_dark local-icon-theme-black"):new a.scalarAttr(" promo_dark local-icon-theme-black")}((m={}).param=o(p("promoId",e,[]))+"."+c,_+=t.a(t,0,a.object2nodeset(m),"counter",l),_+=h(l),_+='<div class="promo__top">',u("titleUrl",e)?_+='<a href="'+r(a.externals.assimilateLink(d("titleUrl",e)))+'" class="promo__title link link_mimic">'+i(p("title",e,[]))+"</a>":(_+='<div class="promo__title">',_+=i(p("title",e,[])),_+="</div>"),_+='<div class="promo__description">'+d("description",e)+"</div>",_+="</div>",u("titleUrl",e)?(_+='<a href="'+r(a.externals.assimilateLink(d("titleUrl",e)))+'" class="promo__link">',_+='<img class="promo__img" src="'+r(g)+'" alt=""/>',_+="</a>"):_+='<img class="promo__img" src="'+r(g)+'" alt=""/>',u("buttonText",e)&&u("titleUrl",e))&&(_+="<div",l.a={class:new a.scalarAttr("promo__controls")},l.s="div",(m={}).text=a.nodeset2data(p("buttonText",e,[])),m.href=a.nodeset2data(p("titleUrl",e,[])),_+=t.a(t,0,a.object2nodeset(m),"button",l,""," button_action"),_+=h(l),_+="</div>");return _+="</div>"},_.t112.j=se,_.t112.a=0,_.t113=function(t,e,i,n,s,o){var r="",l="";u("background",e)&&(l+=" button_shadowed ");var c=l;(l={}).type=a.nodeset2data(p("promotionType",e,[])),l.item=a.nodeset2data(p("track",e,[]));var d="";return d+=t.a(t,0,t.s(f,e),"promo_from-name",{a:{}}),l.fromName=d,l.size=o,l.class=c,r+=t.a(t,0,a.object2nodeset(l),"button-play",s)},_.t113.j=oe,_.t113.a=0,_.t114=function(t,e,i,n,s,o){var r="",l="";u("background",e)&&(l+=" button_shadowed ");var c=l;(l={}).type=a.nodeset2data(p("promotionType",e,[])),l.item=a.nodeset2data(p("album",e,[]));var d="";return d+=t.a(t,0,t.s(f,e),"promo_from-name",{a:{}}),l.fromName=d,l.size=o,l.class=c,r+=t.a(t,0,a.object2nodeset(l),"button-play",s)},_.t114.j=re,_.t114.a=0,_.t115=function(t,e,i,n,s,o){var r="",l="";u("background",e)&&(l+=" button_shadowed ");var c=l;(l={}).type=a.nodeset2data(p("promotionType",e,[])),l.item=a.nodeset2data(p("artist",e,[])),l.tracks=a.nodeset2data(p("tracks",e,[])),l.trackIds=a.nodeset2data(p("trackIds",e,[]));var d="";return d+=t.a(t,0,t.s(f,e),"promo_from-name",{a:{}}),l.fromName=d,l.size=o,l.class=c,r+=t.a(t,0,a.object2nodeset(l),"button-play",s)},_.t115.j=le,_.t115.a=0,_.t116=function(t,e,i,n,s,o){var r="",l="";u("background",e)&&(l+=" button_shadowed ");var c=l;(l={}).type=a.nodeset2data(p("promotionType",e,[])),l.item=a.nodeset2data(t.s(ie,e));var d="";return d+=t.a(t,0,t.s(f,e),"promo_from-name",{a:{}}),l.fromName=d,l.size=o,l.class=c,r+=t.a(t,0,a.object2nodeset(l),"button-play",s)},_.t116.j=ce,_.t116.a=0,_.t117=function(t,e,n,a,s){var o="";return o+=h(s),u("promoId",e)?o+="promo_"+i(p("promoId",e,[])):o+="promo",o},_.t117.j=g,_.t117.a=0,_.t118=function(t,e,n,s,o,r){var l="";if(r){var c={};c.content=a.nodeset2data(t.s(f,e)),c.href=a.externals.assimilateLink(r),l+=t.a(t,0,a.object2nodeset(c),"d-link",o)}else l+=h(o),l+=i(t.s(f,e));return l},_.t118.j=g,_.t118.a=0,_.t119=function(t,e,i,n,s,r,l){var c="";if(c+=h(s),c+="<div",s.a={class:new a.scalarAttr("promo promo_video")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"promo_video",!0)),l){var u=s.a.class;s.a.class=u?u.addscalar(" promo_no-border"):new a.scalarAttr(" promo_no-border")}(c+=h(s),l)||(c+="<div",s.a={class:new a.scalarAttr("promo__head")},s.s="div",(y={}).entity=a.externals.i18n("promo","Видео"),c+=t.a(t,0,a.object2nodeset(y),"stamp",s),c+=h(s),c+="<div",s.a={class:new a.scalarAttr("promo__title")},s.s="div",c+=t.a(t,0,p("title",e,[]),"promo__link",s,d("titleUrl",e)),c+=h(s),c+="</div>",c+='<div class="promo__description">'+d("description",e)+"</div>",c+="</div>");c+='<div class="promo__media">',c+="<div",s.a={class:new a.scalarAttr("promo__cover")},s.s="div";u=s.a.style;if(s.a.style=u?u.addscalar("background-image: url("+o(p("image",e,[]))+");"):new a.scalarAttr("background-image: url("+o(p("image",e,[]))+");"),c+=h(s),c+='<div class="promo__mask">',c+='<span class="promo__play d-icon d-icon_play"></span>',c+="</div>",c+="</div>",c+="</div>",p("tracks",e,[]).length>0){c+='<div class="promo__content">',c+="<div",s.a={class:new a.scalarAttr("promo__tracks")},s.s="div";for(var _=p("tracks",e,[]),m=0,g=_.length;m<g;m++){var y,v=_[m];(y={}).track=a.nodeset2data(t.s(f,v)),y.listIndex=m,y.type="withCover",c+=t.a(t,0,a.object2nodeset(y),"d-track",s)}c+=h(s),c+="</div>",c+="</div>"}return c+="</div>"},_.t119.j=de,_.t119.a=0,_.t120=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="promo__stub">',o+=l(a.externals.i18n("promo","Загружается...")),o+="</div>"},_.t120.j=g,_.t120.a=0,_.t121=function(t,e,i,n,s,r,l){var c="";if(c+=h(s),c+="<div",s.a={class:new a.scalarAttr("promo promo_video")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"promo_video",!0)),l){var u=s.a.class;s.a.class=u?u.addscalar(" promo_no-border"):new a.scalarAttr(" promo_no-border")}(c+=h(s),l)||(c+="<div",s.a={class:new a.scalarAttr("promo__head")},s.s="div",(y={}).entity=a.externals.i18n("promo","Видео"),c+=t.a(t,0,a.object2nodeset(y),"stamp",s),c+=h(s),c+="<div",s.a={class:new a.scalarAttr("promo__title")},s.s="div",c+=t.a(t,0,p("title",e,[]),"promo__link",s,d("titleUrl",e)),c+=h(s),c+="</div>",c+='<div class="promo__description">'+d("description",e)+"</div>",c+="</div>");c+='<div class="promo__media">',c+="<div",s.a={class:new a.scalarAttr("promo__cover")},s.s="div";u=s.a.style;if(s.a.style=u?u.addscalar("background-image: url("+o(p("image",e,[]))+");"):new a.scalarAttr("background-image: url("+o(p("image",e,[]))+");"),c+=h(s),c+='<div class="promo__mask">',c+='<span class="promo__play d-icon d-icon_play"></span>',c+="</div>",c+="</div>",c+="</div>",p("tracks",e,[]).length>0){c+='<div class="promo__content">',c+="<div",s.a={class:new a.scalarAttr("promo__tracks")},s.s="div";for(var _=p("tracks",e,[]),m=0,g=_.length;m<g;m++){var y,v=_[m];(y={}).track=a.nodeset2data(t.s(f,v)),y.listIndex=m,y.type="withCover",c+=t.a(t,0,a.object2nodeset(y),"d-track",s)}c+=h(s),c+="</div>",c+="</div>"}return c+="</div>"},_.t121.j=de,_.t121.a=0,_.t122=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="promo__stub">',o+=l(a.externals.i18n("promo","Загружается...")),o+="</div>"},_.t122.j=g,_.t122.a=0,_.t123=function(t,e,i,l,c,d){var u,p="";if(p+=h(c),p+="<div",c.a={class:new a.scalarAttr("promo-slider-item"),"data-id":new a.scalarAttr(o(t.s(ue,e)))},c.s="div",d){var _=c.a.class;c.a.class=_?_.addscalar(" "+d):new a.scalarAttr(" "+d)}(p+=h(c),p+='<a href="'+s(t.s(jt,e))+'" class="promo-slider-item__wrapper deco-link-hover-target">',p+='<div class="promo-slider-item__cover">',p+='<span class="promo-slider-item__cover-link">',p+='<img src="'+r(a.externals.cover(o(t.s(pe,e))))+'" class="deco-pane"/>',p+="</span>",p+="</div>",n(t.s(he,e)))&&(p+="<div",c.a={class:new a.scalarAttr("promo-slider-item__stamp")},c.s="div",(u={}).text=a.nodeset2data(t.s(he,e)),u.style="marked",p+=t.a(t,0,a.object2nodeset(u),"d-link",c),p+=h(c),p+="</div>");n(t.s(st,e))&&(p+='<div class="promo-slider-item__link-container">',p+="<span",c.a={class:new a.scalarAttr("promo-slider-item__link")},c.s="span",(u={}).text=o(t.s(st,e)),u.class="promo-slider-item__link-title",p+=t.a(t,0,a.object2nodeset(u),"d-link",c),p+=h(c),p+="</span>",p+="</div>");return n(t.s(_e,e))&&(p+='<div class="promo-slider-item__subtitle deco-text-overlay deco-text-overlay_small">',p+='<span class="promo-slider-item__subtitle-link deco-typo-secondary">',p+=o(t.s(_e,e)),p+="</span>",p+="</div>"),p+="</a>",p+="</div>"},_.t123.j=g,_.t123.a=0,_.t124=function(t,e,i,n,s){var o="",c=a.externals.genreName(d("id",e));var u=[0,"albums",2,function(t,e,i,n){return i<4}];o+=h(s),o+="<div",s.a={class:new a.scalarAttr("radio")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"radio")),o+=h(s),o+='<div class="radio__mosaic">';for(var _=t.s(u,e),m=0,g=_.length;m<g;m++){var y=_[m];o+='<img src="'+r(a.externals.cover(d("coverUri",y),100))+'" srcSET="'+r(a.externals.cover(d("coverUri",y),200))+' 2x" class="radio__img" alt=""/>'}o+="</div>",o+='<div class="radio__title" title="'+r(c)+'">',o+='<a href="'+r(a.externals.genreUrl(d("id",e)))+'" class="link">',o+=l(c),o+="</a>",o+="</div>",o+="<div",s.a={class:new a.scalarAttr("radio__artists")},s.s="div";var v={};return v.artists=a.nodeset2data(p("artists",e,[])),o+=t.a(t,0,a.object2nodeset(v),"d-artists",s),o+=h(s),o+="</div>",o+="</div>"},_.t124.j=g,_.t124.a=0,_.t125=function(t,e,i,n,s){var o="";if(o+=h(s),o+="<div",s.a={class:new a.scalarAttr("radio-settings")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"radio-settings",!0)),u("class",e)){var r=s.a.class;s.a.class=r?r.addscalar(" "+d("class",e)):new a.scalarAttr(" "+d("class",e))}return o+=h(s),o+="</div>"},_.t125.j=g,_.t125.a=0,_.t126=function(t,i,s,o,r){var l="",c=!e("user",t.s(me,i))||e("public",t.s(ge,i));if(l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station radio-station_searchable")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,i),"radio-station",!0)),c){var d=r.a.class;r.a.class=d?d.addscalar(" deco-entity"):new a.scalarAttr(" deco-entity")}else{d=r.a.class;r.a.class=d?d.addscalar(" radio-station_private"):new a.scalarAttr(" radio-station_private")}if(l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station__content jsClickable")},r.s="div",c){d=r.a.class;r.a.class=d?d.addscalar(" deco-entity-border"):new a.scalarAttr(" deco-entity-border")}if(l+=t.a(t,0,t.s(f,i),"radio-station__icon",r),l+=t.a(t,0,t.s(f,i),"radio-station__name",r),l+=h(r),n(t.s(fe,i))){l+='<span class="radio-station__more-button deco-button">',l+="<span",r.a={class:new a.scalarAttr("radio-station__more-button_inner deco-button-stylable")},r.s="span";var u={icon:"arrow-up",rotate:"upside-down"};l+=t.a(t,0,a.object2nodeset(u),"d-icon",r),l+=h(r),l+="</span>",l+="</span>"}return l+="</div>",n(t.s(fe,i))&&(l+='<div class="radio-station__subs deco-entity-bg deco-popup-menu">',l+="<div",r.a={class:new a.scalarAttr("radio-station__subs-items")},r.s="div",l+=t.a(t,0,t.s(fe,i),"radio-station__children",r),l+=h(r),l+="</div>",l+="</div>"),l+="</div>"},_.t126.j=g,_.t126.a=0,_.t127=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("radio-station radio-station_searchable radio-station_private")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"radio-station",!0)),o+=h(s),o+="<div",s.a={class:new a.scalarAttr("radio-station__content")},s.s="div",o+=t.a(t,0,t.s(f,e),"radio-station__icon-private",s),o+=t.a(t,0,t.s(f,e),"radio-station__name",s),o+=h(s),o+="</div>",o+="</div>"},_.t127.j=ye,_.t127.a=0,_.t128=function(t,e,s,o,r){var l="";if(l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station__name")},r.s="div",n(t.s(fe,e))){var c=r.a.class;r.a.class=c?c.addscalar(" radio-station__name_short"):new a.scalarAttr(" radio-station__name_short")}return l+=h(r),l+=i(t.s(z,e)),l+="</div>"},_.t128.j=g,_.t128.a=0,_.t129=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="radio-station__username">',o+=i(t.s(z,e)),o+="</div>",o+='<div class="radio-station__fullname typo-secondary">',o+=i(t.s(be,e)),o+="</div>"},_.t129.j=ve,_.t129.a=0,_.t130=function(t,e,i,n,s){var r="";r+=h(s),r+='<div class="radio-station__icon">',r+="<div",s.a={class:new a.scalarAttr("radio-station__icon-play")},s.s="div";var l=s.a.style;s.a.style=l?l.addscalar(" background-color: "+o(t.s(R,e))+";"):new a.scalarAttr(" background-color: "+o(t.s(R,e))+";"),r+=h(s),r+="</div>",r+="<div",s.a={class:new a.scalarAttr("radio-station__icon-pic")},s.s="div";l=s.a.style;s.a.style=l?l.addscalar(" background-color: "+o(t.s(R,e))+";"):new a.scalarAttr(" background-color: "+o(t.s(R,e))+";");l=s.a.style;s.a.style=l?l.addscalar(" background-image: url('"+a.externals.cover(o(t.s(N,e)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(t.s(N,e)),100,100)+"');"),r+=h(s),r+="</div>";var c={type:"radio"};return c.item=a.nodeset2data(p("station",e,[])),c.size="XXL",c.class="radio__play",r+=t.a(t,0,a.object2nodeset(c),"button-play",s),r+="</div>"},_.t130.j=g,_.t130.a=0,_.t131=function(t,e,i,n,s){var r="";r+=h(s),r+='<div class="radio-station__icon">',r+="<div",s.a={class:new a.scalarAttr("radio-station__icon-private")},s.s="div";var l=s.a.style;s.a.style=l?l.addscalar(" background-color: "+o(t.s(R,e))+";"):new a.scalarAttr(" background-color: "+o(t.s(R,e))+";");l=s.a.style;s.a.style=l?l.addscalar(" background-image: url('"+a.externals.cover(o(t.s(N,e)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(t.s(N,e)),100,100)+"');"),r+=h(s),r+="<div",s.a={class:new a.scalarAttr("radio-station__icon-private_circle deco-entity-bg")},s.s="div";var c={icon:"eye-crossed"};return r+=t.a(t,0,a.object2nodeset(c),"d-icon",s),r+=h(s),r+="</div>",r+="</div>",r+="</div>"},_.t131.j=g,_.t131.a=0,_.t132=function(t,e,i,s,r){var l="";l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station__icon radio-station__icon-passive")},r.s="div";var c=r.a.style;if(r.a.style=c?c.addscalar(" background-color: "+o(p("backgroundColor",e,[]))+";"):new a.scalarAttr(" background-color: "+o(p("backgroundColor",e,[]))+";"),n(p("imageUrl",e,[]))){c=r.a.style;r.a.style=c?c.addscalar(" background-image: url('"+a.externals.cover(d("imageUrl",e),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(d("imageUrl",e),100,100)+"');")}return l+=h(r),l+="</div>"},_.t132.j=g,_.t132.a=0,_.t133=function(t,e,n,s,r){var l="";l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station__subs-item radio-station_searchable deco-popup-menu__item")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"radio-station",!0)),l+=h(r),l+="<div",r.a={class:new a.scalarAttr("radio-station__subs-item-play")},r.s="div";var c=r.a.style;r.a.style=c?c.addscalar(" background-color: "+o(t.s(ke,e))+";"):new a.scalarAttr(" background-color: "+o(t.s(ke,e))+";"),l+=h(r),l+="</div>",l+="<div",r.a={class:new a.scalarAttr("radio-station__subs-item__button-play__wrap")},r.s="div";c=r.a.class;r.a.class=c?c.addscalar(" sname"+o(p("idForFrom",e,[]))):new a.scalarAttr(" sname"+o(p("idForFrom",e,[])));var d={type:"radio"};return d.item=a.nodeset2data(t.s(f,e)),d.class="radio__play",d.tooltipAnchorSelector=".radio-station__subs-item__button-play__wrap.sname"+o(p("idForFrom",e,[])),l+=t.a(t,0,a.object2nodeset(d),"button-play",r),l+=h(r),l+="</div>",l+='<span class="radio-station__subs-item__name">',l+=i(p("name",e,[])),l+="</span>",l+="</div>"},_.t133.j=g,_.t133.a=0,_.t134=function(i,n,s,r,l){var c="",d=a.externals.getUser();e("user",i.s(me,n))&&t(i.n(Me,a.object2nodeset(d)),i.s(Te,n)),!e("user",i.s(me,n))||e("public",i.s(ge,n));c+=h(l),c+="<div",l.a={class:new a.scalarAttr("radio-station radio-station-dashboard radio-station_searchable")},l.s="div",l.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(i.s(f,n),"radio-station",!0)),c+=h(l),c+='<div class="radio-station-dashboard__hover jsClickable">',c+="<div",l.a={class:new a.scalarAttr("radio-station-dashboard__bg")},l.s="div";var u=l.a.style;l.a.style=u?u.addscalar(" background-color: "+o(i.s(R,n))+";"):new a.scalarAttr(" background-color: "+o(i.s(R,n))+";"),c+=h(l),c+='<div class="radio-station-dashboard__icon-active">',c+='<div class="radio-station-dashboard__icon-pulse"></div>',c+='<div class="radio-station-dashboard__icon-pulse"></div>',c+='<div class="radio-station-dashboard__icon-pulse"></div>',c+="</div>",c+="</div>",c+="<div",l.a={class:new a.scalarAttr("radio-station-dashboard__shadow deco-station__shadow")},l.s="div";u=l.a.style;l.a.style=u?u.addscalar(" box-shadow: 0 20px 50px "+a.externals.rgba(o(i.s(R,n)),.3)):new a.scalarAttr(" box-shadow: 0 20px 50px "+a.externals.rgba(o(i.s(R,n)),.3)),c+=h(l),c+="</div>",c+="<div",l.a={class:new a.scalarAttr("radio-station-dashboard__icon")},l.s="div";var _;u=l.a.style;(l.a.style=u?u.addscalar(" background-image: url('"+a.externals.cover(o(i.s(N,n)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(i.s(N,n)),100,100)+"');"),c+=h(l),c+="</div>",c+='<div class="radio-station-dashboard__fg"></div>',c+="<div",l.a={class:new a.scalarAttr("radio-station-dashboard__play")},l.s="div",e("facebook",p("type",n,[])))?((_={type:"radio"}).item=a.nodeset2data(p("station",n,[])),_.theme="withoutButton",_.class="radio__play",c+=i.a(i,0,a.object2nodeset(_),"button-play",l)):((_={type:"radio"}).item=a.nodeset2data(p("station",n,[])),_.size="XXL",_.class="radio__play",c+=i.a(i,0,a.object2nodeset(_),"button-play",l));return c+=h(l),c+="</div>",c+=i.a(i,0,i.s(f,n),"radio-station-dashboard__name",l),c+=i.a(i,0,i.s(f,n),"radio-station-dashboard__nowPlaying",l),c+="</div>",c+="</div>"},_.t134.j=xe,_.t134.a=0,_.t135=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="radio-station-dashboard__name">',o+=i(t.s(z,e)),o+="</div>"},_.t135.j=g,_.t135.a=0,_.t136=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="radio-station-dashboard__name">',o+=i(t.s(z,e)),o+="</div>",o+='<div class="radio-station-dashboard__username typo-secondary">',o+=i(t.s(be,e)),o+="</div>"},_.t136.j=ve,_.t136.a=0,_.t137=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="radio-station-dashboard__nowPlaying typo-secondary">',o+=l(a.externals.i18n("radio-station","Сейчас играет")),o+="</div>"},_.t137.j=g,_.t137.a=0,_.t138=function(n,s,r,l,c){var d="",u=a.externals.getUser(),p=(e("user",n.s(me,s))&&t(n.n(Me,a.object2nodeset(u)),n.s(Te,s)),!e("user",n.s(me,s))||e("public",n.s(ge,s)));d+=h(c),d+='<div class="radio-station radio-station-preview">',d+="<div",c.a={class:new a.scalarAttr("radio-station-preview__icon")},c.s="div";var _=c.a.style;c.a.style=_?_.addscalar(" background-color: "+o(n.s(R,s))+";"):new a.scalarAttr(" background-color: "+o(n.s(R,s))+";");_=c.a.style;if(c.a.style=_?_.addscalar(" background-image: url('"+a.externals.cover(o(n.s(N,s)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(n.s(N,s)),100,100)+"');"),d+=h(c),!p){d+="<div",c.a={class:new a.scalarAttr("radio-station-preview__icon-private_circle deco-entity-bg")},c.s="div";var m={icon:"eye-crossed"};d+=n.a(n,0,a.object2nodeset(m),"d-icon",c),d+=h(c),d+="</div>"}return d+="</div>",d+='<div class="radio-station-preview__name">',d+=i(n.s(z,s)),d+="</div>",d+='<div class="radio-station-preview__username typo-secondary">',d+=i(n.s(be,s)),d+="</div>",d+="</div>"},_.t138.j=Se,_.t138.a=0,_.t139=function(n,s,r,l,c){var d="",u=a.externals.getUser();e("user",n.s(me,s))&&t(n.n(Me,a.object2nodeset(u)),n.s(Te,s)),!e("user",n.s(me,s))||e("public",n.s(ge,s));d+=h(c),d+="<div",c.a={class:new a.scalarAttr("radio-station radio-station-page radio-station_searchable")},c.s="div",c.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(n.s(f,s),"radio-station",!0)),d+=h(c),d+='<div class="radio-station-page__top">',d+='<div class="radio-station-page__top-aside">',d+="<div",c.a={class:new a.scalarAttr("radio-station-page__bg")},c.s="div";var p=c.a.style;c.a.style=p?p.addscalar(" background-color: "+o(n.s(R,s))+";"):new a.scalarAttr(" background-color: "+o(n.s(R,s))+";"),d+=h(c),d+='<div class="radio-station-page__icon-active">',d+='<div class="radio-station-page__icon-pulse"></div>',d+='<div class="radio-station-page__icon-pulse"></div>',d+='<div class="radio-station-page__icon-pulse"></div>',d+="</div>",d+="</div>",d+="<div",c.a={class:new a.scalarAttr("radio-station-page__icon")},c.s="div";p=c.a.style;c.a.style=p?p.addscalar(" background-image: url('"+a.externals.cover(o(n.s(N,s)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(n.s(N,s)),100,100)+"');"),d+=h(c),d+="</div>",d+="</div>",d+="<div",c.a={class:new a.scalarAttr("radio-station-page__top-content")},c.s="div";var _={};return _.title=a.externals.i18n("radio-station","[feature/mfront-3789]Поток"),d+=n.a(n,0,a.object2nodeset(_),"stamp",c),d+=h(c),d+='<h2 class="radio-station-page__name">',d+=i(n.s(z,s)),d+="</h2>",d+=n.a(n,0,n.s(f,s),"radio-station-page__actions",c),d+="</div>",d+="</div>",d+="</div>"},_.t139.j=$e,_.t139.a=0,_.t140=function(i,n,s,o,r){var l="",c=a.externals.getUser(),d=e("user",i.s(me,n))&&t(i.n(Me,a.object2nodeset(c)),i.s(Te,n));e("public",i.s(ge,n));if(l+=h(r),d){l+='<div class="radio-station-page__actions">',l+="<div",r.a={class:new a.scalarAttr("radio-station-page__play")},r.s="div";var u={type:"radio"};u.item=a.nodeset2data(p("station",n,[])),u.text=a.externals.i18n("radio-station","Слушать"),u.theme="withText",u.size="L",u.class="radio__play",l+=i.a(i,0,a.object2nodeset(u),"button-play",r),l+=h(r),l+="</div>",l+="</div>"}return l},_.t140.j=ve,_.t140.a=0,_.t141=function(t,e,i,n,s){var r="";r+=h(s),r+="<div",s.a={class:new a.scalarAttr("radio-station radio-station-dashboard radio-station_searchable")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"radio-station",!0)),r+=h(s),r+='<div class="radio-station-dashboard__hover jsClickable">',r+="<div",s.a={class:new a.scalarAttr("radio-station-dashboard__bg")},s.s="div";var l=s.a.style;s.a.style=l?l.addscalar(" background-color: "+o(t.s(Pe,e))+";"):new a.scalarAttr(" background-color: "+o(t.s(Pe,e))+";"),r+=h(s),r+='<div class="radio-station-dashboard__icon-active">',r+='<div class="radio-station-dashboard__icon-pulse"></div>',r+='<div class="radio-station-dashboard__icon-pulse"></div>',r+='<div class="radio-station-dashboard__icon-pulse"></div>',r+="</div>",r+="</div>",r+="<div",s.a={class:new a.scalarAttr("radio-station-dashboard__shadow deco-station__shadow")},s.s="div";l=s.a.style;s.a.style=l?l.addscalar(" box-shadow: 0 20px 50px "+a.externals.rgba(o(t.s(Pe,e)),.3)):new a.scalarAttr(" box-shadow: 0 20px 50px "+a.externals.rgba(o(t.s(Pe,e)),.3)),r+=h(s),r+="</div>",r+="<div",s.a={class:new a.scalarAttr("radio-station-dashboard__icon")},s.s="div";l=s.a.style;s.a.style=l?l.addscalar(" background-image: url('"+a.externals.cover(o(t.s(Ce,e)),100,100)+"');"):new a.scalarAttr(" background-image: url('"+a.externals.cover(o(t.s(Ce,e)),100,100)+"');"),r+=h(s),r+="</div>",r+='<div class="radio-station-dashboard__fg"></div>',r+="<div",s.a={class:new a.scalarAttr("radio-station-dashboard__play")},s.s="div";var c={type:"generative"};return c.item=a.nodeset2data(p("station",e,[])),c.size="XXL",c.class="radio__play",r+=t.a(t,0,a.object2nodeset(c),"button-play",s),r+=h(s),r+="</div>",r+=t.a(t,0,t.s(f,e),"radio-station__generative-name",s),r+=t.a(t,0,t.s(f,e),"radio-station-dashboard__nowPlaying",s),r+="</div>",r+="</div>"},_.t141.j=Le,_.t141.a=0,_.t142=function(t,e,n,a,s){var o="";return o+=h(s),o+='<div class="radio-station-dashboard__name">',o+=i(t.s(De,e)),o+="</div>"},_.t142.j=g,_.t142.a=0,_.t143=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("scrolling-side-navigation")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"scrolling-side-navigation",!0)),o+=h(s),o+="<div",s.a={class:new a.scalarAttr("scrolling-side-navigation__content")},s.s="div",o+=t.a(t,0,t.s(f,e),"scrolling-side-navigation__content",s),o+=h(s),o+="</div>",o+='<div class="scrolling-side-navigation__nav">',o+='<span class="scrolling-side-navigation__nav-item"></span>',o+="</div>",o+="</div>"},_.t143.j=g,_.t143.a=0,_.t144=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="scrolling-side-navigation__item" style="height: 250px; background-color: gray;"></div>',s+='<div class="scrolling-side-navigation__item" style="height: 200px; background-color: blue;"></div>',s+='<div class="scrolling-side-navigation__item" style="height: 150px; background-color: green;"></div>'},_.t144.j=g,_.t144.a=0,_.t145=function(t,e,i,n,a){var s="";return s+=h(a),s+='<span class="separator">',s+=" ",s+="</span>"},_.t145.j=g,_.t145.a=0,_.t146=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("serp-hint _hidden")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"serp-hint",!0)),o+=h(s),o+='<div class="serp-hint__content"></div>';var r={type:"flat",size:"S",icon:"cross-medium",class:"serp-hint__remove"};return o+=t.a(t,0,a.object2nodeset(r),"d-button",s),o+="</div>"},_.t146.j=g,_.t146.a=0,_.t147=function(t,e,n,s,c){var d="",u="/search?text="+o(p("suggest",e,[])),_="";_+=h({a:{}});var m=_+='<a class="link link_major" href="'+r(u)+'">'+l(a.externals.i18n("serp-hint","все результаты поиска"))+"</a>";_="";_+=h({a:{}}),_+='<a class="link link_major" href="'+r(u)+'">',_+=i(p("suggest",e,[]));var g=_+="</a>";return d+=h(c),d+='<div class="serp-hint__content">',d+=a.externals.i18nXml("serp-hint","Если вы искали другое, можете посмотреть %1 по запросу «%2»",m,g),d+="</div>"},_.t147.j=g,_.t147.a=0,_.t148=function(t,e,i,n,s,o,r){var l="";l+=h(s),l+="<div",s.a={class:new a.scalarAttr("share__buttons")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"share__buttons",!0));var c="";o&&(c+=" "+o),r&&(c+=" share__buttons_"+r);var d=s.a.class;return s.a.class=d?d.addscalar(c):new a.scalarAttr(c),l+=h(s),l+='<div class="share__yashare"></div>',l+="</div>"},_.t148.j=g,_.t148.a=0,_.t149=function(t,e,i,n,s,r){var l="",c="",_={a:{}},m=c+=t.a(t,0,t.s(f,e),"share__link",_);c="",_={a:{}};c+="share_counters ",u("class",e)&&(c+=" "+o(p("class",e,[])));var g=c;l+=h(s),l+="<a",s.a={class:new a.scalarAttr("share-container")},s.s="a";c="",_={a:{}};m?(c+=h(_),c+=m):(c+=h(_),c+="#"),s.a.href=new a.xmlAttr(c),s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"share_counters",!0));c={};var y="";return u("icon",e)?y+=d("icon",e):y+="hand-left",c.icon=y,c.disabled=a.nodeset2data(p("disabled",e,[])),c.class=g,c.text=" ",c.size=r,c.type=a.nodeset2data(p("type",e,[])),l+=t.a(t,0,a.object2nodeset(c),"share__button",s),l+=h(s),l+="</a>"},_.t149.j=g,_.t149.a=0,_.t150=function(t,e,i,n,s){var o="",r="",l={a:{}},c=r+=t.a(t,0,t.s(f,e),"share__link",l);o+=h(s),o+="<a",s.a={class:new a.scalarAttr("share-container")},s.s="a",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"share"));r="",l={a:{}};r+=t.a(t,0,t.s(f,e),"share__tooltip-text",l),s.a.title=new a.xmlAttr(r);r="",l={a:{}};return c?(r+=h(l),r+=c):(r+=h(l),r+="#"),s.a.href=new a.xmlAttr(r),o+=t.a(t,0,t.s(f,e),"share__button",s),o+=h(s),o+="</a>"},_.t150.j=g,_.t150.a=0,_.t151=function(t,i,s,r,l){var c="",h="";h+="share not-handled ",e("hover",p("theme",i,[]))&&(h+=" deco-button-hover"),u("class",i)&&(h+=" "+o(p("class",i,[]))),u("theme",i)&&(h+=" share_"+o(p("theme",i,[])));var _=h,m=d("size",i);(h={}).size=m,h.class=_;var g="";u("icon",i)?g+=d("icon",i):g+="share",h.icon=g;g=!1;e("square",p("type",i,[]))||(g=!0),h.rounded=g;g="";return e("hover",p("theme",i,[]))?g+="flat":e("yellow",p("theme",i,[]))&&(g+="action"),h.type=g,u("text",i)&&(h.text=a.nodeset2data(p("text",i,[]))),(u("disabled",i)||e("disk",t.s(Ee,i))||u("track",i)&&(!t.s(Ae,i).length||!n(t.s([0,"track",0,"albums",3,0,0,"id"],i))))&&(h.disabled=!0),c+=t.a(t,0,a.object2nodeset(h),"d-button",l)},_.t151.j=g,_.t151.a=0,_.t152=function(t,i,s,r,l){var c="",h="";h+="share not-handled ",u("class",i)&&(h+=" "+o(p("class",i,[]))),u("theme",i)&&(h+=" share_"+o(p("theme",i,[])));var _=h,m=d("size",i);(h={}).size=m,h.class=_;var g="";u("icon",i)?g+=d("icon",i):g+="share",h.icon=g;g=!1;e("square",p("type",i,[]))||(g=!0),h.rounded=g,h.type="flat",u("text",i)&&(h.text=a.nodeset2data(p("text",i,[]))),(u("disabled",i)||e("disk",t.s(Ee,i))||u("track",i)&&(!t.s(Ae,i).length||!n(t.s([0,"track",0,"albums",3,0,0,"id"],i))))&&(h.disabled=!0);var f=h;return c+=t.a(t,0,a.object2nodeset(f),"d-button",l)},_.t152.j=Ye,_.t152.a=0,_.t153=function(t,i,s,r,l){var c="",h="";h+="share not-handled ",u("class",i)&&(h+=" "+o(p("class",i,[]))),u("theme",i)&&(h+=" share_"+o(p("theme",i,[])));var _=h,m=d("size",i);h={};var g="";u("icon",i)?g+=d("icon",i):g+="share",h.icon=g,u("text",i)&&(h.text=a.nodeset2data(p("text",i,[]))),(u("disabled",i)||e("disk",t.s(Ee,i))||u("track",i)&&(!t.s(Ae,i).length||!n(t.s([0,"track",0,"albums",3,0,0,"id"],i))))&&(h.disabled=!0);g={};u("text",i)&&(g.title=a.nodeset2data(p("text",i,[]))),h.attrs=g;g=!1;e("square",p("type",i,[]))||(g=!0),h.rounded=g;g="";return e("square",p("type",i,[]))||(g+="flat"),h.type=g,h.class=_,h.size=m,c+=t.a(t,0,a.object2nodeset(h),"d-button",l)},_.t153.j=Ie,_.t153.a=0,_.t154=function(t,i,s,r,l){var c="",h=d("size",i),_="";_+="share not-handled ",u("class",i)&&(_+=" "+o(p("class",i,[]))),u("theme",i)&&(_+=" share_"+o(p("theme",i,[])));var m=_;(_={}).size=h,_.class=m,_.icon="share",_.not_handled=!0,_.rounded=!0,_.type=a.nodeset2data(p("theme",i,[]));var g={};u("text",i)&&(g.title=a.nodeset2data(p("text",i,[]))),_.attrs=g,(u("disabled",i)||e("disk",t.s(Ee,i))||u("track",i)&&(!t.s(Ae,i).length||!n(t.s([0,"track",0,"albums",3,0,0,"id"],i))))&&(_.disabled=!0);var f=_;return c+=t.a(t,0,a.object2nodeset(f),"d-button",l)},_.t154.j=Oe,_.t154.a=0,_.t155=function(t,i,s,r,l){var c="",h=d("size",i),_="";_+="share not-handled ",u("class",i)&&(_+=" "+o(p("class",i,[]))),u("theme",i)&&(_+=" share_"+o(p("theme",i,[])));var m=_;(_={}).size=h,_.class=m,u("icon",i)&&(_.icon=a.nodeset2data(p("icon",i,[]))),_.not_handled=!0,_.rounded=!0,_.type="transparent";var g=[];u("text",i)&&(g+=a.nodeset2data(p("text",i,[]))),_.text=g;g={};u("text",i)&&(g.title=a.nodeset2data(p("text",i,[]))),_.attrs=g,(u("disabled",i)||e("disk",t.s(Ee,i))||u("track",i)&&(!t.s(Ae,i).length||!n(t.s([0,"track",0,"albums",3,0,0,"id"],i))))&&(_.disabled=!0);var f=_;return c+=t.a(t,0,a.object2nodeset(f),"d-button",l)},_.t155.j=je,_.t155.a=0,_.t156=function(t,e,i,n,s){var r="",l=d("size",e),c="";c+="share not-handled ",u("class",e)&&(c+=" "+o(p("class",e,[]))),u("theme",e)&&(c+=" share_"+o(p("theme",e,[])));var h=c;(c={}).size=l,c.class=h,u("icon",e)&&(c.icon=a.nodeset2data(p("icon",e,[]))),c.not_handled=!0,c.rounded=!0,c.type="transparent";var _=[];u("text",e)&&(_+=a.nodeset2data(p("text",e,[]))),c.text=_;_={};u("text",e)&&(_.title=a.nodeset2data(p("text",e,[]))),c.attrs=_,u("disabled",e)&&(c.disabled=!0);var m=c;return r+=t.a(t,0,a.object2nodeset(m),"d-button",s)},_.t156.j=Ne,_.t156.a=0,_.t157=function(t,e,i,n,a){return""},_.t157.j=g,_.t157.a=0,_.t158=function(t,e,s,o,r){var c="";return c+=h(r),u("disabled",e)&&n(t.s(He,e))?c+=i(t.s(He,e)):n(t.s(ze,e))?c+=i(t.s(ze,e)):u("text",e)?c+="":c+=l(a.externals.i18n("share","Поделиться")),c},_.t158.j=g,_.t158.a=0,_.t159=function(t,e,i,n,a){return""},_.t159.j=g,_.t159.a=0,_.t160=function(t,e,i,n,a){return""},_.t160.j=g,_.t160.a=0,_.t161=function(t,e,i,n,a){var s="",o="",r=o+=t.a(t,0,t.s(f,e),"share__title",{a:{}});return s+=h(a),s+=c(r)},_.t161.j=g,_.t161.a=0,_.t162=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="share__content">',o+=a.externals.i18nXml("share","Голосуйте%1 постом в соцсеть","<br/>"),o+="</div>"},_.t162.j=Fe,_.t162.a=0,_.t163=function(t,e,i,n,s,r){var l="",c="",_={a:{}},m=c+=t.a(t,0,t.s(f,e),"share__link",_);c="",_={a:{}};c+="share_counters ",u("class",e)&&(c+=" "+o(p("class",e,[])));var g=c;l+=h(s),l+="<a",s.a={class:new a.scalarAttr("share-container")},s.s="a";c="",_={a:{}};m?(c+=h(_),c+=m):(c+=h(_),c+="#"),s.a.href=new a.xmlAttr(c),s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"share_counters",!0));c={};var y="";return u("icon",e)?y+=d("icon",e):y+="hand-left",c.icon=y,c.disabled=a.nodeset2data(p("disabled",e,[])),c.class=g,c.text=" ",c.size=r,c.type=a.nodeset2data(p("type",e,[])),l+=t.a(t,0,a.object2nodeset(c),"share__button",s),l+=h(s),l+="</a>"},_.t163.j=g,_.t163.a=0,_.t164=function(t,e,i,n,s,o){var r="";r+=h(s),r+="<div",s.a={class:new a.scalarAttr("snippet-user")},s.s="div",r+=t.a(t,0,t.s(f,e),"user",s,"L","snippet-user__link"),r+=h(s),o&&(r+='<div class="snippet-user__description">',r+=o,r+="</div>"),r+="<div",s.a={class:new a.scalarAttr("snippet-user__action-bar")},s.s="div";var l={};return l.user=a.nodeset2data(t.s(f,e)),r+=t.a(t,0,a.object2nodeset(l),"subscribe",s),r+=h(s),r+="</div>",r+="</div>"},_.t164.j=g,_.t164.a=0,_.t165=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("snowfall")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"snowfall",!0)),o+=h(s),o+="</div>"},_.t165.j=g,_.t165.a=0,_.t166=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="snowfall__snowflake"></div>'},_.t166.j=g,_.t166.a=0,_.t167=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("subhead subhead_hidden")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"subhead")),o+=h(s),o+="</div>"},_.t167.j=g,_.t167.a=0,_.t168=function(e,i,s,o,r,l){var c,d="";(d+=h(r),d+="<span",r.a={class:new a.scalarAttr("subscribe")},r.s="span",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(e.s(f,i),"subscribe")),!u("auth",i)||n(e.s(Be,i))&&!t(e.s(Ue,i),e.s(Be,i)))&&((c={}).user=a.nodeset2data(p("user",i,[])),c.subscribed=a.externals.isFavorite(e.s(f,i)),d+=e.a(e,0,a.object2nodeset(c),"subscribe__button",r));(d+=h(r),u("subscribers",i))&&(d+=" ",(c={}).content=a.nodeset2data(p("subscribers",i,[])),d+=e.a(e,0,a.object2nodeset(c),"hint",r));return d+="</span>"},_.t168.j=g,_.t168.a=0,_.t169=function(t,e,i,n,s){var o="",r={},l="";return u("subscribed",e)?l+=a.externals.i18n("subscribe","Отписаться"):l+=a.externals.i18n("subscribe","Подписаться"),r.text=l,r.class="subscribe__button",r.rounded=!0,r.size="L",o+=t.a(t,0,a.object2nodeset(r),"d-button",s)},_.t169.j=g,_.t169.a=0,_.t170=function(e,i,s,r,l){var c="",d=p("settings",i,[]);c+=h(l),c+="<div",l.a={class:new a.scalarAttr("table-head deco-typo-secondary")},l.s="div";for(var u=p("columns",i,[]),_=0,m=u.length;_<m;_++){var g=u[_],f={};if(f.title=a.nodeset2data(p("title",g,[])),f.selected=t(e.n(qe,d),p("sortParam",g,[])),f.class=a.nodeset2data(p("class",g,[])),n(e.n(We,d))){var y={};y.param=a.nodeset2data(p("sortParam",g,[])),y.url=a.nodeset2data(e.n(Ve,d));var v="";t(e.n(qe,d),p("sortParam",g,[]))&&n(e.n(ft,d))?v+=o(e.n(ft,d)):v+="asc",y.dir=v,f.sort=y}var b=f;c+=e.a(e,0,a.object2nodeset(b),"table-head__column",l)}return c+=h(l),c+="</div>"},_.t170.j=g,_.t170.a=0,_.t171=function(t,e,i,n,s){var o="",r={};r.settings=a.nodeset2data(t.s(f,e));var l=[];(c={}).title="#",c.class="table-head__column_id",l.push(c);(c={}).title=a.externals.i18n("table-head","Название трека"),c.sortParam="title",c.class="table-head__column_postid",l.push(c);var c;return(c={}).title=a.externals.i18n("table-head","Альбом"),c.sortParam="album",l.push(c),r.columns=l,o+=t.a(t,0,a.object2nodeset(r),"table-head",s)},_.t171.j=g,_.t171.a=0,_.t172=function(t,e,i,n,s){var o="",r={};r.settings=a.nodeset2data(t.s(f,e));var l=[];(c={}).title="#",c.class="table-head__column_id",l.push(c);(c={}).title=a.externals.i18n("table-head","Название"),c.sortParam="title",c.class="table-head__column_postid",l.push(c);var c;return(c={}).title=a.externals.i18n("table-head","Исполнитель"),c.sortParam="artist",l.push(c),r.columns=l,o+=t.a(t,0,a.object2nodeset(r),"table-head",s)},_.t172.j=g,_.t172.a=0,_.t173=function(t,e,i,n,s){var o="",r={};r.settings=a.nodeset2data(t.s(f,e));var l=[];(c={}).title="#",c.class="table-head__column_id-chart",l.push(c);var c;return(c={}).title=a.externals.i18n("table-head","Трек"),c.sortParam="title",c.class="table-head__column_postid",l.push(c),r.columns=l,o+=t.a(t,0,a.object2nodeset(r),"table-head",s)},_.t173.j=g,_.t173.a=0,_.t174=function(t,e,i,s,r){var l="",c="";u("selected",e)&&(c+=" table-head__column_active"),u("sort",e)&&(c+=" table-head__column_sort"),u("size",e)&&(c+=" table-head__column_"+o(p("size",e,[]))+" "),u("class",e)&&(c+=" "+o(p("class",e,[])));var d=c;l+=h(r),l+="<div",r.a={class:new a.scalarAttr("table-head__column")},r.s="div";var _=r.a.class;if(r.a.class=_?_.addscalar(d):new a.scalarAttr(d),u("sort",e)){var m=p("selected",e,[]),g=(c={},"");g+=t.a(t,0,t.s(f,e),"table-head__content",{a:{}}),c.content=g,c.href=o(t.s(Ge,e))+"?sort="+o(t.s(Ke,e))+"&dir="+t.f("f3",e,i,s,o(t.s(Je,e)),n(m)),c.class="table-head__link",c.style="muted",l+=t.a(t,0,a.object2nodeset(c),"d-link",r)}else l+=t.a(t,0,t.s(f,e),"table-head__content",r);return l+=h(r),l+="</div>"},_.t174.j=g,_.t174.a=0,_.t175=function(t,e,a,s,l){var c="";if(c+=h(l),c+='<span class="table-head__title">',c+=i(p("title",e,[])),c+="</span>",n(t.s(Ke,e))){var d="";"desc"==t.f("f3",e,a,s,o(t.s(Je,e)))?d+=" d-icon_rotate-upside-down":d+="",c+='<span class="table-head__sort-dir">',c+='<span class="d-icon d-icon_arrow-up'+r(d)+'"></span>',c+="</span>"}return c},_.t175.j=g,_.t175.a=0,_.t176=function(t,e,i,n,s,o){var r="";return r+=h(s),r+="<div",s.a={class:new a.scalarAttr("tabs")},s.s="div",r+=t.a(t,0,p("*",e,[]),"tabs__tab",s,o),r+=h(s),r+="</div>"},_.t176.j=g,_.t176.a=0,_.t177=function(t,i,n,s,r,l){var c="";if(c+=h(r),e(l,p("id",i,[])))c+="<div",r.a={class:new a.scalarAttr("tabs__tab tabs__tab_current")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,i),"tabs__tab")),c+=t.a(t,0,t.s(f,i),"tabs__title",r),c+=h(r),c+="</div>";else{var d="";u("class",i)?d+="link "+o(p("class",i,[])):d+="link";var _=d;c+="<div",r.a={class:new a.scalarAttr("tabs__tab")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,i),"tabs__tab")),c+=h(r),u("href",i)?(c+="<a",r.a={class:new a.scalarAttr(_),href:new a.scalarAttr(o(p("href",i,[])))},r.s="a",c+=t.a(t,0,t.s(f,i),"tabs__title",r),c+=h(r),c+="</a>"):(c+="<span",r.a={class:new a.scalarAttr(_)},r.s="span",c+=t.a(t,0,t.s(f,i),"tabs__title",r),c+=h(r),c+="</span>"),c+="</div>"}return c},_.t177.j=g,_.t177.a=0,_.t178=function(t,e,n,a,s){var o="";return o+=h(s),o+=i(p("title",e,[])),u("note",e)&&(o+='<span class="tabs__note"> '+i(p("note",e,[]))+"</span>"),o},_.t178.j=g,_.t178.a=0,_.t179=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("texts","История прослушиваний"))},_.t179.j=Xe,_.t179.a=0,_.t180=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("texts","Мой плейлист"))},_.t180.j=Ze,_.t180.a=0,_.t181=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("texts","Мне нравится"))},_.t181.j=Qe,_.t181.a=0,_.t182=function(t,e,i,n,s){var o="";return o+=h(s),o+=l(a.externals.i18n("texts","Очередь воспроизведения"))},_.t182.j=ti,_.t182.a=0,_.t183=function(t,e,i,n,s,o){var r="";return r+=h(s),r+=l(a.externals.plural(o,a.externals.i18n("texts","%s трек|%s трека|%s треков|нет треков")))},_.t183.j=ei,_.t183.a=0,_.t184=function(t,e,i,n,s){var r="",l="",c={};c.tooltip=a.nodeset2data(p("tooltip",e,[]));var d=l+=t.a(t,0,a.object2nodeset(c),"ticket-link__tooltip-text",{a:{}});return r+=h(s),r+="<a",s.a={class:new a.scalarAttr("ticket-link button button_action button_round button_size_M")},s.s="a",s.a.href=new a.scalarAttr("/artist/"+o(t.s(ii,e))+"/concerts"),(l={}).theme=a.nodeset2data(p("theme",e,[])),l.tooltipText=d,r+=t.a(t,0,a.object2nodeset(l),"ticket-link__content",s),r+=h(s),r+="</a>"},_.t184.j=g,_.t184.a=0,_.t185=function(t,e,i,n,s){var o="",r={};r.text=a.nodeset2data(p("tooltipText",e,[])),r.class="tooltip_theme_light";var l={};return l.className="tooltip__tail_right-center",r.tail=l,o+=t.a(t,0,a.object2nodeset(r),"tooltip",s,!0),o+=h(s),o+='<span class="local-icon-theme-white d-icon d-icon_ticket-thin"></<span>'},_.t185.j=ni,_.t185.a=0,_.t186=function(t,e,s,o,r){var c="";return c+=h(r),n(t.s(ze,e))?c+=i(t.s(ze,e)):c+=l(a.externals.i18n("ticket-link","Есть билеты")),c},_.t186.j=g,_.t186.a=0,_.t187=function(t,e,i,s,r,l){var c="";if(c+=h(r),c+="<div",r.a={class:new a.scalarAttr("tooltip")},r.s="div",!l){r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"tooltip",!0));var _=r.a.class;r.a.class=_?_.addscalar(" tooltip_hidden"):new a.scalarAttr(" tooltip_hidden")}if(u("class",e)){_=r.a.class;r.a.class=_?_.addscalar(" "+o(p("class",e,[]))):new a.scalarAttr(" "+o(p("class",e,[])))}if(c+=h(r),c+='<div class="tooltip__content">',c+='<span class="tooltip__static-text">'+d("text",e)+"</span>",c+="</div>",c+="<div",r.a={class:new a.scalarAttr("tooltip__tail")},r.s="div",n(t.s(ai,e))){_=r.a.class;r.a.class=_?_.addscalar(" "+o(t.s(ai,e))):new a.scalarAttr(" "+o(t.s(ai,e)))}return c+=h(r),c+='<div class="tooltip__tail-elem"></div>',c+="</div>",c+="</div>"},_.t187.j=g,_.t187.a=0,_.t188=function(t,i,s,r,l,c){var d="",u=o(t.s(si,i));if(d+=h(l),d+="<div",l.a={class:new a.scalarAttr("track track_type_player")},l.s="div",l.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(p("track",i,[]),"track")),d+=t.a(t,0,p("track",i,[]),"track__attrs",l),(_={}).track=a.nodeset2data(p("track",i,[])),_.type="player",_.class="track-cover",d+=t.a(t,0,a.object2nodeset(_),"entity-cover",l),d+=h(l),d+='<div class="track__name">',d+='<div class="track__name-wrap deco-typo">',d+="<div",l.a={class:new a.scalarAttr("track__name-innerwrap")},l.s="div",d+=t.a(t,0,p("track",i,[]),"track__title_player",l,u),d+=h(l),d+="</div>",e("podcast",t.s(di,i))){d+="<div",l.a={class:new a.scalarAttr("track__podcast deco-typo")},l.s="div",(_={}).href="/album/"+o(t.s(si,i)),_.title=a.nodeset2data(t.s(ui,i)),_.text=a.nodeset2data(t.s(ui,i)),d+=t.a(t,0,a.object2nodeset(_),"d-link",l),d+=h(l),d+="</div>"}else{var _=[],m=_=n(t.s(oi,i))?t.s(ri,i):t.s(li,i);_={};if(n(t.s(ci,i))){var g={};g.name=a.nodeset2data(t.s(ci,i)),_.artists=g}else _.artists=a.nodeset2data(m);var f=_;d+="<div",l.a={class:new a.scalarAttr("track__artists deco-link deco-link_no-hover-color")},l.s="div",d+=t.a(t,0,a.object2nodeset(f),"d-artists",l),d+=h(l),d+="</div>"}return d+="</div>",d+="</div>",d+="</div>"},_.t188.j=g,_.t188.a=0,_.t189=function(i,n,s,o,r){if(!u("available",n)&&u("availableForPremiumUsers",n)?r.a.title=new a.scalarAttr(a.externals.i18n("track","Трек доступен только платным пользователям")):e("no-rights",p("error",n,[]))&&(r.a.title=new a.scalarAttr(a.externals.i18n("track","Правообладатель временно убрал трек из каталога"))),a.externals.isUgcTrack(d("id",n))){var l=r.a.class;if(r.a.class=l?l.addscalar(" track_ugc"):new a.scalarAttr(" track_ugc"),t(i.s(pi,n),i.n(Ht,a.object2nodeset(a.externals.getUser())))){if(e("private",p("desiredVisibility",n,[]))||!u("canPublish",n)){l=r.a.class;r.a.class=l?l.addscalar(" track_invisible"):new a.scalarAttr(" track_invisible")}if(e("error",p("state",n,[]))){l=r.a.class;r.a.class=l?l.addscalar(" track_error"):new a.scalarAttr(" track_error")}}}if(a.externals.isDiskTrack(d("id",n))){l=r.a.class;r.a.class=l?l.addscalar(" track_invisible"):new a.scalarAttr(" track_invisible")}return""},_.t189.j=g,_.t189.a=0,_.t190=function(t,e,i,n,a,s,o){var r="",l="",c=l+=t.a(t,0,t.s(f,e),"track__version",{a:{}});return o?(r+=h(a),r+="<h1",a.a={},a.s="h1",r+=t.a(t,0,t.s(f,e),"track__title-text",a,s),r+=h(a),r+="</h1>"):r+=t.a(t,0,t.s(f,e),"track__title-text",a,s),r+=h(a),c&&(r+='<div class="track__ver">'+c+"</div>"),r},_.t190.j=g,_.t190.a=0,_.t191=function(t,i,n,_,m,g){var y="",v="",b={a:{}};if(g)v+=g;else{v+=o(t.s([0,"albums",3,0,0,"id"],i))}var k=v;v="",b={a:{}};u("error",i)&&!u("title",i)?v+=a.externals.i18n("track","[feature/mfront-4200]Трек был изменен или удален с Яндекс Диска"):v+=d("title",i);var w=v,x=(v=[],v=u("realId",i)?p("realId",i,[]):p("id",i,[])),M=(v="",b={a:{}},v+=t.a(t,0,t.s(f,i),"track__version",b)),T=(v="",b={a:{}},v+=M?w+" ("+c(M)+")":d("title",i));return y+=h(m),k&&!u("error",i)?y+='<a href="/album/'+r(k)+"/track/"+s(x)+'" class="track__title link" title="'+r(T)+'">'+l(w)+"</a>":(y+="<span",m.a={class:new a.scalarAttr("track__title")},m.s="span",!u("available",i)||u("availableForPremiumUsers",i)||e("no-rights",p("error",i,[]))||(m.a.title=new a.scalarAttr(T)),y+=h(m),y+=l(w),y+="</span>"),y+=t.a(t,0,t.s(f,i),"track__explicit-mark",m)},_.t191.j=g,_.t191.a=0,_.t192=function(t,e,i,n,s,r){var c="",_=[],m=_=u("realId",e)?p("realId",e,[]):p("id",e,[]);_="";u("error",e)&&!u("title",e)?_+=a.externals.i18n("track","[feature/mfront-4200]Трек был изменен или удален с Яндекс Диска"):_+=d("title",e);var g=_,y=(_="",_+=t.a(t,0,t.s(f,e),"track__version",{a:{}}));r&&!u("error",e)?((_={}).text=g,_.href="/album/"+r+"/track/"+o(m),_.class="track__title",_.title=g,c+=t.a(t,0,a.object2nodeset(_),"d-link",s)):(c+=h(s),c+='<span class="track__title">'+l(g)+"</span>");return c+=t.a(t,0,t.s(f,e),"track__explicit-mark",s),c+=h(s),y&&(c+='<div class="track__ver">'+y+"</div>"),c},_.t192.j=g,_.t192.a=0,_.t193=function(t,e,i,n,s){var o="",r={};return r.isTouchTrackBar=a.externals.isTouch(),r.type=a.nodeset2data(p("type",e,[])),o+=t.a(t,0,a.object2nodeset(r),"d-explicit-mark",s)},_.t193.j=kt,_.t193.a=0,_.t194=function(t,e,n,a,s){var o="";return o+=h(s),u("version",e)&&(o+=i(p("version",e,[]))),o},_.t194.j=g,_.t194.a=0,_.t195=function(t,e,i,n,s){var r="";if(r+=h(s),r+="<span",s.a={class:new a.scalarAttr("visibility-toggle")},s.s="span",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"visibility-toggle")),u("class",e)){var l=s.a.class;s.a.class=l?l.addscalar(" "+o(p("class",e,[]))):new a.scalarAttr(" "+o(p("class",e,[])))}return r+=t.a(t,0,t.s(f,e),"visibility-toggle__icon",s),r+=h(s),r+="</span>"},_.t195.j=g,_.t195.a=0,_.t196=function(t,i,a,s,o){var r="";return r+=h(o),e("private",t.s(hi,i))||!n(t.s(_i,i))?r+='<span class="visibility-toggle__icon d-icon d-icon_eye-crossed"></span>':r+='<span class="visibility-toggle__icon d-icon d-icon_eye"></span>',r},_.t196.j=g,_.t196.a=0,_.t197=function(t,i,s,r,c){var d="";if(d+=h(c),d+='<div class="visibility-toggle__message">',d+='<div class="visibility-toggle__message-content">',e("click",p("type",i,[])))if(a.externals.isUgcTrack(o(t.s(gi,i))))if(n(t.s(_i,i))){d+=l(a.externals.i18n("visibility-toggle","Сделать трек видным для всех?"));var u={};u.text=a.externals.i18n("visibility-toggle","Показать всем"),d+=t.a(t,0,a.object2nodeset(u),"button",c,"button_action")}else d+=l(a.externals.i18n("visibility-toggle","Данный трек нельзя опубликовать"));else a.externals.isDiskTrack(o(t.s(gi,i)))&&(d+=l(a.externals.i18n("visibility-toggle","[feature/mfront-4200]Трек с Яндекс Диска нельзя опубликовать")));else e("private",t.s(hi,i))||!n(t.s(_i,i))?d+=l(a.externals.i18n("visibility-toggle","Данный трек доступен только вам")):d+=l(a.externals.i18n("visibility-toggle","Данный трек доступен не только вам"));return d+="</div>",d+="</div>"},_.t197.j=mi,_.t197.a=0,_.t198=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_adfox-creative"](t.s(f,e)))},_.t198.j=g,_.t198.a=0,_.t199=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_album(t.s(f,e)))},_.t199.j=g,_.t199.a=0,_.t200=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_artist(t.s(f,e)))},_.t200.j=g,_.t200.a=0,_.t201=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_artist-pics"](t.s(f,e)))},_.t201.j=g,_.t201.a=0,_.t202=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_audio-advert"](t.s(f,e)))},_.t202.j=g,_.t202.a=0,_.t203=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_audio-animation"](t.s(f,e)))},_.t203.j=g,_.t203.a=0,_.t204=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_auto-playlists"](t.s(f,e)))},_.t204.j=g,_.t204.a=0,_.t205=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_bar(t.s(f,e)))},_.t205.j=g,_.t205.a=0,_.t206=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_bar-below"](t.s(f,e)))},_.t206.j=g,_.t206.a=0,_.t207=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_bar-below-configurable"](t.s(f,e)))},_.t207.j=g,_.t207.a=0,_.t208=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_branding(t.s(f,e)))},_.t208.j=g,_.t208.a=0,_.t209=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_button-bilet"](t.s(f,e)))},_.t209.j=g,_.t209.a=0,_.t210=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_button-play"](t.s(f,e)))},_.t210.j=g,_.t210.a=0,_.t211=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_button-radio"](t.s(f,e)))},_.t211.j=g,_.t211.a=0,_.t212=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_collapsed-list"](t.s(f,e)))},_.t212.j=g,_.t212.a=0,_.t213=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_context(t.s(f,e)))},_.t213.j=g,_.t213.a=0,_.t214=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_crackdown-popup"](t.s(f,e)))},_.t214.j=g,_.t214.a=0,_.t215=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-album-slider"](t.s(f,e)))},_.t215.j=g,_.t215.a=0,_.t216=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-album-summary"](t.s(f,e)))},_.t216.j=g,_.t216.a=0,_.t217=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-artists"](t.s(f,e)))},_.t217.j=g,_.t217.a=0,_.t218=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-bubble"](t.s(f,e)))},_.t218.j=g,_.t218.a=0,_.t219=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-button-edit"](t.s(f,e)))},_.t219.j=g,_.t219.a=0,_.t220=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-button-play__wrap"](t.s(f,e)))},_.t220.j=g,_.t220.a=0,_.t221=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-chart-position"](t.s(f,e)))},_.t221.j=g,_.t221.a=0,_.t222=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-chart-track"](t.s(f,e)))},_.t222.j=g,_.t222.a=0,_.t223=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-circle-progress"](t.s(f,e)))},_.t223.j=g,_.t223.a=0,_.t224=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-collective-access"](t.s(f,e)))},_.t224.j=g,_.t224.a=0,_.t225=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-concert-inhouse"](t.s(f,e)))},_.t225.j=g,_.t225.a=0,_.t226=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-context"](t.s(f,e)))},_.t226.j=g,_.t226.a=0,_.t227=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-context-menu"](t.s(f,e)))},_.t227.j=g,_.t227.a=0,_.t228=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-cover__wrapper"](t.s(f,e)))},_.t228.j=g,_.t228.a=0,_.t229=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-emojis"](t.s(f,e)))},_.t229.j=g,_.t229.a=0,_.t230=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-empty"](t.s(f,e)))},_.t230.j=g,_.t230.a=0,_.t231=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-event"](t.s(f,e)))},_.t231.j=g,_.t231.a=0,_.t232=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-generic-intro"](t.s(f,e)))},_.t232.j=g,_.t232.a=0,_.t233=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-generic-page-head"](t.s(f,e)))},_.t233.j=g,_.t233.a=0,_.t234=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-genres"](t.s(f,e)))},_.t234.j=g,_.t234.a=0,_.t235=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-genres-popup"](t.s(f,e)))},_.t235.j=g,_.t235.a=0,_.t236=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-hover"](t.s(f,e)))},_.t236.j=g,_.t236.a=0,_.t237=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-lang-switcher"](t.s(f,e)))},_.t237.j=g,_.t237.a=0,_.t238=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-like"](t.s(f,e)))},_.t238.j=g,_.t238.a=0,_.t239=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-links"](t.s(f,e)))},_.t239.j=g,_.t239.a=0,_.t240=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-more"](t.s(f,e)))},_.t240.j=g,_.t240.a=0,_.t241=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-no-ads"](t.s(f,e)))},_.t241.j=g,_.t241.a=0,_.t242=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-overhead"](t.s(f,e)))},_.t242.j=g,_.t242.a=0,_.t243=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-overhead-mobile"](t.s(f,e)))},_.t243.j=g,_.t243.a=0,_.t244=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-pill"](t.s(f,e)))},_.t244.j=g,_.t244.a=0,_.t245=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-playlist-authors"](t.s(f,e)))},_.t245.j=g,_.t245.a=0,_.t246=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-search"](t.s(f,e)))},_.t246.j=g,_.t246.a=0,_.t247=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-station"](t.s(f,e)))},_.t247.j=g,_.t247.a=0,_.t248=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-suggest"](t.s(f,e)))},_.t248.j=g,_.t248.a=0,_.t249=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-track"](t.s(f,e)))},_.t249.j=g,_.t249.a=0,_.t250=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_dislike(t.s(f,e)))},_.t250.j=g,_.t250.a=0,_.t251=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_dont-pay-popup"](t.s(f,e)))},_.t251.j=g,_.t251.a=0,_.t252=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_entity-cover"](t.s(f,e)))},_.t252.j=g,_.t252.a=0,_.t253=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_entity-cover_album"](t.s(f,e)))},_.t253.j=g,_.t253.a=0,_.t254=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_entity-cover_track"](t.s(f,e)))},_.t254.j=g,_.t254.a=0,_.t255=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_footer(t.s(f,e)))},_.t255.j=g,_.t255.a=0,_.t256=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_gdpr-popup"](t.s(f,e)))},_.t256.j=g,_.t256.a=0,_.t257=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_head(t.s(f,e)))},_.t257.j=g,_.t257.a=0,_.t258=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_head-container"](t.s(f,e)))},_.t258.j=g,_.t258.a=0,_.t259=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_head-kids"](t.s(f,e)))},_.t259.j=g,_.t259.a=0,_.t260=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_hq(t.s(f,e)))},_.t260.j=g,_.t260.a=0,_.t261=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_iframe-config"](t.s(f,e)))},_.t261.j=g,_.t261.a=0,_.t262=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_meta(t.s(f,e)))},_.t262.j=g,_.t262.a=0,_.t263=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_nav(t.s(f,e)))},_.t263.j=g,_.t263.a=0,_.t264=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_nav-kids"](t.s(f,e)))},_.t264.j=g,_.t264.a=0,_.t265=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-line"](t.s(f,e)))},_.t265.j=1,_.t265.a=1,_.t266=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_payment-popup-annoyer"](t.s(f,e)))},_.t266.j=g;_.t266.a=0,_.t267=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_player-controls"](t.s(f,e)))},_.t267.j=g,_.t267.a=0,_.t268=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_player-progress"](t.s(f,e)))},_.t268.j=g,_.t268.a=0,_.t269=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_playlist(t.s(f,e)))},_.t269.j=g,_.t269.a=0,_.t270=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_playlist_auto(t.s(f,e)))},_.t270.j=g,_.t270.a=0,_.t271=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_playlist_base(t.s(f,e)))},_.t271.j=g,_.t271.a=0,_.t272=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_plus-kids-popup-annoyer"](t.s(f,e)))},_.t272.j=g,_.t272.a=0,_.t273=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_plus-points"](t.s(f,e)))},_.t273.j=g,_.t273.a=0,_.t274=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_rup(t.s(f,e)))},_.t274.j=g,_.t274.a=0,_.t275=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_rup-stations"](t.s(f,e)))},_.t275.j=g,_.t275.a=0,_.t276=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_shelf-cell"](t.s(f,e)))},_.t276.j=g,_.t276.a=0,_.t277=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_shelf-non-music"](t.s(f,e)))},_.t277.j=g,_.t277.a=0,_.t278=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_sidebar(t.s(f,e)))},_.t278.j=g,_.t278.a=0,_.t279=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_stream-badge"](t.s(f,e)))},_.t279.j=g,_.t279.a=0,_.t280=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_subscribe-to-user"](t.s(f,e)))},_.t280.j=g,_.t280.a=0,_.t281=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_teaser(t.s(f,e)))},_.t281.j=g,_.t281.a=0,_.t282=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_teaser-nonmusic"](t.s(f,e)))},_.t282.j=g,_.t282.a=0,_.t283=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_touch-player"](t.s(f,e)))},_.t283.j=g,_.t283.a=0,_.t284=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_touch-player-advert"](t.s(f,e)))},_.t284.j=g,_.t284.a=0,_.t285=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_touch-player-controls"](t.s(f,e)))},_.t285.j=g,_.t285.a=0,_.t286=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_touch-player-sequence"](t.s(f,e)))},_.t286.j=g,_.t286.a=0,_.t287=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_ugc-loader"](t.s(f,e)))},_.t287.j=g,_.t287.a=0,_.t288=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_video-list"](t.s(f,e)))},_.t288.j=g,_.t288.a=0,_.t289=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_video-overlay"](t.s(f,e)))},_.t289.j=g,_.t289.a=0,_.t290=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_wizard-item"](t.s(f,e)))},_.t290.j=g,_.t290.a=0,_.t291=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_wizard-me"](t.s(f,e)))},_.t291.j=g,_.t291.a=0,_.t292=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_ads-block"](t.s(f,e)))},_.t292.j=g,_.t292.a=0,_.t293=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_api-debugger"](t.s(f,e)))},_.t293.j=g,_.t293.a=0,_.t294=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_cast-button"](t.s(f,e)))},_.t294.j=g,_.t294.a=0,_.t295=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-addition"](t.s(f,e)))},_.t295.j=g,_.t295.a=0,_.t296=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-app-get-sms"](t.s(f,e)))},_.t296.j=g,_.t296.a=0,_.t297=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-button"](t.s(f,e)))},_.t297.j=g,_.t297.a=0,_.t298=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-button-group"](t.s(f,e)))},_.t298.j=g,_.t298.a=0,_.t299=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-button-store"](t.s(f,e)))},_.t299.j=g,_.t299.a=0,_.t300=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-collapsable-description"](t.s(f,e)))},_.t300.j=g,_.t300.a=0,_.t301=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-copy"](t.s(f,e)))},_.t301.j=g,_.t301.a=0,_.t302=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-devider"](t.s(f,e)))},_.t302.j=g,_.t302.a=0,_.t303=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-equalizer"](t.s(f,e)))},_.t303.j=g,_.t303.a=0,_.t304=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-explicit-mark"](t.s(f,e)))},_.t304.j=g,_.t304.a=0,_.t305=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-flag"](t.s(f,e)))},_.t305.j=g,_.t305.a=0,_.t306=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-header"](t.s(f,e)))},_.t306.j=g,_.t306.a=0,_.t307=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-icon"](t.s(f,e)))},_.t307.j=g,_.t307.a=0,_.t308=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-input"](t.s(f,e)))},_.t308.j=g,_.t308.a=0,_.t309=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-link"](t.s(f,e)))},_.t309.j=g,_.t309.a=0,_.t310=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-logo"](t.s(f,e)))},_.t310.j=g,_.t310.a=0,_.t311=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-pager"](t.s(f,e)))},_.t311.j=g,_.t311.a=0,_.t312=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-payment-show"](t.s(f,e)))},_.t312.j=g,_.t312.a=0,_.t313=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-placeholder"](t.s(f,e)))},_.t313.j=g,_.t313.a=0,_.t314=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-select"](t.s(f,e)))},_.t314.j=g,_.t314.a=0,_.t315=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-share"](t.s(f,e)))},_.t315.j=g,_.t315.a=0,_.t316=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-share-popup"](t.s(f,e)))},_.t316.j=g,_.t316.a=0,_.t317=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-slider"](t.s(f,e)))},_.t317.j=g,_.t317.a=0,_.t318=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-slider-vert"](t.s(f,e)))},_.t318.j=g,_.t318.a=0,_.t319=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-subhead"](t.s(f,e)))},_.t319.j=g,_.t319.a=0,_.t320=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-submitable-input"](t.s(f,e)))},_.t320.j=g,_.t320.a=0,_.t321=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-tabs"](t.s(f,e)))},_.t321.j=g,_.t321.a=0,_.t322=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-toggler"](t.s(f,e)))},_.t322.j=g,_.t322.a=0,_.t323=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_d-tooltip"](t.s(f,e)))},_.t323.j=g,_.t323.a=0,_.t324=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_lightlist(t.s(f,e)))},_.t324.j=g,_.t324.a=0,_.t325=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_loading(t.s(f,e)))},_.t325.j=g,_.t325.a=0,_.t326=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_log-in"](t.s(f,e)))},_.t326.j=g,_.t326.a=0,_.t327=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_mbform(t.s(f,e)))},_.t327.j=g,_.t327.a=0,_.t328=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_mbform-wrapper"](t.s(f,e)))},_.t328.j=g,_.t328.a=0,_.t329=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_multi-auth"](t.s(f,e)))},_.t329.j=g,_.t329.a=0,_.t330=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_pay-promo-popup"](t.s(f,e)))},_.t330.j=g,_.t330.a=0,_.t331=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_playlist-notification"](t.s(f,e)))},_.t331.j=g,_.t331.a=0,_.t332=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_plus-badge"](t.s(f,e)))},_.t332.j=g,_.t332.a=0,_.t333=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_plus-kids-popup"](t.s(f,e)))},_.t333.j=g,_.t333.a=0,_.t334=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_social-bind"](t.s(f,e)))},_.t334.j=g,_.t334.a=0,_.t335=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_speed(t.s(f,e)))},_.t335.j=g,_.t335.a=0,_.t336=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_spinner(t.s(f,e)))},_.t336.j=g,_.t336.a=0,_.t337=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_stamp(t.s(f,e)))},_.t337.j=g,_.t337.a=0,_.t338=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_user(t.s(f,e)))},_.t338.j=g,_.t338.a=0,_.t339=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals.doT_template_volume(t.s(f,e)))},_.t339.j=g,_.t339.a=0,_.t340=function(t,e,n,s,r){var l="";o(t.s(ii,e));l+=h(r),l+="<div",r.a={class:new a.scalarAttr("page-artists")},r.s="div",r.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"page-artists")),l+=h(r),l+='<h1 class="page-artists__title">',l+=i(t.s(fi,e)),l+="</h1>";for(var c=p("artists",e,[]),d=0,u=c.length;d<u;d++){var _=c[d],m={};m.artist=a.nodeset2data(t.s(f,_)),l+=t.a(t,0,a.object2nodeset(m),"artist",r)}return l+="</div>"},_.t340.j=1,_.t340.a=1,_.t341=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-import")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"page-import")),o+=h(s),o+='<div class="page-import__title">',o+=l(a.externals.i18n("page-import","Импорт музыкальных коллекций")),o+="</div>",o+='<div class="page-import__subtitle">',o+=l(a.externals.i18n("page-import","Мы импортировали вашу музыкальную коллекцию. Её можно сохранить в плейлист или импортировать другую.")),o+="</div>",o+='<div class="page-import__content"></div>',o+="</div>"},_.t341.j=1,_.t341.a=1,_.t342=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-import__content")},s.s="div",u("code",e)?o+=t.a(t,0,t.s(f,e),"page-import__result",s):(o+=t.a(t,0,t.s(f,e),"page-import__badges",s),o+=t.a(t,0,t.s(f,e),"page-import__input",s)),o+=h(s),o+="</div>"},_.t342.j=g,_.t342.a=0,_.t343=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-import__badges page-import__badges_hidden">',o+='<div class="page-import__badge page-import__badge_left page-import__badge_lastfm">',o+='<div class="page-import__badge-icon page-import__badge-icon_lastfm"></div>',o+='<div class="page-import__badge-text">',o+=l(a.externals.i18n("page-import","Last.fm")),o+="</div>",o+="</div>",o+='<div class="page-import__badge page-import__badge_right  page-import__badge_mobile">',o+='<div class="page-import__badge-icon page-import__badge-icon_mobile"></div>',o+='<div class="page-import__badge-text">',o+=l(a.externals.i18n("page-import","из мобильного")),o+="</div>",o+="</div>",o+="</div>"},_.t343.j=g,_.t343.a=0,_.t344=function(t,e,i,n,s){var o,r="";return r+=h(s),u("error",e)&&(r+='<div class="page-import__item">',r+='<div class="page-import__item-cont">',r+='<h4 style="color: red">',r+=l(a.externals.i18n("page-import","Случилась непредвиденная ошибка")),r+="</h4>",r+="</div>",r+="</div>"),r+='<div class="page-import__item">',r+="<div",s.a={class:new a.scalarAttr("page-import__item-cont")},s.s="div",(o={class:"page-import__freetext",multiline:!0}).placeholder=a.externals.i18n("page-import","Скопируйте сюда список треков"),r+=t.a(t,0,a.object2nodeset(o),"d-input",s),r+=h(s),r+='<div class="page-import__freetext-clear page-import__freetext-clear_hidden d-icon deco-icon d-icon_cross-medium"></div>',(o={}).text=a.externals.i18n("page-import","Найти"),o.size="S",o.disabled=!0,o.type="action",o.class="page-import__find-freetext",r+=t.a(t,0,a.object2nodeset(o),"d-button",s),r+="</div>",r+="</div>",r+=t.a(t,0,t.s(f,e),"page-import__filebox",s)},_.t344.j=g,_.t344.a=0,_.t345=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-import__history typo-secondary">',o+='<div class="page-import__history-title">',o+=l(a.externals.i18n("page-import","История")),o+="</div>",o+="</div>"},_.t345.j=g,_.t345.a=0,_.t346=function(t,i,n,o,r){var c="";c+=h(r),c+='<ul class="page-import__history-list deco-popup-menu">';for(var u=p("items",i,[]),_=0,m=u.length;_<m;_++){var g=u[_];c+='<li class="page-import__history-list-item deco-popup-menu__item">',c+='<span class="d-icon d-icon_cross-medium page-import__history-delete"></span>',c+='<span class="page-import__history-column-1">'+l(a.externals.formatDate(d("date",g),a.externals.i18n("page-import","%d %B")))+"</span>",c+='<span class="page-import__history-column-2">'+l(a.externals.formatDate(d("date",g),a.externals.i18n("page-import","%H:%M")))+"</span>",c+='<a href="import/'+s(p("code",g,[]))+'" class="page-import__history-column-3 link link_major">',e("done",p("status",g,[]))?c+=l(a.externals.plural(d("count",g),a.externals.i18n("page-import","%s трек|%s трека|%s треков|нет треков"))):e("in-progress",p("status",g,[]))&&(c+=l(a.externals.i18n("page-import","обрабатывается"))),c+="</a>",c+="</li>"}return c+="</ul>"},_.t346.j=g,_.t346.a=0,_.t347=function(t,i,n,s,o){var r="";if(e("done",p("status",i,[])))if(u("tracks",i)){p("tracks",i,[]).length>15&&(r+=t.a(t,0,t.s(f,i),"page-import__actions",o)),r+=h(o),r+="<div",o.a={class:new a.scalarAttr("page-import__tracks")},o.s="div",(d={type:"track"}).ids=a.nodeset2data(p("trackIds",i,[])),d.items=a.nodeset2data(p("tracks",i,[])),d.loadCount=3,d.itemTemplate="d-track",d.placeholderTemplate="d-track",d.variablePlaceholder=!0;var c={};c.type="withCover",c.showAlbum=!0,c.showChartPosition=!0,d.params=c,d.itemHeight=64,r+=t.a(t,0,a.object2nodeset(d),"lightlist",o),r+=h(o),r+="</div>",r+=t.a(t,0,t.s(f,i),"page-import__actions",o),r+=t.a(t,0,t.s(f,i),"page-import__filebox",o)}else r+=t.a(t,0,t.s(f,i),"page-import__fail",o,a.externals.i18n("page-import","Увы, треки не найдены."));else if(e("in-progress",p("status",i,[]))){var d;r+=t.a(t,0,t.s(f,i),"spinner",o),r+=h(o),r+='<div class="page-import__status">',r+=l(a.externals.i18n("page-import","Ваш запрос обрабатывается...")),r+="</div>",r+='<div class="page-import__leave">',r+=l(a.externals.i18n("page-import","Эту страницу можно закрыть. Результат будет доступен в истории на основной странице")),r+=" ",(d={}).text=a.externals.i18n("page-import","импорта музыкальных коллекций"),d.href="/import",d.style="marked",r+=t.a(t,0,a.object2nodeset(d),"d-link",o),r+=".",r+="</div>"}else e(404,t.s(yi,i))?r+=t.a(t,0,t.s(f,i),"page-import__fail",o,a.externals.i18n("page-import","Данный код импорта не найден.")):r+=t.a(t,0,t.s(f,i),"page-import__fail",o,a.externals.i18n("page-import","Случилась непредвиденная ошибка"));return r},_.t347.j=g,_.t347.a=0,_.t348=function(t,e,n,o,r){var c="";return c+=h(r),c+='<div class="page-import__saved">',c+=l(a.externals.i18n("page-import","Треки добавлены в плейлист")),c+=" ",c+='<a href="/users/'+s(t.s(vi,e))+"/playlists/"+s(t.s(bi,e))+'">«'+i(t.s(ki,e))+"»</a>",c+="</div>",c+=t.a(t,0,t.s(f,e),"page-import__actions_saved",r),c+=t.a(t,0,t.s(f,e),"page-import__filebox",r)},_.t348.j=g,_.t348.a=0,_.t349=function(t,e,i,n,s){var o="";o+=h(s),o+='<div class="page-import__actions">',o+="<div",s.a={class:new a.scalarAttr("page-import__save")},s.s="div",(r={hideSeq:!0}).tracks=a.nodeset2data(p("tracks",e,[]));var r,l={};return l.type="action",l.size="S",l.icon="",l.rounded=!1,l.text=a.externals.i18n("page-import","Сохранить в плейлист"),r.button=l,o+=t.a(t,0,a.object2nodeset(r),"d-addition",s),o+=h(s),o+="</div>",(r={}).text=a.externals.i18n("page-import","Импортировать ещё"),r.href="/import/",r.style="marked",o+=t.a(t,0,a.object2nodeset(r),"d-link",s),o+="</div>"},_.t349.j=g,_.t349.a=0,_.t350=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-import__actions page-import__actions_saved")},s.s="div";var r={};return r.text=a.externals.i18n("page-import","Импортировать ещё"),r.size="S",r.type="action",r.href="/import",o+=t.a(t,0,a.object2nodeset(r),"d-button",s),o+=h(s),o+="</div>"},_.t350.j=g,_.t350.a=0,_.t351=function(t,i,n,s,o){var c="";if(c+=h(o),u("hasFileApi",i)){var d="";e("Safari",t.n(wi,a.object2nodeset(a.externals.getSettings())))?d+="":d+="text/*, .xml, .m3u, .m3u8, .pls, .txt";var p=d;c+='<div class="page-import__item">',c+='<div class="page-import__item-cont">',c+='<div class="page-import__filebox">',c+="<div",o.a={class:new a.scalarAttr("page-import__filebox-content")},o.s="div",(d={}).text=a.externals.i18n("page-import","Или загрузите файл"),d.href="#",d.style="marked",d.class="page-import__filebox-title page-import__find-file",c+=t.a(t,0,a.object2nodeset(d),"d-link",o),c+=h(o),c+='<div class="page-import__filebox-subtitle">'+l(a.externals.i18n("page-import","перетащите сюда или выберите"))+"</div>",c+='<ul class="page-import__filebox-icons">',c+='<li><span class=""><img src="/pages/import/icon-txt.svg"/></span></li>',c+='<li><span class=""><img src="/pages/import/icon-pls.svg"/></span></li>',c+='<li><span class=""><img src="/pages/import/icon-m3u.svg"/></span></li>',c+="</ul>",c+='<div class="button__file">',c+='<input type="file" class="button__file-btn page-import__file" accept="'+r(p)+'"/>',c+="</div>",c+="</div>",c+='<div class="page-import__filebox-error">',c+='<img src="/pages/import/icon-face.svg"/>',c+='<div class="page-import__filebox-error-message">',c+="<div>"+l(a.externals.i18n("page-import","Не удалось загрузить файл"))+"</div>",c+="<div>",c+=l(a.externals.i18n("page-import","Попробуйте")+" "),c+='<a href="#" class="link link_major">'+l(a.externals.i18n("page-import","ещё раз"))+"</a>",c+="</div>",c+="</div>",c+="</div>",c+="<div",o.a={class:new a.scalarAttr("page-import__filebox-loader")},o.s="div",c+=t.a(t,0,t.s(f,i),"spinner",o),c+=h(o),c+="</div>",c+="</div>",c+='<div class="page-import__instructions">',c+='<a href="" class="link link_mute">'+l(a.externals.i18n("page-import","Инструкции для разработчиков"))+"</a>",c+="</div>",c+="</div>",c+="</div>"}return c},_.t351.j=g,_.t351.a=0,_.t352=function(t,e,i,n,s,o){var r="";r+=h(s),r+='<div class="page-import__status">'+l(o)+"</div>";var c={};return c.text=a.externals.i18n("page-import","Попробовать снова"),c.href="/import/",c.style="marked",r+=t.a(t,0,a.object2nodeset(c),"d-link",s)},_.t352.j=g,_.t352.a=0,_.t353=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-joydivision")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"page-joydivision")),o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-joydivision__header")},s.s="div";var r={theme:"white"};return o+=t.a(t,0,a.object2nodeset(r),"d-logo",s),o+=h(s),o+="</div>",o+=t.a(t,0,t.s(f,e),"page-joydivision__animations",s),o+="<div",s.a={class:new a.scalarAttr("page-joydivision__share")},s.s="div",(r={}).joydivision=a.nodeset2data(t.s(f,e)),o+=t.a(t,0,a.object2nodeset(r),"share__buttons",s,"share__buttons_black"),o+=h(s),o+="</div>",o+="</div>"},_.t353.j=1,_.t353.a=1,_.t354=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-joydivision__animations">',o+='<div class="page-joydivision__bg">',o+='<div class="page-joydivision__bg2"></div>',o+='<div class="page-joydivision__bg3"></div>',o+="</div>",o+='<div class="page-joydivision__overlay"></div>',o+='<div class="page-joydivision__info page-joydivision__info_hidden">',o+='<div class="page-joydivision__details">',o+="<p>",o+=l(a.externals.i18n("page-joydivision","В творчестве Joy Division получили своё музыкальное воплощение индустриальные пейзажи Манчестера, становившегося в конце 1970-х одним из центров мировой рок-музыки.")),o+="</p>",o+="<p>",o+=l(a.externals.i18n("page-joydivision","Меланхоличность и отстранённость звучания группы, пронзительных текстов и сценических движений её лидера Йена Кёртиса сделали Joy Division источником вдохновения для нескольких поколений представителей альтернативной и независимой сцены.")),o+="</p>",o+="<p>",o+=l(a.externals.i18n("page-joydivision",'"Love Will Tear Us Apart", самую известную песню Joy Division, журналисты называли «величайшей песней всех времён» и «одной из величайших песен о любви в истории человечества».')),o+="</p>",o+="</div>",o+="</div>",o+='<div class="page-joydivision__ian page-joydivision__ian_hidden"></div>',o+='<div class="page-joydivision__permanent page-joydivision__permanent_hidden">',o+='<div class="page-joydivision__vinyl page-joydivision__vinyl_1"></div>',o+='<div class="page-joydivision__vinyl page-joydivision__vinyl_2"></div>',o+='<div class="page-joydivision__vinyl page-joydivision__vinyl_3"></div>',o+='<div class="page-joydivision__vinyl page-joydivision__vinyl_4"></div>',o+='<div class="page-joydivision__factory" data-img="2"></div>',o+='<div class="page-joydivision__house" data-img="1"></div>',o+='<div class="page-joydivision__sign page-joydivision__sign_1" data-img="7"></div>',o+='<div class="page-joydivision__sign page-joydivision__sign_2" data-img="7"></div>',o+='<div class="page-joydivision__phonebox" data-img="6"></div>',o+='<div class="page-joydivision__tv" data-img="9"></div>',o+='<div class="page-joydivision__guitar" data-img="5"></div>',o+='<div class="page-joydivision__ctrl"></div>',o+="</div>",o+="</div>"},_.t354.j=g,_.t354.a=0,_.t355=function(t,e,i,n,o){var r="";r+=h(o),r+='<div class="page-joydivision__popup">',r+='<div class="page-joydivision__popup-overlay"></div>',r+='<div class="page-joydivision__popup-content">',r+='<img class="page-joydivision__popup-image" src="/pages/joydivision/i/seo/s'+s(p("imageNumber",e,[]))+'.png"/>',r+="<div",o.a={class:new a.scalarAttr("page-joydivision__popup-share")},o.s="div";var l={};return l.joydivision=a.nodeset2data(t.s(f,e)),r+=t.a(t,0,a.object2nodeset(l),"share__buttons",o,"share__buttons_black"),r+=h(o),r+="</div>",r+="</div>",r+="</div>"},_.t355.j=g,_.t355.a=0,_.t356=function(t,e,i,n,s){var o="";o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-moana")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"page-moana")),o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-moana__header")},s.s="div";var r={theme:"white"};return o+=t.a(t,0,a.object2nodeset(r),"d-logo",s),o+=h(s),o+="</div>",o+='<div class="page-moana__preloader"><div class="page-moana__preloader-mover"></div></div>',o+='<div class="page-moana__intro-placeholder"></div>',o+='<div class="page-moana__map-placeholder"></div>',o+='<div class="page-moana__popup-placeholder"></div>',o+=t.a(t,0,t.s(f,e),"page-moana__social",s),o+=t.a(t,0,t.s(f,e),"page-moana__copyright",s),o+="</div>"},_.t356.j=1,_.t356.a=1,_.t357=function(t,e,i,n,s){var o="";o+=h(s),o+='<div class="page-moana__map-container">',o+='<div class="page-moana__map">',o+='<div class="page-moana__map-logo"></div>';for(var r=p("items",e,[]),c=0,d=r.length;c<d;c++){var u=r[c];o+=t.a(t,0,t.s(f,u),"page-moana__map-item",s)}return o+="</div>",o+='<div class="page-moana__map-hint">'+l(a.externals.i18n("page-moana","Перетаскивайте, чтобы увидеть всю карту"))+"</div>",o+="</div>"},_.t357.j=g,_.t357.a=0,_.t358=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="page-moana__social" id="moana-social"></div>'},_.t358.j=g,_.t358.a=0,_.t359=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="page-moana__copyright">© 2016 Disney</div>'},_.t359.j=g,_.t359.a=0,_.t360=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-moana__intro">',o+='<div class="page-moana__intro-container">',o+='<div class="page-moana__intro-logo">',o+='<div class="page-moana__intro-age">6+</div>',o+="</div>",o+='<div class="page-moana__intro-subhead">'+a.externals.i18nXml("page-moana","От создателей фильмов<br/>«Холодное сердце» и «Зверополис»")+"</div>",o+='<div class="page-moana__intro-content">',o+='<h1 class="page-moana__intro-title">'+a.externals.i18nXml("page-moana","Путешествуй с Моаной и открой музыкальный мир Disney")+"</h1>",o+='<div class="page-moana__intro-copy">'+a.externals.i18nXml("page-moana","Бесстрашная Моана, дочь вождя маленького племени на острове в Тихом океане, больше всего на свете мечтает о приключениях и решает отправиться в опасное морское путешествие. Вместе с некогда могущественным полубогом Мауи им предстоит пересечь океан, сразиться со страшными чудовищами и разрушить древнее заклятие.")+"</div>",o+='<span class="page-moana__intro-begin">'+a.externals.i18nXml("page-moana","Начать")+"</span>",o+="</div>",o+="</div>",o+=t.a(t,0,t.s(f,e),"page-moana__soon",s),o+="</div>"},_.t360.j=g,_.t360.a=0,_.t361=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-moana__soon">',o+='<div class="page-moana__soon_content">'+a.externals.i18nXml("page-moana","в кино<br/>с 1 декабря")+"</div>",o+="</div>"},_.t361.j=g,_.t361.a=0,_.t362=function(t,i,n,s,r){var c="";c+=h(r),c+="<div",r.a={},r.s="div";var d=r.a.class;if(r.a.class=d?d.addscalar("page-moana__map-"+o(p("name",i,[]))):new a.scalarAttr("page-moana__map-"+o(p("name",i,[]))),c+=h(r),e("moana",p("name",i,[]))){c+='<div class="page-moana__map-moana_buttons">',c+='<span class="page-moana__map-moana_button page-moana__map-moana_button_trailer">'+l(a.externals.i18n("page-moana","Трейлер"))+"</span>",c+="<br/>",c+='<span class="page-moana__map-moana_button page-moana__map-moana_button_about">'+l(a.externals.i18n("page-moana","О фильме"))+"</span>",c+="<br/>";var _={eventId:47687,template:"button-bilet_moana"};c+=t.a(t,0,a.object2nodeset(_),"button-bilet",r),c+="</div>",u("available",i)||(c+='<div class="page-moana__map-moana_unavailable">',c+=a.externals.i18nXml("page-moana","Саундтрек скоро появится"),c+="</div>")}return(_={}).type=a.nodeset2data(p("mode",i,[])),_.item=a.nodeset2data(t.s(f,i)),_.theme="withControls",_.fromName="web-user_moana-"+o(p("type",i,[]))+"-"+o(p("type",i,[]))+"-main",_.text=a.externals.i18n("page-moana","Слушать"),_.size="M",_.class="page-moana__map-play",c+=t.a(t,0,a.object2nodeset(_),"button-play",r),c+="</div>"},_.t362.j=g,_.t362.a=0,_.t363=function(t,i,n,a,s,o){var r="";return r+=h(s),r+='<div class="page-moana__popup">',r+='<div class="page-moana__popup-close"></div>',e("trailer",p("mode",i,[]))&&(r+=t.a(t,0,t.s(f,i),"page-moana__trailer",s)),e("about",p("mode",i,[]))&&(r+=t.a(t,0,t.s(f,i),"page-moana__about",s)),r+=t.a(t,0,t.s(f,i),"page-moana__copyright",s),r+="</div>"},_.t363.j=g,_.t363.a=0,_.t364=function(t,e,i,n,a){var s="";return s+=h(a),s+='<div class="page-moana__trailer">',s+='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/um6g78_dogE?autoplay=1&amp;rel=0&amp;showinfo=0" frameborder="0" allowfullscreen="allowfullscreen"></iframe>',s+="</div>"},_.t364.j=g,_.t364.a=0,_.t365=function(t,e,i,n,s){var o="";return o+=h(s),o+='<a href="https://afisha.yandex.ru/events/5587e3eacc1c7211b4ea8433" class="page-moana__map-moana_button page-moana__map-moana_button_ticket" target="_blank">'+l(a.externals.i18n("page-moana","Купить билет"))+"</a>"},_.t365.j=g,_.t365.a=0,_.t366=function(t,e,i,n,s){var o="";return o+=h(s),o+='<div class="page-moana__about">',o+='<img class="page-moana__about-art" src="/pages/moana/pics/art.jpg" srcset="/pages/moana/pics/art@2x.jpg 2x, /pages/moana/pics/art@3x.jpg 3x"/>',o+='<div class="page-moana__about-content">',o+='<div class="page-moana__about-content-stats">',o+=l(a.externals.i18n("page-moana","Moana")),o+='<span class="page-moana__about-content-stats-dot">•</span>',o+=l(a.externals.i18n("page-moana","2016")),o+='<span class="page-moana__about-content-stats-dot">•</span>',o+=l(a.externals.i18n("page-moana","США")),o+='<span class="page-moana__about-content-stats-dot">•</span>',o+=l(a.externals.i18n("page-moana","6+")),o+="</div>",o+='<h1 class="page-moana__about-content-title">'+a.externals.i18nXml("page-moana","Моана")+"</h1>",o+='<div class="page-moana__about-content-copy">'+a.externals.i18nXml("page-moana","Действие происходит 2000 лет назад, в островах Тихого океана. Дочка вождя, 14-летняя мечтательница Моана Ваялики, чтобы найти свою семью, отправляется в путешествие по океану в поисках сказочного острова с её героем полубогом-трикстером Мауи, и вместе им предстоит переплыть океан, встречая по пути огромных морских существ.")+"</div>",o+='<div class="page-moana__about-content-copy">'+a.externals.i18nXml("page-moana","Веселое анимационное приключение Disney от создателей фильмов «Русалочка», «Аладдин» и «Принцесса и лягушка» объединяет в себе традиции классической анимации и самые современные 3D-технологии, позволяющие добиться абсолютной реалистичности в изображении бескрайних просторов Тихого океана.")+"</div>",o+="</div>",o+='<div class="page-moana__about-personel">',o+="<h3>"+l(a.externals.i18n("page-moana","Режиссеры"))+"</h3>",o+="<div>",o+="<p>"+l(a.externals.i18n("page-moana","Рон Клементс"))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Джон Маскер"))+"</p>",o+="</div>",o+="<h3>"+l(a.externals.i18n("page-moana","Продюсер"))+"</h3>",o+="<div>",o+="<p>"+l(a.externals.i18n("page-moana","Оснат Шурер"))+"</p>",o+="</div>",o+="<h3>"+l(a.externals.i18n("page-moana","Роли дублировали"))+"</h3>",o+="<div>",o+="<p>"+l(a.externals.i18n("page-moana","Зина Куприянович"))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Григорий Сиятвинда"))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Илья Лагутенко"))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Денис Клявер "))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Юлианна Караулова"))+"</p>",o+="<p>"+l(a.externals.i18n("page-moana","Мариам Мерабова "))+"</p>",o+="</div>",o+="</div>",o+=t.a(t,0,t.s(f,e),"page-moana__soon",s),o+="</div>"},_.t366.j=g,_.t366.a=0,_.t367=function(t,e,i,n,s){var o="";return o+=h(s),o+="<div",s.a={class:new a.scalarAttr("page-post")},s.s="div",s.a["data-b"]=new a.scalarAttr(a.externals.blockRoot(t.s(f,e),"page-post")),o+=t.a(t,0,t.s(f,e),"editorial",s,"post",!0),o+=t.a(t,0,t.s(f,e),"promo",s,"post"),o+=h(s),o+="</div>"},_.t367.j=1,_.t367.a=1,_.t368=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-404"](t.s(f,e)))},_.t368.j=1,_.t368.a=1,_.t369=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-500"](t.s(f,e)))},_.t369.j=1,_.t369.a=1,_.t370=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-album"](t.s(f,e)))},_.t370.j=1,_.t370.a=1,_.t371=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-apartment"](t.s(f,e)))},_.t371.j=1,_.t371.a=1,_.t372=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-artist"](t.s(f,e)))},_.t372.j=1,_.t372.a=1,_.t373=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-autoplaylist"](t.s(f,e)))},_.t373.j=1,_.t373.a=1,_.t374=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-cobain"](t.s(f,e)))},_.t374.j=1,_.t374.a=1,_.t375=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-entities"](t.s(f,e)))},_.t375.j=1,_.t375.a=1,_.t376=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-fm"](t.s(f,e)))},_.t376.j=1,_.t376.a=1,_.t377=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-hmac"](t.s(f,e)))},_.t377.j=1,_.t377.a=1,_.t378=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-kids"](t.s(f,e)))},_.t378.j=1,_.t378.a=1,_.t379=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-label"](t.s(f,e)))},_.t379.j=1,_.t379.a=1,_.t380=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-main"](t.s(f,e)))},_.t380.j=1,_.t380.a=1,_.t381=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-metatag"](t.s(f,e)))},_.t381.j=1,_.t381.a=1,_.t382=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-non-music"](t.s(f,e)))},_.t382.j=1,_.t382.a=1,_.t383=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-personal"](t.s(f,e)))},_.t383.j=1,_.t383.a=1,_.t384=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-personal-top2017"](t.s(f,e)))},_.t384.j=1,_.t384.a=1,_.t385=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-personal-top2018"](t.s(f,e)))},_.t385.j=1,_.t385.a=1,_.t386=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-playlist"](t.s(f,e)))},_.t386.j=1,_.t386.a=1,_.t387=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_popup-sequence"](t.s(f,e)))},_.t387.j=g,_.t387.a=0,_.t388=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_popup-wizard"](t.s(f,e)))},_.t388.j=g,_.t388.a=0,_.t389=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-predictions"](t.s(f,e)))},_.t389.j=1,_.t389.a=1,_.t390=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-radio"](t.s(f,e)))},_.t390.j=1,_.t390.a=1,_.t391=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-search"](t.s(f,e)))},_.t391.j=1,_.t391.a=1,_.t392=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-settings"](t.s(f,e)))},_.t392.j=1,_.t392.a=1,_.t393=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-500"](t.s(f,e)))},_.t393.j=g,_.t393.a=0,_.t394=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-album"](t.s(f,e)))},_.t394.j=g,_.t394.a=0,_.t395=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-artist"](t.s(f,e)))},_.t395.j=g,_.t395.a=0,_.t396=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-order-info"](t.s(f,e)))},_.t396.j=g,_.t396.a=0,_.t397=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-playlist"](t.s(f,e)))},_.t397.j=g,_.t397.a=0,_.t398=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_sidebar-track"](t.s(f,e)))},_.t398.j=g,_.t398.a=0,_.t399=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-style-guide"](t.s(f,e)))},_.t399.j=1,_.t399.a=1,_.t400=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-tag"](t.s(f,e)))},_.t400.j=1,_.t400.a=1,_.t401=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-travel"](t.s(f,e)))},_.t401.j=1,_.t401.a=1,_.t402=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-users"](t.s(f,e)))},_.t402.j=1,_.t402.a=1,_.t403=function(t,e,i,n,s){var o="";return o+=h(s),o+=c(a.externals["doT_template_page-wizard"](t.s(f,e)))},_.t403.j=1,_.t403.a=1,_.t404=function(t,i,n,s,o){var r="",l=a.externals.getSettings(),c=(a.externals.experiments(),"");e("black",t.n(we,a.object2nodeset(l)))?c+="dark":c+="";var d=c;r+=t.a(t,0,t.s(f,i),"payment-popup-annoyer",o),r+=t.a(t,0,t.s(f,i),"plus-kids-popup-annoyer",o),r+=t.a(t,0,t.s(f,i),"d-overhead-mobile",o),r+=t.a(t,0,t.s(f,i),"d-overhead",o);c={type:"superbrick",id:"15738058366467023"};r+=t.a(t,0,a.object2nodeset(c),"adfox-creative",o);c={type:"editorial",id:"160490615951345178"};if(r+=t.a(t,0,a.object2nodeset(c),"adfox-creative",o),r+=t.a(t,0,t.s(f,i),"branding",o),(c={}).theme=d,r+=t.a(t,0,a.object2nodeset(c),"head-container",o),r+=t.a(t,0,t.s(f,i),"subhead",o),r+=t.a(t,0,t.s(f,i),"smart-banner",o),r+=h(o),r+="<div",o.a={class:new a.scalarAttr("centerblock-wrapper centerblock-wrapper_full-width deco-pane")},o.s="div",d){var u=o.a.class;o.a.class=u?u.addscalar(" theme theme_"+d):new a.scalarAttr(" theme theme_"+d)}if(r+=t.a(t,0,t.s(f,i),"serp-hint",o),r+=h(o),r+="<div",o.a={class:new a.scalarAttr("centerblock")},o.s="div",d){u=o.a.class;o.a.class=u?u.addscalar(" theme theme_"+d):new a.scalarAttr(" theme theme_"+d)}r+=h(o),r+="</div>",r+=t.a(t,0,t.s(f,i),"sidebar",o),r+=t.a(t,0,t.s(f,i),"footer",o),r+="</div>",r+=t.a(t,0,t.s(f,i),"popup-holder",o);c={listenOn:"pages",class:"loading_page"};return r+=t.a(t,0,a.object2nodeset(c),"loading",o),r+=t.a(t,0,t.s(f,i),"overlay",o),r+=t.a(t,0,t.s(f,i),"bar",o),r+=t.a(t,0,t.s(f,i),"notify",o),r+=t.a(t,0,t.s(f,i),"dont-pay-popup",o)},_.t404.j=1,_.t404.a=1,_.matcher={button:{"*":["t0"]},button__class:{"*":["t1"]},button__attrs:{"*":["t2"]},button__content:{"*":["t3"]},button__icon:{"*":["t5","t4"]},button__label:{"*":["t6"]},"button-group":{"*":["t7"]},"button-radio-slider":{"*":["t8"]},"button-store":{"*":["t9"]},"button-store__url":{"*":["t10"]},"button-store_all":{"*":["t11"]},"button-store_all-radio":{"*":["t12"]},button2:{"*":["t13"]},button2__class:{"*":["t14"]},button2__attrs:{"*":["t15"]},button2__content:{"*":["t16"]},button2__icon:{"*":["t19","t18","t17"]},button2__label:{"*":["t20"]},debug:{"*":["t21"]},diagnostic:{"*":["t22"]},notice:{"*":["t23"]},pager:{"*":["t24"]},"popup-holder":{"*":["t25"]},"settings-stream":{"*":["t26"]},"settings-stream__title":{"*":["t27"]},tooltip:{"*":["t187","t28"]},"app-wall":{"*":["t29"]},"app-wall__control__play-button":{"*":["t30"]},"app-wall__album-list":{"*":["t31"]},"app-wall__like-button":{"*":["t35","t34","t33","t32"]},"app-wall__track-play-button":{"*":["t36"]},"app-wall__entity-version":{"*":["t37"]},"app-wall__track-list":{"*":["t39","t38"]},track_list_show_more:{"*":["t41","t40"]},"scaleabale-class":{"*":["t43","t42"]},"app-wall__store":{"*":["t44"]},"app-wall__entity-pic":{"*":["t50","t46","t45"]},"app-wall__entity-pic-url":{"*":["t58","t56","t53","t51","t47"]},"app-wall__entity":{"*":["t57","t55","t54","t52","t49","t48"]},"app-wall__entity-explicit-mark":{"*":["t59"]},"app-wall__suggest-plus-modal":{"*":["t60"]},"app-wall_tooltip_like_message":{"*":["t61"]},"app-wall_tooltip_unlike_message":{"*":["t62"]},"artist-summary":{"*":["t63"]},counter:{"*":["t64"]},"cover-popup":{"*":["t67","t66","t65"]},editorial:{"*":["t84","t82","t79","t77","t75","t73","t68"]},editorial__layout:{"*":["t69"]},editorial__title:{"*":["t70"]},editorial__content:{"*":["t83","t80","t78","t76","t74","t71"]},editorial__description:{"*":["t72"]},editorial__artist:{"*":["t81"]},"head-progress":{"*":["t85"]},hint:{"*":["t86"]},mix:{"*":["t87"]},mix__item:{"*":["t88"]},more:{"*":["t89"]},notify:{"*":["t90"]},overlay:{"*":["t91"]},"pictures-slider":{"*":["t92"]},"pictures-slider__item":{"*":["t93"]},"playlist-cover":{"*":["t94"]},"playlist-cover__counter":{"*":["t95"]},"playlist-cover__cover":{"*":["t98","t97","t96"]},"playlist-cover__empty":{"*":["t99"]},"playlist-cover__note":{"*":["t101","t100"]},"playlist-cover-stack":{"*":["t102"]},"playlist-cover-stack__cover":{"*":["t104","t103"]},"playlist-cover-stack__empty":{"*":["t105"]},"playlist-cover-stack__back_empty":{"*":["t106"]},"playlist-cover-stack__note":{"*":["t108","t107"]},promo:{"*":["t121","t119","t112","t111","t110","t109"]},promo__play:{"*":["t116","t115","t114","t113"]},"promo_from-name":{"*":["t117"]},promo__link:{"*":["t118"]},promo__stub:{"*":["t122","t120"]},"promo-slider-item":{"*":["t123"]},radio:{"*":["t124"]},"radio-settings":{"*":["t125"]},"radio-station":{"*":["t141","t139","t138","t134","t127","t126"]},"radio-station__name":{"*":["t129","t128"]},"radio-station__icon":{"*":["t130"]},"radio-station__icon-private":{"*":["t131"]},"radio-station__icon-passive":{"*":["t132"]},"radio-station__children":{"*":["t133"]},"radio-station-dashboard__name":{"*":["t136","t135"]},"radio-station-dashboard__nowPlaying":{"*":["t137"]},"radio-station-page__actions":{"*":["t140"]},"radio-station__generative-name":{"*":["t142"]},"scrolling-side-navigation":{"*":["t143"]},"scrolling-side-navigation__content":{"*":["t144"]},separator:{"*":["t145"]},"serp-hint":{"*":["t146"]},"serp-hint__content":{"*":["t147"]},share__buttons:{"*":["t148"]},share_counters:{"*":["t163","t149"]},share:{"*":["t150"]},share__button:{"*":["t156","t155","t154","t153","t152","t151"]},share__content:{"*":["t162","t157"]},"share__tooltip-text":{"*":["t158"]},share__title:{"*":["t159"]},share__link:{"*":["t160"]},share__title_unescaped:{"*":["t161"]},"snippet-user":{"*":["t164"]},snowfall:{"*":["t165"]},snowfall__snowflake:{"*":["t166"]},subhead:{"*":["t167"]},subscribe:{"*":["t168"]},subscribe__button:{"*":["t169"]},"table-head":{"*":["t170"]},"table-head_track-album":{"*":["t171"]},"table-head_track-artist":{"*":["t172"]},"table-head_track-chart":{"*":["t173"]},"table-head__column":{"*":["t174"]},"table-head__content":{"*":["t175"]},tabs:{"*":["t176"]},tabs__tab:{"*":["t177"]},tabs__title:{"*":["t178"]},texts:{"*":["t183","t182","t181","t180","t179"]},"ticket-link":{"*":["t184"]},"ticket-link__content":{"*":["t185"]},"ticket-link__tooltip-text":{"*":["t186"]},track_type_player:{"*":["t188"]},track__attrs:{"*":["t189"]},track__title:{"*":["t190"]},"track__title-text":{"*":["t191"]},track__title_player:{"*":["t192"]},"track__explicit-mark":{"*":["t193"]},track__version:{"*":["t194"]},"visibility-toggle":{"*":["t195"]},"visibility-toggle__icon":{"*":["t196"]},"visibility-toggle__message":{"*":["t197"]},"adfox-creative":{"*":["t198"]},album:{"*":["t199"]},artist:{"*":["t200"]},"artist-pics":{"*":["t201"]},"audio-advert":{"*":["t202"]},"audio-animation":{"*":["t203"]},"auto-playlists":{"*":["t204"]},bar:{"*":["t205"]},"bar-below":{"*":["t206"]},"bar-below-configurable":{"*":["t207"]},branding:{"*":["t208"]},"button-bilet":{"*":["t209"]},"button-play":{"*":["t210"]},"button-radio":{"*":["t211"]},"collapsed-list":{"*":["t212"]},context:{"*":["t213"]},"crackdown-popup":{"*":["t214"]},"d-album-slider":{"*":["t215"]},"d-album-summary":{"*":["t216"]},"d-artists":{"*":["t217"]},"d-bubble":{"*":["t218"]},"d-button-edit":{"*":["t219"]},"d-button-play__wrap":{"*":["t220"]},"d-chart-position":{"*":["t221"]},"d-chart-track":{"*":["t222"]},"d-circle-progress":{"*":["t223"]},"d-collective-access":{"*":["t224"]},"d-concert-inhouse":{"*":["t225"]},"d-context":{"*":["t226"]},"d-context-menu":{"*":["t227"]},"d-cover__wrapper":{"*":["t228"]},"d-emojis":{"*":["t229"]},"d-empty":{"*":["t230"]},"d-event":{"*":["t231"]},"d-generic-intro":{"*":["t232"]},"d-generic-page-head":{"*":["t233"]},"d-genres":{"*":["t234"]},"d-genres-popup":{"*":["t235"]},"d-hover":{"*":["t236"]},"d-lang-switcher":{"*":["t237"]},"d-like":{"*":["t238"]},"d-links":{"*":["t239"]},"d-more":{"*":["t240"]},"d-no-ads":{"*":["t241"]},"d-overhead":{"*":["t242"]},"d-overhead-mobile":{"*":["t243"]},"d-pill":{"*":["t244"]},"d-playlist-authors":{"*":["t245"]},"d-search":{"*":["t246"]},"d-station":{"*":["t247"]},"d-suggest":{"*":["t248"]},"d-track":{"*":["t249"]},dislike:{"*":["t250"]},"dont-pay-popup":{"*":["t251"]},"entity-cover":{"*":["t252"]},"entity-cover_album":{"*":["t253"]},"entity-cover_track":{"*":["t254"]},footer:{"*":["t255"]},"gdpr-popup":{"*":["t256"]},head:{"*":["t257"]},"head-container":{"*":["t258"]},"head-kids":{"*":["t259"]},hq:{"*":["t260"]},"iframe-config":{"*":["t261"]},meta:{"*":["t262"]},nav:{"*":["t263"]},"nav-kids":{"*":["t264"]},"page-line":{"":["t265"]},"payment-popup-annoyer":{"*":["t266"]},"player-controls":{"*":["t267"]},"player-progress":{"*":["t268"]},playlist:{"*":["t269"]},playlist_auto:{"*":["t270"]},playlist_base:{"*":["t271"]},"plus-kids-popup-annoyer":{"*":["t272"]},"plus-points":{"*":["t273"]},rup:{"*":["t274"]},"rup-stations":{"*":["t275"]},"shelf-cell":{"*":["t276"]},"shelf-non-music":{"*":["t277"]},sidebar:{"*":["t278"]},"stream-badge":{"*":["t279"]},"subscribe-to-user":{"*":["t280"]},teaser:{"*":["t281"]},"teaser-nonmusic":{"*":["t282"]},"touch-player":{"*":["t283"]},"touch-player-advert":{"*":["t284"]},"touch-player-controls":{"*":["t285"]},"touch-player-sequence":{"*":["t286"]},"ugc-loader":{"*":["t287"]},"video-list":{"*":["t288"]},"video-overlay":{"*":["t289"]},"wizard-item":{"*":["t290"]},"wizard-me":{"*":["t291"]},"ads-block":{"*":["t292"]},"api-debugger":{"*":["t293"]},"cast-button":{"*":["t294"]},"d-addition":{"*":["t295"]},"d-app-get-sms":{"*":["t296"]},"d-button":{"*":["t297"]},"d-button-group":{"*":["t298"]},"d-button-store":{"*":["t299"]},"d-collapsable-description":{"*":["t300"]},"d-copy":{"*":["t301"]},"d-devider":{"*":["t302"]},"d-equalizer":{"*":["t303"]},"d-explicit-mark":{"*":["t304"]},"d-flag":{"*":["t305"]},"d-header":{"*":["t306"]},"d-icon":{"*":["t307"]},"d-input":{"*":["t308"]},"d-link":{"*":["t309"]},"d-logo":{"*":["t310"]},"d-pager":{"*":["t311"]},"d-payment-show":{"*":["t312"]},"d-placeholder":{"*":["t313"]},"d-select":{"*":["t314"]},"d-share":{"*":["t315"]},"d-share-popup":{"*":["t316"]},"d-slider":{"*":["t317"]},"d-slider-vert":{"*":["t318"]},"d-subhead":{"*":["t319"]},"d-submitable-input":{"*":["t320"]},"d-tabs":{"*":["t321"]},"d-toggler":{"*":["t322"]},"d-tooltip":{"*":["t323"]},lightlist:{"*":["t324"]},loading:{"*":["t325"]},"log-in":{"*":["t326"]},mbform:{"*":["t327"]},"mbform-wrapper":{"*":["t328"]},"multi-auth":{"*":["t329"]},"pay-promo-popup":{"*":["t330"]},"playlist-notification":{"*":["t331"]},"plus-badge":{"*":["t332"]},"plus-kids-popup":{"*":["t333"]},"social-bind":{"*":["t334"]},speed:{"*":["t335"]},spinner:{"*":["t336"]},stamp:{"*":["t337"]},user:{"*":["t338"]},volume:{"*":["t339"]},"page-artists":{"":["t340"]},"page-import":{"":["t341"]},"page-import__content":{"*":["t342"]},"page-import__badges":{"*":["t343"]},"page-import__input":{"*":["t344"]},"page-import__history":{"*":["t345"]},"page-import__history-list":{"*":["t346"]},"page-import__result":{"*":["t347"]},"page-import__result_saved":{"*":["t348"]},"page-import__actions":{"*":["t349"]},"page-import__actions_saved":{"*":["t350"]},"page-import__filebox":{"*":["t351"]},"page-import__fail":{"*":["t352"]},"page-joydivision":{"":["t353"]},"page-joydivision__animations":{"*":["t354"]},"page-joydivision__popup-share":{"*":["t355"]},"page-moana":{"":["t356"]},"page-moana__map":{"*":["t357"]},"page-moana__social":{"*":["t358"]},"page-moana__copyright":{"*":["t359"]},"page-moana__intro":{"*":["t360"]},"page-moana__soon":{"*":["t361"]},"page-moana__map-item":{"*":["t362"]},"page-moana__popup":{"*":["t363"]},"page-moana__trailer":{"*":["t364"]},"page-moana__ticket-link":{"*":["t365"]},"page-moana__about":{"*":["t366"]},"page-post":{"":["t367"]},"page-404":{"":["t368"]},"page-500":{"":["t369"]},"page-album":{"":["t370"]},"page-apartment":{"":["t371"]},"page-artist":{"":["t372"]},"page-autoplaylist":{"":["t373"]},"page-cobain":{"":["t374"]},"page-entities":{"":["t375"]},"page-fm":{"":["t376"]},"page-hmac":{"":["t377"]},"page-kids":{"":["t378"]},"page-label":{"":["t379"]},"page-main":{"":["t380"]},"page-metatag":{"":["t381"]},"page-non-music":{"":["t382"]},"page-personal":{"":["t383"]},"page-personal-top2017":{"":["t384"]},"page-personal-top2018":{"":["t385"]},"page-playlist":{"":["t386"]},"popup-sequence":{"*":["t387"]},"popup-wizard":{"*":["t388"]},"page-predictions":{"":["t389"]},"page-radio":{"":["t390"]},"page-search":{"":["t391"]},"page-settings":{"":["t392"]},"sidebar-500":{"*":["t393"]},"sidebar-album":{"*":["t394"]},"sidebar-artist":{"*":["t395"]},"sidebar-order-info":{"*":["t396"]},"sidebar-playlist":{"*":["t397"]},"sidebar-track":{"*":["t398"]},"page-style-guide":{"":["t399"]},"page-tag":{"":["t400"]},"page-travel":{"":["t401"]},"page-users":{"":["t402"]},"page-wizard":{"":["t403"]},"":{"":["t404"]}},_.imports=[],a.register("index",_)}()},function(t,e,i,n){!function(){var t,e=[];function i(){var i=Ya.Rum.getSetting("clck"),n=e.join("\r\n");if(e=[],t=null,i&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(i,n))){var a=new XMLHttpRequest;a.open("POST",i),a.send(n)}}Ya.Rum.send=function(n,a,s,o,r,l,c){clearTimeout(t);var d=Ya.Rum.getSetting("slots"),u=Ya.Rum.getSetting("experiments"),p=["/reqid="+Ya.Rum.getSetting("reqid"),c?"/"+c.join("/"):"",a?"/path="+a:"",r?"/events="+r:"",d?"/slots="+d.join(";"):"",u?"/experiments="+u.join(";"):"",s?"/vars="+s:"","/cts="+(new Date).getTime(),"/*"];e.push(p.join("")),e.length<42?t=setTimeout(i,15):i()}}()},function(t,e,i,n){!function(t,e){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendHeroElement=t.onReady=function(){});t.getVarsList=function(){var e=t._vars;return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")}))},t.setVars=function(e){Object.keys(e).forEach((function(i){t._vars[i]=e[i]})),w(),x()};var i,n,a={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},s={visible:1,hidden:2,prerender:3},o={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},r={"first-paint":2793,"first-contentful-paint":2794},l=Object.keys(r).length,c=t.getTime,d=window.PerformanceObserver,u=window.performance||{},p=u.timing||{},h=u.navigation||{},_=navigator.connection,m={},g={},f=t._deltaMarks,y=document.createElement("link"),v=document.createElement("a"),b="function"==typeof u.getEntriesByType,k=p.navigationStart;function w(){i=t.getVarsList(),t.getSetting("sendClientUa")&&i.push("1042="+encodeURIComponent(navigator.userAgent))}function x(){n=i.concat(["143.2129="+k])}if(w(),x(),t.ajaxStart=0,t.ajaxComplete=0,d)try{new d((function(t,e){var n=t.getEntriesByType("navigation")[0];if(n){e&&e.disconnect();var a=[];X(a,n),V(a),Q("690.2096.2892",i.concat(a))}})).observe({entryTypes:["navigation"]})}catch(t){}function M(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):t()}function T(){var e;t.getSetting("disableOnLoadTasks")||(removeEventListener("load",T),(e=t.getSetting("periodicStatsIntervalMs"))||null===e||(e=15e3),e&&($=setInterval(I,e)),addEventListener("beforeunload",I),function(){if(d){R(u.getEntriesByType("navigation")),R(u.getEntriesByType("resource"));try{new d((function(t){R(t.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(t){}t._periodicTasks.push(z)}}(),function(){if(d)try{new d((function(t,e){var i=t.getEntries()[0];i&&(A("first-input",i.processingStart-i.startTime),e.disconnect())})).observe({type:"first-input",buffered:!0})}catch(t){}}(),function(){if(d){var t=new d((function(t){var e=t.getEntries();null==O&&(O=0);for(var i=0;i<e.length;i++){var n=e[i];n.hadRecentInput||(O+=n.value)}}));try{t.observe({type:"layout-shift",buffered:!0})}catch(t){}addEventListener("visibilitychange",(function e(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",e);try{"function"==typeof t.takeRecords&&t.takeRecords(),t.disconnect()}catch(t){}H()}})),addEventListener("beforeunload",H)}}(),function(){if(d&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){var e=new d((function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];F=n.renderTime||n.loadTime}B||(C("largest-loading-elem-paint",F),B=!0)}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(t){}U()}})),addEventListener("beforeunload",U)}}())}function S(){var e=p.domContentLoadedEventStart,n=p.domContentLoadedEventEnd;if(0!==e||0!==n){var o=i.concat(["2129="+k,"1036="+(p.domainLookupStart-k),"1037="+(p.domainLookupEnd-p.domainLookupStart),"1038="+(p.connectEnd-p.connectStart),p.secureConnectionStart&&"1383="+(p.connectEnd-p.secureConnectionStart),"1039="+(p.responseStart-p.connectEnd),"1040="+(p.responseEnd-p.responseStart),"1040.906="+(p.responseEnd-p.domainLookupStart),"1310.2084="+(p.domLoading-p.responseStart),"1310.2085="+(p.domInteractive-p.responseStart),"1310.1309="+(n-e),"1310.1007="+(e-p.responseStart),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(a).forEach((function(t){t in p&&p[t]&&o.push(a[t]+"="+Z(p[t],k))})),t.vsStart?(o.push("1484="+(s[t.vsStart]||2771)),t.vsChanged&&o.push("1484.719=1")):o.push("1484="+s.visible),h&&(h.redirectCount&&o.push("1384.1385="+h.redirectCount),1!==h.type&&2!==h.type||o.push("770.76="+h.type)),V(o),Q("690.1033",o)}else setTimeout(S,50)}M((function(){k&&setTimeout((function(){t.sendTimeMark=C,t.sendResTiming=Y,t.timeEnd=E;for(var e=t._defRes;e.length;){var i=e.shift();Y(i[0],i[1])}for(var n=t._defTimes;n.length;){var a=n.shift();C(a[0],a[1],!1,a[2])}Object.keys(f).forEach((function(t){A(t)})),S(),function e(){if(b&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){for(var i=u.getEntriesByType("paint"),n=0;n<i.length;n++){var a=i[n],s=r[a.name];s&&!L[a.name]&&(L[a.name]=!0,P++,C("1926."+s,a.startTime))}if(P<l)try{new d((function(t,i){e(),i&&i.disconnect()})).observe({entryTypes:["paint"]})}catch(t){}}}(),t.getSetting("sendAutoElementTiming")&&q(),W(),"complete"===document.readyState?T():addEventListener("load",T)}),0)})),t._getCommonVars=function(){return i};var $,L={},P=0;function C(i,n,a,s){n===e&&(n=c()),a!==e&&!0!==a||t.mark(i,n);var o=J(i);if(o.push("207="+Z(n)),D(o,s)){Q("690.2096.207",o),m[i]=m[i]||[],m[i].push(n);var r=t._markListeners[i];r&&r.length&&r.forEach((function(t){t(n)}))}}function D(t,i){if(i){if(i.isCanceled&&i.isCanceled())return!1;var n=t.reduce((function(t,e,i){return"string"==typeof e&&(t[e.split("=")[0]]=i),t}),{});Object.keys(i).forEach((function(a){if("function"!=typeof i[a]){var s=n[a],o=a+"="+i[a];s===e?t.push(o):t[s]=o}}))}return!0}function E(t,e){var i=f[t];i&&0!==i.length&&(i.push(c(),e),A(t))}function A(i,n,a){var s,o,r,l=f[i];if(void 0!==n?s=(o=t.getTime())-n:l&&(s=l[0],o=l[1],r=l[2]),s!==e&&o!==e){var c=J(i);c.push("207.2154="+Z(s),"207.1428="+Z(o),"2877="+Z(o-s)),D(c,a)&&D(c,r)&&(Q("690.2096.2877",c),delete f[i])}}function Y(e,i){G(i,(function(n){if(n){var a=J(e);t.getSetting("sendUrlInResTiming")&&a.push("13="+encodeURIComponent(i)),X(a,n[0]),Q("690.2096.2044",a)}}))}function I(){var e=!1;t._periodicTasks.forEach((function(t){t()&&(e=!0)})),e||clearInterval($)}t.getTimeMarks=function(){return m},t._periodicTasks=[];var O,j=0;function R(t){if(t&&t.length)for(var e=g,i=0;i<t.length;i++){var n=N(t[i]);if(n){var a=n.domain+"-"+n.extension,s=e[a]=e[a]||{count:0,size:0};s.count++,s.size+=n.size}}}function N(t){var e=t.transferSize;if(null!=e){v.href=t.name;var i=v.pathname;if(0!==i.indexOf("/clck")){var n=i.lastIndexOf("."),a="";return-1!=n&&i.lastIndexOf("/")<n&&i.length-n<=5&&(a=i.slice(n+1)),{size:e,domain:v.hostname,extension:a}}}}function z(){var e=t.getSetting("maxTrafficCounters")||250;if(j>=e)return!1;for(var n=Object.keys(g),a="",s=0;s<n.length;s++){var o=n[s],r=g[o];a+=encodeURIComponent(o)+"!"+r.count+"!"+r.size+";"}a.length&&(j++,Q("690.2096.361",i.concat(["d="+a,"t="+Z(c())])));return g={},j<e}function H(){if(null!=O){var t=Math.round(1e6*O)/1e6;Q("690.2096.4004",i.concat("s="+t)),O=null}}var F=null,B=!1;function U(){null!=F&&(C("largest-contentful-paint",F),F=null)}var q=d?function(){if(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())try{new d((function(t){for(var e=t.getEntries(),i=0;i<e.length;i++){var n=e[i];C("element-timing."+n.identifier,n.startTime)}})).observe({type:"element",buffered:!0})}catch(t){}}:function(){};function W(e,i,n){if(t._tti){var a=c(),s=function(e,s,o){var r={2796.2797:K(o,i),689.2322:Z(a)};n&&Object.keys(n).forEach((function(t){r[t]=n[t]})),C(e||"2795",s,!0,r),t._tti.fired=!0};!function n(){var o,r=i||a,l=c(),d=t._tti.events||[],u=d.length;0!==u&&(o=d[u-1],r=Math.max(r,Math.floor(o.startTime+o.duration))),l-r>=3e3?s(e,r,d):l-r>=2e4?s(e,(i||a)+2e4,d):setTimeout(n,1e3)}()}}function V(t){_&&t.push("2437="+(o[_.type]||2771),_.downlinkMax!==e&&"2439="+_.downlinkMax,_.effectiveType&&"2870="+_.effectiveType,_.rtt!==e&&"rtt="+_.rtt,_.downlink!==e&&"dwl="+_.downlink)}function G(t,e){if(!b)return e(null);y.href=t;var i=y.href,n=0,a=100;setTimeout((function t(){var s=u.getEntriesByName(i);if(s.length)return e(s);n++<10?(setTimeout(t,a),a+=a):e(null)}),0)}function K(t,e){return e=e||0,(t=t||[]).filter((function(t){return t.startTime-e>=-50})).map((function(t){var e=t.name?t.name.split("-").map((function(t){return t[0]})).join(""):"u",i=Math.floor(t.startTime);return e+"-"+i+"-"+Math.floor(i+t.duration)})).join(".")}function J(e){return n.concat(["1701="+e,t.ajaxStart&&"1201.2154="+Z(t.ajaxStart),t.ajaxComplete&&"1201.2052="+Z(t.ajaxComplete)])}function X(t,e){Object.keys(a).forEach((function(i){if(i in e){var n=e[i];(n||0===n)&&t.push(a[i]+"="+Z(n))}}))}function Z(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function Q(e,i){var n=encodeURIComponent(window.YaStaticRegion||"unknown");i.push("-cdn="+n);var a=i.filter(Boolean).join(",");t.send(null,e,a)}t.sendTTI=W,t.sendHeroElement=function(t){C("2876",t)},t._subpages={},t.makeSubPage=function(e,i){var n=t._subpages[e];t._subpages[e]=void 0===n?n=0:++n;var a=!1;return{689.2322:Z(void 0!==i?i:c()),2924:e,2925:n,isCanceled:function(){return a},cancel:function(){a=!0}}},t._getLongtasksStringValue=K,t.getResourceTimings=G,t.pushConnectionTypeTo=V,t.pushTimingTo=X,t.normalize=Z,t.sendCounter=Q,t.sendDelta=A,t.sendTrafficData=z,t.finalizeLayoutShiftScore=H,t.finalizeLargestContentfulPaint=U,t.onReady=M}(Ya.Rum)},function(t,e,i,n){Ya.Rum.enabled&&addEventListener("load",(function t(){removeEventListener("load",t);var e=Ya.Rum;if(e.sendTimeMark("1724"),e.getSetting("sendAutoResTiming"))for(var i=document.querySelectorAll("script[data-rCid], div[data-rCid]"),n=0,a=i.length;n<a;n++){var s=i[n],o=s.src;if(!o){var r=getComputedStyle(s).backgroundImage;if(r){var l=r.match(/^url\(["']?(.*?)["']?\)$/);l&&(o=l[1])}}o&&e.sendResTiming(s.getAttribute("data-rCid"),o)}}))},function(t,e,i,n){function a(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t||"undefined"==typeof XMLHttpRequest||(t=new XMLHttpRequest),t}function s(t){"withCredentials"in a()&&this.check()}function o(t){this.cspUrl=t.cspUrl||"//"+(t.cspHost||"yandex.ru")+"/csp",this.reqid=t.reqid,this.login=t.login,this.yandexuid=t.yandexuid,this.checkTimeout=t.checkTimeout||5e3,this.checkTimeoutId=null,this.from=t.from||"web4",this.counter=t.counter||"690.1893.1894",this.tld=t.tld||"ru",this.domainExact=t.domainExact||["yandex."+this.tld,"yastatic.net","yandex.st"],this.domainSuffix=t.domainSuffix||[".yandex."+this.tld,".yandex.net",".yandex.ru"],this.onSendError=t.onSendError,this._onReady=s.bind(this);var e,i=document.cookie;return this.login||(e=i.match(/(?:^|;)\s*yandex_login\s*=\s*([^;]+)/))&&(this.login=e[1].trim()),this.yandexuid||(e=i.match(/(?:^|;)\s*yandexuid\s*=\s*([^;]+)/))&&(this.yandexuid=e[1].trim()),this}o.prototype.start=function(){return document.addEventListener("DOMContentLoaded",this._onReady,!1),this},o.prototype.stop=function(){return this.checkTimeoutId&&(this.removeListenerCallback(),clearTimeout(this.checkTimeoutId)),document.removeEventListener("DOMContentLoaded",this._onReady),this},o.prototype.check=function(){var t=document.documentElement,e=function(t){var e=t.target,i=e.nodeName.toLowerCase();"script"!==i&&"object"!==i||this._detect(e)}.bind(this);return this._detectByElem("script"),this._detectByElem("object"),t.addEventListener("load",e,!0),this.removeListenerCallback=function(){t.removeEventListener("load",e,!0)},this.checkTimeoutId=setTimeout(this.removeListenerCallback,this.checkTimeout),this},o.prototype._detectByElem=function(t){for(var e,i=document.getElementsByTagName(t),n=0;n<i.length;n++)(e=i[n]).src&&this._detect(e)},o.prototype._detect=function(t){if(!t.checked){t.checked=!0;var e=t.src;this._filterSrc(e)&&this._send(e)}},o.prototype._filterSrc=function(t){var e=/^(?:(?![^:@]+:[^:@\/]*@)[^:\/?#.]+:)?(?:\/\/)?(?:(?:[^:@\/]*(?::[^:@\/]*)?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)/.exec(t||"")[1];return this.domainExact.every((function(t){return t!==e}))&&this.domainSuffix.every((function(t){return e.indexOf(t)<0}))},o.prototype._send=function(t){var e=a(),i="from="+encodeURIComponent(this.from)+"&path="+encodeURIComponent(this.counter)+"&reqid="+encodeURIComponent(this.reqid)+"&url="+encodeURIComponent(t)+"&yandex_login="+encodeURIComponent(this.login)+"&yandexuid="+encodeURIComponent(this.yandexuid);e.open("POST",this.cspUrl,!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onreadystatechange=function(){4===e.readyState&&200!==e.status&&this.onSendError&&this.onSendError(e.status,e.responseText)}.bind(this),e.send(i)},t.exports=o},function(t,e,i,n){e["../node_modules/music-ui/js/adapter.js"]=i(36),e["../node_modules/music-ui/js/appMetrika.js"]=i(40),e["../node_modules/music-ui/js/auth.js"]=i(41),e["../node_modules/music-ui/js/blocks.js"]=i(43),e["../node_modules/music-ui/js/broker.js"]=i(44),e["../node_modules/music-ui/js/cache.js"]=i(45),e["../node_modules/music-ui/js/console-diag.js"]=i(46),e["../node_modules/music-ui/js/dataSrc.js"]=i(47),e["../node_modules/music-ui/js/diag.js"]=i(48),e["../node_modules/music-ui/js/external.api.js"]=i(49),e["../node_modules/music-ui/js/force-auth.js"]=i(50),e["../node_modules/music-ui/js/is-preview.js"]=i(51),e["../node_modules/music-ui/js/logger.js"]=i(52),e["../node_modules/music-ui/js/metrika.js"]=i(53),e["../node_modules/music-ui/js/mini-di.js"]=i(54),e["../node_modules/music-ui/js/navigation.js"]=i(55),e["../node_modules/music-ui/js/pageManager.js"]=i(56),e["../node_modules/music-ui/js/printBackendRequestsLogsSSR.js"]=i(57),e["../node_modules/music-ui/js/routes.js"]=i(58),e["../node_modules/music-ui/js/rum.js"]=i(37),e["../node_modules/music-ui/js/shortcuts.js"]=i(59),e["../node_modules/music-ui/js/storage.js"]=i(60),e["../node_modules/music-ui/js/tab-visability.js"]=i(61),e["../node_modules/music-ui/js/tracks-cache.js"]=i(62),e["../node_modules/music-ui/js/unity-shim.js"]=i(63),e["../node_modules/music-ui/js/xstorage.js"]=i(64),e["../node_modules/music-ui/js/yate.externals.js"]=i(65)},function(t,e,i,n){var a,s,o,r,l,c,d,u=ya.music.Player,p=ya.music.lib,h=u.playerEvents,_=u.playerStates,m=u.playerTasks,g=u.audioEvents,f=u.sourceEvents,y=u.sourceTypes,v=u.repeatTypes,b=u.sortTypes,k=u.settings,w=ya.music.user,x=p.trackId,M=!1,T=i(37),S=i(38),$=function(){p.Events.eventize(this),this._lastPlayed=0};$.EVENT_SOURCE="source",$.EVENT_CHANGE="change",$.EVENT_UPDATE="update",$.EVENT_EMPTY="empty",$.EVENT_CONTROLS="controls",$.EVENT_TRACK_END="track-end",$.EVENT_TRACK_PLAY="track-play",$.EVENT_TRACK_NEED_DATA="data-track",$.EVENT_SHOW_TRACK="show-track",$.EVENT_HIDE_TRACK="hide-track",$.EVENT_TRACK_ERROR="error",$.EVENT_FATAL_ERROR="fatal",$.EVENT_ADVERT_BEGIN="get-advert",$.EVENT_SHOW_ADVERT="show-advert",$.EVENT_ADVERT_CLICK="click-advert",$.EVENT_HIDE_ADVERT="hide-advert",$.EVENT_EMPTY_ADVERT="empty-advert",$.EVENT_SHOW_SHOT="show-shot",$.EVENT_HIDE_SHOT="hide-shot",$.EVENT_SHOW_PLAY="hide-pause",$.EVENT_SHOW_PAUSE="show-pause",$.EVENT_TOGGLE_PAUSE="toggle-pause",$.EVENT_STATE="state",$.EVENT_VOLUME="volume",$.EVENT_SPEED="speed",$.EVENT_PROGRESS="progress",$.EVENT_FINISHED="finished",$.EVENT_CHANGE_REPEAT="change-repeat",$.EVENT_AUTOFLOW="autoflow",$.EVENT_EMOTION="emotion",$.EVENT_LIKE="like",$.EVENT_DISLIKE="dislike",$.EVENT_COMMON_START="common-start",$.EVENT_COMMON_END="common-end",$.RESTRICTION_PREMIUM_ONLY="premiumOnly",$.RESTRICTION_DENIED="denied",$.CRACKDOWN_PAUSE="crackdown-pause",$.PLAY_PREVIEW="play-preview",$.PLAY_FULL="play-full",$.EVENT_CHANGE_THEME="change-theme",$.POPULATE_COUNT=50,$.prototype.init=function(t){a=t.get("auth"),s=t.get("metrika"),o=t.get("blocks").get("notify"),r=t.get("player"),l=r.source(),c=r.audio(),this.flags={playOnUserInteraction:!1},this.__sendPlayMetrics=this._sendPlayMetrics.bind(this),r.on(h.STATE,this._onState.bind(this)),r.on(h.SOURCE,this._onSourceChange.bind(this)),r.on(h.END,this._onSeqEnd.bind(this)),r.on(h.TRACK,this._onTrack.bind(this)),r.on(h.ADVERT,this._onAdvert.bind(this)),r.on(h.SHOT,this._onShot.bind(this)),r.on(h.TRACK_READY,this._onTrackReady.bind(this)),r.on(h.TRACK_END,this._onTrackEnd.bind(this)),r.on(h.TRACK_PLAY,this._onTrackPlay.bind(this)),r.on(h.TRACK_ERROR,this._onTrackError.bind(this)),r.on(h.ADVERT_BEGIN,this._onAdvertBegin.bind(this)),r.on(h.ADVERT_READY,this._onAdvertReady.bind(this)),r.on(h.ADVERT_START,this._onAdvertStart.bind(this)),r.on(h.ADVERT_PLAY,this._onAdvertPlay.bind(this)),r.on(h.ADVERT_PLAYED,this._onAdvertPlayed.bind(this)),r.on(h.ADVERT_END,this._onAdvertEnd.bind(this)),r.on(h.ADVERT_ERROR,this._onAdvertError.bind(this)),r.on(h.SHOT_READY,this._onShotReady.bind(this)),r.on(h.SHOT_START,this._onShotStart.bind(this)),r.on(h.SHOT_PLAY,this._onShotPlay.bind(this)),r.on(h.SHOT_END,this._onShotEnd.bind(this)),r.on(h.SHOT_ERROR,this._onShotError.bind(this)),r.on(h.COMMON_START,this._onCommonStart.bind(this)),r.on(h.COMMON_PLAY,this._onCommonPlay.bind(this)),r.on(h.COMMON_END,this._onCommonEnd.bind(this)),r.on(h.COMMON_ERROR,this._onCommonError.bind(this)),r.on(h.ADVERT_DATA_REQUEST,this._onAdvertDataRequest.bind(this)),r.on(h.ADVERT_DATA_RESPONSE,this._onAdvertDataResponse.bind(this)),r.on(h.ADVERT_CLICK,this.onAdvertClick.bind(this)),h.ADVERT_ADBLOCK&&r.on(h.ADVERT_ADBLOCK,this.onAdvertAdblock.bind(this)),h.CRACKDOWN_PAUSE&&r.on(h.CRACKDOWN_PAUSE,this.onCrackDownPause.bind(this)),h.CRACKDOWN_UNPAUSE&&r.on(h.CRACKDOWN_UNPAUSE,this.onCrackDownUnPause.bind(this)),h.PLAY_PREVIEW&&r.on(h.PLAY_PREVIEW,this.onPlayPreview.bind(this)),h.PLAY_FULL&&r.on(h.PLAY_FULL,this.onPlayFull.bind(this)),l.on(f.UPDATE,this._onSourceUpdate.bind(this)),l.on(f.POPULATE,this._onPopulate.bind(this)),l.on(f.CONTROLS,this._onControlsChange.bind(this)),l.on(f.EMOTION,this._onEmotion.bind(this)),c.on(g.TIME,this._onProgress.bind(this)),c.on(g.VOLUME,this._onVolumeChange.bind(this)),c.on(g.SPEED,this._onSpeedChange.bind(this)),c.on(g.OUTER_PAUSE,this._onOuterPause.bind(this)),c.on(g.OUTER_PLAY,this._onOuterPlay.bind(this)),r.readyPromise().then(this._onInited.bind(this)).catch(this._onFailed.bind(this))},$.prototype._showCurrent=function(t){t&&d!==x(t)&&t.id&&(this.trigger($.EVENT_SHOW_TRACK,t),d=x(t))},$.prototype._onSourceChange=function(t){this.trigger($.EVENT_SOURCE,t),this.trigger($.EVENT_CHANGE,"all",!0),this._showCurrent(this.getCurrent())},$.prototype._onSourceUpdate=function(t,e,i,n){let a;a=e&&t?"all":e?"list":t?"index":"vlist",this.trigger($.EVENT_CHANGE,a,!0),n&&i&&s.count({Player_QueueUpdated:{from:i,addTracksToPlayerTime:n}}),!r.isPlaying()&&l.getCurrent()&&r.getTrack()!==l.getCurrent()?(this._showCurrent(this.getCurrent()),this.trigger($.EVENT_PROGRESS,{})):l.getCurrent()||this.clear()},$.prototype._onPopulate=function(t){this.trigger($.EVENT_UPDATE,t),t[l.getIndex()]&&this._showCurrent(this.getCurrent())},$.prototype.onCrackDownPause=function(t){var e={};e[t]={"Разрыв сессии":1},s.goal("CRACKDOWN_PAUSE",{"Обрыв длинной сессии":e}),this.trigger($.CRACKDOWN_PAUSE,t)},$.prototype.onCrackDownUnPause=function(t,e,i){var n={};n[t]={"Восстановление воспроизведения":1,"Время реакции пользователя":e,"Отключение обрывов":i?1:0},s.goal("CRACKDOWN_UNPAUSE",{"Обрыв длинной сессии":n})},$.prototype.onPlayPreview=function(){this.trigger($.PLAY_PREVIEW)},$.prototype.onPlayFull=function(){this.trigger($.PLAY_FULL)},$.prototype._onVolumeChange=function(t){this.trigger($.EVENT_VOLUME,t)},$.prototype._onSpeedChange=function(t){this.trigger($.EVENT_SPEED,t)},$.prototype._onProgress=function(t){this.trigger($.EVENT_PROGRESS,t)},$.prototype._onOuterPause=function(){this.pause()},$.prototype._onOuterPlay=function(){this.resume()},$.prototype._onState=function(t){switch(t){case _.INIT:case _.IDLE:this.trigger($.EVENT_STATE,"idle"),this.trigger($.EVENT_SHOW_PAUSE),this.trigger($.EVENT_TOGGLE_PAUSE,!1);break;case _.PLAYING:this.trigger($.EVENT_STATE,"playing"),this.trigger($.EVENT_SHOW_PLAY),this.trigger($.EVENT_TOGGLE_PAUSE,!0);break;case _.PAUSED:this.trigger($.EVENT_STATE,"paused"),this.trigger($.EVENT_SHOW_PAUSE),this.trigger($.EVENT_TOGGLE_PAUSE,!1);break;case _.FAILED:}},$.prototype._onControlsChange=function(t){this.trigger($.EVENT_CONTROLS,t)},$.prototype._onTrack=function(t){t?this._showCurrent(t):this.trigger($.EVENT_HIDE_TRACK)},$.prototype._onAdvert=function(t){this.trigger(t?$.EVENT_SHOW_ADVERT:$.EVENT_HIDE_ADVERT,t)},$.prototype._onShot=function(t){this.trigger(t?$.EVENT_SHOW_SHOT:$.EVENT_HIDE_SHOT,t)},$.prototype._onInited=function(){setTimeout(function(){this._inited=!0}.bind(this),300),s.count({playerTech:c.getType()})},$.prototype._onFailed=function(){this.failed=!0,this.checkFailed(),s.goal("NO_PLAYER",{counter:1})},$.prototype._onTrackError=function(t,e){const i={};i[e?e.message:"unknown track error"]={counter:1,track:t&&t.id||t},t&&setTimeout(function(){this._showCurrent(t)}.bind(this),0),s.goal("TRACK_ERROR",{error:{trackError:i}}),this._metricTimeout=this._metricTimeout&&clearTimeout(this._metricTimeout),o.show("playError"),this.trigger($.EVENT_TRACK_ERROR,t)},$.prototype._onTrackEnd=function(t,e){this.__sendPlayMetrics(t,e),this.trigger($.EVENT_TRACK_END,t)},$.prototype._onTrackPlay=function(t){this.getFlagValue("playOnUserInteraction")&&(T.endMark("click-to-play"),this.setFlagValue("playOnUserInteraction",!1)),this.trigger($.EVENT_TRACK_PLAY,t)},$.prototype._onTrackReady=function(){this._metricTimeout=this._metricTimeout&&clearTimeout(this._metricTimeout)||setTimeout(this.__sendPlayMetrics,12e5)},$.prototype._sendPlayMetrics=function(t,e){var i;e&&(t?(i=e.played>this._lastPlayed?e.played-this._lastPlayed:e.played,this._lastPlayed=0):(i=c.getPlayed(),this._lastPlayed=i),this._metricTimeout=this._metricTimeout&&clearTimeout(this._metricTimeout),i<0?s.goal("PLAY_BAD",{"Ошибка рассчётов метрики":{"Меньше нуля":1}}):i>3e4?s.goal("PLAY_BAD",{"Ошибка рассчётов метрики":{"Превышен максимум":1}}):s.goal("PLAY",{"Время прослушивания":{"Всего":i}}))},$.prototype._onSeqEnd=function(){s.goal("SEQUENCE_STOPED",{"Завершение очереди":1}),this.trigger($.EVENT_FINISHED)},$.prototype._buildAdvMetric=function(t,e,i){let n;n=i?i.adtype:t||"common";const a={};return a[n]={},a[n][e||"simple"]=1,a},$.prototype._onAdvertBegin=function(t,e){this.advertInfo={type:t,tag:e},s.count({activeWhenAd:isActiveTab?"yes":"no",adblocker:ya.music.adbState(!0)}),s.goal("ADV_TRUE",{"Аудио реклама":{"Рекламное место":this._buildAdvMetric(t,e)}})},$.prototype._onAdvertReady=function(t,e,i){s.goal("ADV_PLAY",{"Аудио реклама":{"Проигрывание":this._buildAdvMetric(t,e,i)}})},$.prototype._onAdvertStart=function(t,e,i){this.advertInfo={type:t,tag:e,data:i},s.goal("ADV_SHOW",{"Аудио реклама":{"Показ":this._buildAdvMetric(t,e,i)}})},$.prototype._onAdvertPlay=function(t,e,i){this.getFlagValue("playOnUserInteraction")&&(T.endMark("click-to-play"),this.setFlagValue("playOnUserInteraction",!1)),this.advertInfo={type:t,tag:e,data:i},s.goal("ADV_PLAYING",{"Аудио реклама":{"Воспроизведение":this._buildAdvMetric(t,e,i)}})},$.prototype._onAdvertPlayed=function(){this.trigger($.EVENT_EMPTY_ADVERT)},$.prototype._onAdvertEnd=function(t,e,i){this.generativePlayTask&&setTimeout(()=>{this.generativePlayTask(),this.generativePlayTask=null},500),s.goal("ADV_END",{"Аудио реклама":{"Успешное завершение":this._buildAdvMetric(t,e,i)}})},$.prototype._onAdvertError=function(t,e,i,n){var a={};a[n]=this._buildAdvMetric(t,e,i),s.goal("ADV_ERROR",{"Аудио реклама":{"Ошибка":a}})},$.prototype._onAdvertDataRequest=function(t,e,i){s.goal("ADV_DATA_DEBUG",{"Аудио реклама":{"Данные. Запросы":this._buildAdvMetric(t,e,i)}})},$.prototype._onAdvertDataResponse=function(t,e,i){var n={};n[i]=this._buildAdvMetric(t,e),s.goal("ADV_DATA_DEBUG",{"Аудио реклама":{"Данные. Ответы":n}})},$.prototype.advertClick=function(){this.advertInfo&&this.advertInfo.data&&this.advertInfo.data.clickThroughUrl&&r.advertClick()},$.prototype.onAdvertClick=function(){this.trigger($.EVENT_ADVERT_CLICK),s.goal("ADV_CLICK",{"Аудио реклама":{"Клик по рекламе":this._buildAdvMetric(this.advertInfo.type,this.advertInfo.tag,this.advertInfo.data)}})},$.prototype.onAdvertAdblock=function(){o.show("adblock")},$.prototype._buildShotMetric=function(t,e){var i=t&&t.shots[0].shotId,n={};return n[i]={},n[i][e]=1,n},$.prototype._onShotReady=function(t,e){s.goal("SHOT_PLAY",{"Шот":{"Проигрывание":this._buildShotMetric(t,e)}})},$.prototype._onShotStart=function(t,e){s.goal("SHOT_SHOW",{"Шот":{"Показ":this._buildShotMetric(t,e)}})},$.prototype._onShotPlay=function(t,e){this.getFlagValue("playOnUserInteraction")&&(T.endMark("click-to-play"),this.setFlagValue("playOnUserInteraction",!1)),s.goal("SHOT_PLAYING",{"Шот":{"Воспроизведение":this._buildShotMetric(t,e)}})},$.prototype._onShotEnd=function(t,e){s.goal("SHOT_END",{"Шот":{"Успешное завершение":this._buildShotMetric(t,e)}})},$.prototype._onShotError=function(t,e,i){var n={};n[i]=this._buildShotMetric(t,e),s.goal("SHOT_ERROR",{"Шот":{"Ошибка":n}})},$.prototype.getInfo=function(){return l.getInfo()},$.prototype.getSourceType=function(){return l.getType()},$.prototype.getConfig=function(){return l.getConfig()},$.prototype.updateFrom=function(t){l.updateFrom(t)},$.prototype.move=function(t,e){l.move(t,e)},$.prototype.remove=function(t,e){var i=l.getCurrent();l.remove(t||l.getTrackIndex(e),1);var n=l.getCurrent();(!l.getCount(!0)||this.isDisliked(n)&&i!==n)&&this.clear()},$.prototype.append=function(t){l.append(t)},$.prototype.clear=function(){if(!r.isReady())return r.readyPromise();var t=function(){d=null,this.trigger($.EVENT_EMPTY),this.trigger($.EVENT_CONTROLS,this.getControls())}.bind(this);return this.getTracksCount()?r.setSource({type:y.COMMON,tracks:[]}).then((function(){return t()})):(t(),Promise.resolve({}))},$.prototype.populate=function(t,e,i,n){return l.populate(t,i,e,n)},$.prototype.getCurrent=function(){return l.getCurrent()||r.getTrack()},$.prototype.isCurrent=function(t){return x(this.getCurrent())===x(t)},$.prototype.isEmpty=function(){return!(this.isRadio()||l.getCount(!0)||this.isGenerative())},$.prototype.getTracksCount=function(){return l.getCount(!0)},$.prototype.getTracks=function(t){return l.getList(!1,t)},$.prototype.getIndex=function(){return l.getIndex()},$.prototype.getNextTrack=function(){return l.getNext()},$.prototype.getPrevTrack=function(t){return t||l.getControls().prev?l.getPrev():null},$.prototype.getCurrentFormat=function(){var t=this.getCurrent();return t&&t.format},$.prototype.setShuffle=function(t){return l.toggleShuffle(t),s.count({shuffle:l.getShuffle()?"on":"off"}),l.getShuffle()},$.prototype.getShuffle=function(){return l.getShuffle()},$.prototype.toggleShuffle=function(t,e){const i=this.setShuffle(t);return e||o.show(i?"enableShuffle":"disableShuffle"),i},$.prototype.setRepeat=function(t){l.toggleRepeat(t);const e=l.getRepeat();let i;return i=e===v.ALL?"all":e===v.ONE?"track":"off",s.count({repeat:i}),this.trigger($.EVENT_CHANGE_REPEAT),l.getRepeat()},$.prototype.getRepeat=function(){return l.getRepeat()},$.prototype.toggleRepeat=function(){var t=this.setRepeat();let e;return e=t===v.ALL?"enableRepeat":t===v.ONE?"enableRepeatTrack":"disableRepeat",o.show(e),t},$.prototype.setSort=function(t,e){l.toggleSort(t,e);var i=l.getSort();return s.count({sort:i===b.ASC?"asc":"desc"}),l.getSort()},$.prototype.getSort=function(){return l.getSort()},$.prototype.toggleSort=function(){return this.setSort()},$.prototype.enablePlayMode=function(){M=!1},$.prototype.disablePlayMode=function(){M=!0},$.prototype.checkFailed=function(){return!!this.failed&&(o.show("playerFailed"),!0)},$.prototype.isReady=function(){return r.isReady()},$.prototype.onReady=function(t){return r.readyPromise().then(t,(function(){}))},$.prototype.isCommonPlay=function(){return r.getCurrentTask()===m.COMMON},$.prototype.isAdvertPlay=function(){return r.getCurrentTask()===m.ADVERT},$.prototype.isShotPlay=function(){return r.getCurrentTask()===m.SHOT},$.prototype.isTrackPlay=function(){return r.getCurrentTask()===m.TRACK||r.getCurrentTask()===m.PLAY},$.prototype.getControls=function(){return l.getControls()},$.prototype.isPlaying=function(){return r.isPlaying()},$.prototype.isPaused=function(){return r.isPaused()},$.prototype.isIdle=function(){var t=r.getCurrentTask(),e=r.isPaused();return!(r.isPlaying()||e&&t!==m.SOURCE)},$.prototype.getState=function(){return r.getState()},$.prototype.canNavigate=function(){return c.canNavigate()},$.prototype.getType=function(){return c.getType()},$.prototype.getPosition=function(){return c.getPosition()},$.prototype.getDuration=function(){return c.getDuration()},$.prototype.getLoaded=function(){return c.getLoaded()},$.prototype.isAutoplayable=function(){return c.isAutoplayable&&c.isAutoplayable()},$.prototype.setPosition=function(t){return c.setPosition(t)},$.prototype.getAdvert=function(){return r.getAdvert()},$.prototype.getShot=function(){return r.getShot?r.getShot():null},$.prototype.stopShot=function(){return r.stopShot()},$.prototype.initSource=function(t){return this._checkBadRegion()?S("Bad region"):(this._notifyAdvert(),r.isReady()?(this.lastPromise=r.setSource(t),this.lastPromise):r.readyPromise().then(this.initSource.bind(this,t)))},$.prototype.playSource=function(t,e){if(this._notifyBadRegion())return S("Bad region");if(this._checkPremiumOnly())return S("Premium only");if(!r.isReady())return r.readyPromise().then(this.playSource.bind(this,t,e));if(this.isGenerative()&&this.isPlaying())return r.pauseStream().then(setTimeout(this.playSource.bind(this,t,e),0));if(t.type!==ya.music.Player.sourceTypes.FM_STREAM)r.stopStream();else if(this.isAdvertPlay())return this.generativePlayTask=this.playSource.bind(this,t,e),this._notifyAdvert(),Promise.resolve();return M?this.lastPromise=r.setSource(t):(this._notifyAdvert(),this.lastPromise=r.play(t,e)),this._checkShot()&&this.stopShot(),this.lastPromise},$.prototype.play=function(t){return this._notifyBadRegion()?S("Bad region"):this._checkPremiumOnly()?S("Premium only"):(this._notifyAdvert(),this.lastPromise=r.play(null,t),this.lastPromise)},$.prototype.playCommon=function(t){return r.playCommon(t)},$.prototype.pause=function(){return this.togglePause(!0)},$.prototype.resume=function(){return this.togglePause(!1)},$.prototype.togglePause=function(t){if(!this._notifyBadRegion()&&!this._checkPremiumOnly())return a.isLoggedIn()||"radio"!==Mu.serviceName?void c.togglePause(t):(a.showAuthForm(function(){this.togglePause(t)}.bind(this),"togglePause"),S("Auth required"))},$.prototype.next=function(){return this._notifyBadRegion()?S("Bad region"):this._checkPremiumOnly()?S("Premium only"):(this._notifyAdvert(),this._checkShot()&&this.stopShot(),!a.isLoggedIn()&&this.isRadio()?(a.showAuthForm(function(){this.next()}.bind(this),"togglePause"),S("Auth required")):l.next())},$.prototype.prev=function(){return this._notifyBadRegion()?S("Bad region"):this._checkPremiumOnly()?S("Premium only"):(this._notifyAdvert(),this._checkShot()&&this.stopShot(),l.prev())},$.prototype.stop=function(){return r.stop()},$.prototype._onCommonStart=function(){this.trigger($.EVENT_COMMON_START)},$.prototype._onCommonPlay=function(){this.getFlagValue("playOnUserInteraction")&&(T.endMark("click-to-play"),this.setFlagValue("playOnUserInteraction",!1)),this.trigger($.EVENT_COMMON_START)},$.prototype._onCommonEnd=function(){this.trigger($.EVENT_COMMON_END)},$.prototype._onCommonError=function(){this.trigger($.EVENT_COMMON_END)},$.prototype._onEmotion=function(t,e){this.trigger($.EVENT_EMOTION,t,e)},$.prototype.updateFavs=function(t){return l.updateFavs(t)},$.prototype.isLiked=function(t){return l.isLiked(t)},$.prototype.isDisliked=function(t){return l.isDisliked(t)},$.prototype.like=function(t,e,i,n){return w.isLogged()||"radio"===Mu.serviceName?(i&&s.goal("LIKE",{likeFrom:i}),l.toggleLike(!0,t,n,e)):(a.showAuthForm(function(){this.isLiked(t)||this.like(t,e,i)}.bind(this),"like"),S("Auth required"))},$.prototype.unlike=function(t,e,i,n){return w.isLogged()||"radio"===Mu.serviceName?(i&&s.goal("REMOVE",{likeFrom:i}),l.toggleLike(!1,t,n,e)):(a.showAuthForm(function(){this.isLiked(t)&&this.unlike(t,e,i)}.bind(this),"unlike"),S("Auth required"))},$.prototype.dislike=function(t,e,i){return w.isLogged()||"radio"===Mu.serviceName?(i&&s.goal("DISLIKE",{dislikeFrom:i}),l.toggleDislike(!0,t,e)):(a.showAuthForm(function(){this.isDisliked(t)||this.dislike(t,e,i)}.bind(this),"dislike"),S("Auth required"))},$.prototype.undislike=function(t,e,i){return w.isLogged()||"radio"===Mu.serviceName?(i&&s.goal("REMOVE",{dislikeFrom:i}),l.toggleDislike(!1,t,e)):(a.showAuthForm(function(){this.isDisliked(t)&&this.undislike(t,e,i)}.bind(this),"undislike"),S("Auth required"))},$.prototype.isRadio=function(t){return l.getType()===y.RADIO&&(!t||l.getConfig().type===t)},$.prototype.isRupRadio=function(t){if(l.getType()!==y.RADIO)return!1;const e=t||l.getConfig().type;return!["playlist","track","artist","album"].includes(e)},$.prototype.isGenerative=function(){const t=this.getConfig();return t&&"generative"===t.type},$.prototype.getRestrictions=function(){return l.getRestrictions()},$.prototype.getSettings=function(){return this.isRadio()&&l.getSettings()},$.prototype.setOption=function(t,e){var i={};return i[t]=e,l.setSettings(i)},$.prototype.settingsReady=function(){return k.readyPromise()},$.prototype.getPreferredType=function(){return k.getPreferredType()},$.prototype.setPreferredType=function(t){return k.setPreferredType(t)},$.prototype.getHQ=function(){return k.getHQ()},$.prototype.toggleHQ=function(){var t=k.setHQ(!k.getHQ());return o.show(t?"enableHQ":"disableHQ"),t},$.prototype.changeTheme=function(t){this.trigger($.EVENT_CHANGE_THEME,t)},$.prototype.canChangeVolume=function(){return!c.isDeviceVolume()},$.prototype.getVolume=function(){return c.getVolume()},$.prototype.setVolume=function(t){return c.setVolume(t)},$.prototype.getSpeed=function(){return c.getSpeed()},$.prototype.setSpeed=function(t){return c.setSpeed(t)},$.prototype.mute=function(t){return c.toggleMute(t)},$.prototype.isEqualizer=function(){return c.getEqualizerState()},$.prototype.getEqualizer=function(){return c.getEqualizer()},$.prototype.toggleEqualizer=function(t){if(t===c.getEqualizerState())return t;const e=this.isEqualizer(),i=!!c.toggleEqualizerState(t);return this._inited&&e!=i&&o.show(i?"enableEqualizer":"disableEqualizer"),i},$.prototype.isTypeAvailable=function(t){return c.isTypeAvailable(t)},$.prototype._notify=function(t,e){return!!t&&(this._notify[e]||(this._notify[e]=!0,setTimeout(function(){o.show(e),setTimeout(function(){delete this._notify[e]}.bind(this),3e3)}.bind(this),100)),!0)},$.prototype._checkBadRegion=function(){return w.isBadRegion()},$.prototype._notifyBadRegion=function(){return!!w.isBadRegion()&&(Mu&&"music"!==!Mu.serviceName?(this.trigger($.RESTRICTION_DENIED),!0):this._notify(!0,"badRegion"))},$.prototype._checkPremiumOnly=function(){return!!w.isNotFree()&&(this.trigger($.RESTRICTION_PREMIUM_ONLY),!0)},$.prototype._checkShot=function(){return!!this.getShot()},$.prototype._notifyAdvert=function(){return this._notify(this.getAdvert(),"playerLocked")},$.delegate=function(t){const e=t;Object.keys($).forEach(t=>{"prototype"!==t&&(e[t]=$[t])})},$.prototype.delegate=function(t,e){const i=t,n=e||[];Object.keys($.prototype).forEach(t=>{n.includes(t)||i[t]||(i[t]=this[t].bind(this))})},$.prototype.setFlagValue=function(t,e){this.flags[t]=e},$.prototype.getFlagValue=function(t){return this.flags[t]},Mu.Adapter=$},function(t,e,i,n){t.exports={startMark:t=>{try{Ya.Rum.time(t)}catch(t){console.error(t)}},endMark:t=>{if(window.Ya&&Ya.Rum&&Ya.Rum.timeEnd)try{Ya.Rum.timeEnd(t)}catch(t){console.error(t)}}}},function(t,e,i,n){t.exports=i(39)},function(t,e,i,n){var a=i(28),s=i(3);t.exports=function(t){var e=s.reject(t);return e.catch(a),e}},function(t,e,i,n){t.exports={send:function(t){var e=$.map(t||{},(function(t,e){return"&"+e+"="+t})).join("");(new Image).src="https://redirect.appmetrica.yandex.com/serve/386433158083577268?noredirect=1"+e}}},function(t,e,i,n){var a=i(26),s=i(42),o={providers:Mu.settings.social+"providers.jsonp?callback=?",loginStatus:"https://"+location.host+"/blocks/auth/login-status.html",passport:Mu.settings.passport+"passport",passportRetpath:s("settings")},r=function(){Mu.eventize(this)};r.prototype.init=function(t){this.navigation=t.get("navigation"),this.blocks=t.get("blocks"),this.metrika=t.get("metrika"),this.pages=t.get("pages"),this.check=this.check.bind(this),this.getAuthInfo=this.getAuthInfo.bind(this),this.fillInfo=this.fillInfo.bind(this),this.fillExperiments=this.fillExperiments.bind(this),this.cookieLogin=this.getCookieLogin(),this.metrikaUpdate=this.metrikaUpdate.bind(this),this.updateAuthInfo=this.updateAuthInfo.bind(this),this.lastHlsState=Mu.experiments&&"on"===Mu.experiments.useHlsTracks,$(window).on("focus",this.check),Mu.authData?this.fillInfo(Mu.authData):this.getAuthInfo().then(this.fillInfo),setInterval(this.metrikaUpdate,this.getUpdateInterval()),this.csrfTimeout=setTimeout(this.updateAuthInfo,this.getUpdateCSRFInterval()),this.pages.on("loaded",this.generateRandomInt),this.on("showAuthForm",this.onShowAuthForm.bind(this))},r.prototype.fillInfo=function(t,e){this.lastUpdateTime=Date.now(),clearTimeout(this.csrfTimeout),this.csrfTimeout=setTimeout(this.updateAuthInfo,this.getUpdateCSRFInterval()),this.user=t.user,this.cookieLogin=this.getCookieLogin(),this.fillExperiments(t),this.setHeaders(this.user.uid),Mu.authData=t,this.preLogin?(this.trigger("loginChanged",t),t.user.uid&&!this.preLogin.uid&&(e=e||this.lastProvider||"ya",this.metrika.goal("LOGINED",{"Залогинивание":{provider:e,from:this.lastFrom||"login"}}),this.lastFrom=null,this.lastProvider=null,this.lastExtendedData={},this.trigger("login",t)),this.preLogin.uid=t.user.uid):this.preLogin={uid:t.user.uid},this.metrika.count({language:Mu.settings.lang}),this.trigger("info",t),this.pendingCallback&&this.pendingCallback.call(null),this.pendingCallback=null},r.prototype.fillExperiments=function(t){if(t.experiments){var e;try{e=JSON.parse(t.experiments)}catch(t){}e&&(this.experiments=t.experiments,Mu.experiments=e,this.metrikaUpdate())}},r.prototype.metrikaUpdate=function(){var t=this.metrika.lastAction;this.metrika.heartbeat(),this.metrika.count({experiments:Mu.experiments},""),this.metrika.lastAction=t},r.prototype.getUpdateCSRFInterval=function(){return $.cookie("csrf-lifetime_override")?3e5:864e5},r.prototype.getUpdateInterval=function(){return parseInt($.cookie("auth-lifetime_override"))||36e5},r.prototype.getCookieLogin=function(){return $.cookie("yandex_login")||""},r.prototype.getAuthInfo=function(){var t=Mu.dataSrc.get("auth",{},{nocache:!0});return ya.music.user.update(),t},r.prototype.updateAuthInfo=function(){var t=new a;return this.getAuthInfo().then(function(e){this.fillInfo(e),t.resolve()}.bind(this)),t.promise()},r.prototype.refresh=function(t,e){if(this.refreshPromise)return this.refreshPromise;this.setHeaders();var i=this,n=i.user||{},s=n.login!==i.getCookieLogin(),o=this.getAuthInfo(),r=new a,l=Promise.all([o,r.promise()]);return this.refreshPromise=l,s&&i.blocks.forElem($(".loading_page")[0]).doShow(!0),o.then((function(a){var o=(a=a[0]||a)&&a.user||{},l=!!i.pendingCallback;if(i.fillInfo(a,t),s||o.uid!==n.uid||o.premium!==n.premium){const t=Mu.experiments&&"on"===Mu.experiments.useHlsTracks;i.lastHlsState!==t||i.forceReload||!l&&!e?window.location.reload():(i.navigation.reload(),r.resolve(!0),delete i.refreshPromise)}r.resolve(!1),delete i.refreshPromise})).fail((function(){window.location.reload()})),l},r.prototype.check=function(){var t=this.getCookieLogin(),e=this.user.login,i=this.user.uid,n=$.cookie("passport_auth_action");if($.removeCookie("passport_auth_action",{path:"/"}),this.cookieLogin!==t||n)return!n&&t&&e&&i?this.changeDefaultAccount(i):this.refresh(),!1;var a=ya.music.info.platform;return this.pendingCallback&&(a.mobile||a.tablet)&&(this.pendingCallback.call(null),this.pendingCallback=null),!0},r.prototype.isLoggedIn=function(){return!!(this.user&&this.user.uid||sessionStorage&&sessionStorage.getItem("authToken"))},r.prototype.isPremium=function(){return!(!this.user||!this.user.premium)},r.prototype.isYandexEmployee=function(){return!(!this.user||!this.user.isYandex)},r.prototype.generateRandomInt=function(){return $.cookie("yandexuid")+(Math.random()+"").slice(2)},r.prototype.hasEmail=function(){return!(!this.user||!this.user.hasEmail)},r.prototype.showAuthForm=function(t,e,i,n){this.pendingCallback=t,this.lastFrom=e,this.lastExtendedData=i||{},this.forceReload=!!n,this.onShowAuthForm()},r.prototype.setHeaders=function(t){ya.music.user.setCurrentUID(t),t?Mu.dataSrc.setHeaders({"X-Current-UID":t}):Mu.dataSrc.setHeaders({})},r.prototype.changeDefaultAccount=function(t){var e=this,i=location.protocol+"//"+location.host+"/blocks/auth/login-status.html",n=$('<form class="_hidden" method="POST"><input type="hidden" name="yu" value="'+encodeURI($.cookie("yandexuid"))+'"/><input type="hidden" name="action" value="change_default"/><input type="hidden" name="uid" value="'+encodeURI(t)+'"/><input type="hidden" name="retpath" value="'+encodeURI(i)+'"/></form>');n.attr("action",Mu.settings.passport+"passport?mode=embeddedauth");var a="auth-iframe-"+(1e6*Math.random()<<0);n.attr("target",a),n.appendTo("body"),$('<iframe class="_hidden" name="'+a+'" src="about:blank"></iframe>').appendTo("body"),window.setTimeout((function(){n[0].submit()}),1);var s=function(t){var i=t.originalEvent;i.source!==window&&-1!==i.data.indexOf("async-auth")&&($(window).off("message",s),e.refresh())};$(window).on("message",s)},r.prototype.setCheckCallback=function(t){this._checkCallback=t},r.prototype.runCheckCallback=function(){this._checkCallback&&(this._checkCallback(),delete this._checkCallback)},r.prototype.getAuthOrigin=function(t){t=t||this.lastFrom;var e="undefined"!=typeof Mu&&Mu.serviceName?Mu.serviceName:"music";return"string"==typeof t&&t&&(e+="_"+t),e},r.prototype.getAdditionalParams=function(){var t=[];if(this.lastExtendedData&&this.lastExtendedData.params)for(var e in this.lastExtendedData.params)this.lastExtendedData.params.hasOwnProperty(e)&&t.push(encodeURIComponent(e)+"="+encodeURIComponent(this.lastExtendedData.params[e]));return t.join("&")},r.prototype.onShowAuthForm=function(){this._randomInt=this._randomInt||this.generateRandomInt();var t=Mu.settings,e=t.uatraits.isMobile||t.uatraits.isTouch,i="reqid="+this._randomInt;let n="",a="";if("music"===Mu.serviceName)if(e){const t=new URL(location.href);let e=t.pathname,i=t.search;e.includes("?")&&(e=e.substring(0,e.indexOf("?")),i=e.substring(e.indexOf("?"))),i&&i.startsWith("?")&&(i=i.slice(1)),e.startsWith("/")&&(e=e.slice(1)),a=i,n=e}else n="settings";var o=s(n,a?[a,i]:[i]),l=this.getAdditionalParams(),c="https://clck.yandex.ru/redir/dtype=stred/pid=616/cid=123/pageID="+this._randomInt+"/experiment=on/*"+t.passport+"auth?origin="+this.getAuthOrigin()+(l?"&"+l:"")+"&retpath="+o;e?location.href=c:window.open(c,"passport_auth"),$(window).one("focus",(function(){try{r.refresh()}catch(t){}}))},r.prototype.generateRandomInt=function(){var t=$.cookie("yandexuid"),e=(Math.random()+"").slice(2);if(this._randomInt=t+e,o.passportRetpath.indexOf("reqid")<0)o.passportRetpath+=encodeURIComponent("&reqid="+this._randomInt);else{var i=encodeURIComponent("reqid="+this._randomInt);o.passportRetpath=o.passportRetpath.replace(/(reqid.*[0-9]+)$/,i)}return o.loginStatus.indexOf("reqid")<0?o.loginStatus+="?reqid="+this._randomInt:o.loginStatus=o.loginStatus.replace(/(reqid=[0-9]+)$/,"reqid="+this._randomInt),this._randomInt},t.exports=r},function(t,e,i,n){t.exports=function(t,e=[]){if(!Array.isArray(e))return!1;var i=Mu&&Mu.settings&&Mu.settings.uatraits&&(Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch)?"":"from-passport",n=i?e.concat(i).join("&"):e.join("&");return n.length>0&&(n="?"+n),encodeURIComponent("https://"+location.host+"/"+(t||"")+n)}},function(t,e,i,n){var a=yr.externals=yr.externals||{},s=function(t){var e,i;this.staticMethods={domDelegate:function(t,n,a){"function"==typeof n&&(a=n,n=void 0),n=0===(n=n||"").indexOf(":")?n:" "+n,e||(e=$(document.body)),e.on(t,"."+this.type+n,(function(t){t!==i&&(i=t,a.call(this,t))}))}},this.methods={getParent:function(){for(var e=this.container.parentNode;e;){var i=t.forElem(e);if(i)return i;e=e.parentNode}},closestParent:function(t){for(var e=this.getParent();e;){if(e.constructor.type===t)return e;e=e.getParent()}},triggerEvent:function(t){if(!t||!t.type)throw new Error("Event required");t.target=this;for(var e,i,n=this;n&&((e=n.__delegatedEvents)&&(i=e[t.type])&&i.forEach((function(e){var i=e.call(n,t);i&&(t.returnValue=i)})),!t.stopBubble);)n=n.getParent();return t.returnValue},delegate:function(t,e){var i=this.__delegatedEvents||(this.__delegatedEvents={});(i[t]||(i[t]=[])).push(e)},undelegateAll:function(){this.__delegatedEvents=null}}};s.prototype.mix=function(t){return $.extend(t,this.staticMethods),$.extend(t.prototype,this.methods),t};var o=function(){this.blocks={},this.binding={},this.bindingId=1,this.objectToAssign=null,this.pendingBlocks={},this.blockMixin=new s(this);var t=this;a.blockRoot=function(e,i,n){return t.bindModel(e[0].data,i,n)},Mu.dotBlockRoot=function(t,e,i){return a.blockRoot([{data:t}],e,i)}};o.prototype.register=function(t,e){this.blocks[t]=e,e.type=t,this.blockMixin.mix(e),this.di&&this.di.init([e])},o.prototype.get=function(t){return this.blocks[t]},o.prototype.beginBinding=function(){if(this.currentRange)throw new Error("beginBinding() failed: end previous binding");this.currentRange={start:this.bindingId,end:-1}},o.prototype.endBinding=function(){var t=this.currentRange;return t&&(t.end=this.bindingId,this.currentRange=null),t},o.prototype.cleanRange=function(t){for(var e,i=t.start;i<t.end;i++)(e=this.binding[i])&&e.block&&e.block.destroy&&e.block.destroy(),delete this.binding[i]},o.prototype.bindModel=function(t,e,i){this.bindingId>=4294967295&&(this.bindingId=1);var n=this.get(e),a=null;return n&&this.objectToAssign instanceof n&&(a=this.objectToAssign,this.objectToAssign=null),this.binding[this.bindingId]={data:t,type:e,block:a},i&&(this.pendingBlocks[e]=!0),this.bindingId++},o.prototype.forElem=function(t,e){if(!t||!t.getAttribute)return null;if(e&&!(t=$(t).closest("."+e)[0]))return null;var i=t.getAttribute("data-b");if(!i)return null;var n=this.binding[i];return n?(n.block||(n.block=this.createBlock(n,t)),n.block):null},o.prototype.createBlock=function(t,e){var i=this.blocks[t.type];i||((i=this.blockMixin.mix((function(){}))).type=t.type);var n=new i(e);return n.container=e,n.data=t.data,n.init&&this.di&&this.di.init([n]),n},o.prototype.assignNext=function(t){this.objectToAssign=t},o.prototype.init=function(t){for(var e in this.di=t,this.blocks)this.blocks.hasOwnProperty(e)&&t.init([this.blocks[e]])},o.prototype.initPendingBlocks=function(t){var e=$(t);for(var i in this.pendingBlocks)for(var n=e.find("."+i),a=0;a<n.length;a++)this.forElem(n[a]);this.pendingBlocks={}},Mu.Blocks=o},function(t,e,i,n){!function(t){window.Lego||(window.Lego={block:{}}),Lego.block["i-social"]=function(e){function i(t){var e=this;function i(){var t;if(!e.yaWindow)return!0;try{t=e.yaWindow.closed}catch(e){t=!0}return t}function n(){i()&&(e.wTimer=clearInterval(e.wTimer),e.onFailure({status:"error"}))}function a(){this.handlers={onSuccess:null,onFailure:null},e.wTimer=clearInterval(e.wTimer),i()||e.yaWindow.close(),e.yaWindow=!1}this.url=t.startUrl+"?",delete t.startUrl,this.popupName=t.popupName,this.yaWindow=null,this.wTimer=null,this.paramsDefault=t,this.start=function(t,i,s){a(),e.handlers={onSuccess:t,onFailure:i},function(t){var i=e.popupName,a=t&&t.window&&t.window.width||500,s=t&&t.window&&t.window.height||280,o="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+Math.round(((window.opera?window.innerWidth:screen.availWidth)-a)/2)+", top="+Math.round(((window.opera?window.innerHeight:screen.availHeight)-s)/2)+", width="+a+", height="+s;t&&t.window&&delete t.window;var r={};for(var l in e.paramsDefault)r[l]=e.paramsDefault[l];for(var l in t)r[l]=t[l];if(r.display&&"popup"!=r.display)r.retpath=r.retnopopup||window.location.href;else{var c="ddom="+(r.ddom||(location.hostname==document.domain?"":document.domain));"retnopopup"in r&&delete r.retnopopup,r.retpath+=(r.retpath.match("#")?"&":"#")+c}var d=e.url,u=[];for(var p in r)u.push(encodeURIComponent(p)+"="+encodeURIComponent(r[p]));d+=u.join("&"),r.display&&"popup"!=r.display?window.location.href=d:(e.yaWindow=window.open(d,i,o),e.yaWindow.focus(),e.yaWindow&&(e.wTimer=setInterval(n,500)))}(s)},this.onSuccess=function(t){a();var i=e.handlers.onSuccess;i&&i.call(e,t)},this.onFailure=function(t){a();var i=e.handlers.onFailure;i&&i.call(e,t)}}arguments.callee.Broker=i;var n=arguments.callee.defaultParams={},a=arguments.callee.broker=new i(t.extend(n,e));return a}}(jQuery)},function(t,e,i,n){var a=function(t){t=t||{};this.lifeTime=t.lifeTime,this.size=t.size||100,this.map={},this.keys=[],this.lifeTime&&setInterval(function(){this.clear()}.bind(this),this.lifeTime),Mu.eventize(this)};a.prototype.contains=function(t){return!!this.map.hasOwnProperty(t)},a.prototype.push=function(t,e){if(t){this.contains(t)&&this.__removeKey(t);var i={value:e,ts:+new Date};this.map[t]=i,this.keys.push(t),this.keys.length>=this.size&&this.__removeKey()}},a.prototype.pop=function(t){if(!this.contains(t))return null;var e=this.map[t];return this.__removeKey(t),e.value},a.prototype.get=function(t){return this.contains(t)?this.map[t].value:null},a.prototype.clear=function(t){for(var e=+new Date,i=this.keys.slice(0,this.keys.length),n=0;n<i.length;n++){var a=i[n],s=this.map[a];(t||e-s.ts>this.lifeTime)&&(this.__removeKey(a),this.trigger("obsoleted",s.value))}},a.prototype.__removeKey=function(t){if(0!==this.keys.length){t||(t=this.keys[0]);var e=this.keys.indexOf(t);-1!==e&&this.keys.splice(e,1),delete this.map[t]}},Mu.cache={create:function(t){return new a(t)}}},function(t,e,i,n){console.log("Для получения лога диагностики ошибок наберите diagnose()"),window.diagnose=function(){console.log(Mu.blocks.di.repo.diag.getDiag())}},function(t,e,i,n){var a=i(26),s=function(){this.timeouts={_default:5e3},this._cache={}};s.prototype.getExternalData=function(){var t={};try{var e=window.top===window?document.location.href:document.referrer;e=e.replace(/^[^:]*:\/\/([^\/]*).*$/,"$1"),t["external-domain"]=e,t.overembed=window.parent!==window.top?"true":"false"}catch(t){}return t},s.prototype.get=function(t,e,i){i=i||{},e=e||{},this.makeKeyParams(e);var n=this.getKey(t,e);if(this.makeParams(e),!i.nocache&&this._cache[n])return Promise.resolve(this._cache[n]);e.ncrnd=Math.random();var s={type:"GET",fnName:"get",key:n,query:jQuery.param(e)},o=i._deferred||new a,r=this.makeRequestParams(s,t,e,i,o);return this.updateAuth(t).then((function(){$.ajax(r)})),o.promise()},s.prototype.post=function(t,e,i){i=i||{},e=e||{},this.makeKeyParams(e,!0),this.makeParams(e);var n=i._deferred||new a,s=this.makeRequestParams({type:"POST",fnName:"post"},t,e,i,n);return s.data=e,i.multipart&&this.makeMultipart(s),i.json&&(s.contentType="application/json",s.data=JSON.stringify(s.data)),this.updateAuth(t).then((function(){$.ajax(s)})),n.promise()},s.prototype.updateAuth=function(t){var e=new a;e.resolve();var i=e.promise();if("auth"===t)return i;var n=Date.now(),s=this.auth.getUpdateInterval();return this.auth.lastUpdateTime+s<=n?this.auth.updateAuthInfo():i},s.prototype.makeKeyParams=function(t,e){var i=t||{};if(Mu.settings&&Mu.settings.lang&&(i.lang=Mu.settings.lang),Mu.settings&&Mu.settings.overrideExperiments&&(i.overrideExperiments=Mu.settings.overrideExperiments),e){var n=this.auth;n&&n.user&&n.user.sign&&(i.sign=n.user.sign),n&&n.experiments&&(i.experiments=n.experiments)}return i},s.prototype.makeParams=function(t){var e=this.getExternalData();e["external-domain"]&&(t["external-domain"]=e["external-domain"],t.overembed=e.overembed)},s.prototype.makeRequestParams=function(t,e,i,n,a){var s=t.type,o="/handlers/"+e+".jsx";return o="GET"===s?o+"?"+t.query:o,{type:s,url:o,dataType:"json",timeout:this.timeouts[e]||this.timeouts._default,headers:this.makeHeaders(),success:function(i,o,r){this.checkAntirobot(i),this.checkCompat(r),this.checkAuthReset(r),this.printBackendRequestsLogs(i,e),"GET"!==s||n.nocache||this.cache(t.key,i),a.resolve(i)}.bind(this),error:function(o,r,l){this.checkCompat(o),403!==o.status||n.triedAuth?n.retryCount?(n.retryCount-=1,n._deferred=a,setTimeout(this[t.fnName].bind(this,e,i,n),3e3)):"GET"!==s||o.status||null!=n.retryCount?a.reject({statusCode:o.status,status:r,error:l,data:o.responseJSON}):(n.retryCount=1,n._deferred=a,setTimeout(this.get.bind(this,e,i,n),3e3)):(n.triedAuth=!0,"POST"===s?this.auth.updateAuthInfo().then(this.post.bind(this,e,i,n)):(n._deferred=a,this.auth.updateAuthInfo().then(this[t.fnName].bind(this,e,i,n)).catch(()=>{a.reject({status:r,error:l,data:o.responseJSON})})))}.bind(this)}},s.prototype.makeHeaders=function(){return Object.assign({},this.requestHeaders,{"X-Retpath-Y":location.href})},s.prototype.setHeaders=function(t){this.requestHeaders=t},s.prototype.makeMultipart=function(t){var e="MU--"+ +new Date+"--",i="--"+e,n=[i],a=t.data;for(var s in a)if(a.hasOwnProperty(s)){if(n.push('\r\nContent-Disposition: form-data; name="'),n.push(encodeURIComponent(s)),n.push('"'),"object"==typeof a[s]&&(a[s].filename&&n.push('; filename="'+encodeURIComponent(a[s].filename)+'"'),a[s].contentType&&n.push("\r\nContent-Type: "+a[s].contentType)),n.push("\r\n\r\n"),"object"==typeof a[s]&&a[s].data)if(a[s].data instanceof ArrayBuffer)for(var o=new Uint8Array(a[s].data),r=0;r<o.length;r++)n.push(String.fromCharCode(o[r]));else n.push(a[s].data);else n.push(a[s]);n.push("\r\n"),n.push(i)}n.push("--\r\n"),t.data=n.join(""),t.type="POST",t.contentType="multipart/form-data; charset=UTF-8; boundary="+e},s.prototype.getKey=function(t,e){for(var i=t+".jsx?",n=[],a=Object.keys(e).sort(),s=0;s<a.length;s++){var o=a[s];n.push(o+"="+e[o])}return i+n.join("&")},s.prototype.cache=function(t,e){this._cache[t]=e},s.prototype.uncache=function(t,e){e=e||{},delete this._cache[this.getKey(t,e)]},s.prototype.checkCompat=function(t){var e=parseInt(t.getResponseHeader("X-Compat"));if(!isNaN(e)&&e>Mu.settings.compat){var i=parseInt($.cookie("compat"));(isNaN(i)||e>i)&&($.cookie("compat",e,{expires:365,path:"/"}),location.reload())}},s.prototype.checkAuthReset=function(t){"Need reset"===t.getResponseHeader("X-Auth-Session")&&$.ajax(Mu.settings.passport+"auth/update",{cache:!1,xhrFields:{withCredentials:!0},error:function(){}})},s.prototype.checkAntirobot=function(t){var e=t.captcha&&t.captcha["captcha-page"];e&&(this.metrika&&this.metrika.goal("AntiRobotCaptcha"),window.location=e)},s.prototype.printBackendRequestsLogs=function(t,e){if(!t)return;let i;t.__backendRequestsLogs?i=t.__backendRequestsLogs:Array.isArray(t)&&t.length&&t[t.length-1].__backendRequestsLogs&&(i=t[t.length-1].__backendRequestsLogs),i&&(console.groupCollapsed(`${String.fromCodePoint(128075)} Handler ${e}.jsx`),i.forEach(t=>{console.log(`%c [${t.backendType}]${t.pathname}`,"font-weight: bold; ");try{t.response.body=JSON.parse(t.response.body)}catch(t){}console.log(t)}),console.groupEnd(),t.__backendRequestsLogs?delete t.__backendRequestsLogs:Array.isArray(t)&&t.length&&t[t.length-1].__backendRequestsLogs&&t.splice(-1,1))},t.exports=s},function(t,e,i,n){var a,s,o=function(){};o.formatDiag=function(t){return Object.keys(t).map((function(e){var i=t[e];return"----------------------------------------------------\n"+(o.translations[e]||e)+"\n----------------------------------------------------\n\n"+Object.keys(i).map((function(t){var e=i[t];return!0===e&&(e="true"),!1===e&&(e="false"),e instanceof Object?(o.translations[t]||t)+":\n"+Object.keys(e).map((function(t){var i=e[t];return!0===i&&(i="true"),!1===i&&(i="false"),"  "+(o.translations[t]||t)+": "+(o.translations[i]||i)})).join("\n"):(o.translations[t]||t)+": "+(o.translations[e]||e)})).join("\n\n")})).join("\n\n")},o.prototype.init=function(t){a=t.get("adapter"),s=ya.music.Audio,o.translations={portal:i18n("diag","Портал"),system:i18n("diag","Информация о системе"),browser:i18n("diag","Информация о браузере"),platform:i18n("diag","Данные о платформе"),turbo:i18n("diag","турбо-режим"),adblocker:i18n("diag","Блокировщик рекламы"),settings:i18n("diag","Настройки"),volumeSettings:i18n("diag","Настройки звука"),volume:i18n("diag","Громкость"),deviceVolume:i18n("diag","Программное управление громкостью"),equalizer:i18n("diag","Эквалайзер"),volumeGamma:i18n("diag","Логарифмическая шкала громкости"),hq:i18n("diag","Режим высокого качества"),userInfo:i18n("diag","Информация о пользователе"),region:i18n("diag","Регион пользователя"),portalRegion:i18n("diag","Регион портала"),logged:i18n("diag","Авторизованный пользователь"),premium:i18n("diag","Премиум-пользователь"),preferredType:i18n("diag","Выбранный плеер"),auto:i18n("diag","выбирать автоматически"),logErrors:i18n("diag","Лог ошибок плеера"),player:i18n("diag","Информация о плеере"),flash:i18n("diag","Flash-реализация плеера"),html5:i18n("diag","HTML5-реализация плеера"),format:i18n("diag","Формат текущего трека"),codec:i18n("diag","Кодек"),bitrate:i18n("diag","Битрейт"),gain:i18n("diag","Нормализация громкости"),WebAudioAPI:i18n("diag","Поддержка Web Audio API"),available:i18n("diag","доступен"),true:i18n("diag","да"),false:i18n("diag","нет"),log:i18n("diag","Логи"),initLog:i18n("diag","Лог инициализации"),playLog:i18n("diag","Лог проигрывания"),debugLog:i18n("diag","Лог отладки"),playerLog:i18n("diag","Лог плеера и проигрывания")}},o.prototype.getDiag=function(){var t=ya.music.Logger.dump(),e=ya.music.Logger.dumpPlayer&&ya.music.Logger.dumpPlayer();t.length>130&&(t=t.slice(0,30).concat(["..."]).concat(t.slice(-100))),e.length>200&&(e=t.slice(0,50).concat(["..."]).concat(e.slice(-150)));var i=ya.music.info,n=a.getEqualizer(),r=ya.music.user,l=a.getCurrentFormat(),c={portal:{host:document.location.host},system:{browser:{name:i.browser.name,version:i.browser.version,"user-agent":navigator.userAgent,storage:null!=window.localStorage,adblocker:ya.music.adbState(!0)},platform:i.platform},settings:{volumeSettings:{volume:a.getVolume(),equalizer:a.isEqualizer()&&JSON.stringify(n.savePreset()),hq:!!a.getHQ()},userInfo:{logged:r.isLogged(),premium:r.isPremium(),region:Mu.settings.region,portalRegion:Mu.settings.portalRegion}},player:{preferredType:o.translations[a.getPreferredType()||"auto"],flash:{available:s.info.flash,version:i.flashVersion},html5:{available:s.info.html5,deviceVolume:!a.canChangeVolume(),WebAudioAPI:!!s.info.html5.audioContext}},log:{debugLog:JSON.stringify(t,!0,2).replace(/\\"/g,'"')},playerLog:{playerLog:JSON.stringify(e,!0,2).replace(/\\"/g,'"')}};return l&&(c.player.format=l),o.formatDiag(c)},Mu.Diag=o},function(t,e,i,n){var a,s,o,r,l=ya.music.Player,c=l.sourceTypes,d=l.repeatTypes,u=function(){this.externalAPI=window.externalAPI=new p};u.prototype.init=function(t){a=t.get("adapter"),o=t.get("auth"),r=t.get("navigation");try{if(!(s=t.get("seq")))throw new Error("no seq")}catch(e){s=t.get("flow")}p.SHUFFLE_ON=p.prototype.SHUFFLE_ON=!0,p.SHUFFLE_OFF=p.prototype.SHUFFLE_OFF=!1,p.REPEAT_ONE=p.prototype.REPEAT_ONE=d.ONE,p.REPEAT_ALL=p.prototype.REPEAT_ALL=d.ALL,p.REPEAT_NONE=p.prototype.REPEAT_NONE=d.NONE,p.CONTROL_ENABLED=p.prototype.CONTROL_ENABLED=!0,p.CONTROL_DISABLED=p.prototype.CONTROL_DISABLED=!1,p.CONTROL_DENIED=p.prototype.CONTROL_DENIED=null,this.__onChange=this.onChange.bind(this),a.on(Mu.Adapter.EVENT_CHANGE,this.__onChange),a.on(Mu.Adapter.EVENT_UPDATE,this.__onChange),a.on(Mu.Adapter.EVENT_SOURCE,this.onSource.bind(this)),a.on(Mu.Adapter.EVENT_EMPTY,this.onEmpty.bind(this)),a.on(Mu.Adapter.EVENT_CONTROLS,this.onControls.bind(this)),a.on(Mu.Adapter.EVENT_EMOTION,this.onLikeDislike.bind(this)),a.on(Mu.Adapter.EVENT_SHOW_TRACK,this.onShowTrack.bind(this)),a.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onShowAdvert.bind(this)),a.on(Mu.Adapter.EVENT_HIDE_ADVERT,this.onHideAdvert.bind(this)),a.on(Mu.Adapter.EVENT_SHOW_SHOT,this.onShowShot.bind(this)),a.on(Mu.Adapter.EVENT_HIDE_SHOT,this.onHideShot.bind(this)),a.on(Mu.Adapter.EVENT_STATE,this.onState.bind(this)),a.on(Mu.Adapter.EVENT_VOLUME,this.onVolume.bind(this)),a.on(Mu.Adapter.EVENT_SPEED,this.onSpeed.bind(this)),a.on(Mu.Adapter.EVENT_PROGRESS,this.onProgress.bind(this)),a.onReady(function(){this.externalAPI.trigger(p.EVENT_READY);try{console.log("Справка по интерфейсу для разработки расширений доступна в externalAPI.help();")}catch(t){}}.bind(this))},u.prototype.onChange=function(){this.externalAPI.trigger(p.EVENT_TRACKS_LIST)},u.prototype.onEmpty=function(){this.externalAPI.trigger(p.EVENT_TRACKS_LIST),this.externalAPI.trigger(p.EVENT_TRACK)},u.prototype.onSource=function(){this.externalAPI.trigger(p.EVENT_SOURCE_INFO)},u.prototype.onControls=function(){this.externalAPI.trigger(p.EVENT_CONTROLS)},u.prototype.onShowTrack=function(){this.externalAPI.trigger(p.EVENT_TRACK)},u.prototype.onShowAdvert=function(t){this.externalAPI.trigger(p.EVENT_ADVERT,{title:t.description,link:t.clickThroughUrl,image:t.image})},u.prototype.onHideAdvert=function(){this.externalAPI.trigger(p.EVENT_ADVERT,!1)},u.prototype.onShowShot=function(t){this.externalAPI.trigger(p.EVENT_SHOT,{eventId:t.eventId})},u.prototype.onHideShot=function(){this.externalAPI.trigger(p.EVENT_SHOT,!1)},u.prototype.onState=function(){this.externalAPI.trigger(p.EVENT_STATE)},u.prototype.onVolume=function(){this.externalAPI.trigger(p.EVENT_VOLUME)},u.prototype.onSpeed=function(){this.externalAPI.trigger(p.EVENT_SPEED)},u.prototype.onProgress=function(){this.externalAPI.trigger(p.EVENT_PROGRESS)},u.prototype.onLikeDislike=function(t){a.isCurrent(t)&&this.externalAPI.trigger(p.EVENT_CONTROLS)};var p=function(){Mu.eventize(this)};p.EVENT_READY=p.prototype.EVENT_READY="ready",p.EVENT_STATE=p.prototype.EVENT_STATE="state",p.EVENT_TRACK=p.prototype.EVENT_TRACK="track",p.EVENT_ADVERT=p.prototype.EVENT_ADVERT="advert",p.EVENT_SHOT=p.prototype.EVENT_SHOT="shot",p.EVENT_CONTROLS=p.prototype.EVENT_CONTROLS="controls",p.EVENT_SOURCE_INFO=p.prototype.EVENT_SOURCE_INFO="info",p.EVENT_TRACKS_LIST=p.prototype.EVENT_TRACKS_LIST="tracks",p.EVENT_VOLUME=p.prototype.EVENT_VOLUME="volume",p.EVENT_SPEED=p.prototype.EVENT_SPEED="speed",p.EVENT_PROGRESS=p.prototype.EVENT_PROGRESS="progress";var h=function(t){return a.isLiked(t)},_=function(t){return a.isDisliked(t)},m=/yadisk/,g=function(t){if(!(t&&t instanceof Object))return null;var e=t.albums&&t.albums[0];return{title:t.title,version:t.version,cover:e&&e.coverUri,duration:t.durationMs/1e3,liked:h(t),disliked:_(t),link:t.id&&!m.test(t.id)?(e&&e.id?"/album/"+e.id:"")+"/track/"+t.id:null,album:e&&f(e),artists:t.artists&&t.artists.map(y)||[]}},f=function(t){return t&&t instanceof Object?{title:t.title,year:t.year,cover:t.coverUri,link:t.id?"/album/"+t.id:null,artists:t.artists&&t.artists.map(y)||[]}:null},y=function(t){return t&&t instanceof Object?{title:t.name,cover:t.cover&&(t.cover.uri||t.cover.itemsUri),link:t.id?"/artist/"+t.id:null}:null},v=function(t){t||(t=Promise.reject());var e=t.then((function(){return!0}),(function(){throw new Error("Action failed")}));return e.catch((function(){})),e.abort=function(e){t.abort&&t.abort(e||"abort")},e};p.prototype.getCurrentTrack=function(){return g(a.getCurrent())},p.prototype.getNextTrack=function(){return g(a.getNextTrack())},p.prototype.getPrevTrack=function(){return g(a.getPrevTrack())},p.prototype.getSourceInfo=function(){var t=a.getSourceType(),e=a.getInfo(),i=a.getConfig();switch(t){case c.ALBUM:(e=f(e)).type="album";break;case c.ARTIST:(e=y(e)).type="artist";break;case c.PLAYLIST:(e=function(t){if(!(t&&t instanceof Object))return null;var e=t.cover;return e=e&&(e.uri||e.itemsUri),{title:t.title,owner:t.owner.name,cover:e,link:"/users/"+t.owner.login+"/"+t.kind}}(e)).type="playlist";break;case c.RADIO:e={title:s.context.title,link:"/"+i.type+"/"+i.tag+"/",type:"radio",cover:e&&e.icon&&e.icon.imageUrl};break;default:e={title:s.context.title,link:s.context.href,type:"common"}}return e},p.prototype.getTracksList=function(){return a.getTracks().map(g)},p.prototype.getTrackIndex=function(){return a.getIndex()},p.prototype.populate=function(t,e,i,n){return v(a.populate(t,e,i,n))},p.prototype.getControls=function(){var t=a.getControls(),e=a.isRadio()||o.isLoggedIn();return{index:t.index,next:t.next,prev:t.prev,shuffle:t.shuffle,repeat:t.repeat,like:!!e&&t.like,dislike:!!e&&t.dislike}},p.prototype.isPlaying=function(){return a.isPlaying()},p.prototype.togglePause=function(t){a.togglePause(t)},p.prototype.play=function(t){return v(a.play(t))},p.prototype.next=function(){return v(a.next())},p.prototype.prev=function(){return v(a.prev())},p.prototype.toggleLike=function(){var t=a.getCurrent();return h(t)?v(s.unlike(t,null,"external-api")):v(s.like(t,null,"external-api"))},p.prototype.toggleDislike=function(){var t=a.getCurrent();return _(t)?v(s.undislike(t,null,"external-api")):v(s.dislike(t,null,"external-api"))},p.prototype.getShuffle=function(){return a.getShuffle()},p.prototype.toggleShuffle=function(t){return null!=t?a.setShuffle(t):a.toggleShuffle()},p.prototype.getRepeat=function(){return a.getRepeat()},p.prototype.toggleRepeat=function(t){return null!=t?a.setRepeat(t):a.toggleRepeat()},p.prototype.getVolume=function(){return a.getVolume()},p.prototype.setVolume=function(t){return a.setVolume(t)},p.prototype.getSpeed=function(){return a.getSpeed()},p.prototype.setSpeed=function(t){return a.setSpeed(t)},p.prototype.toggleMute=function(t){return a.mute(t)},p.prototype.getProgress=function(){return{position:a.getPosition(),duration:a.getDuration(),loaded:a.getLoaded()}},p.prototype.setPosition=function(t){return a.setPosition(t)};var b=/^[-_\w\/\.]*$/;p.prototype.navigate=function(t){return!!b.test(t)&&(r.navigateTo(t,!1),!0)},p.prototype.help=function(){console.log("Внешний интерфейс для расширений Яндекс Музыки. Быстрая справка."),console.log("==============================================================================="),console.log(""),console.log("Используемые форматы данных"),console.log("---------------------------"),console.log(""),console.log("Формат описания обложки:"),console.log("  Ссылка на обложку. Либо строка либо набор строк для составных обложек."),console.log('  В ссылке присутствует подстрока "%%", которую требуется заменить на необходимое разрешение.'),console.log("  Доступны разрешения 30x30, 50x50, 80x80, 100x100, 200x200, 300x300, 400x400"),console.log(""),console.log("Формат описания трека:"),console.log("  {String} title - название трека"),console.log("  {String} link - ссылка на трек"),console.log("  {Number} duration - длительность трека в секундах"),console.log("  {Boolean} liked - трек залайкан"),console.log("  {Boolean} disliked - трек задислайкан"),console.log("  {Array.<ExternalAPI~ArtistInfo>} artists - список исполнителей"),console.log("  {String} [version] - версия трека"),console.log("  {ExternalAPI~AlbumInfo} [album] - альбом трека"),console.log("  {ExternalAPI~CoverInfo} [cover] - обложка"),console.log(""),console.log("Формат описания альбома:"),console.log("  {String} title - название альбома"),console.log("  {Number} year - год выпуска"),console.log("  {String} link - ссылка на альбом"),console.log("  {Array.<ExternalAPI~ArtistInfo>} artists - список исполнителей"),console.log("  {ExternalAPI~CoverInfo} [cover] - обложка"),console.log(""),console.log("Формат описания исполнителя:"),console.log("  {String} title - имя исполнителя"),console.log("  {String} link - ссылка на исполнителя"),console.log("  {ExternalAPI~CoverInfo} [cover] - обложка"),console.log(""),console.log("Формат описания плейлиста:"),console.log("  {String} title - название плейлиста"),console.log("  {String} owner - имя владельца плейлиста"),console.log("  {String} link - ссылка на плейлист"),console.log("  {ExternalAPI~CoverInfo} [cover] - обложка"),console.log(""),console.log("Формат описания элементов управления:"),console.log("  index - возможность запускать воспроизведние трека по его индексу"),console.log("  next - возможность переключения на следующий трек"),console.log("  prev - возможность переключение на предудущий трек"),console.log("  shuffle - возможность включать шаффл"),console.log("  repeat - возможность включать режим повтора треков"),console.log("  like - возможность добавлять трек в избранное"),console.log("  dislike - возможность добавлять трек в чёрный список"),console.log("Все поля могут принимать изначения из списка констант:"),console.log("  CONTROL_ENABLED - доступно"),console.log("  CONTROL_DISABLED - недоступно"),console.log("  CONTROL_DENIED - функция отсутствует"),console.log(""),console.log("Формат описания временных метрик трека (все значения указываются в секундах):"),console.log("  {Number} position - позиция воспроизведения"),console.log("  {Number} duration - длительность трека"),console.log("  {Number} loaded - длительность загруженной части"),console.log(""),console.log("Программный интерфейс"),console.log("---------------------"),console.log(""),console.log("Получение данных о треках и текущем источнике:"),console.log("  getCurrentTrack - данные о текущем треке"),console.log("  getNextTrack - данные о следующем треке"),console.log("  getPrevTrack - данные о предыдущем треке"),console.log("  getTracksList - данные о списке треков"),console.log("  getTrackIndex - индекс текущего трека в списке треков"),console.log("  getSourceInfo - данные о текущем источнике воспроизведения"),console.log("  populate(fromIndex, [after], [before], [ordered]) - подгрузка данных о треках в текущий список воспроизведения. В случае выставления флага ordered, треки будут загружаться с учётом порядка воспроизведения, а не положения в списке"),console.log(""),console.log("Получение состояния плеера:"),console.log("  isPlaying - проверка, что плеер запущен и не на паузе"),console.log("  getControls - получение данных о доступности элементов управления"),console.log("  getShuffle - получение состояния шаффла (SHUFFLE_ON/SHUFFLE_OFF)"),console.log("  getRepeat - получение состояния повтора треков (REPEAT_NONE/REPEAT_ALL/REPEAT_ONE)"),console.log("  getVolume - получние текущей громкости"),console.log("  getSpeed - получние текущей скорости"),console.log("  getProgress - получение данных о временных метриках трека"),console.log(""),console.log("Управление плеером:"),console.log("  play([index]) - запуск воспроизведения трека с указанным индексом. Если индекс не указан, будет запущен текущий выбранный трек"),console.log("  next - переключение на следующий трек"),console.log("  prev - переключение на предыдущий трек"),console.log("  togglePause([state]) - поставить трек на паузу/снять паузу"),console.log("  toggleLike - добавить трек в избранное/удалить трек из избранного"),console.log("  toggleDislike - добавить трек в чёрный список/удалить трек из чёрного списка"),console.log("  toggleShuffle([state]) - переключить режим шаффла (SHUFFLE_ON/SHUFFLE_OFF)"),console.log("  toggleRepeat([state]) - переключить режим повтора треков (REPEAT_NONE/REPEAT_ALL/REPEAT_ONE)"),console.log("  setVolume(value) - установить громкость"),console.log("  setSpeed(value) - установить скорость"),console.log("  toggleMute(state) - включит/выключить звук"),console.log("  setPosition(value) - установить позицию воспроизведения"),console.log(""),console.log("Дополнительные команды:"),console.log("  navigate(url) - переход на страницу с указанным адресом. Адрес задаётся без протокола и домена"),console.log(""),console.log("События"),console.log("-------"),console.log(""),console.log('Все события являются "чистыми" - в обработчик не передаётся никаких данных. Исключением является событие EVENT_ADVERT - в него передаются данные о рекламе, если она началась или false - если закончилась'),console.log(""),console.log("EVENT_READY - готовность данного интерфейса"),console.log("EVENT_STATE - изменение состояния плеера"),console.log("EVENT_TRACK - смена трека"),console.log("EVENT_ADVERT - воспроизведение рекламы"),console.log("EVENT_SHOT - воспроизведение шота"),console.log("EVENT_CONTROLS - изменение состояния элементов управления (в т.ч. смены состояния шаффла и повтора треков)"),console.log("EVENT_SOURCE_INFO - смена источника воспроизведения"),console.log("EVENT_TRACKS_LIST - изменения списка треков"),console.log("EVENT_VOLUME - изменение громкости"),console.log("EVENT_SPEED - изменение скорости"),console.log("EVENT_PROGRESS - изменение временных метрик трека")},Mu.ExternalAPI=u},function(t,e,i,n){var a,s,o=["fm"],r=function(){};r.prototype.init=function(t){a=t.get("auth"),s=t.get("player"),this.openAuth=this.openAuth.bind(this),s.forceAuth(),s.on(ya.music.Player.playerEvents.FORCE_AUTH,this.onForce.bind(this)),s.on(ya.music.Player.playerEvents.PLAY_PREVIEW,this.onPlayPreview.bind(this))},r.prototype.onForce=function(t,e){if("undefined"!=typeof Mu&&!o.includes(Mu.pages.current.name)){this._origin=t,this.tooltip=Mu.blocks.get("force-auth-tooltip");const i="podcast-episode"===e?{onAgree:this.openAuth,content:i18n("force-auth","[feature/mfront-2911]Войдите, чтобы послушать музыку")}:{onAgree:this.openAuth};this.tooltip?(this._origin+="_popup",this.tooltip.show(i)):this.openAuth()}},r.prototype.onPlayPreview=function(){"undefined"==typeof Mu||o.includes(Mu.pages.current.name)||(this.tooltip=Mu.blocks.get("force-auth-tooltip"),this.tooltip&&this.tooltip.show({onAgree:this.openAuth,content:i18n("force-auth","[feature/mfront-2166]Войдите, чтобы послушать целиком")}))},r.prototype.openAuth=function(){a.showAuthForm((function(){}),"login-wall_"+this._origin)},Mu.ForceAuth=r},function(t,e,i,n){t.exports=(t,e)=>!t&&!e.availableFullWithoutPermission},function(t,e,i,n){var a=ya.music.Logger.send;t.exports={error:function(t,e,i){var n=t.message||t,s=t.stack;!i&&s&&(i=s.split("\n")[1].replace(/\)$/).split(":").slice(-2).join(":")),e=e||location.href,a.error({type:"front",url:e,page:Mu.pages.current.name,message:n,line:i})},stats:function(t,e,i){a.stats(t,i,i)}}},function(t,e,i,n){var a,s,o=i(26),r=function(t,e,i,n){this.id=t||"1028356",this.params=e||{},this.counter=void 0,this.objParams=Object.assign({},r.objDefault,i),this.local=n,Mu.eventize(this)};r.objDefault={webvisor:!0,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,deffer:!0},r.prototype.init=function(t){this.local?this.initLocal(t):this.initGlobal(t)},r.prototype.heartbeat=function(){this.lastAction=(new Date).valueOf()},r.prototype.idleFix=function(){this.lastAction&&(new Date).valueOf()-this.lastAction>18e5&&this._hit(),this.heartbeat()},r.prototype.initGlobal=function(t){i(52);a=t.get("pages"),s=t.get("navigation"),a.on("loaded",this.onLoaded.bind(this)),this.promise=this.initCounter();var e=this;window.onerror=function(t,i,n,a,s){var o={};o[t]="# "+n+","+a+" "+i,s&&s.stack&&(o[t]+=" | "+s.stack.slice(50)),e.count(o,"error")}},r.prototype.initLocal=function(){this.promise=this.initCounter()},r.prototype.onLoaded=function(t){if(this.hit(),"404"===t.name||"500"===t.name){var e={};e[t.name]=s.getLastUrl(),this.count(e,"error")}},r.prototype.whenReady=function(t){window.Ya&&Ya.Metrika?t():$.getScript("//mc.yandex.ru/metrika/watch.js",(function(){var e=setInterval((function(){clearInterval(e),t()}),0)}))},r.prototype.initCounter=function(){var t=this,e=new o;return t.whenReady((function(){t.counter=t.createCounter(),e.resolve({counter:t.counter})})),e.promise()},r.prototype.createCounter=function(){var t=$.extend({},this.objParams);return t.id=this.id,t.params=this.params,new Ya.Metrika(t)},r.prototype._hit=function(){this.counter.hit(window.location.href,document.title,document.referrer,this.params)},r.prototype.hit=function(){this.heartbeat(),this.invoke(this._hit.bind(this))},r.prototype.goal=function(t,e){e=e?Function.mixin({},e):{},e=Function.mixin(e,this.params),this.invoke(function(){this.counter.reachGoal(t,e)}.bind(this))},r.prototype.count=function(t,e){e=void 0===e?"counter":e,this.invoke(function(){var i={};e?i[e]=t:i=t,this.counter.params(i)}.bind(this))},r.prototype.extLink=function(t,e){/^\/\//.test(t)&&(t=location.protocol+t),this.invoke(function(){this.counter.extLink.call(null,t,e)}.bind(this))},r.prototype.invoke=function(t){this.counter?(this.idleFix(),t()):this.promise.then((function(){t()}))},t.exports=r},function(t,e,i,n){var a=function(t){this.repo={},this.initPhase=null,this.noStrict=t};a.prototype.init=function(t){if(!t||"object"!=typeof t)throw new Error("MiniDi.init() expects hash object or array as a parameter.");var e=[];if(t instanceof Array)for(var i=0;i<t.length;i++)"function"==typeof t[i].init&&e.push(i);else for(var n in t)this.provide(n,t[n]),"function"==typeof t[n].init&&e.push(n);for(i=0;i<e.length;i++)this.runInit(e[i],t[e[i]])},a.prototype.get=function(t){if(null===this.initPhase)throw new Error("MiniDi.get() cannot be called outside of .init() method.");if(!(t in this.repo)&&!this.noStrict)throw new Error("Object `"+t+"` required by `"+this.initPhase+"` not found in repository.");return this.repo[t]},a.prototype.provide=function(t,e){if(t in this.repo)throw new Error("Object `"+t+"` has been already provided.");this.repo[t]=e},a.prototype.runInit=function(t,e){try{this.initPhase=t,e.init(this)}catch(t){}finally{this.initPhase=null}},Mu.MiniDi=a},function(t,e,i,n){var a,s,o,r,l={},c=!0,d=window.location,u=window.history;Mu.eventize(l);var p={__current:0,next:function(){return this.__current+=1,this.__current},current:function(){return this.__current}},h=["from-passport","redirectFrom"],_="/",m=function(){var t=d.href,e=t.indexOf("#");return(-1===e?"#":t.substr(e)).replace(/^#(!|_|%21|&#33;|)(\/|$)/,"#!/")},g=function(t,e,i){(!c&&a!==t||i)&&(a=t,l.reload(e))},f=/^https?:\/\/music.yandex.[a-z]{2,3}\/?.*$/,y=new RegExp("^(("+document.location.protocol+")?//"+document.location.host+"/?.*||/([^/]{1}.*)?||[a-z0-9-_]+(/.*)?)$","i"),v=function(t){if(!this.getAttribute("target",2))if(t.ctrlKey||t.metaKey)l.trigger("navigateByLink",{forced:!0,target:t.target});else{var e=this.getAttribute("href",2);if(e){var i=d.protocol+"//"+d.hostname;0===e.lastIndexOf(i,0)&&(e=e.substr(i.length));try{y.test(e)?(l.trigger("navigateByLink",{forced:!1,target:t.target,url:e}),l.navigateTo(e,!0)):f.test(e)?window.open(e,"yandexMusic"):(l.trigger("navigateByExternalLink",{forced:!1,target:t.target}),window.open(e,"_blank"))}finally{t.preventDefault()}}}},b=function(t){var e,i=t.originalEvent;if(new RegExp(d.host+"$").test(i.origin)){try{e=$.parseJSON(i.data)["load-url"]}catch(t){return}e&&l.navigateTo(e,!0)}},k=function(){var t=d.pathname+d.search,e=Mu.settings.root;return e&&(t=t.replace(new RegExp("^"+e+"/?"),"/")),t};l.getLastUrl=function(){return a},l.navigateTo=function(t,e,i){var n=t;new URL(t,window.location.href).origin==window.location.origin?(n.startsWith(window.location.origin)&&(n=n.replace(window.location.origin,"")),"/"!==n.charAt(0)&&(n="/"+n),n=this.routes.rewrite(n),s(n),g(n,i,e)):window.location.href=t},l.pushState=function(t,e){e?o(t):a!==t&&(a=t,s(t))},l.reload=function(t){var e=this.routes.rewrite(a);e!==a&&l.pushState(e,!0);var i=this.routes.match(e),n=function(t){var e=t.split("#")[0].split("?")[1];if(!e)return{};e=e.split("&").map((function(t){return t.split("=")}));var i={};e=e.filter((function(t){return!h.includes(t[0])||(i[t[0]]=null==t[1]||t[1],!1)})).map((function(t){return t.join("=")})).join("&");var n=t.split("#");n[0]=n[0].split("?");var a=n[0][0]+(e?"?"+e:"")+(n[1]?"#"+n[1]:"");return l.pushState(a,!0),i}(e);i&&(ya.music.lib.merge(i.param,n,!0),i.param.historyId=r().historyId,t&&(i.param.extData=t),this.pages.show(i.name,i.param))},l.start=function(){_=document.location.pathname,c=!1,$(window).trigger("hashchange").trigger("popstate")},l.init=function(t){this.pages=t.get("pages"),this.routes=t.get("routes");var e=this.routes;if("onpopstate"in window&&"replaceState"in u)u.replaceState({historyId:p.current()},null),s=function(t){u.pushState({historyId:p.next()},null,t)},o=function(t){a=t,u.replaceState(r(),null,t)},r=function(){return u.state||{}},$(window).on("hashchange",(function(){if(d.hash){var t=m();if("#!/"===t.substr(0,3)){t=e.rewrite(t.substr(2));var i=a;o(t),a=i,g(t)}}})),$(window).on("popstate",(function(){var t=k(),i=e.rewrite(t);i!==t&&(o(i),a=null),g(i)}));else{var i,n=Mu.settings.root||"";s=function(t){i=t,d.hash="#!"+t},o=function(t){i=t,a=t;var e=$.fn.hashchange&&$.fn.hashchange.hiddenIframe;if(e){var s=e.document.location.href;s=s.substr(0,s.indexOf("#"))+"#!"+t,e.document.location.replace(s)}d.replace(n+"/#!"+t)},r=function(){return{}};var l=k();if("/"!==l)return void o(l);$(window).on("hashchange",(function(){var t=m();t=t.substr(2);var n=i;if(i=void 0,n!==t){var s=e.rewrite(t);s!==t&&(o(s),a=null),g(s)}}))}$(document.body).on("click","a:not(.not-handled)",v),$(window).on("message",b)},l.getEntryPoint=function(){return _},l.getCurrentUrlParam=function(t){const e=d.href;return new URL(e).searchParams.get(t)},Mu.navigation=l},function(t,e,i,n){var a=function(){this.repo={},this.current=null,this.loading=null,this.parent=null,this.containerHtml="<div>",this.blockPrefix="page-",Mu.eventize(this)};a.prototype.register=function(t,e){this.repo[t]=e},a.prototype.show=function(t,e){e=e||{};var i=this.construct(t,e);this.loading=i,this.trigger("loading",i);var n=Mu.pageData||i.data,a=Mu.pageName||i.name;if(n&&a===t){if(delete Mu.pageData,delete Mu.pageName,404===n)return void this.onError(i,{error:"Not Found"});this.onData(i,n)}else{var s=this;i.fetchData(this.dataSrc).then((function(t){s.onData(i,t)})).catch((function(t){s.onError(i,t)}))}},a.prototype.construct=function(t,e){var i=new this.repo[t](e);return i.container=$(this.containerHtml)[0],i.name=t,i.from=e&&e.from,i},a.prototype.detach=function(t){$(t.container).remove().off(),t.undelegateAll(),t.container=null,this.blocks.cleanRange(t.bindingRange),t.destroy&&t.destroy()},a.prototype.render=function(t){if(!t.rendered){this.blocks.beginBinding();try{this.blocks.assignNext(t);var e=Mu.render(t.templateName,t.data)}finally{t.bindingRange=this.blocks.endBinding()}t.container.innerHTML=e,this.blocks.initPendingBlocks(t.container),t.onRender&&t.onRender(),t.rendered=!0}},a.prototype.unloadPrevious=function(){var t=this.current;this.trigger("unloading",t),t&&(t.onHide&&t.onHide(),this.detach(t),this.trigger("unloaded",t))},a.prototype.onData=function(t,e){if(t===this.loading){try{t.onFetch&&t.onFetch(e)}catch(e){return delete Mu.pageData,void this.onError(t,e)}this.unloadPrevious(),t.data=e;try{this.render(t)}catch(e){return delete Mu.pageData,void this.onError(t,e)}this.parent.appendChild(t.container),this.current=t,t.onShow&&t.onShow(),this.loading=null,this.trigger("loaded",t)}},a.prototype.onError=function(t,e){if(t===this.loading){if("500"===t.name)throw new Error("Error showing error: "+e.stack||JSON.stringify(e));this.blocks.endBinding(),!e||404!==e.statusCode&&"Not Found"!==e.message&&"Not Found"!==e.error?this.show("500",{brokenPage:t,error:e}):this.show("404")}},a.prototype.init=function(t){for(var e in this.dataSrc=t.get("dataSrc"),this.blocks=t.get("blocks"),this.repo)this.repo.hasOwnProperty(e)&&this.blocks.register(this.blockPrefix+e,this.repo[e])},t.exports=a},function(t,e,i,n){t.exports=t=>{if(!t.backendRequestsLogs)return"";return`\n        <script nonce="${t.nonce}">\n            let __backendRequestsLogs = [];\n            try {\n                __backendRequestsLogs = ${JSON.stringify(t.backendRequestsLogs)};\n            } catch (error) {}\n            \n            if (__backendRequestsLogs.length > 0) {\n                console.groupCollapsed(\`\${String.fromCodePoint(128075)} SSR Backend Requests\`);\n                __backendRequestsLogs.forEach((logData) => {\n                    console.log(\`%c [\${logData.backendType}]\${logData.pathname}\`, "font-weight: bold; ");\n                    try {\n                        logData.response.body = JSON.parse(logData.response.body);\n                    } catch (error) {}\n                    console.log(logData);\n                });\n                console.groupEnd();\n            }\n        <\/script>\n    `}},function(t,e,i,n){const a="undefined"!=typeof window,s={items:[],match(t){for(let e=0;e<this.items.length;e++){const i=this.items[e],n=i[0].exec(t);if(n)return n.query=n.query?o(n.query):{},{name:i[1],param:n}}return{name:"404",param:{url:t}}},rewriteRules:[[/\/user\/[^\s]+/i,"/user/onyourwave"]],rewriteFacebookParams(t){const e=/[?&](song|musician|album|playlist)=([^&]*)/.exec(t);if(!e||!e[2])return t;let i=e[2];try{i=decodeURIComponent(i)}catch(t){}return i=i.replace(/https?:\/\/[^/]*\//,"/"),i},rewrite(t){t=this.rewriteFacebookParams(t);for(let e=0;e<this.rewriteRules.length;e++){const i=this.rewriteRules[e];if(i[0].exec(t)&&(t=t.replace(i[0],i[1]),"last"===i[2]))break}if(a){const e=t.split("/")[1].split("?")[0];try{window.Ya.Rum.updateErrors({page:e})}catch(t){}}return t},named:function(t){const e=[],i=new RegExp(t.source.replace(/\(:<(\w+)>/g,(function(t,i){return e.push(i),"("})),(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":""));return i.exec=function(t){return function(t){if(!t)return t;for(let i=0;i<e.length;i++)t[e[i]]=t[i+1];return t}(RegExp.prototype.exec.call(this,t))},i}};function o(t){const e=t.split("&"),i={};for(let t=0;t<e.length;t++){const n=e[t].split("=");let a=n[1]||"";a=a.replace(/\+/g," ");try{a=decodeURIComponent(a)}catch(t){}i[n[0]]=a}return i}t.exports=s},function(t,e,i,n){var a=function(){this.value="",this.matches=[],this.buf_length=10,this.rInputField=/^(INPUT|TEXTAREA|SELECT)$/i};a.init=function(t){},a.prototype.init=function(t){var e=this;document.onkeypress=function(t){t=t||window.event,e.listen(t)},document.onkeyup=function(t){e.fired=!1}},a.prototype.addMatch=function(t,e){return this.matches.push({test:t,handler:e}),this},a.prototype.normalizeEvent=function(t){var e={originalEvent:t};return e.target=t.target||t.srcElement,e.charCode=t.charCode||t.keyCode,e},a.prototype.reset=function(){this.value="",document.activeElement.blur()},a.prototype.listen=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey))if(t=this.normalizeEvent(t),this.fired)this.preventDefault(t.originalEvent);else if(this.validTarget(t.target)){var e;this.value.length>this.buf_length&&(this.value=this.value.substr(this.value.length-this.buf_length)),this.value=this.value+String.fromCharCode(t.charCode);for(var i=0,n=this.matches.length;i<n;i++)if(e=this.matches[i],this.isGoodMatch(e.test)&&!1!==e.handler(t)){this.fired=e.single,this.reset(),this.preventDefault(t.originalEvent);break}}},a.prototype.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},a.prototype.validTarget=function(t){return!!t&&(!t.nodeName||!this.rInputField.test(t.nodeName))},a.prototype.isGoodMatch=function(t){return t.test(this.value)},t.exports=a},function(t,e,i,n){var a=function(){};a.prototype.getItem=function(){},a.prototype.setItem=function(){},a.prototype.removeItem=function(){},a.prototype.isValid=function(){return!0},a.prototype.isWorking=function(){try{this.setItem("DEBUG","YEP!");var t=this.getItem("DEBUG");return this.removeItem("DEBUG"),"YEP!"===t}catch(t){return!1}};var s=function(){};(s.prototype=new a).getItem=function(t){return localStorage.getItem(t)},s.prototype.setItem=function(t,e){return localStorage.removeItem(t),localStorage.setItem(t,e)},s.prototype.removeItem=function(t){localStorage.removeItem(t)},s.prototype.isValid=function(){try{return window.localStorage&&"object"==typeof window.localStorage}catch(t){return!1}};var o=function(){};(o.prototype=new a).getItem=function(t){return this.container.getAttribute(this.prefix+t)},o.prototype.setItem=function(t,e){this.container.setAttribute(this.prefix+t,e),this.container.save("localStorage")},o.prototype.removeItem=function(t){this.setItem(t,"")},o.prototype.isValid=function(){try{if(this.container=document.body,this.prefix="storage-",this.container.addBehavior)return this.container.addBehavior("#default#userData"),this.container.load("localStorage"),!0}catch(t){Mu&&Mu.ErrorLogger&&Mu.ErrorLogger.onError($.param(t),null,0)}return!1};var r=function(){};(r.prototype=new a).getItem=function(t){return $.cookie(t)},r.prototype.setItem=function(t,e){return $.cookie(t,e)},r.prototype.removeItem=function(t){return $.removeCookie(t)};var l=function(t){this.storage=t};l.create=function(t){var e=l.getStorage(t);return new l(e)},l.storages=[{name:"localStorage",constructor:s},{name:"userDataStorage",constructor:o},{name:"cookieStorage",constructor:r}],l.getStorage=function(t){for(var e,i,n=0;n<l.storages.length;n++)if(i=l.storages[n],(!t||i.name===t)&&(e=new i.constructor).isValid()&&e.isWorking())return e;return new a},l.prototype.getItem=function(t){return this.storage.getItem(t)},l.prototype.removeItem=function(t){return this.storage.removeItem(t)},l.prototype.setItem=function(t,e){this.storage.setItem(t,e)},l.prototype.isValid=function(){return this.storage.isValid()},l.prototype.isWorking=function(){return this.storage.isWorking()},Mu.Storage=l},function(t,e,i,n){const a=ya.music.Player.playerStates;let s,o;const r=function(){};r.prototype.init=function(t){s=t.get("player"),o=t.get("seq"),document.addEventListener("visibilitychange",this.tabTTLHandler.bind(this));const e=new URLSearchParams(window.location.search);this.tabHideTs=Date.now(),this.tabShowTs=Date.now(),this.timeLimit=e.get("tabttl")?Number(e.get("tabttl")):864e5},r.prototype.tabTTLHandler=function(){if("hidden"===document.visibilityState)this.tabHideTs=Date.now();else if("visible"===document.visibilityState){this.tabShowTs=Date.now();const t=this.tabShowTs-this.tabHideTs,e=s.getState();t>this.timeLimit&&e!==a.PLAYING&&!o.getIsVideoPlaying()&&window.location.reload()}},Mu.TabVisability=r},function(t,e,i,n){var a=i(26),s=function(){this.tracks={},this.keys=[],this.limit=2e3};s.prototype.init=function(t){this.dataSrc=t.get("dataSrc"),this.auth=t.get("auth"),this.auth.on("info",function(){this.clean(2e3)}.bind(this))},s.prototype.get=function(t){return this.tracks[t]},s.prototype.set=function(t,e){if(t){this.keys.length===this.limit&&this.clean();var i=e||t.id;this.keys.push(i),this.tracks[i]=t}},s.prototype.getList=function(t){var e,i=[];if(!t.length)return i;for(var n=0;n<t.length;n++)(e=this.get(t[n]))&&i.push(e);return i},s.prototype.setList=function(t){for(var e=0;e<t.length;e++)this.set(t[e])},s.prototype.fetch=function(t){for(var e=this,i=new a,n=[],s={},o=[],r=0;r<t.length;r++){var l=(t[r]||"").toString(),c=this.get(l);c?o[r]=c:(s[n.length]=r,n.push(l))}return n.length?e.dataSrc.post("track-entries",{entries:n.join(","),strict:!0,removeDuplicates:window&&"all"===window.localStorage.getItem("likeFilter")}).then((function(t){for(var a=0;a<t.length;a++){var r=t[a],l=s[a];o[l]=r,e.set(r,n[a])}i.resolve(o)}),(function(t){i.reject(t)})):i.resolve(o),i.promise()},s.prototype.clean=function(t){t=t||100;for(var e=this.keys.splice(0,t),i=0;i<e.length;i++)delete this.tracks[e[i]]},Mu.TracksCache=s},function(t,e,i,n){Mu.UnityMusicShim=function(){var t={sendState:function(t){var e=document.createEvent("CustomEvent");e.initEvent("UnityStateEvent",!0,!0),document.body.setAttribute("data-unity-state",JSON.stringify(t)),document.body.dispatchEvent(e,t)}};return document.body.addEventListener("UnityActionEvent",(function(e){var i=JSON.parse(document.body.getAttribute("data-unity-action"));t._callbackObject&&t._callbackObject[i]()}),!1),t.setCallbackObject=function(e){t._callbackObject=e},t.setSupports=function(t){var e=document.createEvent("CustomEvent");e.initEvent("UnitySupportsEvent",!0,!0),document.body.setAttribute("data-unity-supports",JSON.stringify(t)),document.body.dispatchEvent(e,t)},t}},function(t,e,i,n){var a=i(6),s=function(t){Mu.eventize(this),this._init=a(t),this._init.then(function(t){this.storage=t,this.storage.on("local:update",function(t){this.trigger("update",t.key,t.value)}.bind(this))}.bind(this),function(){this.storage={storages:{}}}.bind(this))};s.init=s.prototype.init=function(){},s.prototype.getItem=function(t){if(!this.storage)return this._init.then(this.getItem.bind(this,t));if(this.storage.storages.local)return this.storage.getItem("local",t);try{return Promise.resolve(localStorage.getItem(t))}catch(t){return Promise.reject(t)}},s.prototype.setItem=function(t,e){if(!this.storage)return this._init.then(this.setItem.bind(this,t,e));if(this.storage.storages.local)return this.storage.setItem("local",t,e);try{return Promise.resolve(localStorage.setItem(t,e))}catch(t){return Promise.reject(t)}},Mu.XStorage=s},function(t,e,i,n){var a="undefined"!=typeof window&&window.yr||i(29),s=i(66),o=a.externals=a.externals||{};o.dateRelationValue=i(67),o.formatTime=i(68),o.formatDate=i(70),o.humanDate=i(71),o.cover=i(72),o.plural=i(69),o.querySeparator=i(75),o.removeProtocol=i(74),o.addGetParam=i(76),o.numberWithSpaces=i(77),o.stripTags=i(78);var r=i(79);o.objectToQuery=function(t,e){return r(t,e[0].data)},o.i18nTranslate=i(80),"undefined"!=typeof window&&window.i18nTranslate&&(o.i18nTranslate=window.i18nTranslate,window.i18nSetLang(Mu.settings.lang)),o.passportRetpath=function(t){return encodeURIComponent("https://"+location.host+"/"+(t||"")+"?from-passport")},o.startsWith=function(t,e){return"string"==typeof t&&"string"==typeof e&&0===t.indexOf(e)},o.endsWith=function(t,e){return"string"==typeof t&&t.endsWith(e)},o.stringify=function(t,e){for(var i,n=[],a=0,s=t.length;a<s;a++)n.push(JSON.stringify(t[a].data,null,4));return i=n.join(",\n"),i=e?i.replace(/[\n\s]/g,""):"[\n"+i+"\n]"},o.urlencode=function(t){return encodeURIComponent(t)},o.protocol=function(){return location.protocol},o.hostname=function(t){return t?t.match(/^(?:\w+:)?\/\/([^:/]+)/)[1]:location.hostname},o.getSettings=function(){return"undefined"!=typeof Mu&&Mu.settings},o.getUser=function(){return Mu.authData&&Mu.authData.user},o.getServiceName=function(){return Mu.serviceName||""};var l={nbsp:" "},c=Object.keys(l).reduce((function(t,e){return t[l[e]]=e,t}),{}),d=new RegExp("("+Object.keys(c).join("|")+")","g"),u=new RegExp("&("+Object.keys(l).join("|")+");","g");o.i18n=function(){var t=Array.prototype.slice.call(arguments);d.lastIndex=0,"string"==typeof t[1]&&(t[1]=t[1].replace(d,(function(t,e){return"&"+c[e]+";"})));var e=o.i18nTranslate.apply(o.i18nTranslate,t);return u.lastIndex=0,"string"==typeof e?e.replace(u,(function(t,e){return l[e]})):e},o.i18nXml=o.i18n,n.i18n=function(){return o.i18nTranslate.apply(o.i18nTranslate,arguments)};o.pagerData=function(t,e){for(var i=t[0].data,n=o.pagesMax(t),a=+i.page||0,s=[],r=Math.max(a-2,0),l=Math.min(r+5,n),c=o.querySeparator(e),d=r;d<l;d++)s.push({text:(d+1).toString(),href:e+c+"page="+d,checked:d===a});return a>0&&s.unshift({text:"←",href:e+c+"page="+(a-1)}),a<n-1&&s.push({text:"→",href:e+c+"page="+(a+1)}),s},o.pagesMax=function(t){var e=t[0].data,i=Math.ceil(e.total/e.perPage);return i>90&&(i=90),i},o.formatCurrency=function(t){return{RUB:i18n("yate.externals","руб."),USD:"$"}[t]},o.tld=function(){if("undefined"==typeof window)return null;var t=/(\w+)$/.exec(window.location.hostname);return t?t[1]:null},o.rgba=function(t,e){return"rgba("+function(t){return t="#"===t.charAt(0)?t.substr(1,t.length-1):t,[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)].join(", ")}(t)+", "+e+")"},o.addShareLang=function(t,e){if(!1===e)return t;var i=e;e=e||o.getSettings().lang;var n=/.+([\&\?])(lang=([a-z]{2}))/.exec(t);return n?i&&n[3]!==e?t.replace(n[2],"lang="+e):t:i||"ru"!==e?t+o.querySeparator(t)+"lang="+e:t},o.timeFromNow=function(t){try{return s.locale(o.getSettings().lang)(t).fromNow()}catch(e){return s(t).fromNow()}},o.normalizeProgress=function(t){switch(!0){case t<10:return 0;case t<30:return 1;case t<60:return 2;case t<80:return 3;case t<100:return 4}return 5}},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):i.moment=n()}(this,(function(){"use strict";var e,n;function a(){return e.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(r(t,e))return;return 1}function c(t){return void 0===t}function d(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){for(var i=[],n=0;n<t.length;++n)i.push(e(t[n],n));return i}function h(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _(t,e,i,n){return ve(t,e,i,n,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),a=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(a=a&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return a;t._isValid=a}return t._isValid}function f(t){var e=_(NaN);return null!=t?h(m(e),t):m(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var y=a.momentProperties=[],v=!1;function b(t,e){var i,n,a;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=m(e)),c(e._locale)||(t._locale=e._locale),0<y.length)for(i=0;i<y.length;i++)c(a=e[n=y[i]])||(t[n]=a);return t}function k(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,a.updateOffset(this),v=!1)}function w(t){return t instanceof k||null!=t&&null!=t._isAMomentObject}function x(t){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,e){var i=!0;return h((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,t),i){for(var n,s,o=[],l=0;l<arguments.length;l++){if(n="","object"==typeof arguments[l]){for(s in n+="\n["+l+"] ",arguments[0])r(arguments[0],s)&&(n+=s+": "+arguments[0][s]+", ");n=n.slice(0,-2)}else n=arguments[l];o.push(n)}x(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var T,S={};function $(t,e){null!=a.deprecationHandler&&a.deprecationHandler(t,e),S[t]||(x(e),S[t]=!0)}function L(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var i,n=h({},t);for(i in e)r(e,i)&&(o(t[i])&&o(e[i])?(n[i]={},h(n[i],t[i]),h(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)r(t,i)&&!r(e,i)&&o(t[i])&&(n[i]=h({},n[i]));return n}function C(t){null!=t&&this.set(t)}function D(t,e,i){var n=""+Math.abs(t),a=e-n.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)r(t,e)&&i.push(e);return i};var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},I={};function O(t,e,i,n){var a="string"==typeof n?function(){return this[n]()}:n;t&&(I[t]=a),e&&(I[e[0]]=function(){return D(a.apply(this,arguments),e[1],e[2])}),i&&(I[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=R(e,t.localeData()),Y[e]=Y[e]||function(t){for(var e,i=t.match(E),n=0,a=i.length;n<a;n++)I[i[n]]?i[n]=I[i[n]]:i[n]=(e=i[n]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var n="",s=0;s<a;s++)n+=L(i[s])?i[s].call(e,t):i[s];return n}}(e),Y[e](t)):t.localeData().invalidDate()}function R(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(A.lastIndex=0;0<=i&&A.test(t);)t=t.replace(A,n),A.lastIndex=0,--i;return t}var N={};function z(t,e){var i=t.toLowerCase();N[i]=N[i+"s"]=N[e]=t}function H(t){return"string"==typeof t?N[t]||N[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)r(t,i)&&(e=H(i))&&(n[e]=t[i]);return n}var B={};function U(t,e){B[t]=e}function q(t){return t%4==0&&t%100!=0||t%400==0}function W(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function V(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=W(e)),i}function G(t,e){return function(i){return null!=i?(J(this,t,i),a.updateOffset(this,e),this):K(this,t)}}function K(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function J(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&q(t.year())&&1===t.month()&&29===t.date()?(i=V(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),kt(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}var X,Z=/\d/,Q=/\d\d/,tt=/\d{3}/,et=/\d{4}/,it=/[+-]?\d{6}/,nt=/\d\d?/,at=/\d\d\d\d?/,st=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,rt=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ct=/\d+/,dt=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ht=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function _t(t,e,i){X[t]=L(e)?e:function(t,n){return t&&i?i:e}}function mt(t,e){return r(X,t)?X[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,a){return e||i||n||a}))))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var ft={};function yt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),d(e)&&(n=function(t,i){i[e]=V(t)}),i=0;i<t.length;i++)ft[t[i]]=n}function vt(t,e){yt(t,(function(t,i,n,a){n._w=n._w||{},e(t,n._w,n,a)}))}var bt;function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=(e%12+12)%12;return t+=(e-i)/12,1==i?q(t)?29:28:31-i%7%2}bt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},O("M",["MM",2],"Mo",(function(){return this.month()+1})),O("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),O("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),z("month","M"),U("month",8),_t("M",nt),_t("MM",nt,Q),_t("MMM",(function(t,e){return e.monthsShortRegex(t)})),_t("MMMM",(function(t,e){return e.monthsRegex(t)})),yt(["M","MM"],(function(t,e){e[1]=V(t)-1})),yt(["MMM","MMMM"],(function(t,e,i,n){var a=i._locale.monthsParse(t,n,i._strict);null!=a?e[1]=a:m(i).invalidMonth=t}));var wt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Tt=ht,St=ht;function $t(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=V(e);else if(!d(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Lt(t){return null!=t?($t(this,t),a.updateOffset(this,!0),this):K(this,"Month")}function Pt(){function t(t,e){return e.length-t.length}for(var e,i=[],n=[],a=[],s=0;s<12;s++)e=_([2e3,s]),i.push(this.monthsShort(e,"")),n.push(this.months(e,"")),a.push(this.months(e,"")),a.push(this.monthsShort(e,""));for(i.sort(t),n.sort(t),a.sort(t),s=0;s<12;s++)i[s]=gt(i[s]),n[s]=gt(n[s]);for(s=0;s<24;s++)a[s]=gt(a[s]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ct(t){return q(t)?366:365}O("Y",0,0,(function(){var t=this.year();return t<=9999?D(t,4):"+"+t})),O(0,["YY",2],0,(function(){return this.year()%100})),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),z("year","y"),U("year",1),_t("Y",dt),_t("YY",nt,Q),_t("YYYY",rt,et),_t("YYYYY",lt,it),_t("YYYYYY",lt,it),yt(["YYYYY","YYYYYY"],0),yt("YYYY",(function(t,e){e[0]=2===t.length?a.parseTwoDigitYear(t):V(t)})),yt("YY",(function(t,e){e[0]=a.parseTwoDigitYear(t)})),yt("Y",(function(t,e){e[0]=parseInt(t,10)})),a.parseTwoDigitYear=function(t){return V(t)+(68<V(t)?1900:2e3)};var Dt=G("FullYear",!0);function Et(t){var e,i;return t<100&&0<=t?((i=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function At(t,e,i){var n=7+e-i;return n-(7+Et(t,0,n).getUTCDay()-e)%7-1}function Yt(t,e,i,n,a){var s,o=1+7*(e-1)+(7+i-n)%7+At(t,n,a),r=o<=0?Ct(s=t-1)+o:o>Ct(t)?(s=t+1,o-Ct(t)):(s=t,o);return{year:s,dayOfYear:r}}function It(t,e,i){var n,a,s=At(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Ot(a=t.year()-1,e,i):o>Ot(t.year(),e,i)?(n=o-Ot(t.year(),e,i),a=t.year()+1):(a=t.year(),n=o),{week:n,year:a}}function Ot(t,e,i){var n=At(t,e,i),a=At(t+1,e,i);return(Ct(t)-n+a)/7}function jt(t,e){return t.slice(e,7).concat(t.slice(0,e))}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),U("week",5),U("isoWeek",5),_t("w",nt),_t("ww",nt,Q),_t("W",nt),_t("WW",nt,Q),vt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=V(t)})),O("d",0,"do","day"),O("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),O("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),O("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),_t("d",nt),_t("e",nt),_t("E",nt),_t("dd",(function(t,e){return e.weekdaysMinRegex(t)})),_t("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),_t("dddd",(function(t,e){return e.weekdaysRegex(t)})),vt(["dd","ddd","dddd"],(function(t,e,i,n){var a=i._locale.weekdaysParse(t,n,i._strict);null!=a?e.d=a:m(i).invalidWeekday=t})),vt(["d","e","E"],(function(t,e,i,n){e[n]=V(t)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ht=ht,Ft=ht,Bt=ht;function Ut(){function t(t,e){return e.length-t.length}for(var e,i,n,a,s=[],o=[],r=[],l=[],c=0;c<7;c++)e=_([2e3,1]).day(c),i=gt(this.weekdaysMin(e,"")),n=gt(this.weekdaysShort(e,"")),a=gt(this.weekdays(e,"")),s.push(i),o.push(n),r.push(a),l.push(i),l.push(n),l.push(a);s.sort(t),o.sort(t),r.sort(t),l.sort(t),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function qt(){return this.hours()%12||12}function Wt(t,e){O(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Vt(t,e){return e._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,qt),O("k",["kk",2],0,(function(){return this.hours()||24})),O("hmm",0,0,(function(){return""+qt.apply(this)+D(this.minutes(),2)})),O("hmmss",0,0,(function(){return""+qt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),O("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),O("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Wt("a",!0),Wt("A",!1),z("hour","h"),U("hour",13),_t("a",Vt),_t("A",Vt),_t("H",nt),_t("h",nt),_t("k",nt),_t("HH",nt,Q),_t("hh",nt,Q),_t("kk",nt,Q),_t("hmm",at),_t("hmmss",st),_t("Hmm",at),_t("Hmmss",st),yt(["H","HH"],3),yt(["k","kk"],(function(t,e,i){var n=V(t);e[3]=24===n?0:n})),yt(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),yt(["h","hh"],(function(t,e,i){e[3]=V(t),m(i).bigHour=!0})),yt("hmm",(function(t,e,i){var n=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n)),m(i).bigHour=!0})),yt("hmmss",(function(t,e,i){var n=t.length-4,a=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n,2)),e[5]=V(t.substr(a)),m(i).bigHour=!0})),yt("Hmm",(function(t,e,i){var n=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n))})),yt("Hmmss",(function(t,e,i){var n=t.length-4,a=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n,2)),e[5]=V(t.substr(a))}));var Gt,Kt=G("Hours",!0),Jt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:wt,monthsShort:xt,week:{dow:0,doy:6},weekdays:Rt,weekdaysMin:zt,weekdaysShort:Nt,meridiemParse:/[ap]\.?m?\.?/i},Xt={},Zt={};function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function te(e){var n;if(void 0===Xt[e]&&void 0!==t&&t&&t.exports)try{n=Gt._abbr,i("./locale/"+e),ee(n)}catch(n){Xt[e]=null}return Xt[e]}function ee(t,e){var i;return t&&((i=c(e)?ne(t):ie(t,e))?Gt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Gt._abbr}function ie(t,e){if(null===e)return delete Xt[t],null;var i,n=Jt;if(e.abbr=t,null!=Xt[t])$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Xt[t]._config;else if(null!=e.parentLocale)if(null!=Xt[e.parentLocale])n=Xt[e.parentLocale]._config;else{if(null==(i=te(e.parentLocale)))return Zt[e.parentLocale]||(Zt[e.parentLocale]=[]),Zt[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Xt[t]=new C(P(n,e)),Zt[t]&&Zt[t].forEach((function(t){ie(t.name,t.config)})),ee(t),Xt[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gt;if(!s(t)){if(e=te(t))return e;t=[t]}return function(t){for(var e,i,n,a,s=0;s<t.length;){for(e=(a=Qt(t[s]).split("-")).length,i=(i=Qt(t[s+1]))?i.split("-"):null;0<e;){if(n=te(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&function(t,e){for(var i=Math.min(t.length,e.length),n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}(a,i)>=e-1)break;e--}s++}return Gt}(t)}function ae(t){var e,i=t._a;return i&&-2===m(t).overflow&&(e=i[1]<0||11<i[1]?1:i[2]<1||i[2]>kt(i[0],i[1])?2:i[3]<0||24<i[3]||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||59<i[4]?4:i[5]<0||59<i[5]?5:i[6]<0||999<i[6]?6:-1,m(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}var se=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,oe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re=/Z|[+-]\d\d(?::?\d\d)?/,le=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ce=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((-?\d+)/i,ue=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,pe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function he(t){var e,i,n,a,s,o,r=t._i,l=se.exec(r)||oe.exec(r);if(l){for(m(t).iso=!0,e=0,i=le.length;e<i;e++)if(le[e][1].exec(l[1])){a=le[e][0],n=!1!==le[e][2];break}if(null==a)return void(t._isValid=!1);if(l[3]){for(e=0,i=ce.length;e<i;e++)if(ce[e][1].exec(l[3])){s=(l[2]||" ")+ce[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!re.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=a+(s||"")+(o||""),fe(t)}else t._isValid=!1}function _e(t){var e,i,n,a,s=ue.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(s){if(n=e=function(t,e,i,n,a,s){var o=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),xt.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(a,10)];return s&&o.push(parseInt(s,10)),o}(s[4],s[3],s[2],s[5],s[6],s[7]),a=t,(i=s[1])&&Nt.indexOf(i)!==new Date(n[0],n[1],n[2]).getDay()&&(m(a).weekdayMismatch=!0,!void(a._isValid=!1)))return;t._a=e,t._tzm=function(t,e,i){if(t)return pe[t];if(e)return 0;var n=parseInt(i,10),a=n%100;return(n-a)/100*60+a}(s[8],s[9],s[10]),t._d=Et.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function me(t,e,i){return null!=t?t:null!=e?e:i}function ge(t){var e,i,n,s,o,r,l,c=[];if(!t._d){for(r=t,l=new Date(a.now()),n=r._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,a,s,o,r,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(s=1,o=4,i=me(e.GG,t._a[0],It(be(),1,4).year),n=me(e.W,1),((a=me(e.E,1))<1||7<a)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=It(be(),s,o),i=me(e.gg,t._a[0],c.year),n=me(e.w,c.week),null!=e.d?((a=e.d)<0||6<a)&&(l=!0):null!=e.e?(a=e.e+s,(e.e<0||6<e.e)&&(l=!0)):a=s),n<1||n>Ot(i,s,o)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(r=Yt(i,n,a,s,o),t._a[0]=r.year,t._dayOfYear=r.dayOfYear)}(t),null!=t._dayOfYear&&(o=me(t._a[0],n[0]),(t._dayOfYear>Ct(o)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),i=Et(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=c[e]=n[e];for(;e<7;e++)t._a[e]=c[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Et:function(t,e,i,n,a,s,o){var r;return t<100&&0<=t?(r=new Date(t+400,e,i,n,a,s,o),isFinite(r.getFullYear())&&r.setFullYear(t)):r=new Date(t,e,i,n,a,s,o),r}).apply(null,c),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(m(t).weekdayMismatch=!0)}}function fe(t){if(t._f!==a.ISO_8601)if(t._f!==a.RFC_2822){t._a=[],m(t).empty=!0;for(var e,i,n,s,o,l,c,d=""+t._i,u=d.length,p=0,h=R(t._f,t._locale).match(E)||[],_=0;_<h.length;_++)i=h[_],(e=(d.match(mt(i,t))||[])[0])&&(0<(n=d.substr(0,d.indexOf(e))).length&&m(t).unusedInput.push(n),d=d.slice(d.indexOf(e)+e.length),p+=e.length),I[i]?(e?m(t).empty=!1:m(t).unusedTokens.push(i),o=i,c=t,null!=(l=e)&&r(ft,o)&&ft[o](l,c._a,c,o)):t._strict&&!e&&m(t).unusedTokens.push(i);m(t).charsLeftOver=u-p,0<d.length&&m(t).unusedInput.push(d),t._a[3]<=12&&!0===m(t).bigHour&&0<t._a[3]&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):(null!=t.isPM&&((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0)),e)}(t._locale,t._a[3],t._meridiem),null!==(s=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),ge(t),ae(t)}else _e(t);else he(t)}function ye(t){var e,i,n=t._i,r=t._f;return t._locale=t._locale||ne(t._l),null===n||void 0===r&&""===n?f({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),w(n)?new k(ae(n)):(u(n)?t._d=n:s(r)?function(t){var e,i,n,a,s,o,r=!1;if(0===t._f.length)return m(t).invalidFormat=!0,t._d=new Date(NaN);for(a=0;a<t._f.length;a++)s=0,o=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],fe(e),g(e)&&(o=!0),s+=m(e).charsLeftOver,s+=10*m(e).unusedTokens.length,m(e).score=s,r?s<n&&(n=s,i=e):(null==n||s<n||o)&&(n=s,i=e,o&&(r=!0));h(t,i||e)}(t):r?fe(t):c(i=(e=t)._i)?e._d=new Date(a.now()):u(i)?e._d=new Date(i.valueOf()):"string"==typeof i?function(t){var e=de.exec(t._i);null===e?(he(t),!1===t._isValid&&(delete t._isValid,_e(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:a.createFromInputFallback(t)))):t._d=new Date(+e[1])}(e):s(i)?(e._a=p(i.slice(0),(function(t){return parseInt(t,10)})),ge(e)):o(i)?function(t){var e,i;t._d||(i=void 0===(e=F(t._i)).day?e.date:e.day,t._a=p([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ge(t))}(e):d(i)?e._d=new Date(i):a.createFromInputFallback(e),g(t)||(t._d=null),t))}function ve(t,e,i,n,a){var r,c={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(o(t)&&l(t)||s(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=i,c._i=t,c._f=e,c._strict=n,(r=new k(ae(ye(c))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function be(t,e,i,n){return ve(t,e,i,n,!1)}a.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var ke=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()})),we=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=be.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:f()}));function xe(t,e){var i,n;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return be();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Me=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Te(t){var e=F(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,l=e.hour||0,c=e.minute||0,d=e.second||0,u=e.millisecond||0;this._isValid=function(t){var e,i,n=!1;for(e in t)if(r(t,e)&&(-1===bt.call(Me,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<Me.length;++i)if(t[Me[i]]){if(n)return!1;parseFloat(t[Me[i]])!==V(t[Me[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*d+6e4*c+1e3*l*60*60,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=ne(),this._bubble()}function Se(t){return t instanceof Te}function $e(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Le(t,e){O(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+D(~~(t/60),2)+e+D(~~t%60,2)}))}Le("Z",":"),Le("ZZ",""),_t("Z",pt),_t("ZZ",pt),yt(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Ce(pt,t)}));var Pe=/([\+\-]|\d\d)/gi;function Ce(t,e){var i,n,a=(e||"").match(t);return null===a?null:0===(n=60*(i=((a[a.length-1]||[])+"").match(Pe)||["-",0,0])[1]+V(i[2]))?0:"+"===i[0]?n:-n}function De(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(w(t)||u(t)?t.valueOf():be(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),a.updateOffset(i,!1),i):be(t).local()}function Ee(t){return-Math.round(t._d.getTimezoneOffset())}function Ae(){return!!this.isValid()&&this._isUTC&&0===this._offset}a.updateOffset=function(){};var Ye=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ie=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Oe(t,e){var i,n,a,s=t,o=null;return Se(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:d(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(o=Ye.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:V(o[2])*i,h:V(o[3])*i,m:V(o[4])*i,s:V(o[5])*i,ms:V($e(1e3*o[6]))*i}):(o=Ie.exec(t))?(i="-"===o[1]?-1:1,s={y:je(o[2],i),M:je(o[3],i),w:je(o[4],i),d:je(o[5],i),h:je(o[6],i),m:je(o[7],i),s:je(o[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(t,e){var i;return t.isValid()&&e.isValid()?(e=De(e,t),t.isBefore(e)?i=Re(t,e):((i=Re(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(be(s.from),be(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),n=new Te(s),Se(t)&&r(t,"_locale")&&(n._locale=t._locale),Se(t)&&r(t,"_isValid")&&(n._isValid=t._isValid),n}function je(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Re(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=e-t.clone().add(i.months,"M"),i}function Ne(t,e){return function(i,n){var a;return null===n||isNaN(+n)||($(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=i,i=n,n=a),ze(this,Oe(i,n),t),this}}function ze(t,e,i,n){var s=e._milliseconds,o=$e(e._days),r=$e(e._months);t.isValid()&&(n=null==n||n,r&&$t(t,K(t,"Month")+r*i),o&&J(t,"Date",K(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),n&&a.updateOffset(t,o||r))}Oe.fn=Te.prototype,Oe.invalid=function(){return Oe(NaN)};var He=Ne(1,"add"),Fe=Ne(-1,"subtract");function Be(t){return"string"==typeof t||t instanceof String}function Ue(t){return w(t)||u(t)||Be(t)||d(t)||function(t){var e=s(t),i=!1;return e&&(i=0===t.filter((function(e){return!d(e)&&Be(t)})).length),e&&i}(t)||function(t){var e,i=o(t)&&!l(t),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<a.length;e+=1)n=n||r(t,a[e]);return i&&n}(t)||null==t}function qe(t,e){if(t.date()<e.date())return-qe(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(1+i,"months")-n)))||0}function We(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ne(t))&&(this._locale=e),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ve=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function Ge(){return this._locale}var Ke=126227808e5;function Je(t,e){return(t%e+e)%e}function Xe(t,e,i){return t<100&&0<=t?new Date(t+400,e,i)-Ke:new Date(t,e,i).valueOf()}function Ze(t,e,i){return t<100&&0<=t?Date.UTC(t+400,e,i)-Ke:Date.UTC(t,e,i)}function Qe(t,e){return e.erasAbbrRegex(t)}function ti(){for(var t=[],e=[],i=[],n=[],a=this.eras(),s=0,o=a.length;s<o;++s)e.push(gt(a[s].name)),t.push(gt(a[s].abbr)),i.push(gt(a[s].narrow)),n.push(gt(a[s].name)),n.push(gt(a[s].abbr)),n.push(gt(a[s].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ei(t,e){O(0,[t,t.length],0,e)}function ii(t,e,i,n,a){var s;return null==t?It(this,n,a).year:((s=Ot(t,n,a))<e&&(e=s),function(t,e,i,n,a){var s=Yt(t,e,i,n,a),o=Et(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,i,n,a))}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),_t("N",Qe),_t("NN",Qe),_t("NNN",Qe),_t("NNNN",(function(t,e){return e.erasNameRegex(t)})),_t("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),yt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,i,n){var a=i._locale.erasParse(t,n,i._strict);a?m(i).era=a:m(i).invalidEra=t})),_t("y",ct),_t("yy",ct),_t("yyy",ct),_t("yyyy",ct),_t("yo",(function(t,e){return e._eraYearOrdinalRegex||ct})),yt(["y","yy","yyy","yyyy"],0),yt(["yo"],(function(t,e,i,n){var a;i._locale._eraYearOrdinalRegex&&(a=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[0]=i._locale.eraYearOrdinalParse(t,a):e[0]=parseInt(t,10)})),O(0,["gg",2],0,(function(){return this.weekYear()%100})),O(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ei("gggg","weekYear"),ei("ggggg","weekYear"),ei("GGGG","isoWeekYear"),ei("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),_t("G",dt),_t("g",dt),_t("GG",nt,Q),_t("gg",nt,Q),_t("GGGG",rt,et),_t("gggg",rt,et),_t("GGGGG",lt,it),_t("ggggg",lt,it),vt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=V(t)})),vt(["gg","GG"],(function(t,e,i,n){e[n]=a.parseTwoDigitYear(t)})),O("Q",0,"Qo","quarter"),z("quarter","Q"),U("quarter",7),_t("Q",Z),yt("Q",(function(t,e){e[1]=3*(V(t)-1)})),O("D",["DD",2],"Do","date"),z("date","D"),U("date",9),_t("D",nt),_t("DD",nt,Q),_t("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),yt(["D","DD"],2),yt("Do",(function(t,e){e[2]=V(t.match(nt)[0])}));var ni=G("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),U("dayOfYear",4),_t("DDD",ot),_t("DDDD",tt),yt(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=V(t)})),O("m",["mm",2],0,"minute"),z("minute","m"),U("minute",14),_t("m",nt),_t("mm",nt,Q),yt(["m","mm"],4);var ai=G("Minutes",!1);O("s",["ss",2],0,"second"),z("second","s"),U("second",15),_t("s",nt),_t("ss",nt,Q),yt(["s","ss"],5);var si,oi,ri=G("Seconds",!1);for(O("S",0,0,(function(){return~~(this.millisecond()/100)})),O(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),O(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),O(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),O(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),O(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),O(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),z("millisecond","ms"),U("millisecond",16),_t("S",ot,Z),_t("SS",ot,Q),_t("SSS",ot,tt),si="SSSS";si.length<=9;si+="S")_t(si,ct);function li(t,e){e[6]=V(1e3*("0."+t))}for(si="S";si.length<=9;si+="S")yt(si,li);oi=G("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var ci=k.prototype;function di(t){return t}ci.add=He,ci.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ue(arguments[0])?(t=arguments[0],e=void 0):function(t){for(var e=o(t)&&!l(t),i=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a=0;a<n.length;a+=1)i=i||r(t,n[a]);return e&&i}(arguments[0])&&(e=arguments[0],t=void 0):e=t=void 0);var i=t||be(),n=De(i,this).startOf("day"),s=a.calendarFormat(this,n)||"sameElse",c=e&&(L(e[s])?e[s].call(this,i):e[s]);return this.format(c||this.localeData().calendar(s,this,be(i)))},ci.clone=function(){return new k(this)},ci.diff=function(t,e,i){var n,a,s;if(!this.isValid())return NaN;if(!(n=De(t,this)).isValid())return NaN;switch(a=6e4*(n.utcOffset()-this.utcOffset()),e=H(e)){case"year":s=qe(this,n)/12;break;case"month":s=qe(this,n);break;case"quarter":s=qe(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return i?s:W(s)},ci.endOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?Ze:Xe,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Je(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Je(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Je(e,1e3)-1}return this._d.setTime(e),a.updateOffset(this,!0),this},ci.format=function(t){var e=j(this,t=t||(this.isUtc()?a.defaultFormatUtc:a.defaultFormat));return this.localeData().postformat(e)},ci.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||be(t).isValid())?Oe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ci.fromNow=function(t){return this.from(be(),t)},ci.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||be(t).isValid())?Oe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ci.toNow=function(t){return this.to(be(),t)},ci.get=function(t){return L(this[t=H(t)])?this[t]():this},ci.invalidAt=function(){return m(this).overflow},ci.isAfter=function(t,e){var i=w(t)?t:be(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},ci.isBefore=function(t,e){var i=w(t)?t:be(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},ci.isBetween=function(t,e,i,n){var a=w(t)?t:be(t),s=w(e)?e:be(e);return!!(this.isValid()&&a.isValid()&&s.isValid())&&("("===(n=n||"()")[0]?this.isAfter(a,i):!this.isBefore(a,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i))},ci.isSame=function(t,e){var i,n=w(t)?t:be(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},ci.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ci.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ci.isValid=function(){return g(this)},ci.lang=Ve,ci.locale=We,ci.localeData=Ge,ci.max=we,ci.min=ke,ci.parsingFlags=function(){return h({},m(this))},ci.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e,i=[];for(e in t)r(t,e)&&i.push({unit:e,priority:B[e]});return i.sort((function(t,e){return t.priority-e.priority})),i}(t=F(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(L(this[t=H(t)]))return this[t](e);return this},ci.startOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?Ze:Xe,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Je(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Je(e,6e4);break;case"second":e=this._d.valueOf(),e-=Je(e,1e3)}return this._d.setTime(e),a.updateOffset(this,!0),this},ci.subtract=Fe,ci.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ci.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ci.toDate=function(){return new Date(this.valueOf())},ci.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||9999<i.year()?j(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ci.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,i,n="moment",a="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=a+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ci[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ci.toJSON=function(){return this.isValid()?this.toISOString():null},ci.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ci.unix=function(){return Math.floor(this.valueOf()/1e3)},ci.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ci.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ci.eraName=function(){for(var t,e=this.localeData().eras(),i=0,n=e.length;i<n;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].name;if(e[i].until<=t&&t<=e[i].since)return e[i].name}return""},ci.eraNarrow=function(){for(var t,e=this.localeData().eras(),i=0,n=e.length;i<n;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].narrow;if(e[i].until<=t&&t<=e[i].since)return e[i].narrow}return""},ci.eraAbbr=function(){for(var t,e=this.localeData().eras(),i=0,n=e.length;i<n;++i){if(t=this.clone().startOf("day").valueOf(),e[i].since<=t&&t<=e[i].until)return e[i].abbr;if(e[i].until<=t&&t<=e[i].since)return e[i].abbr}return""},ci.eraYear=function(){for(var t,e,i=this.localeData().eras(),n=0,s=i.length;n<s;++n)if(t=i[n].since<=i[n].until?1:-1,e=this.clone().startOf("day").valueOf(),i[n].since<=e&&e<=i[n].until||i[n].until<=e&&e<=i[n].since)return(this.year()-a(i[n].since).year())*t+i[n].offset;return this.year()},ci.year=Dt,ci.isLeapYear=function(){return q(this.year())},ci.weekYear=function(t){return ii.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ci.isoWeekYear=function(t){return ii.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ci.quarter=ci.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ci.month=Lt,ci.daysInMonth=function(){return kt(this.year(),this.month())},ci.week=ci.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ci.isoWeek=ci.isoWeeks=function(t){var e=It(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ci.weeksInYear=function(){var t=this.localeData()._week;return Ot(this.year(),t.dow,t.doy)},ci.weeksInWeekYear=function(){var t=this.localeData()._week;return Ot(this.weekYear(),t.dow,t.doy)},ci.isoWeeksInYear=function(){return Ot(this.year(),1,4)},ci.isoWeeksInISOWeekYear=function(){return Ot(this.isoWeekYear(),1,4)},ci.date=ni,ci.day=ci.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,i,n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,i=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=i.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-n,"d")):n},ci.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ci.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,i,n=(e=t,i=this.localeData(),"string"==typeof e?i.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?n:n-7)},ci.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ci.hour=ci.hours=Kt,ci.minute=ci.minutes=ai,ci.second=ci.seconds=ri,ci.millisecond=ci.milliseconds=oi,ci.utcOffset=function(t,e,i){var n,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?s:Ee(this);if("string"==typeof t){if(null===(t=Ce(pt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=Ee(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==t&&(!e||this._changeInProgress?ze(this,Oe(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this},ci.utc=function(t){return this.utcOffset(0,t)},ci.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this},ci.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(t=Ce(ut,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},ci.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?be(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ci.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ci.isLocal=function(){return!!this.isValid()&&!this._isUTC},ci.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ci.isUtc=Ae,ci.isUTC=Ae,ci.zoneAbbr=function(){return this._isUTC?"UTC":""},ci.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ci.dates=M("dates accessor is deprecated. Use date instead.",ni),ci.months=M("months accessor is deprecated. Use month instead",Lt),ci.years=M("years accessor is deprecated. Use year instead",Dt),ci.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),ci.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=ye(e))._a?(t=(e._isUTC?_:be)(e._a),this._isDSTShifted=this.isValid()&&0<function(t,e,i){for(var n=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),s=0,o=0;o<n;o++)V(t[o])!==V(e[o])&&s++;return s+a}(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted}));var ui=C.prototype;function pi(t,e,i,n){var a=ne(),s=_().set(n,e);return a[i](s,t)}function hi(t,e,i){if(d(t)&&(e=t,t=void 0),t=t||"",null!=e)return pi(t,e,i,"month");for(var n=[],a=0;a<12;a++)n[a]=pi(t,a,i,"month");return n}function _i(t,e,i,n){"boolean"==typeof t?d(e)&&(i=e,e=void 0):(e=t,t=!1,d(i=e)&&(i=e,e=void 0)),e=e||"";var a,s=ne(),o=t?s._week.dow:0,r=[];if(null!=i)return pi(e,(i+o)%7,n,"day");for(a=0;a<7;a++)r[a]=pi(e,(a+o)%7,n,"day");return r}ui.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return L(n)?n.call(e,i):n},ui.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(E).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},ui.invalidDate=function(){return this._invalidDate},ui.ordinal=function(t){return this._ordinal.replace("%d",t)},ui.preparse=di,ui.postformat=di,ui.relativeTime=function(t,e,i,n){var a=this._relativeTime[i];return L(a)?a(t,e,i,n):a.replace(/%d/i,t)},ui.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return L(i)?i(e):i.replace(/%s/i,e)},ui.set=function(t){var e,i;for(i in t)r(t,i)&&(L(e=t[i])?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ui.eras=function(t,e){for(var i,n=this._eras||ne("en")._eras,s=0,o=n.length;s<o;++s){switch(typeof n[s].since){case"string":i=a(n[s].since).startOf("day"),n[s].since=i.valueOf()}switch(typeof n[s].until){case"undefined":n[s].until=1/0;break;case"string":i=a(n[s].until).startOf("day").valueOf(),n[s].until=i.valueOf()}}return n},ui.erasParse=function(t,e,i){var n,a,s,o,r,l=this.eras();for(t=t.toUpperCase(),n=0,a=l.length;n<a;++n)if(s=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),r=l[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[n];break;case"NNNN":if(s===t)return l[n];break;case"NNNNN":if(r===t)return l[n]}else if(0<=[s,o,r].indexOf(t))return l[n]},ui.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?a(t.since).year():a(t.since).year()+(e-t.offset)*i},ui.erasAbbrRegex=function(t){return r(this,"_erasAbbrRegex")||ti.call(this),t?this._erasAbbrRegex:this._erasRegex},ui.erasNameRegex=function(t){return r(this,"_erasNameRegex")||ti.call(this),t?this._erasNameRegex:this._erasRegex},ui.erasNarrowRegex=function(t){return r(this,"_erasNarrowRegex")||ti.call(this),t?this._erasNarrowRegex:this._erasRegex},ui.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Mt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},ui.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Mt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ui.monthsParse=function(t,e,i){var n,a,s;if(this._monthsParseExact)return function(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=_([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(a=bt.call(this._shortMonthsParse,o))?a:null:-1!==(a=bt.call(this._longMonthsParse,o))?a:null:"MMM"===e?-1!==(a=bt.call(this._shortMonthsParse,o))||-1!==(a=bt.call(this._longMonthsParse,o))?a:null:-1!==(a=bt.call(this._longMonthsParse,o))||-1!==(a=bt.call(this._shortMonthsParse,o))?a:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=_([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},ui.monthsRegex=function(t){return this._monthsParseExact?(r(this,"_monthsRegex")||Pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=St),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ui.monthsShortRegex=function(t){return this._monthsParseExact?(r(this,"_monthsRegex")||Pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=Tt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ui.week=function(t){return It(t,this._week.dow,this._week.doy).week},ui.firstDayOfYear=function(){return this._week.doy},ui.firstDayOfWeek=function(){return this._week.dow},ui.weekdays=function(t,e){var i=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?jt(i,this._week.dow):t?i[t.day()]:i},ui.weekdaysMin=function(t){return!0===t?jt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},ui.weekdaysShort=function(t){return!0===t?jt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},ui.weekdaysParse=function(t,e,i){var n,a,s;if(this._weekdaysParseExact)return function(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=_([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(a=bt.call(this._weekdaysParse,o))?a:null:"ddd"===e?-1!==(a=bt.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=bt.call(this._minWeekdaysParse,o))?a:null:"dddd"===e?-1!==(a=bt.call(this._weekdaysParse,o))||-1!==(a=bt.call(this._shortWeekdaysParse,o))||-1!==(a=bt.call(this._minWeekdaysParse,o))?a:null:"ddd"===e?-1!==(a=bt.call(this._shortWeekdaysParse,o))||-1!==(a=bt.call(this._weekdaysParse,o))||-1!==(a=bt.call(this._minWeekdaysParse,o))?a:null:-1!==(a=bt.call(this._minWeekdaysParse,o))||-1!==(a=bt.call(this._weekdaysParse,o))||-1!==(a=bt.call(this._shortWeekdaysParse,o))?a:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=_([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},ui.weekdaysRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=Ht),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ui.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ui.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Ut.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Bt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ui.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ui.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},ee("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===V(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),a.lang=M("moment.lang is deprecated. Use moment.locale instead.",ee),a.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ne);var mi=Math.abs;function gi(t,e,i,n){var a=Oe(e,i);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function fi(t){return t<0?Math.floor(t):Math.ceil(t)}function yi(t){return 4800*t/146097}function vi(t){return 146097*t/4800}function bi(t){return function(){return this.as(t)}}var ki=bi("ms"),wi=bi("s"),xi=bi("m"),Mi=bi("h"),Ti=bi("d"),Si=bi("w"),$i=bi("M"),Li=bi("Q"),Pi=bi("y");function Ci(t){return function(){return this.isValid()?this._data[t]:NaN}}var Di=Ci("milliseconds"),Ei=Ci("seconds"),Ai=Ci("minutes"),Yi=Ci("hours"),Ii=Ci("days"),Oi=Ci("months"),ji=Ci("years"),Ri=Math.round,Ni={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var zi=Math.abs;function Hi(t){return(0<t)-(t<0)||+t}function Fi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n,a,s,o,r,l=zi(this._milliseconds)/1e3,c=zi(this._days),d=zi(this._months),u=this.asSeconds();return u?(t=W(l/60),e=W(t/60),l%=60,t%=60,i=W(d/12),d%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=u<0?"-":"",s=Hi(this._months)!==Hi(u)?"-":"",o=Hi(this._days)!==Hi(u)?"-":"",r=Hi(this._milliseconds)!==Hi(u)?"-":"",a+"P"+(i?s+i+"Y":"")+(d?s+d+"M":"")+(c?o+c+"D":"")+(e||t||l?"T":"")+(e?r+e+"H":"")+(t?r+t+"M":"")+(l?r+n+"S":"")):"P0D"}var Bi=Te.prototype;function Ui(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5}function qi(t){return function(e,i,n,a){var s=Ui(e),o=Wi[t][Ui(e)];return 2===s&&(o=o[i?0:1]),o.replace(/%d/i,e)}}Bi.isValid=function(){return this._isValid},Bi.abs=function(){var t=this._data;return this._milliseconds=mi(this._milliseconds),this._days=mi(this._days),this._months=mi(this._months),t.milliseconds=mi(t.milliseconds),t.seconds=mi(t.seconds),t.minutes=mi(t.minutes),t.hours=mi(t.hours),t.months=mi(t.months),t.years=mi(t.years),this},Bi.add=function(t,e){return gi(this,t,e,1)},Bi.subtract=function(t,e){return gi(this,t,e,-1)},Bi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=H(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+yi(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(vi(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Bi.asMilliseconds=ki,Bi.asSeconds=wi,Bi.asMinutes=xi,Bi.asHours=Mi,Bi.asDays=Ti,Bi.asWeeks=Si,Bi.asMonths=$i,Bi.asQuarters=Li,Bi.asYears=Pi,Bi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Bi._bubble=function(){var t,e,i,n,a,s=this._milliseconds,o=this._days,r=this._months,l=this._data;return 0<=s&&0<=o&&0<=r||s<=0&&o<=0&&r<=0||(s+=864e5*fi(vi(r)+o),r=o=0),l.milliseconds=s%1e3,t=W(s/1e3),l.seconds=t%60,e=W(t/60),l.minutes=e%60,i=W(e/60),l.hours=i%24,o+=W(i/24),r+=a=W(yi(o)),o-=fi(vi(a)),n=W(r/12),r%=12,l.days=o,l.months=r,l.years=n,this},Bi.clone=function(){return Oe(this)},Bi.get=function(t){return t=H(t),this.isValid()?this[t+"s"]():NaN},Bi.milliseconds=Di,Bi.seconds=Ei,Bi.minutes=Ai,Bi.hours=Yi,Bi.days=Ii,Bi.weeks=function(){return W(this.days()/7)},Bi.months=Oi,Bi.years=ji,Bi.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,n,a=!1,s=Ni;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(a=t),"object"==typeof e&&(s=Object.assign({},Ni,e),null!=e.s&&null==e.ss&&(s.ss=e.s-1)),n=function(t,e,i,n){var a=Oe(t).abs(),s=Ri(a.as("s")),o=Ri(a.as("m")),r=Ri(a.as("h")),l=Ri(a.as("d")),c=Ri(a.as("M")),d=Ri(a.as("w")),u=Ri(a.as("y")),p=(s<=i.ss?["s",s]:s<i.s&&["ss",s])||o<=1&&["m"]||o<i.m&&["mm",o]||r<=1&&["h"]||r<i.h&&["hh",r]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(p=p||d<=1&&["w"]||d<i.w&&["ww",d]),(p=p||c<=1&&["M"]||c<i.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=e,p[3]=0<+t,p[4]=n,function(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}.apply(null,p)}(this,!a,s,i=this.localeData()),a&&(n=i.pastFuture(+this,n)),i.postformat(n)},Bi.toISOString=Fi,Bi.toString=Fi,Bi.toJSON=Fi,Bi.locale=We,Bi.localeData=Ge,Bi.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fi),Bi.lang=Ve,O("X",0,0,"unix"),O("x",0,0,"valueOf"),_t("x",dt),_t("X",/[+-]?\d+(\.\d{1,3})?/),yt("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t))})),yt("x",(function(t,e,i){i._d=new Date(V(t))})),a.version="2.29.1",e=be,a.fn=ci,a.min=function(){return xe("isBefore",[].slice.call(arguments,0))},a.max=function(){return xe("isAfter",[].slice.call(arguments,0))},a.now=function(){return Date.now?Date.now():+new Date},a.utc=_,a.unix=function(t){return be(1e3*t)},a.months=function(t,e){return hi(t,e,"months")},a.isDate=u,a.locale=ee,a.invalid=f,a.duration=Oe,a.isMoment=w,a.weekdays=function(t,e,i){return _i(t,e,i,"weekdays")},a.parseZone=function(){return be.apply(null,arguments).parseZone()},a.localeData=ne,a.isDuration=Se,a.monthsShort=function(t,e){return hi(t,e,"monthsShort")},a.weekdaysMin=function(t,e,i){return _i(t,e,i,"weekdaysMin")},a.defineLocale=ie,a.updateLocale=function(t,e){var i,n,a;return null!=e?(a=Jt,null!=Xt[t]&&null!=Xt[t].parentLocale?Xt[t].set(P(Xt[t]._config,e)):(null!=(n=te(t))&&(a=n._config),e=P(a,e),null==n&&(e.abbr=t),(i=new C(e)).parentLocale=Xt[t],Xt[t]=i),ee(t)):null!=Xt[t]&&(null!=Xt[t].parentLocale?(Xt[t]=Xt[t].parentLocale,t===ee()&&ee(t)):null!=Xt[t]&&delete Xt[t]),Xt[t]},a.locales=function(){return T(Xt)},a.weekdaysShort=function(t,e,i){return _i(t,e,i,"weekdaysShort")},a.normalizeUnits=H,a.relativeTimeRounding=function(t){return void 0===t?Ri:"function"==typeof t&&(Ri=t,!0)},a.relativeTimeThreshold=function(t,e){return void 0!==Ni[t]&&(void 0===e?Ni[t]:(Ni[t]=e,"s"===t&&(Ni.ss=e-1),!0))},a.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},a.prototype=ci,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"vm":"VM":i?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var Wi={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Vi=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];function Gi(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5}function Ki(t){return function(e,i,n,a){var s=Gi(e),o=Xi[t][Gi(e)];return 2===s&&(o=o[i?0:1]),o.replace(/%d/i,e)}}a.defineLocale("ar-dz",{months:Vi,monthsShort:Vi,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"م"===t},meridiem:function(t,e,i){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:qi("s"),ss:qi("s"),m:qi("m"),mm:qi("m"),h:qi("h"),hh:qi("h"),d:qi("d"),dd:qi("d"),M:qi("M"),MM:qi("M"),y:qi("y"),yy:qi("y")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:0,doy:4}}),a.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});var Ji={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Xi={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Zi=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];a.defineLocale("ar-ly",{months:Zi,monthsShort:Zi,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"م"===t},meridiem:function(t,e,i){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Ki("s"),ss:Ki("s"),m:Ki("m"),mm:Ki("m"),h:Ki("h"),hh:Ki("h"),d:Ki("d"),dd:Ki("d"),M:Ki("M"),MM:Ki("M"),y:Ki("y"),yy:Ki("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return Ji[t]})).replace(/,/g,"،")},week:{dow:6,doy:12}}),a.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});var Qi={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},tn={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};function en(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5}function nn(t){return function(e,i,n,a){var s=en(e),o=on[t][en(e)];return 2===s&&(o=o[i?0:1]),o.replace(/%d/i,e)}}a.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"م"===t},meridiem:function(t,e,i){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return tn[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return Qi[t]})).replace(/,/g,"،")},week:{dow:0,doy:6}}),a.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});var an={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},sn={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},on={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},rn=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];a.defineLocale("ar",{months:rn,monthsShort:rn,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"م"===t},meridiem:function(t,e,i){return t<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:nn("s"),ss:nn("s"),m:nn("m"),mm:nn("m"),h:nn("h"),hh:nn("h"),d:nn("d"),dd:nn("d"),M:nn("M"),MM:nn("M"),y:nn("y"),yy:nn("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return sn[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return an[t]})).replace(/,/g,"،")},week:{dow:6,doy:12}});var ln={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};function cn(t,e,i){var n,a;return"m"===i?e?"хвіліна":"хвіліну":"h"===i?e?"гадзіна":"гадзіну":t+" "+(n=+t,a={ss:e?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:e?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:e?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[i].split("_"),n%10==1&&n%100!=11?a[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?a[1]:a[2])}a.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,i){return t<4?"gecə":t<12?"səhər":t<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-ıncı";var e=t%10;return t+(ln[e]||ln[t%100-e]||ln[100<=t?100:null])},week:{dow:1,doy:7}}),a.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:cn,mm:cn,h:cn,hh:cn,d:"дзень",dd:cn,M:"месяц",MM:cn,y:"год",yy:cn},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,i){return t<4?"ночы":t<12?"раніцы":t<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-ы":t+"-і";case"D":return t+"-га";default:return t}},week:{dow:1,doy:7}}),a.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-ев":0==i?t+"-ен":10<i&&i<20?t+"-ти":1==e?t+"-ви":2==e?t+"-ри":7==e||8==e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}}),a.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var dn={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},un={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};a.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(t){return un[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return dn[t]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"রাত"===e?t<4?t:t+12:"ভোর"===e||"সকাল"===e?t:"দুপুর"===e?3<=t?t:t+12:"বিকাল"===e||"সন্ধ্যা"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"রাত":t<6?"ভোর":t<12?"সকাল":t<15?"দুপুর":t<18?"বিকাল":t<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}});var pn={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},hn={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};a.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,(function(t){return hn[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return pn[t]}))},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"রাত"===e&&4<=t||"দুপুর"===e&&t<5||"বিকাল"===e?t+12:t},meridiem:function(t,e,i){return t<4?"রাত":t<10?"সকাল":t<17?"দুপুর":t<20?"বিকাল":"রাত"},week:{dow:0,doy:6}});var _n={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},mn={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};function gn(t,e,i){var n;return t+" "+(n={mm:"munutenn",MM:"miz",dd:"devezh"}[i],2!==t?n:function(t){var e={m:"v",b:"v",d:"z"};return void 0!==e[t.charAt(0)]?e[t.charAt(0)]+t.substring(1):t}(n))}a.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,(function(t){return mn[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return _n[t]}))},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),"མཚན་མོ"===e&&4<=t||"ཉིན་གུང"===e&&t<5||"དགོང་དག"===e?t+12:t},meridiem:function(t,e,i){return t<4?"མཚན་མོ":t<10?"ཞོགས་ཀས":t<17?"ཉིན་གུང":t<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}});var fn=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],yn=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,vn=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];function bn(t,e,i){var n=t+" ";switch(i){case"ss":return n+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+(1===t||2!==t&&3!==t&&4!==t?"minuta":"minute");case"h":return e?"jedan sat":"jednog sata";case"hh":return n+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return n+(1===t?"dan":"dana");case"MM":return n+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return n+(1===t||2!==t&&3!==t&&4!==t?"godina":"godine")}}a.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:vn,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:vn,monthsRegex:yn,monthsShortRegex:yn,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:fn,longMonthsParse:fn,shortMonthsParse:fn,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:gn,h:"un eur",hh:"%d eur",d:"un devezh",dd:gn,M:"ur miz",MM:gn,y:"ur bloaz",yy:function(t){switch(function t(e){return 9<e?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,i){return t<12?"a.m.":"g.m."}}),a.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:bn,m:bn,mm:bn,h:bn,hh:bn,d:"dan",dd:bn,M:"mjesec",MM:bn,y:"godinu",yy:bn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"è":"a")},week:{dow:1,doy:4}});var kn="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),wn="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),xn=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],Mn=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function Tn(t){return 1<t&&t<5&&1!=~~(t/10)}function Sn(t,e,i,n){var a=t+" ";switch(i){case"s":return e||n?"pár sekund":"pár sekundami";case"ss":return e||n?a+(Tn(t)?"sekundy":"sekund"):a+"sekundami";case"m":return e?"minuta":n?"minutu":"minutou";case"mm":return e||n?a+(Tn(t)?"minuty":"minut"):a+"minutami";case"h":return e?"hodina":n?"hodinu":"hodinou";case"hh":return e||n?a+(Tn(t)?"hodiny":"hodin"):a+"hodinami";case"d":return e||n?"den":"dnem";case"dd":return e||n?a+(Tn(t)?"dny":"dní"):a+"dny";case"M":return e||n?"měsíc":"měsícem";case"MM":return e||n?a+(Tn(t)?"měsíce":"měsíců"):a+"měsíci";case"y":return e||n?"rok":"rokem";case"yy":return e||n?a+(Tn(t)?"roky":"let"):a+"lety"}}function $n(t,e,i,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?a[i][0]:a[i][1]}function Ln(t,e,i,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?a[i][0]:a[i][1]}function Pn(t,e,i,n){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?a[i][0]:a[i][1]}a.defineLocale("cs",{months:kn,monthsShort:wn,monthsRegex:Mn,monthsShortRegex:Mn,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:xn,longMonthsParse:xn,shortMonthsParse:xn,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:Sn,ss:Sn,m:Sn,mm:Sn,h:Sn,hh:Sn,d:Sn,dd:Sn,M:Sn,MM:Sn,y:Sn,yy:Sn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"рен":/\u04ab\u0443\u043b$/i.exec(t)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),a.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return 20<t?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":0<t&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}}),a.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:$n,mm:"%d Minuten",h:$n,hh:"%d Stunden",d:$n,dd:$n,w:$n,ww:"%d Wochen",M:$n,MM:$n,y:$n,yy:$n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:Ln,mm:"%d Minuten",h:Ln,hh:"%d Stunden",d:Ln,dd:Ln,w:Ln,ww:"%d Wochen",M:Ln,MM:Ln,y:Ln,yy:Ln},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:Pn,mm:"%d Minuten",h:Pn,hh:"%d Stunden",d:Pn,dd:Pn,w:Pn,ww:"%d Wochen",M:Pn,MM:Pn,y:Pn,yy:Pn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Cn=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],Dn=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];a.defineLocale("dv",{months:Cn,monthsShort:Cn,weekdays:Dn,weekdaysShort:Dn,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"މފ"===t},meridiem:function(t,e,i){return t<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:7,doy:12}}),a.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(t,e,i){return 11<t?i?"μμ":"ΜΜ":i?"πμ":"ΠΜ"},isPM:function(t){return"μ"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var i,n=this._calendarEl[t],a=e&&e.hours();return i=n,("undefined"!=typeof Function&&i instanceof Function||"[object Function]"===Object.prototype.toString.call(i))&&(n=n.apply(e)),n.replace("{}",a%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%dη",week:{dow:1,doy:4}}),a.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:4}}),a.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),a.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),a.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),a.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),a.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:0,doy:6}}),a.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),a.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),a.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,i){return 11<t?i?"p.t.m.":"P.T.M.":i?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var En="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),An="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Yn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],In=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?An[t.month()]:En[t.month()]:En},monthsRegex:In,monthsShortRegex:In,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Yn,longMonthsParse:Yn,shortMonthsParse:Yn,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}});var On="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),jn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Rn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Nn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?jn[t.month()]:On[t.month()]:On},monthsRegex:Nn,monthsShortRegex:Nn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Rn,longMonthsParse:Rn,shortMonthsParse:Rn,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"});var zn="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Hn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Fn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Bn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?Hn[t.month()]:zn[t.month()]:zn},monthsRegex:Bn,monthsShortRegex:Bn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Fn,longMonthsParse:Fn,shortMonthsParse:Fn,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:0,doy:6}});var Un="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),qn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Wn=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Vn=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function Gn(t,e,i,n){var a={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["ühe minuti","üks minut"],mm:[t+" minuti",t+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[t+" tunni",t+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[t+" kuu",t+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[t+" aasta",t+" aastat"]};return e?a[i][2]?a[i][2]:a[i][1]:n?a[i][0]:a[i][1]}a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?qn[t.month()]:Un[t.month()]:Un},monthsRegex:Vn,monthsShortRegex:Vn,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Wn,longMonthsParse:Wn,shortMonthsParse:Wn,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"}),a.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:Gn,ss:Gn,m:Gn,mm:Gn,h:Gn,hh:Gn,d:Gn,dd:"%d päeva",M:Gn,MM:Gn,y:Gn,yy:Gn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Kn={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},Jn={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};a.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,i){return t<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,(function(t){return Jn[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return Kn[t]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%dم",week:{dow:6,doy:12}});var Xn="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),Zn=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",Xn[7],Xn[8],Xn[9]];function Qn(t,e,i,n){var a,s="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":s=n?"sekunnin":"sekuntia";break;case"m":return n?"minuutin":"minuutti";case"mm":s=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":s=n?"tunnin":"tuntia";break;case"d":return n?"päivän":"päivä";case"dd":s=n?"päivän":"päivää";break;case"M":return n?"kuukauden":"kuukausi";case"MM":s=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":s=n?"vuoden":"vuotta"}return((a=t)<10?n?Zn[a]:Xn[a]:a)+" "+s}a.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:Qn,ss:Qn,m:Qn,mm:Qn,h:Qn,hh:Qn,d:Qn,dd:Qn,M:Qn,MM:Qn,y:Qn,yy:Qn},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),a.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}}),a.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});var ta=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,ea=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];a.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:ta,monthsShortRegex:ta,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:ea,longMonthsParse:ea,shortMonthsParse:ea,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});var ia="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),na="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");function aa(t,e,i,n){var a={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[t+" सॅकंडांनी",t+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[t+" मिणटांनी",t+" मिणटां"],h:["एका वरान","एक वर"],hh:[t+" वरांनी",t+" वरां"],d:["एका दिसान","एक दीस"],dd:[t+" दिसांनी",t+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[t+" म्हयन्यानी",t+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[t+" वर्सांनी",t+" वर्सां"]};return n?a[i][0]:a[i][1]}function sa(t,e,i,n){var a={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return n?a[i][0]:a[i][1]}a.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?na[t.month()]:ia[t.month()]:ia},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),a.defineLocale("ga",{months:["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],weekdaysShort:["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],weekdaysMin:["Do","Lu","Má","Cé","Dé","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}}),a.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}}),a.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:aa,ss:aa,m:aa,mm:aa,h:aa,hh:aa,d:aa,dd:aa,M:aa,MM:aa,y:aa,yy:aa},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(t,e){switch(e){case"D":return t+"वेर";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(t,e){return 12===t&&(t=0),"राती"===e?t<4?t:t+12:"सकाळीं"===e?t:"दनपारां"===e?12<t?t:t+12:"सांजे"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"राती":t<12?"सकाळीं":t<16?"दनपारां":t<20?"सांजे":"राती"}}),a.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:sa,ss:sa,m:sa,mm:sa,h:sa,hh:sa,d:sa,dd:sa,M:sa,MM:sa,y:sa,yy:sa},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?12<t?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}});var oa={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},ra={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};a.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,(function(t){return ra[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return oa[t]}))},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),"રાત"===e?t<4?t:t+12:"સવાર"===e?t:"બપોર"===e?10<=t?t:t+12:"સાંજ"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"રાત":t<10?"સવાર":t<17?"બપોર":t<20?"સાંજ":"રાત"},week:{dow:0,doy:6}}),a.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(t){return 2===t?"שעתיים":t+" שעות"},d:"יום",dd:function(t){return 2===t?"יומיים":t+" ימים"},M:"חודש",MM:function(t){return 2===t?"חודשיים":t+" חודשים"},y:"שנה",yy:function(t){return 2===t?"שנתיים":t%10==0&&10!==t?t+" שנה":t+" שנים"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,i){return t<5?"לפנות בוקר":t<10?"בבוקר":t<12?i?'לפנה"צ':"לפני הצהריים":t<18?i?'אחה"צ':"אחרי הצהריים":"בערב"}});var la={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},ca={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},da=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];function ua(t,e,i){var n=t+" ";switch(i){case"ss":return n+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return n+(1===t||2!==t&&3!==t&&4!==t?"minuta":"minute");case"h":return e?"jedan sat":"jednog sata";case"hh":return n+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return n+(1===t?"dan":"dana");case"MM":return n+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return n+(1===t||2!==t&&3!==t&&4!==t?"godina":"godine")}}a.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:da,longMonthsParse:da,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return ca[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return la[t]}))},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),"रात"===e?t<4?t:t+12:"सुबह"===e?t:"दोपहर"===e?10<=t?t:t+12:"शाम"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"रात":t<10?"सुबह":t<17?"दोपहर":t<20?"शाम":"रात"},week:{dow:0,doy:6}}),a.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:ua,m:ua,mm:ua,h:ua,hh:ua,d:"dan",dd:ua,M:"mjesec",MM:ua,y:"godinu",yy:ua},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var pa="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function ha(t,e,i,n){var a=t;switch(i){case"s":return n||e?"néhány másodperc":"néhány másodperce";case"ss":return a+(n||e)?" másodperc":" másodperce";case"m":return"egy"+(n||e?" perc":" perce");case"mm":return a+(n||e?" perc":" perce");case"h":return"egy"+(n||e?" óra":" órája");case"hh":return a+(n||e?" óra":" órája");case"d":return"egy"+(n||e?" nap":" napja");case"dd":return a+(n||e?" nap":" napja");case"M":return"egy"+(n||e?" hónap":" hónapja");case"MM":return a+(n||e?" hónap":" hónapja");case"y":return"egy"+(n||e?" év":" éve");case"yy":return a+(n||e?" év":" éve")}return""}function _a(t){return(t?"":"[múlt] ")+"["+pa[this.day()]+"] LT[-kor]"}function ma(t){return t%100==11||t%10!=1}function ga(t,e,i,n){var a=t+" ";switch(i){case"s":return e||n?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return ma(t)?a+(e||n?"sekúndur":"sekúndum"):a+"sekúnda";case"m":return e?"mínúta":"mínútu";case"mm":return ma(t)?a+(e||n?"mínútur":"mínútum"):e?a+"mínúta":a+"mínútu";case"hh":return ma(t)?a+(e||n?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return e?"dagur":n?"dag":"degi";case"dd":return ma(t)?e?a+"dagar":a+(n?"daga":"dögum"):e?a+"dagur":a+(n?"dag":"degi");case"M":return e?"mánuður":n?"mánuð":"mánuði";case"MM":return ma(t)?e?a+"mánuðir":a+(n?"mánuði":"mánuðum"):e?a+"mánuður":a+(n?"mánuð":"mánuði");case"y":return e||n?"ár":"ári";case"yy":return ma(t)?a+(e||n?"ár":"árum"):a+(e||n?"ár":"ári")}}a.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,i){return t<12?!0===i?"de":"DE":!0===i?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return _a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return _a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:ha,ss:ha,m:ha,mm:ha,h:ha,hh:ha,d:ha,dd:ha,M:ha,MM:ha,y:ha,yy:ha},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"գիշերվա":t<12?"առավոտվա":t<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-ին":t+"-րդ";default:return t}},week:{dow:1,doy:7}}),a.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?11<=t?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),a.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:ga,ss:ga,m:ga,mm:ga,h:"klukkustund",hh:ga,d:ga,dd:ga,M:ga,MM:ga,y:ga,yy:ga},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(t,e){return"元"===e[1]?1:parseInt(e[1]||t,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"午後"===t},meridiem:function(t,e,i){return t<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(t){return t.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(t){return this.week()!==t.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"y":return 1===t?"元年":t+"年";case"d":case"D":case"DDD":return t+"日";default:return t}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),a.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?11<=t?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),a.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,(function(t,e,i){return"ი"===i?e+"ში":e+i+"ში"}))},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"ის წინ"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"წლის წინ"):t},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-ლი":t<20||t<=100&&t%20==0||t%100==0?"მე-"+t:t+"-ე"},week:{dow:1,doy:7}});var fa={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};a.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(fa[t]||fa[t%10]||fa[100<=t?100:null])},week:{dow:1,doy:7}});var ya={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},va={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};a.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"ល្ងាច"===t},meridiem:function(t,e,i){return t<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"ទី%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,(function(t){return va[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return ya[t]}))},week:{dow:1,doy:4}});var ba={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},ka={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};a.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,(function(t){return ka[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return ba[t]}))},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),"ರಾತ್ರಿ"===e?t<4?t:t+12:"ಬೆಳಿಗ್ಗೆ"===e?t:"ಮಧ್ಯಾಹ್ನ"===e?10<=t?t:t+12:"ಸಂಜೆ"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"ರಾತ್ರಿ":t<10?"ಬೆಳಿಗ್ಗೆ":t<17?"ಮಧ್ಯಾಹ್ನ":t<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"ನೇ"},week:{dow:0,doy:6}}),a.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"일";case"M":return t+"월";case"w":case"W":return t+"주";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"오후"===t},meridiem:function(t,e,i){return t<12?"오전":"오후"}});var wa={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},xa={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Ma=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];a.defineLocale("ku",{months:Ma,monthsShort:Ma,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t,e,i){return t<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,(function(t){return xa[t]})).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return wa[t]})).replace(/,/g,"،")},week:{dow:6,doy:12}});var Ta={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};function Sa(t,e,i,n){var a={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?a[i][0]:a[i][1]}function $a(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return $a(0==e?t/10:e)}if(t<1e4){for(;10<=t;)t/=10;return $a(t)}return $a(t/=1e3)}a.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(Ta[t]||Ta[t%10]||Ta[100<=t?100:null])},week:{dow:1,doy:7}}),a.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return $a(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return $a(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:Sa,mm:"%d Minutten",h:Sa,hh:"%d Stonnen",d:Sa,dd:"%d Deeg",M:Sa,MM:"%d Méint",y:Sa,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"ຕອນແລງ"===t},meridiem:function(t,e,i){return t<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"ທີ່"+t}});var La={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function Pa(t,e,i,n){return e?Da(i)[0]:n?Da(i)[1]:Da(i)[2]}function Ca(t){return t%10==0||10<t&&t<20}function Da(t){return La[t].split("_")}function Ea(t,e,i,n){var a=t+" ";return 1===t?a+Pa(0,e,i[0],n):e?a+(Ca(t)?Da(i)[1]:Da(i)[0]):n?a+Da(i)[1]:a+(Ca(t)?Da(i)[1]:Da(i)[2])}a.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(t,e,i,n){return e?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"},ss:Ea,m:Pa,mm:Ea,h:Pa,hh:Ea,d:Pa,dd:Ea,M:Pa,MM:Ea,y:Pa,yy:Ea},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});var Aa={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Ya(t,e,i){return i?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function Ia(t,e,i){return t+" "+Ya(Aa[i],t,e)}function Oa(t,e,i){return Ya(Aa[i],t,e)}a.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(t,e){return e?"dažas sekundes":"dažām sekundēm"},ss:Ia,m:Oa,mm:Ia,h:Oa,hh:Ia,d:Oa,dd:Ia,M:Oa,MM:Ia,y:Oa,yy:Ia},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ja={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,i){var n=ja.words[i];return 1===i.length?e?n[0]:n[1]:t+" "+ja.correctGrammaticalCase(t,n)}};function Ra(t,e,i,n){switch(i){case"s":return e?"хэдхэн секунд":"хэдхэн секундын";case"ss":return t+(e?" секунд":" секундын");case"m":case"mm":return t+(e?" минут":" минутын");case"h":case"hh":return t+(e?" цаг":" цагийн");case"d":case"dd":return t+(e?" өдөр":" өдрийн");case"M":case"MM":return t+(e?" сар":" сарын");case"y":case"yy":return t+(e?" жил":" жилийн");default:return t}}a.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:ja.translate,m:ja.translate,mm:ja.translate,h:ja.translate,hh:ja.translate,d:"dan",dd:ja.translate,M:"mjesec",MM:ja.translate,y:"godinu",yy:ja.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,i=t%100;return 0===t?t+"-ев":0==i?t+"-ен":10<i&&i<20?t+"-ти":1==e?t+"-ви":2==e?t+"-ри":7==e||8==e?t+"-ми":t+"-ти"},week:{dow:1,doy:7}}),a.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),"രാത്രി"===e&&4<=t||"ഉച്ച കഴിഞ്ഞ്"===e||"വൈകുന്നേരം"===e?t+12:t},meridiem:function(t,e,i){return t<4?"രാത്രി":t<12?"രാവിലെ":t<17?"ഉച്ച കഴിഞ്ഞ്":t<20?"വൈകുന്നേരം":"രാത്രി"}}),a.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"ҮХ"===t},meridiem:function(t,e,i){return t<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:Ra,ss:Ra,m:Ra,mm:Ra,h:Ra,hh:Ra,d:Ra,dd:Ra,M:Ra,MM:Ra,y:Ra,yy:Ra},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" өдөр";default:return t}}});var Na={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},za={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function Ha(t,e,i,n){var a="";if(e)switch(i){case"s":a="काही सेकंद";break;case"ss":a="%d सेकंद";break;case"m":a="एक मिनिट";break;case"mm":a="%d मिनिटे";break;case"h":a="एक तास";break;case"hh":a="%d तास";break;case"d":a="एक दिवस";break;case"dd":a="%d दिवस";break;case"M":a="एक महिना";break;case"MM":a="%d महिने";break;case"y":a="एक वर्ष";break;case"yy":a="%d वर्षे"}else switch(i){case"s":a="काही सेकंदां";break;case"ss":a="%d सेकंदां";break;case"m":a="एका मिनिटा";break;case"mm":a="%d मिनिटां";break;case"h":a="एका तासा";break;case"hh":a="%d तासां";break;case"d":a="एका दिवसा";break;case"dd":a="%d दिवसां";break;case"M":a="एका महिन्या";break;case"MM":a="%d महिन्यां";break;case"y":a="एका वर्षा";break;case"yy":a="%d वर्षां"}return a.replace(/%d/i,t)}a.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:Ha,ss:Ha,m:Ha,mm:Ha,h:Ha,hh:Ha,d:Ha,dd:Ha,M:Ha,MM:Ha,y:Ha,yy:Ha},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return za[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return Na[t]}))},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),"पहाटे"===e||"सकाळी"===e?t:"दुपारी"===e||"सायंकाळी"===e||"रात्री"===e?12<=t?t:t+12:void 0},meridiem:function(t,e,i){return 0<=t&&t<6?"पहाटे":t<12?"सकाळी":t<17?"दुपारी":t<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),a.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),a.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,i){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),a.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}});var Fa={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},Ba={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};a.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,(function(t){return Ba[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return Fa[t]}))},week:{dow:1,doy:4}}),a.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ua={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},qa={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};a.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,(function(t){return qa[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return Ua[t]}))},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),"राति"===e?t<4?t:t+12:"बिहान"===e?t:"दिउँसो"===e?10<=t?t:t+12:"साँझ"===e?t+12:void 0},meridiem:function(t,e,i){return t<3?"राति":t<12?"बिहान":t<16?"दिउँसो":t<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});var Wa="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Va="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ga=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Ka=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?Va[t.month()]:Wa[t.month()]:Wa},monthsRegex:Ka,monthsShortRegex:Ka,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ga,longMonthsParse:Ga,shortMonthsParse:Ga,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var Ja="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Xa="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Za=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Qa=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?Xa[t.month()]:Ja[t.month()]:Ja},monthsRegex:Qa,monthsShortRegex:Qa,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Za,longMonthsParse:Za,shortMonthsParse:Za,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),a.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"è":"a")},week:{dow:1,doy:4}});var ts={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},es={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};a.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,(function(t){return es[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return ts[t]}))},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),"ਰਾਤ"===e?t<4?t:t+12:"ਸਵੇਰ"===e?t:"ਦੁਪਹਿਰ"===e?10<=t?t:t+12:"ਸ਼ਾਮ"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"ਰਾਤ":t<10?"ਸਵੇਰ":t<17?"ਦੁਪਹਿਰ":t<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}});var is="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),ns="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),as=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function ss(t){return t%10<5&&1<t%10&&~~(t/10)%10!=1}function os(t,e,i){var n=t+" ";switch(i){case"ss":return n+(ss(t)?"sekundy":"sekund");case"m":return e?"minuta":"minutę";case"mm":return n+(ss(t)?"minuty":"minut");case"h":return e?"godzina":"godzinę";case"hh":return n+(ss(t)?"godziny":"godzin");case"ww":return n+(ss(t)?"tygodnie":"tygodni");case"MM":return n+(ss(t)?"miesiące":"miesięcy");case"yy":return n+(ss(t)?"lata":"lat")}}function rs(t,e,i){return t+(20<=t%100||100<=t&&t%100==0?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[i]}function ls(t,e,i){var n,a;return"m"===i?e?"минута":"минуту":t+" "+(n=+t,a={ss:e?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[i].split("_"),n%10==1&&n%100!=11?a[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?a[1]:a[2])}a.defineLocale("pl",{months:function(t,e){return t?/D MMMM/.test(e)?ns[t.month()]:is[t.month()]:is},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:as,longMonthsParse:as,shortMonthsParse:as,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:os,m:os,mm:os,h:os,hh:os,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:os,M:"miesiąc",MM:os,y:"rok",yy:os},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",invalidDate:"Data inválida"}),a.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:rs,m:"un minut",mm:rs,h:"o oră",hh:rs,d:"o zi",dd:rs,w:"o săptămână",ww:rs,M:"o lună",MM:rs,y:"un an",yy:rs},week:{dow:1,doy:7}});var cs=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];a.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:cs,longMonthsParse:cs,shortMonthsParse:cs,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:ls,m:ls,mm:ls,h:"час",hh:ls,d:"день",dd:ls,w:"неделя",ww:ls,M:"месяц",MM:ls,y:"год",yy:ls},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,i){return t<4?"ночи":t<12?"утра":t<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-й";case"D":return t+"-го";case"w":case"W":return t+"-я";default:return t}},week:{dow:1,doy:4}});var ds=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],us=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];a.defineLocale("sd",{months:ds,monthsShort:ds,weekdays:us,weekdaysShort:us,weekdaysMin:us,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"شام"===t},meridiem:function(t,e,i){return t<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:4}}),a.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" වැනි"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"ප.ව."===t||"පස් වරු"===t},meridiem:function(t,e,i){return 11<t?i?"ප.ව.":"පස් වරු":i?"පෙ.ව.":"පෙර වරු"}});var ps="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),hs="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function _s(t){return 1<t&&t<5}function ms(t,e,i,n){var a=t+" ";switch(i){case"s":return e||n?"pár sekúnd":"pár sekundami";case"ss":return e||n?a+(_s(t)?"sekundy":"sekúnd"):a+"sekundami";case"m":return e?"minúta":n?"minútu":"minútou";case"mm":return e||n?a+(_s(t)?"minúty":"minút"):a+"minútami";case"h":return e?"hodina":n?"hodinu":"hodinou";case"hh":return e||n?a+(_s(t)?"hodiny":"hodín"):a+"hodinami";case"d":return e||n?"deň":"dňom";case"dd":return e||n?a+(_s(t)?"dni":"dní"):a+"dňami";case"M":return e||n?"mesiac":"mesiacom";case"MM":return e||n?a+(_s(t)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return e||n?"rok":"rokom";case"yy":return e||n?a+(_s(t)?"roky":"rokov"):a+"rokmi"}}function gs(t,e,i,n){var a=t+" ";switch(i){case"s":return e||n?"nekaj sekund":"nekaj sekundami";case"ss":return a+(1===t?e?"sekundo":"sekundi":2===t?e||n?"sekundi":"sekundah":t<5?e||n?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return a+(1===t?e?"minuta":"minuto":2===t?e||n?"minuti":"minutama":t<5?e||n?"minute":"minutami":e||n?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return a+(1===t?e?"ura":"uro":2===t?e||n?"uri":"urama":t<5?e||n?"ure":"urami":e||n?"ur":"urami");case"d":return e||n?"en dan":"enim dnem";case"dd":return a+(1===t?e||n?"dan":"dnem":2===t?e||n?"dni":"dnevoma":e||n?"dni":"dnevi");case"M":return e||n?"en mesec":"enim mesecem";case"MM":return a+(1===t?e||n?"mesec":"mesecem":2===t?e||n?"meseca":"mesecema":t<5?e||n?"mesece":"meseci":e||n?"mesecev":"meseci");case"y":return e||n?"eno leto":"enim letom";case"yy":return a+(1===t?e||n?"leto":"letom":2===t?e||n?"leti":"letoma":t<5?e||n?"leta":"leti":e||n?"let":"leti")}}a.defineLocale("sk",{months:ps,monthsShort:hs,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ms,ss:ms,m:ms,mm:ms,h:ms,hh:ms,d:ms,dd:ms,M:ms,MM:ms,y:ms,yy:ms},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:gs,ss:gs,m:gs,mm:gs,h:gs,hh:gs,d:gs,dd:gs,M:gs,MM:gs,y:gs,yy:gs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,i){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var fs={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,i){var n=fs.words[i];return 1===i.length?e?n[0]:n[1]:t+" "+fs.correctGrammaticalCase(t,n)}};a.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:fs.translate,m:fs.translate,mm:fs.translate,h:fs.translate,hh:fs.translate,d:"дан",dd:fs.translate,M:"месец",MM:fs.translate,y:"годину",yy:fs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var ys={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,i){var n=ys.words[i];return 1===i.length?e?n[0]:n[1]:t+" "+ys.correctGrammaticalCase(t,n)}};a.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:ys.translate,m:ys.translate,mm:ys.translate,h:ys.translate,hh:ys.translate,d:"dan",dd:ys.translate,M:"mesec",MM:ys.translate,y:"godinu",yy:ys.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,i){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?11<=t?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)||1!=e&&2!=e?":e":":a")},week:{dow:1,doy:4}}),a.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var vs={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},bs={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};a.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"வது"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,(function(t){return bs[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return vs[t]}))},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,i){return t<2?" யாமம்":t<6?" வைகறை":t<10?" காலை":t<14?" நண்பகல்":t<18?" எற்பாடு":t<22?" மாலை":" யாமம்"},meridiemHour:function(t,e){return 12===t&&(t=0),"யாமம்"===e?t<2?t:t+12:"வைகறை"===e||"காலை"===e||"நண்பகல்"===e&&10<=t?t:t+12},week:{dow:0,doy:6}}),a.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%dవ",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),"రాత్రి"===e?t<4?t:t+12:"ఉదయం"===e?t:"మధ్యాహ్నం"===e?10<=t?t:t+12:"సాయంత్రం"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"రాత్రి":t<10?"ఉదయం":t<17?"మధ్యాహ్నం":t<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),a.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}});var ks={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};a.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),"шаб"===e?t<4?t:t+12:"субҳ"===e?t:"рӯз"===e?11<=t?t:t+12:"бегоҳ"===e?t+12:void 0},meridiem:function(t,e,i){return t<4?"шаб":t<11?"субҳ":t<16?"рӯз":t<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(ks[t]||ks[t%10]||ks[100<=t?100:null])},week:{dow:1,doy:7}}),a.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"หลังเที่ยง"===t},meridiem:function(t,e,i){return t<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}});var ws={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};a.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(t,e){switch(e){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var i=t%10;return t+(ws[i]||ws[t%100-i]||ws[100<=t?100:null])}},week:{dow:1,doy:7}}),a.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});var xs="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Ms(t,e,i,n){var a=function(t){var e=Math.floor(t%1e3/100),i=Math.floor(t%100/10),n=t%10,a="";return 0<e&&(a+=xs[e]+"vatlh"),0<i&&(a+=(""!==a?" ":"")+xs[i]+"maH"),0<n&&(a+=(""!==a?" ":"")+xs[n]),""===a?"pagh":a}(t);switch(i){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}a.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu’":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:Ms,m:"wa’ tup",mm:Ms,h:"wa’ rep",hh:Ms,d:"wa’ jaj",dd:Ms,M:"wa’ jar",MM:Ms,y:"wa’ DIS",yy:Ms},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ts={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};function Ss(t,e,i,n){var a={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n míut","'iens míut"],mm:[t+" míuts",t+" míuts"],h:["'n þora","'iensa þora"],hh:[t+" þoras",t+" þoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return n||e?a[i][0]:a[i][1]}function $s(t,e,i){var n,a;return"m"===i?e?"хвилина":"хвилину":"h"===i?e?"година":"годину":t+" "+(n=+t,a={ss:e?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:e?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:e?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[i].split("_"),n%10==1&&n%100!=11?a[0]:2<=n%10&&n%10<=4&&(n%100<10||20<=n%100)?a[1]:a[2])}function Ls(t){return function(){return t+"о"+(11===this.hours()?"б":"")+"] LT"}}a.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(t,e,i){return t<12?i?"öö":"ÖÖ":i?"ös":"ÖS"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(t){return"ös"===t||"ÖS"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(t,e){switch(e){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'ıncı";var i=t%10;return t+(Ts[i]||Ts[t%100-i]||Ts[100<=t?100:null])}},week:{dow:1,doy:7}}),a.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,i){return 11<t?i?"d'o":"D'O":i?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Ss,ss:Ss,m:Ss,mm:Ss,h:Ss,hh:Ss,d:Ss,dd:Ss,M:Ss,MM:Ss,y:Ss,yy:Ss},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),a.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),a.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0),"يېرىم كېچە"===e||"سەھەر"===e||"چۈشتىن بۇرۇن"===e||"چۈشتىن كېيىن"!==e&&"كەچ"!==e&&11<=t?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?"يېرىم كېچە":n<900?"سەھەر":n<1130?"چۈشتىن بۇرۇن":n<1230?"چۈش":n<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-كۈنى";case"w":case"W":return t+"-ھەپتە";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:7}}),a.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(t,e){var i={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===t?i.nominative.slice(1,7).concat(i.nominative.slice(0,1)):t?i[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:i.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:Ls("[Сьогодні "),nextDay:Ls("[Завтра "),lastDay:Ls("[Вчора "),nextWeek:Ls("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Ls("[Минулої] dddd [").call(this);case 1:case 2:case 4:return Ls("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:$s,m:$s,mm:$s,h:"годину",hh:$s,d:"день",dd:$s,M:"місяць",MM:$s,y:"рік",yy:$s},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,i){return t<4?"ночі":t<12?"ранку":t<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-й";case"D":return t+"-го";default:return t}},week:{dow:1,doy:7}});var Ps=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],Cs=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];return a.defineLocale("ur",{months:Ps,monthsShort:Ps,weekdays:Cs,weekdaysShort:Cs,weekdaysMin:Cs,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"شام"===t},meridiem:function(t,e,i){return t<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"،")},week:{dow:1,doy:4}}),a.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),a.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),a.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,i){return t<12?i?"sa":"SA":i?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),a.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),a.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}}),a.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e||"下午"!==e&&"晚上"!==e&&11<=t?t:t+12},meridiem:function(t,e,i){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(t){return t.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(t){return this.week()!==t.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"周";default:return t}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),a.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"中午"===e?11<=t?t:t+12:"下午"===e||"晚上"===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1200?"上午":1200===n?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),a.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"中午"===e?11<=t?t:t+12:"下午"===e||"晚上"===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),a.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"凌晨"===e||"早上"===e||"上午"===e?t:"中午"===e?11<=t?t:t+12:"下午"===e||"晚上"===e?t+12:void 0},meridiem:function(t,e,i){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1130?"上午":n<1230?"中午":n<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"日";case"M":return t+"月";case"w":case"W":return t+"週";default:return t}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),a.locale("en"),a}))},function(t,e,i,n){t.exports=function(t,e,i){t=t?new Date(t):new Date;var n=(new Date(e).getTime()-t.getTime())/1e3;return Math.floor((i?n:Math.abs(n))/86400)}},function(t,e,i,n){var a=i(69);t.exports=function(t,e,i){if(!t)return"";var n=function(t){return(t=Math.floor(t))<10?"0"+t.toString():String(t)};i||(i=" ");var s=t/1e3;s<0&&(s=0);var o=Math.floor(s/3600);s-=3600*o;var r=Math.floor(s/60);s=Math.floor(s-60*r);var l=[];return"long"===e?(o&&l.push(a(o,i18n("formatTime","[feature/mfront-4185]%s час|%s часа|%s часов|"))),r&&l.push(a(r,i18n("formatTime","[feature/mfront-4185]%s минута|%s минуты|%s минут|"))),!o&&r<10&&s&&l.push(a(s,i18n("formatTime","[feature/mfront-4185]%s секунда|%s секунды|%s секунд|"))),l.join(" ")):"medium"===e?(o&&l.push(o+i+i18n("formatTime","ч.")),r&&l.push(r+i+i18n("formatTime","мин.")),!o&&r<10&&s&&l.push(s+i+i18n("formatTime","сек.")),l.join(" ")):"duration"===e?r+60*o+":"+n(s):(o?o+":":"")+n(r)+":"+n(s)}},function(t,e,i,n){var a=function(t,e,i,n){var a=Math.abs(t);return(a%=100)>=5&&a<=20?n:1===(a%=10)?e:a>=2&&a<=4?i:n},s=function(t,e,i){return 1===t?e:i},o=function(t,e){return e};t.exports=function(t,e,i,n,r){var l=e,c=i,d=n,u=r,p={uz:s,hy:o,he:s,kk:s,en:s,ru:a,be:a},h="undefined"!=typeof Mu&&Mu.settings.lang,_=p[h]?h:"ru",m=parseInt(t,10)||0;return e instanceof Array&&(c=e[0],d=e[1],u=e[2],l=e[3]),p[_](m,c,d,u,l).replace("%s",t)}},function(t,e,i,n){var a=i(67),s=[{nom:"Январь",gen:"января"},{nom:"Февраль",gen:"февраля"},{nom:"Март",gen:"марта"},{nom:"Апрель",gen:"апреля"},{nom:"Май",gen:"мая"},{nom:"Июнь",gen:"июня"},{nom:"Июль",gen:"июля"},{nom:"Август",gen:"августа"},{nom:"Сентябрь",gen:"сентября"},{nom:"Октябрь",gen:"октября"},{nom:"Ноябрь",gen:"ноября"},{nom:"Декабрь",gen:"декабря"}],o=[{nom:"понедельник",acc:"в понедельник"},{nom:"вторник",acc:"во вторник"},{nom:"среда",acc:"в среду"},{nom:"четверг",acc:"в четверг"},{nom:"пятница",acc:"в пятницу"},{nom:"суббота",acc:"в субботу"},{nom:"воскресенье",acc:"в воскресенье"}],r=function(t,e){switch(a(t,e,!0)){case 0:return i18n("formatDate","Сегодня, ");case-1:return i18n("formatDate","Вчера, ");default:return""}};t.exports=function(t,e,i,n,a){var l;e=e||"%d.%m.%Y, %H:%M",n?(t=t.replace(/\+[0-9:]*$/,"Z"),l=new Date(t),l=new Date(l.getTime()+60*l.getTimezoneOffset()*1e3)):l=new Date(t),a&&l.setDate(l.getDate()+1);for(var c=e.split("%"),d=function(t){return t<10?"0"+t:t},u=1,p=c.length;u<p;u++){var h=c[u].substring(0,1);switch(h){case"B":h=i18n("calendar",s[l.getMonth()].gen);break;case"b":h=i18n("calendar",s[l.getMonth()].nom);break;case"h":h=i18n("calendar",s[l.getMonth()].nom).substring(0,3);break;case"d":h=l.getDate();break;case"D":h=d(l.getDate());break;case"w":h=i18n("calendar",o[l.getDay()>0?l.getDay()-1:6].nom);break;case"W":h=i18n("calendar",o[l.getDay()>0?l.getDay()-1:6].acc);break;case"m":h=d(l.getMonth()+1);break;case"Y":h=l.getFullYear();break;case"H":h=d(l.getHours());break;case"M":h=d(l.getMinutes());break;case"S":h=d(l.getSeconds());break;case"r":h=i?r(i,t):"";break;default:h="%"+h}c[u]=h+c[u].substring(1)}return c.join("")}},function(t,e,i,n){var a=i(70);t.exports=function(t,e){var i,n,s=t,o=function(){var t=new Date,e=t.getDay(),i=t.getDate()-e+(0===e?-6:1);return new Date(t.setDate(i))},r=new Date(o().getFullYear(),o().getMonth(),o().getDate()),l=new Date(new Date(s).getFullYear(),new Date(s).getMonth(),new Date(s).getDate()),c=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());switch(new Date(s).getDay()){case 1:case 2:case 3:case 4:case 5:i=a(s,e?"%W":"%w")}if(l-r<0)return l.getFullYear()-c.getFullYear()<0?(n={d:a(s,"%d"),B:a(s,"%B"),Y:a(s,"%Y")},s=e?i18n("humanDate","%опускаемый-предлог%d %B %Y года",n):i18n("humanDate","%d %B %Y года",n)):(n={d:a(s,"%d"),B:a(s,"%B")},s=e?i18n("humanDate","%опускаемый-предлог%d %B",n):i18n("humanDate","%d %B",n));switch(c.getDate()-l.getDate()){case 0:s=i18n("humanDate","сегодня");break;case 1:s=i18n("humanDate","вчера");break;case 2:case 3:case 4:case 5:case 6:s=i;break;default:s=new Date(s),n={d:a(s,"%d"),B:a(s,"%B")},s=e?i18n("humanDate","%опускаемый-предлог%d %B",n):i18n("humanDate","%d %B",n)}return s}},function(t,e,i,n){var a=i(73),s=i(74),o="undefined"!=typeof location?location.protocol:"https:";t.exports=function(t,e,i,n){if(!t)return e={32:30,40:40,64:80,75:75,300:300}[e]||200,"//music.yandex."+a().tld+"/blocks/common/default."+e+"x"+e+".png";var r,l=3&t.hashCode();if(!n&&parseInt(i)&&(n=i,i=!1),-1!==t.indexOf("w=%%")||-1!==t.indexOf("h=%%"))return e?(n||(n=e),s(("https:"===o?"":l+".")+t.replace("w=%%","w="+e).replace("h=%%","h="+n))):s(t.replace(/(w|h)=%%/,""));if(-1!==t.indexOf("%%x%%"))return r=e&&n?e+"x"+n:"orig",s(("https:"===o?"":l+".")+t.replace("%%x%%",r));if(-1!==t.indexOf("%%"))return r=e?n?(i?"m":"")+e+"x"+n:("s"===i?"s":i?"m":"")+e+"x"+e:"orig",s(("https:"===o?"":l+".")+t.replace("%%",r));r=n?"m"+e+"x"+n:(i?"m":"")+(e={32:30,40:75,64:75,80:100,85:100,200:460,208:460,460:460}[e]||150)+"x"+e,"https:"===o&&(l=0);var c=a(),d=(c?c.storage:"*.storage.music.yandex.net").replace("*",l);return s(d+"/get/"+t+r+".jpg")}},function(t,e,i,n){t.exports=function(){return Mu.settings}},function(t,e,i,n){t.exports=function(t){return"string"==typeof t?"//"+t.replace(/^(\w+:)?\/\//,""):t}},function(t,e,i,n){t.exports=function(t){return t&&t.indexOf("?")>-1?"&":"?"}},function(t,e,i,n){var a=i(75);t.exports=function(t,e,i){if(void 0!==t&&t&&e){var n=i?e+"="+encodeURIComponent(i):e;t=t+a(t)+n}return t}},function(t,e,i,n){t.exports=function(t){return parseInt(t)?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):t}},function(t,e,i,n){t.exports=function(t){return"string"!=typeof t?"":t.replace("<br/>"," ").replace(/<[^>]*>/g,"")}},function(t,e,i,n){var a=i(75);t.exports=function(t,e){var i=[];for(var n in e)e.hasOwnProperty(n)&&i.push(n+"="+e[n]);return i.length?t+a(t)+i.join("&"):t}},function(t,e,i,n){var a=i(81);t.exports=function(t,e){var i=arguments,n=e,s=/^[a-zA-Z0-9\-.]+$/.test(t)&&e;n=s?"undefined"!=typeof langStrings&&langStrings[i18nLang]&&langStrings[i18nLang][t]&&void 0!==langStrings[i18nLang][t][e]?langStrings[i18nLang][t][e]:a(e):a(t);var o=Array.prototype.slice.call(i,1+(s?1:0));return o.length&&!Array.isArray(n)&&(n="object"!=typeof o[0]||Array.isArray(o[0])?n.replace(/%(\d+)/g,(function(t,e){return o[+e-1]})):n.replace(/%([a-zA-Zа-яА-ЯеЁ0-9\-]+)/g,(function(t,e){return o[0][e]||""}))),n&&!Array.isArray(n)&&n.indexOf("|")>-1?n.split("|"):n}},function(t,e,i,n){t.exports=function(t){return t?t.replace(/^\[[^\]]+\]/,""):""}},function(t,e,i,n){e["../js/appMetrika.js"]=i(83),e["../js/auth.js"]=i(84),e["../js/base-page-manager.js"]=i(85),e["../js/base-sidebar-manager.js"]=i(86),e["../js/branch.js"]=i(15),e["../js/counters.js"]=i(87),e["../js/dataSrc.js"]=i(88),e["../js/dislikes.js"]=i(89),e["../js/favicon.js"]=i(90),e["../js/favorites.js"]=i(91),e["../js/fix-touch.js"]=i(92),e["../js/flash-overlay.js"]=i(93),e["../js/froms.js"]=i(94),e["../js/gtag.js"]=i(95),e["../js/hiliter.js"]=i(96),e["../js/layout.js"]=i(97),e["../js/library.js"]=i(101),e["../js/media-controls.js"]=i(104),e["../js/messages.js"]=i(105),e["../js/metrika.js"]=i(106),e["../js/newGtag.js"]=i(17),e["../js/pages.js"]=i(107),e["../js/play-flow.js"]=i(109),e["../js/playback-progress-sender.js"]=i(110),e["../js/popups.js"]=i(111),e["../js/routes.js"]=i(112),e["../js/shortcuts.js"]=i(114),e["../js/sidebars.js"]=i(115),e["../js/unity.js"]=i(116),e["../js/web-push.js"]=i(117),e["../js/yate.externals.js"]=i(118)},function(t,e,i,n){t.exports=i(40)},function(t,e,i,n){var a=i(41),s=function(){a.call(this)};s.inherit(a),s.prototype.init=function(t){this.seq=t.get("seq"),a.prototype.init.call(this,t)},s.prototype.refresh=function(t,e){var i=this,n=a.prototype.refresh.call(this,t,e);return n.then((function(){i.seq&&i.seq.context&&i.seq.context.id&&(i.seq.context.id+=Math.random())})),n},Mu.Auth=s},function(t,e,i,n){let a,s;const o=function(){this.repo={},this.current=null,this.loading=null,this.parent=null,this.containerHtml="<div>",this.blockPrefix="page-",Mu.eventize(this)};o.prototype.register=function(t,e){this.repo[t]=e},o.prototype.show=function(t,e){e=e||{};const i=this.construct(t,e);if(this.loading=i,this.trigger("loading",i),i.data){if(404===i.data)return void this.onError(i,{statusCode:404});this.onData(i,i.data),this.trigger("show",i)}else i.fetchData(a).then(function(t){this.onData(i,t),this.trigger("show",i)}.bind(this)).then(null,function(t){this.onError(i,t)}.bind(this))},o.prototype.construct=function(t,e){const i=new this.repo[t](e);return i.container=$(this.containerHtml)[0],i.name=t,i.from=e&&e.from,i},o.prototype.detach=function(t){$(t.container).remove().off(),t.undelegateAll(),t.container=null,s.cleanRange(t.bindingRange),t.destroy&&t.destroy()},o.prototype.render=function(t){let e;if(!t.rendered){s.beginBinding();try{s.assignNext(t),e=Mu.render(t.templateName,t.data)}finally{t.bindingRange=s.endBinding()}t.container.innerHTML=e,s.initPendingBlocks(t.container),t.onRender&&t.onRender(),t.rendered=!0}},o.prototype.unloadPrevious=function(){const t=this.current;this.trigger("unloading",t),t&&(t.onHide&&t.onHide(),this.detach(t),this.trigger("unloaded",t))},o.prototype.onData=function(t,e){if(t===this.loading){this.unloadPrevious(),t.data=e;try{this.render(t)}catch(e){return delete Mu.pageData,void this.onError(t,e)}this.parent.append(t.container),this.current=t,t.onShow&&t.onShow(),this.loading=null,this.trigger("loaded",t)}},o.prototype.onError=function(t,e){if(t===this.loading)if(/^facebook/.test(t.name))this.show("facebook-error");else{if("500"===t.name)throw new Error("Error showing error: "+e.stack||JSON.stringify(e));s.endBinding(),404===e.statusCode?this.show("404"):this.show("500",{brokenPage:t,error:e})}},o.prototype.init=function(t){a=t.get("dataSrc"),s=t.get("blocks"),Object.keys(this.repo).forEach(t=>{s.register(this.blockPrefix+t,this.repo[t])})},t.exports=o},function(t,e,i,n){var a=function(){};a.prototype.onRender=function(){this.$cont=$(this.container),this.delegate("button-play.getContext",this.getContext)},a.prototype.destroy=function(){this.undelegateAll(),this.$cont&&this.$cont.size()&&this.$cont.off()},t.exports=a},function(t,e,i,n){var a=function(){this.img=new Image};a.prototype.hit=function(t){this.img.src="//clck.yandex.ru/counter/dtype=stred/pid=78/cid=72760/req="+t+"/*"},Mu.ClckCounter=a},function(t,e,i,n){var a,s=i(47),o=function(){s.call(this),this.timeouts={search:1e4,radio:1e4,"radio-available":1e4,"vk-feed":1e4,"payment-submit-order":2e4,library:2e4,_default:5500}};o.inherit(s),o.prototype.init=function(t){this.auth=a=t.get("auth"),this.metrika=t.get("metrika")},o.prototype.patchPlaylist=function(t,e){var i=JSON.stringify(e.diff),n={multipart:i.length>1024},s=this.post("playlist-patch",{owner:t.owner.uid,kind:t.kind,revision:t.revision,diff:i,from:e.from},n);return this.uncache("playlists",{owner:a.user.login}),s},o.prototype.changePlaylist=function(t,e){e=$.extend({action:t},e);var i=this.post("change-playlist",e);return this.uncache("playlists",{owner:a.user.login}),i},o.prototype.feedback=function(t,e,i){var n=this.post("feedback",{type:t,trackId:e,albumId:i});return this.uncache("playlist",{kinds:Mu.constants.KIND_LIKE,owner:a.user.login}),n},o.prototype.saveSettings=function(t){var e=this.post("settings-set",t);return this.uncache("social-settings"),this.uncache("auth"),e},o.prototype.deleteEvent=function(t){var e=this.post("event-delete",{id:t});return this.uncache("feed"),e},Mu.DataSrc=o},function(t,e,i,n){var a=function(){Mu.eventize(this)};a.prototype.init=function(t){this.auth=t.get("auth"),this.dataSrc=t.get("dataSrc"),this.library=t.get("library"),this.library.on("change",this.refreshDislikes.bind(this)),this.library.on("error",this.refreshDislikes.bind(this))},a.prototype.refreshDislikes=function(t){for(var e=$(".dislike"),i=0;i<e.length;i++){var n=Mu.blocks.forElem(e[i]);this.isMatch(n,t)&&(this.trigger("disliked",{params:t,target:n.container}),n.repaint())}this.trigger("changed",t)},a.prototype.toggle=function(t,e){void 0===e&&(e=!this.library.isDisliked(t));var i=this.library.getParams(t,e,!0);return $.extend(i,{isDisliked:!0}),this.library.change(i),e},a.prototype.isDisliked=function(t){return!!this.auth.isLoggedIn()&&this.library.isDisliked(t)},a.prototype.isMatch=function(t,e){var i=!1;return e.tracks?i=this.isMatchTracks(t,e):e.albumId?i=t.data.album&&e.ref&&t.data.album.id==e.albumId:e.kind?i=t.data.playlist&&e.ref&&t.data.playlist.kind==e.kind&&t.data.playlist.owner.uid===e.uid:e.artistId?i=t.data.artist&&e.ref&&t.data.artist.id==e.artistId:e.genreId?i=t.data.genre&&e.ref&&t.data.genre.genre==e.genreId:e.metatagId&&(i=t.data.metatag&&e.ref&&t.data.metatag.id==e.metatagId),i},a.prototype.isMatchTracks=function(t,e){if(!t.data.entry||!t.data.entry.track)return!1;for(var i=t.data.entry.track.id,n=0;n<e.tracks.length;n++)if(e.tracks[n].trackId==i)return!0;return!1},Mu.Dislikes=a},function(t,e,i,n){var a,s=function(){this.current="/favicon.ico",Mu.eventize(this)};s.prototype.init=function(t){this.$head=$("head"),this.$favicon=this.$head.find("link[rel$=icon]"),(a=t.get("seq")).on(Mu.PlayFlow.EVENT_STATE,this.onStateChange.bind(this)),a.on(Mu.PlayFlow.EVENT_CLEAR,this.onStateChange.bind(this))},s.prototype.onStateChange=function(){a.isIdle()?this.setFavicon("/favicon.ico"):a.isPlaying()?this.setFavicon("/blocks/common/favicon_play.ico"):this.setFavicon("/blocks/common/favicon_pause.ico")},s.prototype.setFavicon=function(t){(t=t||"/favicon.ico")!==this.current&&(this.current=t,this.$favicon.remove(),this.$favicon=$('<link rel="shortcut icon" href="'+t+'" type="image/x-icon" />'),this.$head.append(this.$favicon))},Mu.Favicon=s},function(t,e,i,n){var a=function(){Mu.eventize(this)};a.prototype.init=function(t){this.auth=t.get("auth"),this.dataSrc=t.get("dataSrc"),this.library=t.get("library"),this.library.on("change",this.refreshLikes.bind(this)),this.library.on("error",this.refreshLikes.bind(this))},a.prototype.refreshLikes=function(t){for(var e=$(".d-like"),i=0;i<e.length;i++){var n=Mu.blocks.forElem(e[i]);this.isMatch(n,t)&&(this.trigger("liked",{params:t,target:n.container}),n.repaint())}this.trigger("changed",t)},a.prototype.toggle=function(t,e){void 0===e&&(e=!this.library.isFavorite(t));var i=this.library.getParams(t,e,!0);return this.library.change(i),e},a.prototype.isFavorite=function(t){return!!this.auth.isLoggedIn()&&this.library.isFavorite(t)},a.prototype.isMatch=function(t,e){var i=!1;return e.tracks?i=this.isMatchTracks(t,e):e.albumId?i=t.data.album&&e.ref&&t.data.album.id==e.albumId:e.kind?i=t.data.playlist&&e.ref&&t.data.playlist.kind==e.kind&&t.data.playlist.owner.uid===e.uid:e.artistId?i=t.data.artist&&e.ref&&t.data.artist.id==e.artistId:e.genreId?i=t.data.genre&&e.ref&&t.data.genre.genre==e.genreId:e.metatagId?i=t.data.metatag&&e.ref&&t.data.metatag.id==e.metatagId:e.labelId&&(i=t.data.label&&e.ref&&t.data.label.id==e.labelId),i},a.prototype.isMatchTracks=function(t,e){if(!t.data.entry||!t.data.entry.track)return!1;if(e.targetPlaylist&&3!==e.targetPlaylist)return!1;for(var i=t.data.entry.track.id,n=0;n<e.tracks.length;n++)if(e.tracks[n].trackId==i)return!0;return!1},Mu.Favorites=a},function(t,e,i,n){var a=function(t){var e=t.changedTouches[0];return[e.pageX,e.pageY]},s=function(t,e){var i=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(i*i+n*n)},o=function(t){this.moved=!1,this.start=a(t),this.target=t.target,this.target.addEventListener("touchmove",this,!1),this.target.addEventListener("touchend",this,!1)};o.suppressed=[],o.suppressGhostClick=function(t){this.suppressed.push({till:+new Date+1e3,pos:t})},o.prototype.handleEvent=function(t){return this[t.type](t)},o.prototype.touchmove=function(t){this.moved=this.moved||s(a(t),this.start)>20},o.prototype.touchend=function(t){if(this.uninstall(),!this.moved){t.preventDefault();var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),e.isSimulated=!0,this.target.dispatchEvent(e),o.suppressGhostClick(this.start)}this.target=void 0},o.prototype.uninstall=function(){this.uninstalled||(this.target.removeEventListener("touchmove",this,!1),this.target.removeEventListener("touchend",this,!1),this.uninstalled=!0)},document.body.addEventListener("click",(function(t){var e=o.suppressed;if(0!==e.length){for(var i=+new Date,n=e.length;n-- >0;)if(e[n].till<i){e.splice(0,n+1);break}if(!t.isSimulated){var a=[t.pageX,t.pageY];for(n=e.length;n-- >0;)if(s(e[n].pos,a)<20){e.splice(n,1),t.stopPropagation(),t.preventDefault();break}}}}),!0);var r=null;document.body.addEventListener("touchstart",(function(t){(function(t){for(3==t.nodeType&&(t=t.parentNode);t;){if("INPUT"===t.tagName)return!t.disabled;if(t.classList&&(t.classList.contains("button")||t.classList.contains("button-group")||t.classList.contains("button-radio")||t.classList.contains("player-controls__btn")||t.classList.contains("overhead__play")))return!0;t=t.parentNode}return!1})(t.target)&&(r&&r.uninstall(),r=new o(t))}),!1)},function(t,e,i,n){var a,s=[".day__play",".album__play",".promo__play",".radio__play",".artist__play",".playlist__play",".btn_play",".button-play",".js-radio",".player-controls__btn_play",".page-users__shuffle-button"],o=function(){this.overlay=null};o.prototype.init=function(t){(a=t.get("seq")).isReady()&&"html5"===a.getType()||$(document).ready(function(){var t,e,i=this.overlay=$("#flash_player_overlay"),n=function(){var e=t=$(this),n=e.offset(),a=e.outerWidth(),s=e.outerHeight();i.css({width:a,height:s,top:n.top,left:n.left,display:"block"}),ya.music._flash&&(ya.music._flash.setAttribute("width",a),ya.music._flash.setAttribute("height",s)),e.hasClass("player-controls__btn_play")?i.css("z-index",1e4):i.css("z-index",12)},o=function(){t=null,i.css({"z-index":12,top:-99999,left:-99999,display:"block"})};i[0].addEventListener("mousedown",(function(){t&&(e=t)}),!0),$(window).on("resize",o),$(document).on("scroll",o),i.on("mouseleave",o),$("body").on("mouseenter",s.join(", "),n),a.onReady((function(){$(window).off("resize",o),$(document).off("scroll",o),i.off("mouseleave",o),$("body").off("mouseenter",n),e&&e.click(),o()}))}.bind(this))},Mu.FlashOverlay=o},function(t,e,i,n){var a=["playlist","album","artist","genre","metatag"],s=function(){};s.MAIN_PREFIX="web",s.PAGE_SUFFIX="main",s.SIDEBAR_SUFFIX="fridge",s.AUTOFLOW_SUFFIX="autoflow",s.VK_SUFFIX="vk",s.RADIO_PREFIX=s.MAIN_PREFIX+(s.PART_SEPARATOR="-")+"radio",s.prototype.init=function(t){this.pages=t.get("pages"),this.sidebars=t.get("sidebars"),this.auth=t.get("auth"),this.navigation=t.get("navigation");this.rules=[[/^\/(search)\/?\?(?:.*)/,"$1"],[/^\/(?:radio)\/?(?:\/[^\/]+\/?)?(?:\?.*)?$/,"radio_page"],[/^\/chart\/podcasts\/?(?:\/[^\/]+\/?)?(?:\?.*)?$/,"podcasts-chart"],[/^\/(?:home|new-playlists|new-releases|chart|genres|children)\/?(?:\/[^\/]+\/?)?(?:\?.*)?$/,"home_new"],[/^\/(?:non-music)\/?(?:category)?\/?(\w+)?\/?(?:\/[^\/]+\/?)?(?:\?.*)?$/,"non_music_new"],[/^\/(\w+)\/([^/?]+)\/?(?:(\w+)\/?(?:[^/?]*))?(?:\?(?:.*))?$/,"$1_$3"]]},s.prototype.makeFrom=function(t,e,i,n){return n||(n=this.pages.current),(n=this.getPageFrom(n))+s.PART_SEPARATOR+e+s.PART_SEPARATOR+t+s.PART_SEPARATOR+i},s.prototype.getBlockFrom=function(t,e){var i=0!==$(t).closest(".sidebar").length;return this.getCardFrom(t,e,i)+s.PART_SEPARATOR+e+s.PART_SEPARATOR+(i?s.SIDEBAR_SUFFIX:s.PAGE_SUFFIX)},s.prototype.getCardFrom=function(t,e,i){var n;if(void 0===i&&(i=0!==$(t).closest(".sidebar").length),i)n=this.getPageFrom(this.sidebars.current);else{var a=this.createCardFrom(t,e);n=this.getPageFrom(this.pages.current)+s.PART_SEPARATOR+a}return n},s.prototype.getPageFrom=function(t){return t.from?t.from:s.MAIN_PREFIX+s.PART_SEPARATOR+this.createPageFrom(t)},s.prototype.getRadioFrom=function(t,e){return s.RADIO_PREFIX+s.PART_SEPARATOR+t.type+s.PART_SEPARATOR+(e?s.AUTOFLOW_SUFFIX:s.PAGE_SUFFIX)},s.prototype.getBlockName=function(t){var e="track";for(var i in t)if(t.hasOwnProperty(i)&&-1!==a.indexOf(i)){e=i;break}return e},s.prototype.setSuffix=function(t,e){if(!t)return t;var i=t.split(s.PART_SEPARATOR);return i.length?(i[i.length-1]=e,i.join(s.PART_SEPARATOR)):t},s.prototype.createPageFrom=function(t){for(var e=this.navigation.getLastUrl(),i=0;i<this.rules.length;i++){var n=this.rules[i],a=n[0].exec(e);if(a){if(e=e.replace(n[0],n[1]).replace(/_$/,""),"users"===a[1])if("playlist"===t.name&&t.data&&t.data.playlist&&t.data.playlist.generatedPlaylistType)e=e.replace("users","auto");else{var s=this.auth.user&&this.auth.user.login===a[2]?"own":"user";e=e.replace("users",s)}return e}}},s.prototype.createCardFrom=function(t,e){return $(t).closest("[data-card]").attr("data-card")||e},Mu.Froms=s},function(t,e,i,n){var a=i(18)("gtag","id=AW-825647155",(function(){})),s={pay:function(){a.send({event:"pay",id:"epFJCPX89HkQs8DZiQM"})},addToPlaylist:function(){a.send({event:"addToPlaylist",id:"OLaLCP328XkQs8DZiQM"})},like:function(){a.send({event:"like",id:"CXMTCIyX9XkQs8DZiQM"})},newPaymentPopupButton:function(){a.send({event:"newPaymentPopupButton",id:"pb4NCKHc838Qs8DZiQM"})},submitOrder:function(){a.send({event:"submitOrder",id:"QrWPCLrO1o8BELPA2YkD"})},appsSMS:function(){a.send({event:"appsSMS",id:"-42zCKze838Qs8DZiQM"})},play:function(){a.send({event:"play",id:"rGLkCJ3hhoABELPA2YkD"})},wizardCompleted:function(){a.send({event:"wizardCompleted",id:"4DeECJTb8IgBELPA2YkD"})},PlayPD:function(){a.send({event:"PlayPD",id:"dzvHCOvb8IgBELPA2YkD"})},PlayPremeire:function(){a.send({event:"PlayPremeire",id:"_SDkCKOS_4gBELPA2YkD"})},PlayDejaVu:function(){a.send({event:"PlayDejaVu",id:"7aaGCOvdhokBELPA2YkD"})},PlayStash:function(){a.send({event:"PlayStash",id:"6Uk4CLffhokBELPA2YkD"})}};"undefined"!=typeof Mu&&(Mu.gtag=s),t.exports=s},function(t,e,i,n){var a,s,o,r,l,c,d,u,p=function(){};p.prototype.init=function(t){a=t.get("blocks"),s=t.get("pages"),o=t.get("sidebars"),r=t.get("popups"),l=t.get("seq"),c=t.get("froms"),d=t.get("player"),u=t.get("adapter"),s.on("loaded",this.autoPlayPage.bind(this));var e=this.hilitePage.bind(this);s.on("loaded",e),o.on("loaded",e),r.on("loaded",e);var i=this.hiliteAll.bind(this);l.on(Mu.PlayFlow.EVENT_SHOW_TRACK,i),l.on(Mu.PlayFlow.EVENT_EMPTY,i),l.on(Mu.PlayFlow.EVENT_SOURCE,i),this.hiliteAll()},p.prototype.hiliteAll=function(){this.hilitePage(s.current),this.hilitePage(o.current),this.hilitePage(r.current)},p.prototype.autoPlayPage=function(t){if(!u.isReady())return u.onReady(function(){this.autoPlayPage(t)}.bind(this));if(!u.isAutoplayable())return!1;if(t.query&&1==t.query.playSeq)l.togglePause();else{var e=t.query&&parseInt(t.query.play),i=t.query&&parseInt(t.query.playTrack);if(t.query&&(i||e)){var n;switch(t.name){case"album":case"artist":n=".button-play__type_track";break;case"playlist":n=".button-play__type_playlist"}var s=$(t.container).find(n);if(s.length){var o=a.forElem(s[0]),r={};t.query.block&&(r.data={from:c.makeFrom(t.query.block,t.query.card,Mu.Froms.VK_SUFFIX),eventId:t.query.eventId}),l.onReady((function(){u.disablePlayMode(),o.onClick(r),u.enablePlayMode(),u.lastPromise&&u.lastPromise.then((function(){var t=d.source();t.selectTrack({id:i}).then((function(){l.play()}),(function(){e-=1,t.getCount()>e&&t.setIndex(e).then((function(){l.play()}),(function(){}))}))}),(function(){}))}))}}}},p.prototype.hilitePage=function(t){t&&l&&(t.hilitedItems&&(t.hilitedItems.forEach((function(t){t.setPlaying(!1)})),t.hilitedItems=null),l.isEmpty()||(t.hilitedItems=this.findBlocks(t),t.hilitedItems.forEach((function(t){t.setPlaying(!0)}))))},p.prototype.findBlocks=function(t){var e=[],i=l.getCurrent(),n=l.context;if(!i)return e;var a=this.findPlayBlocks(t,{type:"track",item:i});e=e.concat(a);var s=this.getContextItem(n);if(s){var o=this.findPlayBlocks(t,s);e=e.concat(o)}return e},p.prototype.findPlayBlocks=function(t,e){var i=[],n=this.getPlaySelector(e),s=$(n);if(!s.length)return i;for(var o=0;o<s.length;o++){var r=a.forElem(s[o]);i.push(r)}return i},p.prototype.getPlaySelector=function(t){var e,i=".button-play__type_"+t.type+'[data-idx="';switch(t.type){case"playlist":e=t.item.owner.uid+":"+t.item.kind;break;default:e=t.item.id}return i+=e,i+='"]'},p.prototype.getContextItem=function(t){for(var e,i,n=["album","playlist","artist","day","generated"],a=0;a<n.length;a++)if((i=n[a])in t){e={type:i,item:t[i]};break}return e},Mu.Hiliter=p},function(t,e,i,n){var a,s,o,r,l=i(98),c=(i(99),l());function d(t){var e=!1;return function(){e||(e=!0,window.requestAnimationFrame?window.requestAnimationFrame((function(){t(),e=!1})):setTimeout((function(){t(),e=!1}),15))}}Mu.layout={init:function(t){a=t.get("pages"),s=t.get("sidebars"),r=t.get("cache").create({size:100}),this.$subhead=$(".subhead"),this.$head=$(".head-kids"),this.$overhead=$(".d-overhead"),this.$bar=$(".bar"),this.$sidebar=$(".sidebar"),this.$branding=$(".branding"),this.$sidebarUnder=this.$sidebar.find(".sidebar__under"),this.$loading=$(".loading_page"),this.$pageRoot=$(".page-root"),this.$centerblock=$(".centerblock"),this.$centerblockWrapper=$(".centerblock-wrapper"),this.$touchPlayer=$(".touch-player"),this.$body=$(document.body),this.scrollbarWidth=0,this._lastScrTop=0,this.earWidth=0,o=$(window),this.$body.toggleClass("body_lang_"+Mu.settings.lang,!0);var e=this,i=d((function(){e.moveSidebar(),e.moveBranding()})),n=d((function(){e.onResize()}));window.addEventListener("scroll",i),window.addEventListener("resize",n),a.on("loaded",e.onPageLoaded.bind(e)),a.on("unloading",e.onPageUnloading.bind(e)),n()},getHeadHeight:function(){return this.$head&&this.$head[0]?this.$head.outerHeight()+this.$head.offset().top:0},getSubheadHeight:function(){return this.$subhead.outerHeight()+this.getHeadHeight()},getBarHeight:function(){var t=0;return this.$bar.hasClass("bar_hidden")||(t=this.$bar.outerHeight()+5),t},sidebarFixed:!1,moveSidebar:function(){var t=this.getHeadHeight(),e=this.getSubheadHeight(),i=this.getBarHeight(),n=0;s.branding&&"axe"===s.brandingType&&(n=250);var r=Math.max(0,o.scrollTop()),l=r-this._lastScrTop,d=r<e+n?e-r+n:0,u=r<t?t-r:0;const p=a&&a.current&&a.current.noHeader;u=this.isPaymentPopupOpened()||p?0:u,(r>=e||l<0)&&this.$sidebarUnder.scrollTop(this.$sidebarUnder.scrollTop()+l),this.$loading.css({top:u+"px"}),c||(!this.sidebarFixed&&d<=0?(this.sidebarFixed=!0,this.$sidebar.addClass("sidebar_fixed"),this.$sidebar.css({transform:"translateY("+(e-r+n)+"px)"}),setTimeout(function(){this.$sidebar.css({transform:"translateY(0px)",transition:"transform 0.1s linear 0s"})}.bind(this),0)):d>0&&(this.sidebarFixed=!1,this.$sidebar.removeClass("sidebar_fixed"),this.$sidebar.css({transform:"",transition:""}))),this.$sidebar.css({height:window.innerHeight-d-i+"px"}),this._lastScrTop=r,this.trigger("sidebarResize",{height:this.$sidebar.height(),width:this.$sidebar.width(),scrollbarWidth:this.scrollbarWidth})},brandingFixed:!1,moveBranding:function(){var t=this.getSubheadHeight(),e=this.getBarHeight(),i=Math.max(0,o.scrollTop()),n=0;s.branding&&"axe"===s.brandingType&&(n=250);var a=i<t+n?t-i+n:0;this.brandingFixed&&i-n<t?(this.$branding.removeClass("branding_fixed"),this.brandingFixed=!1,this.$branding.css({transform:"",transition:""})):!this.brandingFixed&&i-n>=t&&(this.$branding.addClass("branding_fixed"),this.$branding.css({transform:"translateY("+(t-i+n)+"px)"}),this.brandingFixed=!0,setTimeout(function(){this.$branding.css({transform:"translateY(0px)",transition:"transform 0.1s linear 0s"})}.bind(this),0)),this.$branding.css({height:window.innerHeight+n-a-e+"px"})},resizeThrottled:!1,onResize:function(){var t=window.innerWidth,e=document.documentElement.clientWidth,i=this.$pageRoot[0].offsetWidth;this.scrollbarWidth=t-e,this.earWidth=Math.floor((e-i)/2),this.earWidth<0&&(this.earWidth=0);var n=t<1280;this.$body.toggleClass("layout_narrow",n);var a="";n||0!==this.earWidth||(a=i-950+"px"),this.$sidebar.css({width:a}),this.$pageRoot.css({"min-height":o.height()}),this.moveSidebar(),this.moveBranding(),this.trigger("resize")},onPageLoaded:function(t){this.$adsBlock=this.$overhead.find(".ads-block"),this.$adsBlock.length>0&&(this.adsBlock=Mu.blocks.forElem(this.$adsBlock[0],"ads-block"),this.adsBlock.delegate("ads-block.no-ads",this.moveSidebar.bind(this)),this.adsBlock.delegate("ads-block.show",this.moveSidebar.bind(this)),this.adsBlock.delegate("ads-block.update",this.moveSidebar.bind(this)),this.adsBlock.delegate("ads-block.hide",this.moveSidebar.bind(this)));var e=0;if(r.contains(t.__key)){var i=r.pop(t.__key),n=this.$centerblock.height();i.height!==n||isNaN(i.scrollTop)||(e=i.scrollTop)}window.scrollTo(0,e),this.scrollLockedByWall||this.unlockScroll()},onPageUnloading:function(){this.retainState()},retainState:function(){a.current&&r.push(a.current.__key,{height:this.$centerblock.height(),scrollTop:o.scrollTop()})},lockScroll:function({scrollLockedByWall:t}={}){if(!this.scrollLocked){this.scrollLocked=!0,this.scrollLockedByWall=t;var e=$(document.body),i=o.scrollTop();e.addClass("no-scroll"),e.find(".page-root").css("margin-top",-i),this.trigger("lockScroll")}},unlockScroll:function(){if(this.scrollLocked){this.scrollLocked=!1,this.scrollLockedByWall=!1;var t=$(document.body),e=t.find(".page-root"),i=-parseInt(e.css("margin-top"));t.removeClass("no-scroll"),e.css("margin-top",""),window.scrollTo(0,i),e.css("padding-bottom",.1),setTimeout(function(){e.css("padding-bottom",""),this.trigger("unlockScroll")}.bind(this),0)}},updateExplicitMarkPosition:function(t,e){t.position()&&t.position().top>e.height()&&t.addClass("at-corner")},isPaymentPopupOpened:function(){const t=$(".pay-promo-popup");if(t.length<1)return!1;const e=Mu.blocks.forElem(t[0],"pay-promo-popup");return e&&e.popup&&e.popup.isOpen}},Mu.eventize(Mu.layout)},function(t,e,i,n){t.exports=function(){if("undefined"==typeof document)return!0;try{if(document.documentMode||/Edge/.test(navigator.userAgent))return!1;for(var t=document.head.style,e=!1,i=0;i<2;i++)t.position=["","-webkit-"][i]+"sticky",e=e||!!t.position;return t.position="",e}catch(t){return!1}}},function(t,e,i,n){t.exports=i(100)},function(t,e,i,n){t.exports=function(){return Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch}},function(t,e,i,n){const a=i(102),s=i(103);let o,r,l,c;const d=ya.music.lib.trackInfo,u=function(){this.cache={},this.cachedPromise=null,Mu.eventize(this)};u.prototype.init=function(t){if(o=t.get("auth"),l=t.get("dataSrc"),r=t.get("blocks").get("notify"),c=t.get("adapter"),Mu.libraryData){const t=Mu.libraryData;this.cache=t,this.cachedPromise=Promise.resolve(t),this.trigger("ready")}this.on("change",(function(t){if(t.targetPlaylist&&"add"===t.act)r.show("addedToPlaylist",{count:t.tracks.length,target:t.targetPlaylist,type:t.type});else if(t.targetPlaylist&&"remove"===t.act)r.show("removedFromPlaylist",{count:t.count,target:t.targetPlaylist,type:t.type});else{let e,i=!1;if(t.tracks){const{isEpisode:n,isBook:a}=t.tracks[0];i=t.tracks[0].isKids,e=n&&!i?"episode":!n&&i?"kids-track":n&&i?"kids-episode":a&&!i?"audiobook-track":"track",c.updateFavs(this.cache.defaultLibrary)}else if(t.albumId){const n=a(t.albumType);i=t.isKids,e=n&&"audiobook"===t.albumType&&i?"kids-audiobook":n&&"audiobook"===t.albumType?"audiobook":n&&"fairy-tale"===t.albumType?"fairy-tale":n&&!i?"podcast":!n&&i?"kids-album":n&&i?"kids-podcast":"album"}else t.kind&&t.uid?(i=t.isKids,e=i?"kids-playlist":"playlist"):t.artistId&&(e="artist");if(e&&("playlist"!==e||t.uid.toString()!==o.user.uid.toString())){let i;i=["track","episode"].includes(e)&&t.ref&&t.tracks&&t.tracks.length>1?"add"===t.act?"addedToDefaultLib":"removedFromDefaultLib":t.ref&&t.isDisliked?"add"===t.act?"addedDislike":"removedDislike":"add"===t.act?"addedToLib":"removedFromLib",r.show(i,{what:e})}}})),o.on("info",this.refresh.bind(this)),c.on(Mu.Adapter.EVENT_EMOTION,this.onAdapterEmotion.bind(this))},u.prototype.onAdapterEmotion=function(t,e){const i="like"===e&&c.isLiked(t)||"dislike"===e&&c.isDisliked(t)?"add":"remove",n=t.isSuitableForChildren,a="podcast-episode"===t.type,s="audiobook"===t.type,o=d(t),r={act:i,isDisliked:"dislike"===e,ref:!0,tracks:[{trackId:o.id,albumId:o.albumId,isEpisode:a,isKids:n,isBook:s}]};this.changeLocal(r),this.trigger("change",r)},u.prototype.get=function(){return this.cachedPromise?this.cachedPromise:(this.cachedPromise=l.get("library",{bare:1},{nocache:!0}),this.cachedPromise.then(function(t){!1!==t.success?(this.cache=t,c.updateFavs(this.cache.defaultLibrary)):this.cache={},this.trigger("ready")}.bind(this)))},u.prototype.refresh=function(){return this.cache={},this.cachedPromise=null,this.get()},u.prototype.refreshLocal=function(t,e){const i=this.cache,n=!!e;if(t.trackIds)i.library={},t.trackIds.forEach((function(t){i.library[t]=1}));else if(t.tracks)i.library={},t.tracks.forEach((function(t){i.library[t.id]=1}));else if(t.bookmarks){const e=i.playlists||{};i.playlists=n?e:{},t.bookmarks.forEach((function(t){i.playlists[(t.owner&&t.owner.uid)+":"+t.kind]=1}))}else if(t.albums){const e=i.albums||{};i.albums=n?e:{},t.albums.forEach((function(t){i.albums[t.id]=1}))}else if(t.artists){const e=i.artists||{};i.artists=n?e:{},t.artists.forEach((function(t){i.artists[t.id]=1}))}else if(t.subscriptions){const e=i.users||{};i.users=n?e:{},t.subscriptions.forEach((function(t){i.users[t.uid]=1}))}},u.prototype.change=function(t){const e=this,i=$.extend({},t);e.changeLocal(i),e.trigger("change",i),t.tracks=t.tracks&&JSON.stringify(t.tracks);const n=new s;return l.post("change-library",t,{multipart:!0}).then((function(t){n.resolve(t),e.onSuccess(i)})).catch((function(t){n.reject(t),e.onError(i)})),n.promise()},u.prototype.patchPlaylist=function(t,e){const i=this,n=e.diff[0],a=new s,o={tracks:n.tracks&&n.tracks.map((function(t){return{trackId:t.id}})),act:"insert"===n.op?"add":"remove",targetPlaylist:t,type:e.type};return n.to&&n.from&&(o.count=n.to-n.from),i.changeLocal(o),i.trigger("change",o),l.patchPlaylist(t,e).then((function(t){a.resolve(t),i.onSuccess(o)})).catch((function(t){a.reject(t),i.onError(o)})),a.promise()},u.prototype.onSuccess=function(t){if(this.trigger("changed",t),t.tracks){const e="string"==typeof t.tracks?JSON.parse(t.tracks):t.tracks;e&&e.length>1&&c.updateFavs()}},u.prototype.onError=function(t){t.act="add"===t.act?"remove":"add",this.changeLocal(t),this.trigger("error",t)},u.prototype.changeLocal=function(t){t.ref?this.changeCache(t):this.changeLibrary(t)},u.prototype.changeCache=function(t){const e=this,i=t.isDisliked?-1:1,n="add"===t.act?i:0;t.tracks&&e.cache.defaultLibrary?t.tracks.forEach((function(t){const i=n;e.cache.defaultLibrary[t.trackId]=i})):t.albumId&&e.cache.albums?e.cache.albums[t.albumId]=n:t.kind&&e.cache.playlists?e.cache.playlists[t.uid+":"+t.kind]=n:t.artistId&&e.cache.artists?e.cache.artists[t.artistId]=n:t.userId&&e.cache.users?e.cache.users[t.userId]=n:t.genreId&&e.cache.genres?e.cache.genres[t.genreId]=n:t.metatagId&&e.cache.metatags?e.cache.metatags[t.metatagId]=n:t.labelId&&e.cache.labels&&(e.cache.labels[t.labelId]=n),Mu.libraryData=e.cache},u.prototype.changeLibrary=function(t){const e=this,i=t.isDisliked?-1:1,n="add"===t.act?i:0;t.tracks&&e.cache.library&&t.tracks.forEach((function(t){const i=n;e.cache.library[t.trackId]=i,i||(e.cache.defaultLibrary[t.trackId]=i)}))},u.prototype.isFavorite=function(t){return t.entry&&this.cache.defaultLibrary?this.cache.defaultLibrary[t.entry.track.id]>0:t.album&&this.cache.albums?this.cache.albums[t.album.id]>0:t.playlist&&t.playlist.owner&&this.cache.playlists?this.cache.playlists[t.playlist.owner.uid+":"+t.playlist.kind]>0:t.artist&&this.cache.artists?this.cache.artists[t.artist.id]>0:t.user&&this.cache.users?this.cache.users[t.user.uid]>0:t.genre&&this.cache.genres?this.cache.genres[t.genre.genre]>0:t.metatag&&this.cache.metatags?this.cache.metatags[t.metatag.id]>0:!(!t.label||!this.cache.labels)&&this.cache.labels[t.label.id]>0},u.prototype.isDisliked=function(t){return t.entry&&this.cache.defaultLibrary?this.cache.defaultLibrary[t.entry.track.id]<0:t.album&&this.cache.albums?this.cache.albums[t.album.id]<0:t.playlist&&t.playlist.owner&&this.cache.playlists?this.cache.playlists[t.playlist.owner.uid+":"+t.playlist.kind]<0:t.artist&&this.cache.artists?this.cache.artists[t.artist.id]<0:t.user&&this.cache.users?this.cache.users[t.user.uid]<0:t.genre&&this.cache.genres?this.cache.genres[t.genre.genre]<0:t.metatag&&this.cache.metatags?this.cache.metatags[t.metatag.id]<0:!(!t.label||!this.cache.labels)&&this.cache.labels[t.label.id]<0},u.prototype.isInLibrary=function(t){return!!t.entry&&(this.cache.library?!!this.cache.library[t.entry.track&&t.entry.track.id]:!!this.cache.defaultLibrary&&!!this.cache.defaultLibrary[t.entry.track&&t.entry.track.id])},u.prototype.isInPositiveLibrary=function(t){return this.isInLibrary(t)&&!this.isDisliked(t)},u.prototype.getParams=function(t,e,i){const n={ref:!!i,act:e?"add":"remove",from:t.from},a=this;if(t.entry){const e="podcast-episode"===t.entry.track.type,i=t.entry.track.albums&&1===t.entry.track.albums.length&&t.entry.track.albums[0].childContent;n.tracks=[{trackId:t.entry.track.id,albumId:a.getAlbumId(t.entry),isEpisode:e,isKids:i}]}else if(t.entries)n.tracks=t.entries.map((function(t){const e="podcast-episode"===t.track.type;return{trackId:t.track.id,albumId:a.getAlbumId(t),isEpisode:e}}));else if(t.album)n.albumId=t.album.id,n.albumType=t.album.type,n.isKids=t.album.childContent;else if(t.playlist)n.kind=t.playlist.kind,n.uid=t.playlist.owner&&t.playlist.owner.uid,n.isKids=t.playlist.childContent;else if(t.artist){const e=["fairytales","children","poemsforchildren","animated","forchildren"];n.isKids=!!t.artist.genres&&t.artist.genres.some(t=>e.includes(t)),n.artistId=t.artist.id}else t.genre?n.genreId=t.genre.genre:t.metatag?n.metatagId=t.metatag.id:t.label?n.labelId=t.label.id:t.tracks&&(n.tracks=t.tracks.map((function(t){return{trackId:t.id}})));return n},u.prototype.getAlbumId=function(t){return t.album?t.album.id:t.track.albums&&t.track.albums.length&&t.track.albums[0].id},Mu.Library=u},function(t,e,i,n){const a=["fairy-tale","audiobook","podcast","poetry"];t.exports=t=>a.includes(t)},function(t,e,i,n){t.exports=i(26)},function(t,e,i,n){const a="play",s="pause",o="nexttrack",r="previoustrack",l="seekto",c="stop",d=function(){this.Seq=null,this.isSupported="mediaSession"in window.navigator&&"MediaMetadata"in window,this.mediaHandlers=[s,a,o,r,l,c]};d.prototype.init=function(t){this.Seq=t.get("seq"),this.isSupported&&this.handlePlayerEvents()},d.prototype.handlePlayerEvents=function(){this.Seq.on(Mu.PlayFlow.EVENT_TRACK_PLAY,()=>{this.updateMetadata(this.Seq.getCurrent()),this.attachToMediaControls()})},d.prototype.handleMediaActionEvents=function(t){const{action:e}=t;switch(e){case a:this.Seq.togglePause(!1);break;case s:this.Seq.togglePause(!0);break;case o:this.Seq.next();break;case r:this.Seq.prev();break;case l:{const{seekTime:e}=t;this.Seq.setPosition(e);break}case c:this.Seq.togglePause(!0)}},d.prototype.attachToMediaControls=function(){const t=this.handleMediaActionEvents.bind(this);this.mediaHandlers.forEach(e=>{try{window.navigator.mediaSession.setActionHandler(e,t)}catch{console.log(`The media session action "${action}" is not supported yet.`)}})},d.prototype.prepareMetadata=function(t){const{title:e,artists:i,albums:n,coverUri:a}=t;return{title:e,artist:i.map(t=>t.name).join(", "),album:n.length>0?n[0].title:"",artwork:[30,50,80,100,200,300,400].map(t=>{const e=`${t}x${t}`;if(a)return{sizes:e,src:"https://"+a.replace("%%",e),type:"image/jpg"}}).filter(t=>t)}},d.prototype.updateMetadata=function(t){if(!t)return;const e=this.prepareMetadata(t);window.navigator.mediaSession.metadata=new window.MediaMetadata(e)},Mu.MediaControls=d},function(t,e,i,n){var a=(new Date).valueOf()+"-"+Math.random().toString().slice(2),s=function(){Mu.eventize(this),this.available=s.isAvailable(),this.topics={}};s.init=function(){},s.session=a,s.prototype.init=function(){if(!this.available)return this},s.prototype.topicConnected=function(t){return!!this.topics[t]},s.prototype.connect=function(t,e){t||(t="all"),this.topicConnected(t)||this._connect(t,e)},s.prototype.disconnect=function(t){this.topicConnected(t)&&this._disconnect(t)},s.prototype._connect=function(t,e){if(this.available){var i="music";e.tags&&(i+=":"+e.tags,i=encodeURIComponent(i));var n=e.baseUrl+"subscribe/websocket?service="+i+"&client=music-web&session="+a+"&user="+e.user+"&sign="+e.sign+"&ts="+e.ts;"all"!==t&&(n+="&topic="+t),this.topics[t]={},this._setTimeout(t,1e4);var s=new WebSocket(n);s.onopen=this._onOpen.bind(this,t),s.onclose=this._onClose.bind(this,t),s.onmessage=this._onMessage.bind(this,t),s.onerror=this._onError.bind(this,t),this.topics[t].ws=s}},s.prototype._disconnect=function(t){var e,i=[t];"all"===t&&(i=Object.keys(this.topics));for(var n=0;n<i.length;n++){e=this.topics[i[n]];try{e.ws.close(1e3),delete this.topics[t]}catch(t){}clearTimeout(e.to)}},s.prototype._onOpen=function(t){this.topics[t]&&this.topics[t].to&&clearTimeout(this.topics[t].to),this.trigger("connect:"+t)},s.prototype._onClose=function(t){this.trigger("disconnect:"+t),this.topics[t]&&this.topics[t].to&&clearTimeout(this.topics[t].to),delete this.topics[t]},s.prototype._onMessage=function(t,e){this._setTimeout(t,65e3);var i=JSON.parse(e.data);"ping"!==i.operation&&this.trigger("message:"+t,i.operation,i.message&&JSON.parse(i.message),i)},s.prototype._onError=function(t,e){this.trigger("error",e)},s.prototype._setTimeout=function(t,e){this.topics[t]&&(this.topics[t].to&&clearTimeout(this.topics[t].to),this.topics[t].to=setTimeout(this._onTimeout.bind(this,t),e))},s.prototype._onTimeout=function(t){this._onClose(t)},s.isAvailable=function(){return"function"==typeof window.WebSocket},Mu.Messages=s},function(t,e,i,n){var a=i(53);Mu.Metrika=a},function(t,e,i,n){var a,s,o,r,l=i(108),c=["artist","playlist","album","label","track","users","mix","tag","genre","home","post","metatag"],d=["sort","page","dir","token","fav-artist-ids"],u=i(85),p=function(){u.call(this)};$.extend(p.prototype,u.prototype),p.prototype.init=function(t){u.prototype.init.call(this,t),a=t.get("blocks"),r=t.get("seq"),o=t.get("sidebars"),this.cache=t.get("cache").create({size:5}),s=t.get("auth"),this.cache.on("obsoleted",function(t){u.prototype.detach.call(this,t)}.bind(this)),s.on("info",function(){this.cache.clear(!0),this.current&&(this.current.cache=!1)}.bind(this));var e=$(".bar"),i=$(".centerblock-wrapper"),n=$(".head-kids");this.parent=$(".centerblock")[0],this.$body=$("body");var c=this.updateTitle.bind(this),d=this.saveLastVisited.bind(this);this.on("loaded",(function(t){i.toggleClass("centerblock-wrapper_full-width",!!t.noSidebar),i.toggleClass("centerblock-wrapper_no-footer",!!t.noFooter),i.toggleClass("centerblock-wrapper_no-player",!!t.noPlayer),i.toggleClass("centerblock-wrapper_no-background",!!t.noCenterBack),i.toggleClass("centerblock-wrapper_no-oveflow-hidden",!!t.noOverflowHidden),e.toggleClass("bar_hidden",!!t.noPlayer),n.toggleClass("head-kids_hidden",!!t.noHeader),n.toggleClass("head-kids_onlyUserpic",!!t.onlyUserpic),s.isLoggedIn()&&d(t),c(),t.onFullyShown&&t.onFullyShown()})),this.on("loaded",function(t){a.blocks.theme.checkAndToggleThemesInPage(!!t.noTheme);var e=t&&t.pageTheme||"white";t.noTheme&&(this.globalTheme=l.current(),this.$body.toggleClass(l.theme(this.globalTheme).classes(),!1),this.$body.toggleClass(l.theme(e).classes(),!0))}.bind(this)),this.on("unloading",(function(t){t&&t.noSidebar&&i.removeClass("centerblock-wrapper_full-width"),t&&t.noFooter&&i.removeClass("centerblock-wrapper_no-footer"),t&&t.noOverflowHidden&&i.removeClass("centerblock-wrapper_no-oveflow-hidden"),t&&t.noHeader&&n.removeClass("head_hidden")})),this.on("unloading",function(t){var e=t&&t.pageTheme||"white";t&&t.noTheme&&(this.$body.toggleClass(l.theme(e).classes(),!1),this.$body.toggleClass(l.theme(this.globalTheme).classes(),!0))}.bind(this)),r.on(Mu.PlayFlow.EVENT_SHOW_TRACK,c),r.on(Mu.PlayFlow.EVENT_EMPTY,c),r.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,c),r.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,c),r.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,c),r.on(Mu.PlayFlow.EVENT_SHOW_SHOT,c),r.on(Mu.PlayFlow.EVENT_HIDE_SHOT,c),r.on(Mu.PlayFlow.EVENT_CHANGE,c)},p.prototype.construct=function(t,e){var i,n=isNaN(e.historyId)?null:t+"_"+e.historyId;return this.cache.contains(n)?i=this.cache.pop(n):(i=u.prototype.construct.call(this,t,e)).__key=n,Mu.pageData&&Mu.pageName===t&&(i.data=Mu.pageData,i.name=Mu.pageName,delete Mu.pageData,delete Mu.pageName),i},p.prototype.detach=function(t){t.cache&&t.__key?(this.cache.push(t.__key,t),$(t.container).detach()):u.prototype.detach.call(this,t)},p.prototype.updateTitle=function(){var t=r.getCurrent();if(!r.isPlaying()||r.isGenerative())try{document.title=Mu.blocks.get("meta").getMeta(this.current).getTitle()}catch(t){}else if(r.getAdvert())document.title=i18n("pages","Реклама");else if(r.getShot())document.title=i18n("pages","[feature/shots-in-web]Шот");else if(t){var e;Array.isArray(t.artists)&&(e=t.artists.map((function(t){return t.name})).join(", "));try{document.title=t.title+(e?" — "+e:"")}catch(t){}}},p.prototype.saveLastVisited=function(t){var e=JSON.parse($.cookie("lastVisitedPage")||null)||{},i=document.location.search.replace(/^\??/,"");i.length&&(i=i.split("&"));for(var n,a,o,r=[],l=0;l<i.length;l++)a=(n=i[l].split("="))[0],o=n[1],d.includes(a)&&r.push(a+(o?"="+o:""));i=r.length?"?"+r.join("&"):"",c.includes(String(t.name))?e[s.user.uid]=document.location.pathname+i+document.location.hash:delete e[s.user.uid],$.cookie("lastVisitedPage",JSON.stringify(e),{path:"/",expires:new Date((new Date).getTime()+31536e6)})},p.prototype.unloadPrevious=function(){u.prototype.unloadPrevious.call(this),o.hideAll()},Mu.Pages=p},function(t,e,i,n){var a={},s={white:{name:"white",logo:"",icons:"white",actionIcons:"white",inverted:"black"},black:{name:"black",logo:"white",icons:"black",actionIcons:"white",inverted:"white"},"black-contrast":{name:"black-contrast",logo:"white",icons:"black",actionIcons:"white",inverted:"white"},color:{name:"white",logo:"white",icons:"white",actionIcons:"white",inverted:"black"}},o="white",r=function(t){return s[t]||(t=o),a[t]||(a[t]=new l(s[t])),a[t]},l=function(t){this._config=t,this._classes=["theme-"+t.name,"icon-theme-"+t.icons,"action-icon-theme-"+t.actionIcons],this._local=["local-theme-"+t.name,"local-icon-theme-"+t.icons]};l.prototype.get=function(t){return t?this._config[t]||"":this._config},l.prototype.inverted=function(){return r(this.get("inverted"))},l.prototype.classes=function(t,e){var i=t?this._local:this._classes;return e?i:i.join(" ")},t.exports={setup:function(t){s={},a={},t.forEach((function(t){s[t.name]=t}))},setTheme:function(t){o=t},current:function(){return r(o)},theme:r,themesList:function(){var t=[];for(var e in s)s.hasOwnProperty(e)&&t.push(e);return t}}},function(t,e,i,n){var a,s,o,r,l,c,d=ya.music.Player.sourceTypes,u=ya.music.user,p=ya.music.lib.trackId,h={shortTitle:"",title:"",href:"",from:"music-unknown"},_=function(){Mu.eventize(this),this.context=h};_.EVENT_STORED="stored",_.EVENT_RESTORED="restored",_.prototype.init=function(t){a=t.get("adapter"),s=t.get("auth"),t.get("blocks").get("notify"),o=t.get("froms"),t.get("dataSrc"),t.get("metrika"),t.get("fav"),t.get("dislikes"),r=t.get("seq"),l=t.get("pages"),c=Mu.Storage.create("localStorage"),Mu.blocks.get("ads-block"),this.clicked=!1,this.isVideoPlaying=!1,$(".centerblock, .sidebar").on("click",".button-play",()=>{this.markInteractivePlayStart()});$(".bar").on("click",[".button-play",".player-controls__btn_prev",".player-controls__btn_next",".player-controls__btn_play",".audio-advert .player-controls__btn_play"].join(", "),function(){this.markInteractivePlayStart()}.bind(this)),this.__store=this._store.bind(this,!1),this._restore=this._restore.bind(this,!1),this.on(_.EVENT_EMPTY,this._onEmpty),this.on(_.EVENT_COMMON_START,this.__store),this.on(_.EVENT_SHOW_ADVERT,this.__store),this.on(_.EVENT_SHOW_SHOT,this.__store),this.on(_.EVENT_STATE,this.__store),this.on(_.EVENT_TRACK_PLAY,this.__store),this.on(_.EVENT_CHANGE,this.__store),this.on(_.EVENT_SOURCE,this.__store),this.on(_.EVENT_EMPTY,this.__store),this.on(_.EVENT_FINISHED,this._onSeqFinished.bind(this)),this.on(_.EVENT_TRACK_PLAY,this.storeLastRupRadioStation.bind(this)),this.on(_.EVENT_TRACK_END,this.storeLastRupRadioStation.bind(this)),a.onReady(this._restore),a.delegate(this),this._delegateAdapterEvent(_.EVENT_SOURCE),this._delegateAdapterEvent(_.EVENT_CHANGE),this._delegateAdapterEvent(_.EVENT_EMPTY),this._delegateAdapterEvent(_.EVENT_CONTROLS),this._delegateAdapterEvent(_.EVENT_SHOW_TRACK),this._delegateAdapterEvent(_.EVENT_HIDE_TRACK),this._delegateAdapterEvent(_.EVENT_TRACK_ERROR),this._delegateAdapterEvent(_.EVENT_SHOW_ADVERT),this._delegateAdapterEvent(_.EVENT_HIDE_ADVERT),this._delegateAdapterEvent(_.EVENT_SHOW_SHOT),this._delegateAdapterEvent(_.EVENT_HIDE_SHOT),this._delegateAdapterEvent(_.EVENT_SHOW_PLAY),this._delegateAdapterEvent(_.EVENT_SHOW_PAUSE),this._delegateAdapterEvent(_.EVENT_TOGGLE_PAUSE),this._delegateAdapterEvent(_.EVENT_STATE),this._delegateAdapterEvent(_.EVENT_VOLUME),this._delegateAdapterEvent(_.EVENT_SPEED),this._delegateAdapterEvent(_.EVENT_PROGRESS),this._delegateAdapterEvent(_.EVENT_FINISHED),this._delegateAdapterEvent(_.EVENT_CHANGE_REPEAT),this._delegateAdapterEvent(_.EVENT_EMOTION),this._delegateAdapterEvent(_.EVENT_COMMON_START),this._delegateAdapterEvent(_.EVENT_COMMON_END),this._delegateAdapterEvent(_.EVENT_TRACK_END),this._delegateAdapterEvent(_.EVENT_TRACK_PLAY)},_.prototype._onEmpty=function(){a.isRadio()||this.setContext(h,!0)},_.prototype._delegateAdapterEvent=function(t){a.on(t,function(){var e=[].slice.call(arguments);e.unshift(t),this.trigger.apply(this,e)}.bind(this))};var m,g,f,y;_.prototype.initSource=function(t,e){this.setContext(e||t.context||h),t.from=t.from||t.context&&t.context.from,t&&a.initSource(t)},_.prototype._store=(m=500,g=function(t,e){try{if(a.isEmpty()||a.isGenerative())return void c.setItem("seq-info","");var i={type:a.getSourceType(),config:a.getConfig(),shuffle:a.getShuffle(),repeat:a.getRepeat(),sort:a.getSort()};if(i.context={href:this.context.href,title:this.context.title,shortTitle:this.context.shortTitle,from:this.context.from&&o.setSuffix(this.context.from,"saved")},"radio"===i.type){i.tracks=[],i.index=0;var n=this.getInfo();n&&n.name&&(i.context.station={name:n.name})}else i.tracks=a.getTracks().map(p),i.index=a.getIndex();if(this.context.album&&(i.context.album={id:this.context.album.id}),this.context.artist&&(i.context.artist={id:this.context.artist.id}),this.context.playlist&&(i.context.playlist={kind:this.context.playlist.kind,owner:this.context.playlist.owner,modified:this.context.playlist.modified}),this.context.eventId&&(i.context.eventId=this.context.eventId),this.context.radio&&(i.context.radio=this.context.radio),this.context.id&&(i.context.id=this.context.id),this.context.blockId&&(i.context.blockId=this.context.blockId),this.context.entityId&&(i.context.entityId=this.context.entityId),this.queueId&&(i.queueId=this.queueId),c.setItem("seq-info",JSON.stringify(i)),!t){if("paused"===e||"failed"===e)return;var s=c.getItem("seq-info"),r=s&&JSON.parse(s);this.trigger(_.EVENT_STORED,{queue:i,isInteractive:this.clicked,oldQueueId:r&&r.queueId,oldRadioTag:r&&r.config.tag}),this.clicked=!1}}catch(t){console.error(t)}},y={},function(){y={_data:arguments,_context:this},f||(f=setTimeout((function(){var t=y;y=null,f=null,g.apply(t._context,t._data)}),m||0))}),_.prototype._restore=function(t){try{var e,i;try{e={from:(i=JSON.parse(c.getItem("seq-info"))||{}).context.from,type:i.type,config:i.config,eventId:i.context.eventId,blockId:i.context.blockId,entityId:i.context.entityId,tracks:i.tracks,index:i.index,sort:i.sort,queueId:i.queueId},this.setShuffle(i.shuffle||!1),this.setRepeat(i.repeat||!1)}catch(t){i={}}e&&this.initSource(e,e.context||i.context),t||this.trigger(_.EVENT_RESTORED,e,this.context)}catch(t){console.error(t)}},_.prototype._onSeqFinished=function(){if(u.isLogged()&&["main","track","artist","artists","album","playlist","concert","search","users","settings","mix","post","label","import","metatag","tag","radio","radio-station"].indexOf(l.current.name)>-1&&(void 0===s.user.settings.autoPlayRadio||s.user.settings.autoPlayRadio)&&s.isPremium()){var t,e,i=function(t,e){t&&e&&this.playRadio(t,e,!0).then(this.trigger.bind(this,_.EVENT_AUTOFLOW),(function(){}))}.bind(this);switch(this.getSourceType()){case d.ALBUM:var n=this.getInfo();t={shortTitle:n.title,title:i18n("play-flow","[feature/mfront-3789]Поток по альбому «%1»",n.title),href:"/album/"+n.id,from:o.getRadioFrom({type:"album",tag:n.id},!0)},e={album:n.id,radio_type:"album",radio_tag:n.id};break;case d.ARTIST:var a=this.getInfo();t={shortTitle:a.name,title:i18n("play-flow","[feature/mfront-3789]Поток по исполнителю «%1»",a.name),href:"/artist/"+a.id,from:o.getRadioFrom({type:"artist",tag:a.id},!0)},e={radio_type:"artist",radio_tag:a.id};break;case d.PLAYLIST:var c=this.getInfo(),p=c.owner.login+"_"+c.kind;t={shortTitle:c.title,title:i18n("play-flow","[feature/mfront-3789]Поток по плейлисту «%1»",c.title),href:"/users/"+c.owner.login+"/"+c.kind,from:o.getRadioFrom({type:"playlist",tag:p},!0)},e={radio_type:"playlist",radio_tag:p};break;default:var h=r.getTracks();h.length&&ya.music.data.radioBySeed(h).then((function(n){var a;n.id&&(a="track"===n.id.type?i18n("play-flow","[feature/mfront-3789]Поток по треку «%1»",r.context.title):i18n("play-flow","[feature/mfront-3789]Поток по «%1»",r.context.title),t={shortTitle:r.context.shortTitle,title:a,href:r.context.href,from:o.getRadioFrom({type:n.id.type,tag:n.id.tag},!0),station:{name:r.context.title}},e={radio_type:n.id.type,radio_tag:n.id.tag},i(t,e))}))}i(t,e)}},_.prototype.getIsVideoPlaying=function(){return this.isVideoPlaying},_.prototype.setIsVideoPlaying=function(t){this.isVideoPlaying=t},_.prototype.setQueueId=function(t){t?(this.queueId=t,this._store(!0)):delete this.queueId},_.prototype.setContext=function(t,e){u.isNotFree()&&!e||(this.context=t||h,this.setQueueId(""))},_.prototype.addEntries=function(t,e){var i=t.map(v);this.setContext(e),a.updateFrom(e.from),a.append(i)},_.prototype.playArtist=function(t,e,i){return this.setContext(t),a.playSource({from:t.from,type:d.ARTIST,config:{id:e.artistId,sort:"top"},info:"object"==typeof t.artist?t.artist:null,tracks:e.entries&&e.entries.map(v),index:i,eventId:t.eventId,loadTracks:!0})},_.prototype.playTracks=function(t,e,i){var n;return this.setContext(t),(n=t.artist?{type:d.ARTIST,config:{id:t.artist.id},info:t.artist}:t.playlist?{type:d.PLAYLIST,config:{id:t.playlist.kind,owner:t.playlist.owner},info:t.playlist}:t.album?{type:d.ALBUM,config:{id:t.album.id},info:t.album}:t.eventId?{type:d.FEED}:{type:d.COMMON}).from=t.from,t.eventId&&(n.eventId=t.eventId),t.blockId&&(n.blockId=t.blockId),t.entityId&&(n.entityId=t.entityId),n.tracks=e.map(v),n.index=i,a.playSource(n)},_.prototype.playRadio=function(t,e,i){if(!a.isReady())return a.onReady(function(){this.playRadio(t,e,i)}.bind(this));a.isAutoplayable()||!i?a.enablePlayMode():a.disablePlayMode(),this.setContext(t);var n=a.getConfig();return n.type===e.radio_type&&n.tag===e.radio_tag?(a.updateFrom(t.from),a.resume(),Promise.resolve()):(t.radio={type:e.radio_type,tag:e.radio_tag},a.playSource({from:t.from,type:d.RADIO,config:{type:e.radio_type,tag:e.radio_tag},station:"object"==typeof t.station?t.station:null}))},_.prototype.setRadioDashboardId=function(t){this.radioDashboardId=t},_.prototype.playNewRadio=function(t,e){if(!a.isReady())return a.onReady(function(){this.playNewRadio(t,e)}.bind(this));a.isAutoplayable()||!e?a.enablePlayMode():a.disablePlayMode(),this.setContext(t);var i=a.getConfig();i.tag==t.id.tag&&i.type==t.id.type||a.playSource({from:t.from,type:d.RADIO,dashId:this.radioDashboardId,config:t.id})},_.prototype.playFmStream=function(t,e){return a.isReady()?(this.setContext(t),a.playSource({from:t.from,type:d.FM_STREAM,config:e,info:"object"==typeof t.stream?t.stream:null})):a.onReady(this.playFmStream.bind(this,t,e))},_.prototype.toggleRepeat=function(t){return t=a.toggleRepeat(t),this._store(),t},_.prototype.toggleShuffle=function(t,e){return t=a.toggleShuffle(t&&t.result,e),!e&&this._store(),t},_.prototype.markInteractivePlayStart=function(){this.clicked=!0},_.prototype.storeLastRupRadioStation=function(){if(a.isRupRadio()){const t=a.getConfig(),e=a.getInfo(),i={tag:t.tag,type:t.type,name:e.name,time:Date.now()},n=JSON.parse(c.getItem("lastRupRadioPlay")||"{}");n[s.user.uid]=i,c.setItem("lastRupRadioPlay",JSON.stringify(n))}};var v=function(t){return t.track||t};_.trackToEntry=function(t){return!t||"string"==typeof t||t.track?t:t&&{album:t.albums&&t.albums[0],track:t}};_.prototype.isCurrent=function(t){return p(a.getCurrent())===p(v(t))},_.prototype.resume=Mu.Adapter.prototype.resume,_.prototype.togglePause=Mu.Adapter.prototype.togglePause,_.prototype.like=function(t,e,i){return a.like(t,e,i,!0)},_.prototype.unlike=function(t,e,i){return a.unlike(t,e,i,!0)},_.prototype.dislike=function(t,e,i){return a.dislike(t,e,i,!0)},_.prototype.undislike=function(t,e,i){return a.undislike(t,e,i,!0)},Mu.Adapter.delegate(_),Mu.PlayFlow=_},function(t,e,i,n){const a=function(){Mu.eventize(this)};a.TRACK_CHANGED="trackChanged",a.PROGRESS_CHANGED="progressChanged",a.MARK_TRACK_FINISHED="markTrackFinished",a.MARK_TRACK_UNFINISHED="markTrackUnfinished",a.MARK_ALBUM_FINISHED="markAlbumFinished",a.MARK_ALBUM_UNFINISHED="markAlbumUnfinished",a.prototype.init=function(t){this.seq=t.get("seq"),this.dataSrc=t.get("dataSrc"),this._onEventProgress=this._onEventProgress.bind(this),this._sendProgress=this._sendProgress.bind(this),this._onTrackChanged=this._onTrackChanged.bind(this),this.seq.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._onTrackChanged),this.seq.on(Mu.PlayFlow.EVENT_EMPTY,this._onTrackChanged),this.seq.on(Mu.PlayFlow.EVENT_TRACK_PLAY,()=>{this.playFromPosition&&a.isEnabled()&&(this.seq.setPosition(this.playFromPosition),this.playFromPosition=void 0)}),this.seq.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,()=>{this._sendProgress()}),window.addEventListener("onunload",()=>{this._sendProgress()})},a.prototype._onTrackChanged=function(t){if(a.isEnabled())if(this.current&&(this.current.timerId&&clearInterval(this.current.timerId),this._checkEndOfTrackAndSendFinished(this.current.trackId,this.current.updatedProgress),this._sendProgress(),this.current=void 0),t)if(this.trigger(a.TRACK_CHANGED,{trackId:t.id}),this.playFromPosition=void 0,a.isEnabled(t)){if(this.current={trackId:t.id,timerId:setInterval(this._sendProgress,3e4),updatedProgress:void 0,sendedProgress:void 0,uiTimeLeft:{},markFinished:t.streamProgress&&t.streamProgress.everFinished},t.streamProgress&&!t.streamProgress.everFinished&&t.streamProgress.endPositionSec>0&&(this.playFromPosition=t.streamProgress.endPositionSec),this.isSubscribeToEventProgress)return;this.isSubscribeToEventProgress=!0,this.seq.on(Mu.PlayFlow.EVENT_PROGRESS,this._onEventProgress)}else{if(!this.isSubscribeToEventProgress)return;this.isSubscribeToEventProgress=!1,this.seq.off(Mu.PlayFlow.EVENT_PROGRESS,this._onEventProgress)}else this.trigger(a.TRACK_CHANGED,{})},a.prototype._checkEndOfTrackAndSendFinished=function(t,e){if(null==e||!a.isEnabled())return;const{duration:i,position:n}=e;if(!i||!n)return;const s=i-n;s/i<=.05&&s<=120&&this.trigger(a.MARK_TRACK_FINISHED,{trackId:t,endPositionSec:0})},a.prototype._onEventProgress=function(t){if(!this.current||this.current.markFinished||!t||!t.position||!a.isEnabled())return;this.current.updatedProgress=t;const e=Math.floor(t.duration-t.position),i=Math.floor(e/60);(!this.current.uiTimeLeft||i!==this.current.uiTimeLeft.minutes||e<60&&Math.abs(this.current.uiTimeLeft.seconds-e)>=1)&&(this.trigger(a.PROGRESS_CHANGED,{trackId:this.current.trackId,endPositionSec:t.position}),this.current.uiTimeLeft={minutes:i,seconds:e})},a.prototype._sendProgress=function(){if(!this.current||this.current.markFinished||!this.current.updatedProgress||!Number.isFinite(this.current.updatedProgress.position)||!a.isEnabled())return;if(this.current.sendedProgress){const t=this.current.sendedProgress.position,e=this.current.updatedProgress.position;if(Math.abs(e-t)<1)return}const t={actionType:"save-current",trackId:this.current.trackId,positionSec:this.current.updatedProgress.position,trackLengthSec:this.current.updatedProgress.duration,timestamp:Date.now()};this.current.sendedProgress=this.current.updatedProgress,this.dataSrc.post("playback-progress",t).then(()=>0).catch(t=>{console.error(t)})},a.prototype.markFinished=function(t){void 0!==t&&a.isEnabled()&&(this.current&&this.current.trackId===t&&(this.current.markFinished=!0),this.trigger(a.MARK_TRACK_FINISHED,{trackId:t}),this.dataSrc.post("playback-progress",{actionType:"mark-finished",trackId:t}).then(()=>0).catch(t=>{console.error(t)}))},a.prototype.markUnfinished=function(t){void 0!==t&&a.isEnabled()&&(this.current&&this.current.trackId===t&&(this.current.markFinished=!1),this.trigger(a.MARK_TRACK_UNFINISHED,{trackId:t}),this.dataSrc.post("playback-progress",{actionType:"mark-unfinished",trackId:t}).then(()=>0).catch(t=>{console.error(t)}))},a.prototype.markAlbumProgress=function(t,e){a.isEnabled()&&t&&e&&this.dataSrc.post("album-progress",{actionType:e,albumId:t}).then(i=>(this.trigger("finished"===e?a.MARK_ALBUM_FINISHED:a.MARK_ALBUM_UNFINISHED,{albumId:t}),i)).catch(t=>{console.error(t)})},a.isEnabled=function(t){return Mu.authData&&!(!Mu.authData.user||!Mu.authData.user.uid)&&(!t||t.rememberPosition)},a.prototype.isTrackSendingProgress=function(t){return t&&this.current&&t.id===this.current.trackId},Mu.PlaybackProgressSender=a},function(t,e,i,n){const a=i(85);var s=function(){a.call(this),this.blockPrefix="popup-",this.on("loaded",this.onLoaded.bind(this))};$.extend(s.prototype,a.prototype),s.prototype.init=function(t){a.prototype.init.call(this,t),this.parent=$(".popup-holder")[0]},s.prototype.onLoaded=function(t){t.container.className+=" popup popup_page deco-pane"},s.prototype.toggle=function(t,e){var i=this.isOpen(t);return i?this.hide(t):this.show(t,e),!i},s.prototype.isOpen=function(t){return!(!this.current||t&&this.current.name!==t)},s.prototype.hide=function(t){this.current&&(t&&this.current.name!==t||this.unloadPrevious())},s.prototype.unloadPrevious=function(){a.prototype.unloadPrevious.call(this),this.current=void 0},Mu.Popups=s},function(t,e,i,n){const{isTouchPage:a,cookieKeyForMobileTouch:s}=i(113),o=["ru","kz","by","uz","com"];var r=function(t){var e=[],i=new RegExp(t.source.replace(/\(:<(\w+)>/g,(function(t,i){return e.push(i),"("})),(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":""));return i.exec=function(t){return function(t){if(!t)return t;for(var i=0;i<e.length;i++)t[e[i]]=t[i+1];return t}(RegExp.prototype.exec.call(this,t))},i},l=function(t){for(var e=t.split("&"),i={},n=0;n<e.length;n++){var a=e[n].split("="),s=a[1]||"";s=s.replace(/\+/g," ");try{s=decodeURIComponent(s)}catch(t){}i[a[0]]=s}return i},c=function(t,e){var i="";return e.forEach((function(e){t[e.containParam]&&(i=e.route)})),i},d=function(t,e,i){var n=e.slice(0);if(i&&"undefined"!=typeof Mu&&Mu.experiments)for(var a,s,o,r=Object.keys(i),d=0;d<r.length;d++)s=i[o=r[d]],(a=Mu.experiments[o])&&s[a]&&s[a].forEach(t=>n.unshift(t));for(var u=0;u<n.length;u++){var p=n[u],h=p[0].exec(t),_=p[1];if(h&&("undefined"==typeof Mu||!p[2]||p[2].includes(Mu.settings.regions.working)))return h.query=h.query?l(h.query):{},p[3]&&(_=c(h.query,p[3])||_),{name:_,param:h}}},u=function(t,e){if(e)return t[Object.keys(t).find(t=>t===e||"!"===t[0]&&t.slice(1)!==e)]},p={items:[[r(/^\/hmac$/),"hmac"],[r(/^\/album\/(:<album>\d+)(?:\/track\/(:<track>\d+))?\/?(?:\?(:<query>.*))?$/),"album"],[r(/^\/album\/(?:|0|null|undefined)(?:\/track\/(:<track>\d+))?\/?(?:\?(:<query>.*))?$/),"album"],[r(/^\/track\/(:<track>\d+)\/?(?:\?(:<query>.*))?$/),"album"],[r(/^\/artist\/(:<artist>[a-z0-9-]+)(?:\/(:<what>[^/?]*))?\/?(?:\?(:<query>.*))?$/),"artist"],[r(/^\/artists\/(:<artists>[0-9,]+)\/?(?:\?(:<query>.*))?$/),"artists"],[r(/^\/search\/?\?(:<query>.*)/),"search"],[r(/^\/users\/(:<owner>[^/?]+)\/playlists\/(:<kind>\d+)\/?(?:\?(:<query>.*))?$/),"playlist"],[r(/^\/users\/(:<owner>[^/?]+)(?:\/(:<what>(?:artists|tracks|albums|playlists|podcasts|kids|history)))?\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/users\/(:<owner>[^/?]+)\/(:<what>podcasts)\/(:<podcastSubPage>(?:albums|episodes))?\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/users\/(:<owner>[^/?]+)\/podcasts\/(:<what>shelf)\/(:<shelfSubPage>(?:saved|recently-played|new-episodes))?\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/users\/(:<owner>[^/?]+)\/podcasts\/(:<what>shelf)\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/users\/(:<owner>[^/?]+)\/(:<what>non-music)\/(:<nonMusicSubPage>audiobooks)?\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/users\/(:<owner>[^/?]+)\/(:<what>kids)\/(:<kidsSubPage>(?:albums|tracks|playlists))?\/?(?:\?(:<query>.*))?$/),"users"],[r(/^\/settings(?:\/(:<what>[^/?]*))?\/?(?:\?(:<query>.*))?$/),"settings"],[r(/^\/post\/(:<id>[a-z0-9]+)\/choice\/(:<choice>\d+).*$/),"post"],[r(/^\/post\/(:<id>[a-z0-9]+)\/?(?:\?.*)?$/),"post"],[r(/^\/label\/(:<id>\d+)(?:\/(:<what>(?:artists|albums)))?\/?(?:\?(:<query>.*))?$/),"label"],[r(/^\/import((?:\/|$)(:<code>[a-z0-9]+))?\/?(?:\?(:<query>.*))?$/),"import"],[r(/^\/cards\/?(?:\?(:<query>.*))?$/),"predictions"],[r(/^\/cards\/(:<id>[-a-z0-9]+)\/?(?:\?.*)?$/),"predictions"],[r(/^\/timemachine\/?(?:\?(:<query>.*))?$/),"apartment"],[r(/^\/pay\/?(?:\?(:<query>.*))?$/),"pay-plus"],[r(/^\/travel\/?(?:\?(:<query>.*))?$/),"travel"],[r(/^\/joydivision\/?(?:\?(:<query>.*))?$/),"joydivision"],[r(/^\/home\/?(:<what>[^/?]*)?\/?(?:\?(:<query>.*))?$/),"main"],[r(/^\/home\/(?:today)\/?(:<what>[^/?]*)?\/?(?:\?(:<query>.*))?$/),"main"],[r(/^\/(:<what>(?:new-playlists|new-releases|chart|genres))\/?(?:\?(:<query>.*))?$/),"main"],[r(/^\/genre(?:\/(:<tag>[^/?]+))?(?:\/(:<tab>(?:artists|albums|composers|playlists)))?\/?(?:\/(:<sortBy>(?:new|popular)))?\/?(?:\?(:<query>.*))?$/),"metatag"],[r(/^\/tag\/(:<tag>[^/?]*)\/?(?:\?(:<query>.*))?$/),"tag"],[r(/^\/moana\/?(?:\?(:<query>.*))?$/),"moana"],[r(/^\/kurt\/?(?:\?(:<query>.*))?$/),"cobain"],[r(/^\/radio(?:\/(:<department>(?:genre|mood|activity|epoch)))?\/?(?:\?(:<query>.*))?$/),"radio"],[r(/^\/radio\/?(?:\?(:<query>.*))?$/),"radio"],[r(/^\/tags(?:\/(:<tag>[^/?]+))?(?:\/(:<tab>(?:artists|albums|composers|news|playlists)))?\/?(?:\/(:<sortBy>(?:new|popular)))?\/?(?:\?(:<query>.*))?$/),"metatag"],[r(/^\/wizard\/?(?:\?(:<query>.*))?$/),"wizard"],[r(/^\/personal\/top2018\/?(:<query>.*)?$/),"personal-top2018"],[r(/^\/personal\/top2017\/?(?:\?(:<query>.*))?$/),"personal-top2017"],[r(/^\/personal\/top2017\/(:<owner>[^/?]+)\/?(?:\?.*)?$/),"personal-top2017"],[r(/^\/personal\/?(?:\?(:<query>.*))?$/),"personal"],[r(/^\/personal\/(:<owner>[^/?]+)\/?(?:\?.*)?$/),"personal"],[r(/^\/personal\/ref\/(:<ref>[^/?]+)\/?(?:\?.*)?$/),"personal"],[r(/^\/playlist\/(:<what>.*)?\/?(?:\?(:<query>.*))?$/),"autoplaylist"],[r(/^\/fm\/?(:<radioId>[^/?]*)?\/?(?:\?(:<query>.*))?$/),"fm"],[r(/^\/(:<what>(?:chart))(?:\/?(:<chartType>(?:tracks|podcasts)))?\/?(?:\?(:<query>.*))?$/),"main"],[r(/^\/(:<what>(?:chart))(?:\/podcasts)(?:\/?\/category\/(:<podcastsCategory>.*))?\/?(?:\?(:<query>.*))?$/),"main"],[r(/^\/non-music\/?(?:\?(:<query>.*))?$/),"non-music"],[r(/^\/non-music\/category\/(:<category>[^/?]*)\/?(?:\?(:<query>.*))?$/),"non-music"],[r(/^\/non-music\/category\/(:<category>[^/?]*)\/(:<postfix>[^/?]*)\/?(?:\?(:<query>.*))?$/),"non-music"],[r(/^\/kids\/?(?:\?(:<query>.*))?$/),"kids"],[r(/^\/kids\/category\/(:<category>[^/?]*)\/?(?:\?(:<query>.*))?$/),"kids"],[r(/^\/kids\/category\/(:<category>[^/?]*)\/(:<postfix>[^/?]*)\/?(?:\?(:<query>.*))?$/),"kids"],[r(/^\/kids\/(:<what>(?:editorial))\/(:<editorialType>(?:playlist|album))\/(:<editorialId>[^/?]*)\/?(?:\?(:<query>.*))?$/),"kids"],[r(/^\/non-music\/(:<what>(?:editorial))\/(:<editorialType>(?:playlist|album))\/(:<editorialId>[^/?]*)\/?(?:\?(:<query>.*))?$/),"non-music"],[r(/^\/non-music\/compilations\/(:<compilationId>[^/?]*)\/?(?:\?(:<query>.*))?$/),"non-music"]],itemsInternal:[[r(/^\/style-guide(?:\/(:<what>[^/?]*))?\/?(?:\?(:<query>.*))?$/),"style-guide"],[r(/^\/entities(?:\/(:<what>[^/?]*))?\/?(?:\?(:<query>.*))?$/),"entities"]],itemsForExperiments:{WebGenerativeTab:{on:[[r(/^\/radio(?:\/(:<department>(?:genre|mood|activity|epoch|neuromusic)))?\/?(?:\?(:<query>.*))?$/),"radio"]]}},match:function(t){if(!(t=>{let e=!1;if("undefined"==typeof window||"undefined"==typeof Mu||"string"!=typeof t)return e;const i=Mu.settings||{},n=i.uatraits||{},o=n.isMobile&&!n.isTablet,r="ru"===i.lang,l=t.includes("?")?t.split("?")[0]:t;return e=o&&r&&a(l,document.cookie),o&&!e&&(document.cookie=s+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e})(t)){var e={name:"404",param:{url:t}};return e=d(t,this.items,this.itemsForExperiments)||e,Mu.authData&&Mu.authData.user&&Mu.authData.user.isYandex&&(e=d(t,this.itemsInternal)||e),e}window.location.assign(window.location.pathname)},rewriteRules:[[/^\/chart\/tracks(\/)?(\?.*)?$/i,"/chart"],[/^\/radio\/user\/([^/?]+)$/,"/users/$1"],[/^\/users\/yamusic-top\/playlists\/1076(\/|\?|$)/,"/chart$1"],[/^\/users\/ya-soundtrack2016\/playlists\/?(?:\?(?!open).*)?$/,"/travel"],[/^\/users\/ya-soundtrack2016\/?(?:\?(?!open).*)?$/,"/travel"],[/^\/track\/(\w+)\/album\/(\w+)/,"/album/$2/track/$1"],[/^\/album\/(?:|0|null|undefined)\/track\/(\w+):(\w+)/,"/album/$2/track/$1"],[/^\/top\/(tracks|artists)\/genre\/all$/,"/"],[/^\/top\/(tracks|artists)\/genre\/(.*)$/,"/genre/$2/$1"],[/^\/mix\/?(.*)\/?$/,"/home"],[/^\/home\/(?:2000|1990|1980|1970|1960|1950|1940)\/?([^/?]*)?\/?(?:\?(.*))?$/,"/home"],[/^\/genre\/?(.+)\/news/,"/genre/$1/albums/new"],[/^\/tune\/?$/,"/settings"],[/^\/subscription\/manage(\/?\?.*)?$/,"/settings$1","last"],[/^\/(subscription)/,"/settings"],[/^\/users\/([^/]+)\/?$/,"/users/$1/playlists"],[/^\/payment(?:\/history|\/pay)?\/?(\?orderId=\d+)?$/,"/settings/subscription$1","last"],[/^\/mdna(\/)?(\?.*)?$/i,"/album/435218","last"],[/^\/splean(\/)?(\?.*)?$/i,"/album/586930","last"],[/^\/kino(\/)?(\?.*)?$/i,"/artist/41075","last"],[/^\/placebo(\/)?(\?.*)?$/i,"/artist/36830","last"],[/^\/rabkor(\/)?(\?.*)?$/i,"/album/463388","last"],[/^\/okeanelzy(\/)?(\?.*)?$/i,"/album/1137582","last"],[/^\/mumiytroll(\/)?(\?.*)?$/i,"/artist/41098","last"],[/^\/zemfira(\/)?(\?.*)?$/i,"/artist/218099","last"],[/^\/ram+st[ae]in(\/)?(\?.*)?$/i,"/artist/13002","last"],[/^(.*[?&])ncrnd=\d+(&(.*)|$)/,"$1$3"],[/^(.*[?&])noyu=1(&(.*)|$)/,"$1$3"],[/[?&]$/,""],[/^\/feed\/?(?:\?(:<query>.*))?$/,"/home"],[/^\/quiz(\/(.*))?$/i,"/home"],[/^\/home\/children(\?(.*))?$/i,"/kids"],[/^\/genre\/(.+)\/(concerts|tracks)(\/.*)?$/,"/genre/$1"]],rewriteRulesForExperiments:{},rewriteRulesAuth:[[!0,/^\/(\?.*)?$/,"/home$1",!1],[!1,/^(?:\/)(\?.*)?$/,"/home$1",!1],[!1,/^\/hmac(\/)?(\?.*)?$/i,"/home",!1]],rewriteRulesForExternalUrls:[[/^\/family-plus([/?]{1}(.*))?$/,"https://plus.yandex.{{tld}}/family",o],[/^\/gift\/buy([/?]{1}(.*))?$/,"https://plus.yandex.{{tld}}/present?through=music",o],[/^\/gift([/?]{1}(.*))?$/,"https://plus.yandex.{{tld}}/gift?serviceName=music&promoName=music_common",o,["text","utm_source","utm_medium","utm_campaign","utm_term","utm_content"]],[/^\/station([/?]{1}(.*))?$/,"https://plus.yandex.{{tld}}/station",o],[/^\/plus-apps([/?]{1}(.*))?$/,"https://plus.yandex.{{tld}}/?message=sms",o]],rewriteRulesForUser:function(t){var e=t,i="undefined"!=typeof Mu&&Mu.authData&&Mu.authData.user&&Mu.authData.user.uid||0;if("undefined"!=typeof Mu)for(var n=0;n<this.rewriteRulesAuth.length;n++){var a=this.rewriteRulesAuth[n];if((a[0]===!!i||null===a[0])&&a[1].test(e)&&(e=e.replace(a[1],a[2]),"last"===a[3]))break}return e},rewriteFacebookParams:function(t){var e=/[?&](song|musician|album|playlist)=([^&]*)/.exec(t);if(!e||!e[2])return t;var i=e[2];try{i=decodeURIComponent(i)}catch(t){}return i=i.replace(/https?:\/\/[^/]*\//,"/")},rewriteForExternalUrls:function(t){const e=t.tld,i=t.url.path,n=this.rewriteRulesForExternalUrls.find(t=>t[0].test(i));if(n){let i=n[1];if(i.includes("{{tld}}")){const t=e&&Array.isArray(n[2])&&n[2].includes(e)?e:"ru";i=i.replace("{{tld}}",t)}if(t.url.query&&n[3]&&n[3].length>0){const e=t.url.query,a=new URL(i);n[3].forEach(t=>{t in e&&a.searchParams.append(t,e[t])}),i=a.toString()}return i}return null},rewrite:function(t){var e=t,i=/\/(\/)+/;i.test(e)&&(e=e.replace(i,"/")),e=this.rewriteFacebookParams(e),e=this.rewriteRulesForUser(e);var n=this.rewriteRules.slice(0);if(this.rewriteRulesForExperiments&&"undefined"!=typeof Mu&&Mu.experiments)for(var a,s,o,r=Object.keys(this.rewriteRulesForExperiments),l=0;l<r.length;l++){o=r[l],s=this.rewriteRulesForExperiments[o],a=Mu.experiments[o]||"default";var c=u(s,a);c&&(n=[].concat(c,n))}for(var d=0;d<n.length;d++){var p=n[d];if(p[0].exec(e)&&(e=e.replace(p[0],p[1]),"last"===p[2]))break}if(this.notFirstCall=!0,"undefined"!=typeof window){const t=e.split("/")[1].split("?")[0];try{window.Ya.Rum.updateErrors({page:t})}catch(t){}}return e},named:r};"undefined"!=typeof Mu&&(Mu.routes=p),t.exports=p},function(t,e,i,n){const a=[/^\/$/,/^\/home$/],s=[/^\/artist\/[0-9]+((\/albums)|(\/tracks))?$/,/^\/album\/[0-9]+(\/track\/[0-9]+)?$/,/^\/users\/.+\/playlists\/[0-9]+$/],o=[/^\/iframe\/(album|artist|track|playlist|)\/.*/],r=(t="",e)=>e.some(e=>e.test(t));t.exports={isTouchPage:(t,e)=>{let i;return i="string"==typeof e?e.includes("redirected_from_touch"):e&&e.redirected_from_touch,r(t,s)||r(t,a)&&!i},isIframePage:t=>r(t,o),cookieKeyForMobileTouch:"x-mne-2021-touch"}},function(t,e,i,n){var a,s=i(37),o=function(){this.value="",this.matches=[],this.buf_length=10,this.rInputField=/^(INPUT|TEXTAREA|SELECT)$/i,this.isShowAdvert=!1};o.prototype.init=function(t){var e=this,i=t.get("adapter");a=t.get("seq"),i.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onStartAdvert.bind(this)),i.on(Mu.Adapter.EVENT_HIDE_ADVERT,this.onStopAdvert.bind(this)),e.addMatch(/0/,(function(){a.mute()})).addMatch(/</,(function(){a.setPosition(a.getPosition()-5)})).addMatch(/>/,(function(){a.setPosition(a.getPosition()+5)})).addMatch(/[=+]/,(function(){a.setVolume(a.getVolume()+.1)})).addMatch(/[\-_]/,(function(){a.setVolume(a.getVolume()-.1)})).addMatch(/[pPзЗ ]/,(function(){a.isGenerative()&&a.isPaused()?a.play():(!i.isPlaying()&&a.markInteractivePlayStart(),a.togglePause())})).addMatch(/[jJоОlLдД]/,(function(){s.startMark("click-to-play"),i.setFlagValue("playOnUserInteraction",!0),a.markInteractivePlayStart(),a.next()})).addMatch(/[kKлЛhHрР]/,(function(){s.startMark("click-to-play"),i.setFlagValue("playOnUserInteraction",!0),a.markInteractivePlayStart(),a.prev()})).addMatch(/[fFаА]/,(function(){e.toggleLike()})).addMatch(/^[dDвВ]/,(function(){e.toggleDislike()})).addMatch(/iddqd|шввйв/i,(function(){Mu.blocks.get("api-debugger").toggle()})),document.onkeydown=function(t){37!=t.which&&39!=t.which||e.listen(t)},document.onkeypress=function(t){t=t||window.event,e.listen(t)},document.onkeyup=function(t){e.fired=!1}},o.prototype.onStartAdvert=function(){this.isShowAdvert=!0},o.prototype.onStopAdvert=function(){this.isShowAdvert=!1},o.prototype.addMatch=function(t,e){return this.matches.push({test:t,handler:e}),this},o.prototype.normalizeEvent=function(t){var e={originalEvent:t};return e.target=t.target||t.srcElement,e.charCode=t.charCode||t.keyCode,37==t.which&&(e.charCode=60),39==t.which&&(e.charCode=62),e},o.prototype.reset=function(){this.value="",document.activeElement.blur()},o.prototype.listen=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey))if(t=this.normalizeEvent(t),this.fired)this.preventDefault(t.originalEvent);else if(this.validTarget(t)){var e;this.value.length>this.buf_length&&(this.value=this.value.substr(this.value.length-this.buf_length)),this.value=this.value+String.fromCharCode(t.charCode);for(var i=0,n=this.matches.length;i<n;i++)if(e=this.matches[i],this.isGoodMatch(e.test)&&!1!==e.handler(t)){this.fired=!1,this.reset(),this.preventDefault(t.originalEvent);break}}},o.prototype.preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},o.prototype.validTarget=function(t){if(!t.target)return!1;if(t.target.nodeName){if(this.rInputField.test(t.target.nodeName))return!1;if(this.isShowAdvert&&this.rInputField.test(t.originalEvent.path[0].tagName))return!1}return!0},o.prototype.isGoodMatch=function(t){return t.test(this.value)},o.prototype.toggleLike=function(){if(!a.isGenerative()){var t=$(".player-controls .d-like"),e=Mu.blocks.forElem(t[0],"d-like");e&&e.toggleTrack()}},o.prototype.toggleDislike=function(){if(!a.isGenerative()){var t=$(".player-controls .dislike"),e=Mu.blocks.forElem(t[0],"dislike");e&&e.toggleTrack()}},Mu.Shortcuts=o},function(t,e,i,n){const a=i(85);let s,o;const r=function(){a.call(this),this.blockPrefix="sidebar-",this.containerHtml='<div class="sidebar-cont"></div>',this.shown=[],this.on("loaded",this.onLoaded.bind(this))};$.extend(r.prototype,a.prototype),r.prototype.init=function(t){a.prototype.init.call(this,t),this.cache=t.get("cache").create({size:10}),s=t.get("auth"),o=t.get("pages"),s.on("login",this.onLogin.bind(this)),this.parent=$(".sidebar")[0],$(".sidebar").on("click",".sidebar-hide",this.hideAll.bind(this))},r.prototype.onLogin=function(t){try{if(t&&t.user&&t.user.premium)$(this.parent).find(".sidebar__under").replaceWith($(Mu.render("sidebar__under",{})))}catch(t){}},r.prototype.onLoaded=function(t){var e=t.container;this.shown.push(e),e.className+=" sidebar-cont_shown deco-pane",$(e).prepend('<a class="sidebar-hide d-icon deco-icon d-icon_cross-medium"></a>');var i=e.style;"animation"in i||"webkitAnimation"in i||"MozAnimation"in i||$(e).css({left:"320px"}).animate({left:"0px"},120),setTimeout(()=>{for(let t=0;t<this.shown.length-1;t++)this.parent.removeChild(this.shown.splice(t,1)[0])},240)},r.prototype.construct=function(t,e){var i,n=t+$.param(e);if(this.cache.contains(n)){i=this.cache.pop(n);var s=this.shown.indexOf(i.container);-1!=s&&this.shown.splice(s,1)}else(i=a.prototype.construct.call(this,t,e)).__key=n;return Mu.sidebarData&&Mu.sidebarName===t&&(i.data=Mu.sidebarData,i.name=Mu.sidebarName,delete Mu.sidebarData,delete Mu.sidebarName),i},r.prototype.detach=function(t){t.cache?this.cache.push(t.__key,t):"function"==typeof t.destroy&&t.destroy()},r.prototype.hideAll=function(){for(var t=this.shown.length;t-- >0;){var e=this.shown[t];this.parent&&this.parent.hasChildNodes(e)&&this.parent.removeChild(e)}if(this.shown.length=0,this.cache.clear(),this.current=null,o&&o.current&&o.current.currSelected&&o.current.currSelected.length){for(let t=0;t<o.current.currSelected.length;t++)o.current.currSelected[t].setSelected&&o.current.currSelected[t].setSelected(!1);o.current.currSelected=[]}this.trigger("sidebars.hideAll")},Mu.Sidebars=r},function(t,e,i,n){var a,s,o,r;i(63);var l="https://"+location.hostname+"/",c=function(t){this.unity=t};c.prototype.init=function(){this.unity.init({name:"Yandex.Music",homepage:l,iconUrl:"http://music.yandex.ru/icons/big.png",onInit:this.onInit.bind(this),onInitExtended:this.onInitExtended.bind(this)})},c.prototype.onInit=function(){this.mediaPlayer=this.unity.MediaPlayer,this.mediaPlayer.onNext((function(){a.next()})),this.mediaPlayer.onPrevious((function(){a.prev()})),this.mediaPlayer.onPlayPause((function(){a.togglePause()}));var t=this.onStateChanged.bind(this);a.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t);var e=this.onSeqChanged.bind(this);a.on(Mu.PlayFlow.EVENT_SHOW_TRACK,e),a.on(Mu.PlayFlow.EVENT_EMPTY,e),a.on(Mu.PlayFlow.EVENT_CHANGE,e),a.on(Mu.PlayFlow.EVENT_CONTROLS,this.onControlsChange.bind(this))},c.prototype.onInitExtended=function(){o.on("liked",this.onFavChanged.bind(this)),a.on(Mu.PlayFlow.EVENT_SOURCE,this.onContextChanged.bind(this)),a.on(Mu.PlayFlow.EVENT_VOLUME,this.onVolume.bind(this)),this.mediaPlayer.onNavigateTo(this.onNavigateTo.bind(this)),this.mediaPlayer.onLike(this.onLike.bind(this)),this.mediaPlayer.onVolume(this.onUnityVolume.bind(this)),this.onContextChanged(),this.onStateChanged(),this.onSeqChanged()},c.prototype.onLike=function(){try{$(".player-controls .d-like").click()}catch(t){}},c.prototype.onNavigateTo=function(t){try{var e=t&&t.data&&t.data.url;if(!e)return;var i=/^(?:https?:\/\/[^\/]*)(\/.*)/.exec(e),n=i&&i[1];n&&r.navigateTo(n)}catch(t){}},c.prototype.onFavChanged=function(t){try{var e=a.getCurrent(),i=t&&t.params&&t.params.tracks,n=i&&i[0]&&i[0].trackId;n&&e.id==n&&this.onSeqChanged()}catch(t){}},c.prototype.onControlsChange=function(){var t=a.getControls();this.mediaPlayer.setCanGoNext(!0===t.next),this.mediaPlayer.setCanGoPrev(!0===t.prev)},c.prototype.onSeqChanged=function(){try{var t=a.getCurrent();if(!t)return;var e={track:t,album:t.albums&&t.albums[0]},i=e.album||{},n=(t=e.track).artists&&t.artists.length&&t.artists[0]||{},r=i&&s.cover(i.coverUri||i.cover,64);r=0===r.indexOf("//")?r:window.location.host+r,r=window.location.protocol+r,this.mediaPlayer.setTrack({title:t.title,album:e.album&&e.album.title,artist:t.artists&&t.artists.length&&t.artists[0].name,artLocation:r,liked:o.isFavorite({entry:e}),url:"disk"!==t.prefix?l+"album/"+i.id+"/track/"+t.id:void 0,artistUrl:"disk"!==t.prefix?l+"artist/"+n.id:void 0}),this.mediaPlayer.setCanPlay(!0),this.mediaPlayer.setCanPause(!1);var c=a.getControls();this.mediaPlayer.setCanGoNext(!0===c.next),this.mediaPlayer.setCanGoPrev(!0===c.prev)}catch(t){}},c.prototype.onStateChanged=function(){try{var t=this.mediaPlayer.PlaybackState[a.isPlaying()?"PLAYING":"PAUSED"];this.mediaPlayer.setPlaybackState(t)}catch(t){}},c.prototype.onContextChanged=function(){try{var t=this;setTimeout((function(){t.mediaPlayer.setContext&&t.mediaPlayer.setContext({title:a.context&&(a.context.shortTitle||a.context.title)||i18n("unity","[feature/mfront-3990-1]Яндекс Музыка"),source:l,bar:"barLike",icon:"https://music.yandex.ru/blocks/common/badge.music.png"})}),10)}catch(t){}},c.prototype.onVolume=function(t){try{this.mediaPlayer.setVolume(t)}catch(t){}},c.prototype.onUnityVolume=function(t){try{-1!==t.data?a.setVolume(t.data):a.mute()}catch(t){}};var d=function(){};d.prototype.init=function(){if(Mu.UnityMusicShim){this.unity=Mu.UnityMusicShim(),this.unity.setSupports({playpause:!0,next:!0,previous:!0,favorite:!0}),this.unity.setCallbackObject({pause:function(){a.togglePause(!0)},next:function(){a.next()},previous:function(){a.prev()},favorite:function(){var t=a.getCurrent();t&&o.toggle({entry:{track:t,album:t.albums&&t.albums[0]}})}});var t=this.onSeqChanged.bind(this);a.on(Mu.PlayFlow.EVENT_STATE,t),a.on(Mu.PlayFlow.EVENT_SHOW_TRACK,t),a.on(Mu.PlayFlow.EVENT_EMPTY,t)}},d.prototype.onSeqChanged=function(){var t=a.getCurrent();if(t){t={track:t,album:t.albums&&t.albums[0]||{}};try{var e=t.track,i=t.album&&s.cover(t.album.cover,64);i=0===i.indexOf("//")?i:window.location.host+i,i=window.location.protocol+i;var n={playing:a.isPlaying(),title:e.title,artist:e.artists&&e.artists.length&&e.artists[0].name,albumArt:i};this.unity.sendState(n)}catch(t){}}};var u=function(){};u.prototype.init=function(t){a=t.get("seq"),s=t.get("yate_extrnals"),o=t.get("fav"),r=t.get("navigation");try{(new d).init(),this.initUbuntu(),window.addEventListener("message",this.onInjected.bind(this),!1)}catch(t){}},u.prototype.initUbuntu=function(){try{var t="external"in window&&window.external,e=t&&"getUnityObject"in t&&t.getUnityObject(1);if(e)new c(e).init()}catch(t){}},u.prototype.onInjected=function(t){var e=t.data;t.source===window&&e&&"unityInjected"===e.event&&this.initUbuntu()},Mu.Unity=u},function(t,e,i,n){var a,s,o,r=i(103),l=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(e),n=new Uint8Array(i.length),a=0;a<i.length;++a)n[a]=i.charCodeAt(a);return n},c=function(){this.available=c.isAvailable()};c.init=function(){},c.isAvailable=function(){return!!(navigator&&window&&navigator.serviceWorker&&window.Notification)},c.prototype.init=function(t){a=t.get("dataSrc"),s=t.get("auth"),o=t.get("metrika"),s.user.uid&&("on"===Mu.experiments.xivaPush||window.Notification&&"granted"===Notification.permission)?this.requestAndInit():this._uninstallWorker()},c.prototype.requestAndInit=function(){var t=new r;return this._requestPermissions().then(function(){return this._installWorker()}.bind(this)).then((function(){t.resolve()})).catch(function(){this._uninstallWorker().then((function(){t.reject("denied")})).catch(t.reject)}.bind(this)),t.promise()},c.prototype._requestPermissions=function(){var t=new r;return this.available?"granted"===Notification.permission?t.resolve("granted"):"denied"!==Notification.permission?(o.count({pushBaseSystemPopupShow:1}),o.goal("pushBaseSystemPopupShow"),Notification.requestPermission((function(e){"granted"===e?(t.resolve("granted"),o.count({pushBaseSystemPopupEnable:1}),o.goal("pushBaseSystemPopupEnable")):"denied"===e&&(t.reject("denied"),o.count({pushBaseSystemPopupDisable:1}),o.goal("pushBaseSystemPopupDisable"))}))):t.reject("denied"):t.reject("unavailable"),t.promise()},c.prototype._installWorker=function(){var t=new r;return navigator.serviceWorker.getRegistration("/xiva-service-worker.js").then((function(t){return!t||t.unregister()})).then((function(){navigator.serviceWorker.register("/xiva-service-worker.js").then((function(){})).catch((function(e){t.reject("Worker registration failed: "+e)})),navigator.serviceWorker.ready.then((function(e){e.pushManager.getSubscription().then((function(t){return!t||t.unsubscribe()})).then((function(){return a.get("wp-get-vapid",{},{nocache:!0})})).then((function(t){return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:l(t.vapid)})})).then((function(t){return a.post("wp-subscribe",{subscription:JSON.stringify(t.toJSON()),session:Mu.Messages.session},{nocache:!0})})).then((function(e){e.success?t.resolve():t.reject("Xiva subscription error")})).catch((function(e){t.reject("Xiva subscription error: "+e)}))})).catch((function(e){t.reject("Worker can't be ready: "+e)}))})),t.promise()},c.prototype._uninstallWorker=function(){var t=new r;return this.available?navigator.serviceWorker.getRegistration("/xiva-service-worker.js").then((function(t){return!t||t.unregister()})).then((function(){t.resolve(!0)})).catch((function(e){t.reject(e)})):t.resolve(!0),t.promise()},Mu.WebPush=c},function(t,e,i,n){var a,s,o="undefined"!=typeof window&&window.yr||i(29),r=o.externals=o.externals||{};i(119);r.getUrl=globalThis.__Mu_getUrlFn,r.advDisabled=i(121),r.isPlaylistAuthor=i(122),r.isUgcId=i(123),r.isTouch=i(125),r.isUgcTrack=r.isUgcId,r.inline=i(126),r.jsonEscape=i(127),r.assimilateLink=i(128),r.isColorDark=i(129),r.getStickySupport=i(98),r.sortNodes=(t,e)=>t.sort((t,i)=>t.data[e]-i.data[e]),r.ellipsis=(t,e)=>t.length<e?t:t.substring(0,e-1)+"…",r.loginParts=t=>[{name:"parts",data:{first:t.substring(0,1),rest:t.substring(1)}}],r.log=(...t)=>{console.log(...t)},r.splitThousands=function(t,e){if("number"!=typeof(t=parseInt(t,10))||Number.isNaN(t)||t<0)return"";for(var i=(t=t.toString()).length%3,n=t.substr(0,i),a=i;a<t.length;a+=3)n+=(n?e:"")+t.substr(a,3);return n},r.mosaic=function(t){return[[],[1],[1,2,2,1],[1,2,3,1],[1,2,3,4]][(t=t.slice(0,4)).length].map(e=>t[e-1])},r.eventTitle=function(t,e){var i=(t=t[0].data.item).length;return t[(e.hashCode()%i+i)%i]},r.ceil=Math.ceil,r.round=Math.round,r.floor=Math.floor,r.max=Math.max,r.min=Math.min,r.replace=function(t,e,i,n){return"string"==typeof t?t.replace(n?new RegExp(e):e,i):t},r.sum=function(t){for(var e=0,i=0,n=t.length;i<n;i++){var a=+t[i].data;e+=isNaN(a)?0:a}return e},r.toHex=t=>t?(+t).toString(16):"",r.genreShortName=function(t,e){var i=Mu.genres.titles&&Mu.genres.titles[t.toLowerCase()];return e?i&&i.toLowerCase():i},r.genreName=function(t,e){var i=Mu.genres.customTitles&&Mu.genres.customTitles[t.toLowerCase()]||r.genreShortName(t);return e?i&&i.toLowerCase():i},r.genreId=function(t){var e=Mu.genres.customUrls;return e&&e[t]?e[t]:t},r.genreUrl=t=>"/genre/"+encodeURIComponent(r.genreName(t,!0)),r.experiments=()=>Mu.experiments,r.lowercase=function(t){return"string"!=typeof t?"":t.toLowerCase()},r.uppercase=function(t){return"string"!=typeof t?"":t.toUpperCase()},r.isInLibrary=function(t){var e=t.length>0?t[0].data:t;return a&&a.isInLibrary(e)},r.isInPositiveLibrary=function(t){var e=t.length>0?t[0].data:t;return a&&a.isInPositiveLibrary(e)},r.isFavorite=function(t){var e=t.length>0?t[0].data:t;return a&&a.isFavorite(e)},r.isDisliked=function(t){var e=t.length>0?t[0].data:t;return a&&a.isDisliked(e)},r.socialTitle=function(t){switch(t){case"youtube":return i18n("yate.externals","YouTube");case"fb":case"facebook":return i18n("yate.externals","Facebook");case"vk":case"vkontakte":return i18n("yate.externals","ВКонтакте");case"twitter":return i18n("yate.externals","Twitter");case"instagram":return i18n("yate.externals","Instagram");default:return""}},r.shuffle=t=>Array.shuffle(t),r.contains=(t,e)=>t&&t.some&&t.some(t=>t.data===e),r.fromName=function(t){if(t&&t.replace)return t.replace(/-/g,"_")},r.slice=function(t,e,i){return"string"!=typeof t?"":t.slice(e,i)},r.cutString=function(t,e){return"string"==typeof t&&"number"==typeof e?t.length>e+3?t.slice(0,e)+"...":t:""},r.cutXml=r.cutString,r.hasSubstring=function(t,e){return"string"==typeof t&&"string"==typeof e&&t.includes(e)},r.dirInfo=function(t){var e={dir:"/"};if(!t)return e;var i=t.split("/").filter(t=>!!t);return 0===i.length||(e.name=i[i.length-1],e.dir="/"+i.join("/")+"/",i.length-=1,e.parent="/"+i.join("/")),e},r.pagedList=function(t,e){e=e||50;var i=[];if(!t||0===t.length||1===t.length&&!t[0].data)return i;for(var n=Math.ceil(t.length/e),a=0;a<n;a++)i[a]={data:t.slice(a*e,(a+1)*e).map(t=>t.data)};return i},r.range=function(t){var e=[];if(t=+t,Number.isNaN(t))return e;for(var i=0;i<t;i++)e.push(i);return e},r.isPremium=function(){return s&&s.isPremium()},r.isLoggedIn=function(){return s&&s.isLoggedIn()},r.currentDate=function(){return new Date},r.random=function(t,e){return Math.round(Math.random()*(e-t))+t},r.isDiskTrack=function(t){return t&&/yadisk/.test(t)},r.isDev=function(){return!!Mu.settings.isDev},r.canCopy=function(){try{return document.execCommand("copy"),!0}catch(t){return!1}},r.init=function(t){a=t.get("library"),s=t.get("auth")},r.hasProperty=function(t,e){return(t.length>0?t[0].data:t).hasOwnProperty(e)};var l=/[^а-яА-ЯёЁ0-9a-zA-Z]/g;r.fixHashTag=function(t){return t.replace(l,"")},r.length=function(t){return t&&t.length?t.length:0};var c=function(t,e,i){return t+(i?", ":"")+(e=e.data||e).name+(e.decomposed&&e.decomposed.map(t=>t.name||t).join("")||"")};r.getArtistsText=t=>t.reduce(c,""),t.exports=r},function(t,e,i,n){t.exports=i(120)},function(t,e,i,n){var a=i(14);t.exports={isPlusAvailableInRegion:function(){return Mu.settings&&!Mu.settings.badRegion},hasPlus:function(){var t=a();return!!(t&&t.plus&&t.plus.hasPlus)},canUseMusicInRegion:function(){return!!this.isPlusAvailableInRegion()||this.hasPlus()},isTutorialCompleted:function(){var t=a();return!(!t||!t.plus||!t.plus.isTutorialCompleted&&!this.isVisited)},visited:function(){this.isVisited=!0},isVisited:!1}},function(t,e,i,n){t.exports=function(){var t=Mu.authData;return!!(t&&t.user&&t.user.adDisableable)}},function(t,e,i,n){t.exports=function(t,e){if(e=parseInt(e),t=t&&t.length?t[0].data:t,e){if(t.owner&&parseInt(t.owner.uid)===e)return!0;if((t.authors||[]).find((function(t){return t&&parseInt(t.uid)===e&&!t.banned})))return!0}return!1}},function(t,e,i,n){t.exports=i(124)},function(t,e,i,n){t.exports=function(t){return t&&/(?:[0-9a-f]+-){4}[0-9a-f]+/.test(t)}},function(t,e,i,n){t.exports=i(100)},function(t,e,i,n){t.exports=function(t){return"string"==typeof t?t.replace(/\s/gi," "):t}},function(t,e,i,n){t.exports=function(t){return t=void 0===t?"":t,(t=(t=JSON.stringify(t)).substring(1,t.length-1)).replace(/([/])/g,"\\$1")}},function(t,e,i,n){t.exports=function(t){var e=/(?:^|\/)#!\/?(.*)$/.exec(t);return e?"/"+e[1]:t}},function(t,e,i,n){t.exports=function(t){t=t.replace("#","");var e=parseInt(t,16);return 3===t.length?.2126*(e>>8&15)+.7152*(e>>4&15)+.0722*(e>>0&15)<8:.2126*(e>>16&255)+.7152*(e>>8&255)+.0722*(e>>0&255)<128}},function(t,e,i,n){e["../node_modules/music-ui/blocks/ads-block/ads-block.js"]=i(131),e["../node_modules/music-ui/blocks/api-debugger/api-debugger.js"]=i(132),e["../node_modules/music-ui/blocks/button-group/button-group.js"]=i(133),e["../node_modules/music-ui/blocks/button-radio-slider/button-radio-slider.js"]=i(134),e["../node_modules/music-ui/blocks/button-store/button-store.js"]=i(135),e["../node_modules/music-ui/blocks/d-addition/d-addition.js"]=i(136),e["../node_modules/music-ui/blocks/d-app-get-sms/d-app-get-sms.js"]=i(158),e["../node_modules/music-ui/blocks/d-button/d-button.js"]=i(146),e["../node_modules/music-ui/blocks/d-button/d-button_helper.js"]=i(145),e["../node_modules/music-ui/blocks/d-button-group/d-button-group.js"]=i(159),e["../node_modules/music-ui/blocks/d-button-store/d-button-store.js"]=i(160),e["../node_modules/music-ui/blocks/d-collapsable-description/d-collapsable-description.js"]=i(161),e["../node_modules/music-ui/blocks/d-copy/d-copy.js"]=i(163),e["../node_modules/music-ui/blocks/d-equalizer/d-equalizer.js"]=i(164),e["../node_modules/music-ui/blocks/d-input/d-input.js"]=i(148),e["../node_modules/music-ui/blocks/d-payment-show/d-payment-show.js"]=i(173),e["../node_modules/music-ui/blocks/d-select/d-select.js"]=i(174),e["../node_modules/music-ui/blocks/d-share/d-share.js"]=i(176),e["../node_modules/music-ui/blocks/d-share-popup/d-share-popup.js"]=i(186),e["../node_modules/music-ui/blocks/d-share-popup/d-share-popup_base.js"]=i(187),e["../node_modules/music-ui/blocks/d-slider/d-slider.js"]=i(194),e["../node_modules/music-ui/blocks/d-slider-vert/d-slider-vert.js"]=i(197),e["../node_modules/music-ui/blocks/d-submitable-input/d-submitable-input.js"]=i(198),e["../node_modules/music-ui/blocks/d-toggler/d-toggler.js"]=i(199),e["../node_modules/music-ui/blocks/d-tooltip/d-tooltip.js"]=i(200),e["../node_modules/music-ui/blocks/diagnostic/diagnostic.js"]=i(204),e["../node_modules/music-ui/blocks/lightlist/lightlist.js"]=i(205),e["../node_modules/music-ui/blocks/loading/loading.js"]=i(210),e["../node_modules/music-ui/blocks/log-in/log-in.js"]=i(211),e["../node_modules/music-ui/blocks/mbform/mbform.js"]=i(212),e["../node_modules/music-ui/blocks/mbform-wrapper/mbform-wrapper.js"]=i(216),e["../node_modules/music-ui/blocks/multi-auth/multi-auth.js"]=i(217),e["../node_modules/music-ui/blocks/pay-promo-popup/pay-promo-popup.js"]=i(234),e["../node_modules/music-ui/blocks/payment-popup-controller/payment-popup-controller.js"]=i(236),e["../node_modules/music-ui/blocks/plus-kids-popup/plus-kids-popup.js"]=i(237),e["../node_modules/music-ui/blocks/popup/popup.js"]=i(239),e["../node_modules/music-ui/blocks/settings-stream/settings-stream.js"]=i(240),e["../node_modules/music-ui/blocks/social-bind/social-bind.js"]=i(241),e["../node_modules/music-ui/blocks/speed/speed.js"]=i(242),e["../node_modules/music-ui/blocks/tooltip/tooltip.js"]=i(243),e["../node_modules/music-ui/blocks/volume/volume.js"]=i(244)},function(t,e,i,n){const a=i(25);Mu.blocks.register("ads-block",function(){let t,e,i,n,s,o;const r=function(){},l=function(t){this.node=t,this._blockId=Math.random()+":"+(new Date).valueOf()};return Mu.eventize(l),l.init=function(a){t=a.get("metrika"),i=a.get("blocks"),n=a.get("pages"),l.nav=a.get("navigation");try{if(e=a.get("seq"),l.Seq=e,!e)throw new Error("no seq")}catch(t){e=a.get("flow"),l.Seq=e}o=i.get("notify"),s=i.get("z-media"),l.loadContextJS(),l.on("adblock",(function(){t.count({adblocker:l.adblocker?"yes":"no"}),l.adblocker&&o.show("adblock")}))},l.prototype.init=function(){this.$cont=$(this.container),this.$adsBlockItem=this.$cont.children(".ads-block__item").eq(0),l.loadContextJS(),ya.music.user.readyPromise().then(this.initBlocks.bind(this)).catch(r)},l.prototype.initBlocks=function(){this._refresh=a.debounce(900,!0,this.refreshBlocks.bind(this)),this._refreshOnShowTrackEvent=()=>{window.isActiveTab&&this.data&&"sidebar-closed"===this.data.type&&(this._refresh(),this.autoRefreshAdv())},n.on("loaded",this._refresh),e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._refreshOnShowTrackEvent),!s||"sidebar"!==this.data.type&&"topblock"!==this.data.type||s&&s.on("sidebar",this._refresh),(!ya.music.user.isLogged()||!this.data.lazy)&&this._refresh(),this.data&&"sidebar-closed"===this.data.type&&this.autoRefreshAdv()},l.prototype.autoRefreshAdv=function(){this.refreshInterval&&clearInterval(this.refreshInterval),this.refreshInterval=setInterval(()=>{window.isActiveTab&&this.data&&"sidebar-closed"===this.data.type&&this._refresh()},36e5)},l.prototype.destroy=function(){this.undelegateAll(),n.off("loaded",this._refresh),e.off(Mu.PlayFlow.EVENT_SHOW_TRACK,this._refreshOnShowTrackEvent),s&&s.off("sidebar",this._refresh)},l.prototype.refreshBlocks=function(){if(!this.$cont.closest("body").length||$(".teaser-nonmusic").hasClass("teaser-nonmusic_visible"))return this.destroy();this.checkVisibility()&&this.data.settings&&this.data.settings.enabled&&this.loadContext()},l.loadContextJS=function(){return ya.music.getContext().then((function(){var t=ya.music.adbState(!0);l.adblocker!==t&&(l.adblocker=t,l.trigger("adblock"))}))},l.prototype.loadContext=function(){this.advType="common",l.loadContextJS().then(this.showContext.bind(this)).catch(r)},l.prototype.showContext=function(){if(this.antiAdbInit(),"common"!==this.advType)return;const t=this.getBlockId();this.renderAdvBlock(t)},l.prototype.getBlockId=function(){if(!Mu.experiments.advForTest){const t=l.adblocker?"adblocks":"blocks",e=187==Mu.settings.portalRegion||187==Mu.settings.region?"uk":"ru",i=this.data.settings&&this.data.settings[e]&&this.data.settings[e][t]||[];return Array.isArray(i)&&i.length>0?i[0]:i}switch(this.data.type){case"brick":case"topblock":return{blockId:"R-A-740891-1",blockIdPrefix:"yandex_rtb_R-A-740891-1"};case"sidebar-closed":return{blockId:"R-A-740891-2",blockIdPrefix:"yandex_rtb_R-A-740891-2"};default:throw new Error("Don't know type of advertise block")}},l.prototype.renderAdvBlock=function(t){let e,i;"string"==typeof t?(i=("R"===t[0]?"yandex_rtb":"yandex_direct")+"_"+t,e=t,this.$adsBlockItem.attr("id",i)):"object"==typeof t&&(i=t.blockIdPrefix,e=t.blockId,this.$adsBlockItem.attr("id",i));Ya.Context.AdvManager.render({blockId:e,renderTo:i,async:!0,onHide:()=>{this.antiAdbInit(),this.triggerEvent({type:"ads-block.hide"}),this.triggerEvent({type:"ads-block.update"})},onRender:()=>{this.antiAdbInit(),this.triggerEvent({type:"ads-block.show"}),this.triggerEvent({type:"ads-block.update"})},onError:()=>{this.$cont.hide()}},()=>{this.$cont.hide(),this.triggerEvent({type:"ads-block.no-ads",blockType:"bigBlock"})})},l.prototype.antiAdbInit=function(){l.adblocker&&!this._antiAdbInit&&(this._antiAdbInit=!0,ya.music.antiAdbWatch&&ya.music.antiAdbWatch(this.container))},l.prototype.checkVisibility=function(){return!s||("sidebar"!==this.data.type||s.sidebar)&&("topblock"!==this.data.type||!s.sidebar)},l}())},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("api-debugger",((r=function(t){if(o)return o;this.state=!1,this.__update=this.update.bind(this)}).init=function(t){a=t.get("player"),s=a.observer()},r.toggle=function(){if(!o){var t=$(Mu.render("api-debugger",{})).appendTo($(".page-root"));o=Mu.blocks.forElem(t[0],"api-debugger")}o.toggle()},r.prototype.init=function(t){this.$cont=$(this.container),this.$playerLog=this.$cont.find(".api-debugger__log_player"),this.$sourceLog=this.$cont.find(".api-debugger__log_source"),this.$audioLog=this.$cont.find(".api-debugger__log_audio"),this.$commonLog=this.$cont.find(".api-debugger__log_common")},r.prototype.toggle=function(){window.player=a,this.state?(this.state=!1,this.$cont.removeClass("api-debugger_visible"),this.onHide()):(this.state=!0,this.$cont.addClass("api-debugger_visible"),this.onShow())},r.prototype.update=function(){try{var t=s.show();this.$playerLog.text(JSON.stringify({player:t.player},!0,2)),this.$sourceLog.text(JSON.stringify({source:t.source},!0,2)),this.$audioLog.text(JSON.stringify({audio:t.audio},!0,2)),this.$commonLog.text(JSON.stringify({user:t.user,settings:t.settings},!0,2))}catch(t){}},r.prototype.onShow=function(){this.interval=setInterval(this.__update,30),this.update()},r.prototype.onHide=function(){this.interval=this.interval&&clearInterval(this.interval)},r))},function(t,e,i,n){var a;Mu.blocks.register("button-group",((a=function(){}).init=function(t){this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target).closest(".button");1===i.length&&(e.$selectedButton=i,e.onChange(t))}))},a.prototype.init=function(){this.$cont=$(this.container),this.$buttons=this.$cont.find(".button"),this.$selectedButton=this.$buttons.filter(".button_checked")},a.prototype.onChange=function(t){this.$buttons.toggleClass("button_checked",!1),this.$selectedButton.toggleClass("button_checked",!0),this.triggerEvent({type:"group.change",value:this.getValue(),param:this.data.param})},a.prototype.getValue=function(){return this.$selectedButton.val()},a.prototype.setValue=function(t){this.$buttons.toggleClass("button_checked",!1),this.$selectedButton=this.$buttons.filter(".button[value="+t+"]"),this.$selectedButton.toggleClass("button_checked",!0)},a))},function(t,e,i,n){Mu.blocks.register("button-radio-slider",function(){var t,e=function(){};return e.init=function(e){t=e.get("blocks"),this.domDelegate("click",(function(e){var i=t.forElem(this);if(!i.isShown){i.isShown=!0;var n,a=$(e.target).closest(".button-radio-slider__item");a.toggleClass("init",!0);for(var s=0;s<i.$items.length;s++)-1!==i.$items[s].className.indexOf(" init")&&(a.toggleClass("init",!1),i.clickItem(s)),$(i.$items[s]).on("click",(n=s,i.clickItem.bind(i,n)))}}))},e.prototype.init=function(){this.$cont=$(this.container),this.selector=this.$cont.find(".button-radio-slider__selector")[0],this.$items=this.$cont.find(".button-radio-slider__item"),this.selected=this.getSelected()},e.prototype.getSelected=function(){return this.$cont.find(".active")[0]},e.prototype.clickItem=function(t){this.selected!==this.$items[t]&&(this.setActive(t),this.changeSetting(t))},e.prototype.setActive=function(t){$(this.selected).removeClass("active"),$(this.$items[t]).addClass("active"),this.selected=this.getSelected(),this.selector.style.transform=t?"translateX("+1*t+"00%)":""},e.prototype.changeSetting=function(t){this.triggerEvent({type:"button-radio-slider.change",value:this.$items[t].getAttribute("data-value"),param:this.data.name})},e}())},function(t,e,i,n){var a,s;Mu.blocks.register("button-store",((s=function(){}).init=function(t){a=t.get("metrika"),this.domDelegate("click",(function(t){Mu.blocks.forElem(this).onClick(t)}))},s.prototype.onClick=function(t){this.data.goal&&a.goal(this.data.goal)},s))},function(t,e,i,n){const a=i(26),s=i(137),o=i(157),r=i(102);Mu.blocks.register("d-addition",function(){let t,e,i,n,l,c,d,u,p,h;const _=function(){Mu.eventize(this)};return _.init=function(a){t=a.get("seq"),e=a.get("fav"),i=a.get("auth"),n=a.get("froms"),l=a.get("blocks").get("notify"),c=a.get("dataSrc"),d=a.get("metrika"),u=a.get("library"),p=a.get("adapter"),this.domDelegate("click",(function(t){if($(t.target).is(".d-addition__opener")){Mu.blocks.forElem(this).onClick()}}))},_.prototype.init=function(){const t=this;t.helper=new o(t),t.$body=$("body"),t.$cont=$(t.container),t.$buttonOpen=t.$cont.find(".d-addition__opener"),t.$buttonOpen.size()&&(t.buttonOpen=Mu.blocks.forElem(t.$buttonOpen.get(0),"d-button"),t.takeEntries().then((function(e){t.hasTracks=e&&e.tracks&&e.tracks.length>0,t.hasAvailableTracks=e&&e.tracks.filter(t.helper.filterTrackForPlay).length>0,t.buttonOpen.toggleDisabled(!t.hasTracks),t.popup&&t.popup.updateVisibilities()}))),t.on("popupShow",(function(){t.$cont.addClass("d-addition_opened"),t.buttonOpen&&t.buttonOpen.toggleActive(!0)})),t.on("popupHide",(function(){t.$cont.removeClass("d-addition_opened"),t.buttonOpen&&t.buttonOpen.toggleActive(!1)}))},_.prototype.show=function(){this.popup=this.getPopup(),this.popup&&this.popup.show()},_.prototype.hide=function(){this.popup=this.getPopup(),this.popup&&this.popup.hide()},_.prototype.toggle=function(){this.popup=this.getPopup(),this.popup&&this.popup.popup&&(this.popup.popup.isOpen?this.popup.hide():this.popup.show())},_.prototype.onClick=function(){const t=this;if(!t.data.inline){const e=t.$cont.closest(".bar"),i=t.$cont.closest(".d-track"),n=t.$cont.closest(".popup-sequence"),a=this.$cont.closest(".d-suggest");let s,o;o=e.length>0?e:n.length>0?n:a.length>0?$("body"):t.$cont.parent();const{tooltip:r}=t.data,l={track:i18n("d-addition","[feature/fix-mts-tooltip-style-and-text]трек"),album:i18n("d-addition","[feature/fix-mts-tooltip-style-and-text]треки из этого альбома"),playlist:i18n("d-addition","[feature/fix-mts-tooltip-style-and-text]треки из этого плейлиста")}[t.data.playlist?"playlist":t.data.album?"album":"track"];t.tooltip=Mu.blocks.get("d-tooltip").getTooltip(t.$buttonOpen,{class:"tooltip-log-in-for-adding-track",container:o,type:"notice",theme:r&&r.theme||"black",agreeBtnClass:r&&r.agreeBtnClass||"",side:i.length>0?"left":n.length>0?"bottom":"right",withMinWidth:!0,agreeLabel:i18n("log-in","Войти"),content:i18n("d-addition","[feature/fix-mts-tooltip-style-and-text]Войдите, чтобы добавить %1 в свой плейлист",l),onBeforeShow(){i.length>0&&!s&&(s=Mu.blocks.forElem(i.get(0),"d-track"))},onShow(t,e){d.count({authPopupShown:{addToPlaylist:1}}),e.popup.position(),s&&s.setActive(!0)},onHide(){s&&s.setActive(!1)},onAgree(){d.count({authPopupButtonClick:{addToPlaylist:1}}),t.showAuthForm((function(){}),"addtoplaylist_popup")}}),!t.isLoggedIn()&&t.tooltip?t.tooltip.toggle():t.toggle()}},_.prototype.getPopup=function(){const t=this;return t.data.inline?t.popup||(t.popup=new s(t)):(h?t.$cont.is(h.addition.$cont)||(h.hide(),h.setBlock(t)):h=new s(t),t.popup=h),t.popup},_.prototype.isRadioInPlayer=function(){return p.isRadio()},_.prototype.isGenerativeInPlayer=function(){return t.isGenerative()},_.prototype.isLoggedIn=function(...t){return i.isLoggedIn.apply(i,...t)},_.prototype.showAuthForm=function(...t){return i.showAuthForm.apply(i,...t)},_.prototype.loadPlaylists=function(t){const e=this;return e.isLoggedIn()?(t=Object.assign({},e.getRequestParams(),t),e._lastLoadingPromise=c.get("playlists",t,{nocache:!0}).then((function(i){e._lastRequestParams=t;const n=(i.playlists||[]).concat(i.collectivePlaylists||[]);0===t.page?(e._playlists=n,delete e._collectAllPlaylistsPromise):e._playlists=e._playlists.concat(n),e._playlists.map((function(t,e){return t.itemIndex=e,t})),e.popup||(e.popup=e.getPopup()),e.popup.refreshPopupContent(e._playlists),n.length>0&&i.playlistIds&&i.playlistIds.length>=e.getPageSize()*(t.page+1)?e._loadingIsLocked=!1:delete e._lastLoadingPromise}),(function(){e.hide(),e._loadingIsLocked=!0}))):(e._lastLoadingPromise=Promise.resolve(),e._playlists=[],e._loadingIsLocked=!0),e._lastLoadingPromise},_.prototype.loadPlaylistsNextPage=function(){const t=this;if(!t._loadingIsLocked){t._loadingIsLocked=!0;const e=Object.assign({},t.getRequestParams(),t._lastRequestParams);return e.page+=1,t.loadPlaylists(e)}return t._lastLoadingPromise?t._lastLoadingPromise:Promise.reject({error:"Without request"})},_.prototype.collectAllPlaylists=function(){const t=this;if(!t._collectAllPlaylistsPromise){const e=new a;t._collectAllPlaylistsPromise=e.promise();const i=function(){t.loadPlaylistsNextPage().then(i.bind(t),e.resolve)};i()}return t._collectAllPlaylistsPromise},_.prototype.getPageSize=function(){return this.data.entry&&this.data.entry.track&&this.data.entry.track.id?500:2e3},_.prototype.getRequestParams=function(){const{entry:t}=this.data,e={owner:i.user.login,page:0},n=t&&t.track&&t.track.id;return n&&(e.trackId=n),e},_.prototype.addToPlaylist=function(t){const e=this;if(t&&3===parseInt(t.kind,10))return e.addToLibrary();const a=n.getBlockName(e.data),s=n.getBlockFrom(e.container,a);return e.takeEntries().then((function(n){let a=!1;if(n&&n.tracks&&n.tracks.length>0){const o=n.tracks.map(e.helper.mapTrack),r={diff:[{op:"insert",at:i.isLoggedIn()&&i.user.settings.addNewTrackOnPlaylistTop?0:t.trackCount,tracks:o}],from:s,type:"podcast-episode"===n.tracks[0].type?"podcast":"track"};u.patchPlaylist(t,r),d.goal("AddToPlaylist"),e.trigger("addedToPlaylist",{target:e,playlist:t});try{Mu&&Mu.gtag&&Mu.gtag.addToPlaylist()}catch(t){}a=!0}return e.popup&&e.popup.hide(),a})).then(e.helper.additionHandler)},_.prototype.addToLibrary=function(){const t=this;if(!t.isLoggedIn())return l&&l.show("authRequired");const i=n.getBlockName(t.data),a=n.getCardFrom(t.container,i),s=n.getBlockFrom(t.container,i);return t.takeEntries().then((function(i){if(i&&i.tracks&&i.tracks.length>0){let n;switch(i.type){case"album":case"playlist":case"entry":case"entries":n={from:s,entries:i.tracks.map(t.helper.mapTrackWrap)};break;default:n=Object.assign({from:s},i)}return e.toggle(n,!0),d.goal("LIKE",{likeFrom:a}),t.trigger("addToLibrary",{target:t,item:n}),t.popup&&t.popup.hide(),!0}return!1})).then(t.helper.additionHandler)},_.prototype.addToSeq=function(){const e=this,i=n.getBlockName(e.data),a=n.getBlockFrom(e.container,i);return e.takeEntries().then((function(i){if(i&&i.tracks&&i.tracks.length>0){const o={shortTitle:"",title:"",href:"",from:a};var n=i.tracks.slice(),s=e.data.album;let c;s&&r(s.type)&&"asc"===s.dir&&n.reverse(),t.addEntries(n.map(e.helper.mapTrackWrap),o),d.goal("AddToSeq"),e.trigger("addedToSeq",{target:e});const u=i.type;if("tracks"===u||"entries"===u||"playlist"===u)c="playlist";else if("album"===u)switch(s.type){case"audiobook":c=s.type;break;case"fairy-tale":c="fairytale";break;case"podcast":case"poetry":c="podcast";break;default:c="album"}else c=n&&n[0]&&"podcast-episode"===n[0].type?"episode":"track";return l&&l.show(c+"AddedToSeq"),e.popup&&e.popup.hide(),!0}return!1})).then(e.helper.additionHandler)},_.prototype.addToNewPlaylist=function(t){const e=new a;return(t=(t||"").trim())?c.changePlaylist("add",{title:t}).then(t=>{const{playlist:i}=t;i&&this.addToPlaylist(i).then(e.resolve)}):e.resolve(!1).then(this.helper.additionHandler),e.promise()},_.prototype.takeEntries=function(t){const e=this,i=new a,n={};if((t=t||e.data).tracks)n.type="tracks",n.tracks=e.helper.expectArray(t.tracks),i.resolve(n);else if(t.entry||t.entries){t.entry&&"podcast-episode"===t.entry.type?n.type="podcast-episode":n.type=t.entry?"entry":"entries";const a=e.helper.expectArray(t.entry||t.entries);n.tracks=a.map(e.helper.mapTrackUnwrap).map(e.helper.mapTrackEntry),i.resolve(n)}else t.album?(n.type="album",e.helper.isAllTracksPreloaded(t.album)?(t.album.tracks?n.tracks=t.album.tracks:(n.tracks=[],t.album.volumes.forEach((function(t){n.tracks=n.tracks.concat(t)})),t.album.tracks=n.tracks),i.resolve(n)):e.getAlbum(t,(function(e){t.album.tracks=e,n.tracks=e,i.resolve(n)}))):t.playlist?(n.type="playlist",e.helper.isAllTracksPreloaded(t.playlist)?(n.tracks=t.playlist.tracks,i.resolve(n)):e.getPlaylist(t,(function(e){t.playlist.tracks=e,n.tracks=e,i.resolve(n)}))):(n.type="something",n.tracks=t&&t.tracks||[],i.resolve(n));return i.promise()},_.prototype.getPlaylist=function(t,e){const i=this;c.get("playlist",{kinds:t.playlist.kind,owner:t.playlist.owner&&t.playlist.owner.login}).then((function(t){const n=t.playlist.tracks.filter(i.helper.filterTrackForAdd);e(n)}))},_.prototype.getAlbum=function(t,e){const i=this;c.get("album",{album:t.album.id}).then((function(t){let n=Array.prototype.concat.apply([],t.volumes);n=n.filter(i.helper.filterTrackForAdd),e(n)}))},_}())},function(t,e,i,n){const a=i(138),s=i(150),o=i(25),r=()=>{},l=function(t){const e=this;return e.setBlock(t),e.popup=e.getPopup(),e.$cont=e.popup.$cont,e.$input=e.$cont.find(".d-addition__input"),e.$buttonCreate=e.$cont.find(".d-addition__button_create"),e.$popupContent=e.$cont.find(".d-addition__content"),e.$actionsTop=e.$cont.find(".d-addition__actions_top"),e.$actionsBottom=e.$cont.find(".d-addition__actions_bottom"),e.input=Mu.blocks.forElem(e.$input.get(0),"d-input"),e.buttonCreate=Mu.blocks.forElem(e.$buttonCreate.get(0),"d-button"),e.onScroll=o.throttle(500,!0,e.onScroll.bind(e)),e.input.on("keyup",(function(t){e.onInputChange(t)})),e.$cont.on("click",".d-addition__item",(function(t){e.onItemClick(t)})),e.$cont.on("click",".d-addition__button_create",(function(){e.onCreatePlaylistClick()})),e.$cont.on("click",".d-addition__show-auth",(function(){e.addition.showAuthForm((function(){}),"addtoplaylist")})),e.$popupContent.on("scroll",e.onScroll),e.popupPreparing(),e};l.prototype.show=function(){this.popup&&this.popup.show()},l.prototype.hide=function(){const t=this;t.popup&&t.popup.isOpen&&t.popup.hide()},l.prototype.setBlock=function(t){this.addition=t,this.popupPreparing()},l.prototype.popupPreparing=function(){const t=this;t.popup&&(t.popup.setOptions(t.getSettings()),t.updateVisibilities())},l.prototype.getPopup=function(){const t=this;let e;if(t.addition.data.inline)return e=t.addition.$cont.find(".d-addition__popup"),Mu.blocks.initPendingBlocks(e),{$cont:e,show(){t.addition.trigger("popupShow")},hide(){t.input.value(""),t.addition.trigger("popupHide")},isOpen:!0,setOptions:r};e=$(a(t.addition.data)),t.addition.$body.append(e);const i=new(Mu.blocks.get("popup"))(e,t.getSettings());return Mu.blocks.initPendingBlocks(e),i.on("beforeshow",(function(){t.updatePosition()})),i.on("show",(function(){t.updateVisibilities(),i.position(),t.addition.loadPlaylists(),t.addition.trigger("popupShow")})),i.on("hide",(function(){t.refreshPopupContent(),t.input.value(""),t.input.toggleActive(!1),t.addition.trigger("popupHide")})),i},l.prototype.getSettings=function(t){const e=this,i={fixed:!1,resize:!0,toggable:!0,position:{my:"center top+5",at:"center bottom",of:e.addition.$cont}},n=Object.assign(i,e.addition.data.popup);if(n.position.of||(n.position.of=e.addition.$cont),t){const t=function(t){return t.replace(/[+-]/g,(function(t){return"+"===t?"-":"+"}))},e=n.position.at;n.position.at=t(n.position.my),n.position.my=t(e)}return n},l.prototype.updatePosition=function(){const t=this;t.popup.position();const e=$(".bar"),i=$(window),n=t.addition.$cont;n.offset().top-$(window).scrollTop()+n.height()/2>(i.outerHeight()-e.outerHeight())/2===t.popup.$cont.offset().top>n.offset().top+n.outerHeight()&&t.popup.setOptions(t.getSettings(!0))},l.prototype.updateVisibilities=function(){this.popup&&this.popup.$cont.toggleClass("d-addition__popup_unauth",!this.addition.isLoggedIn()),this.toggleSeqVisibility(!(this.addition.data.hideSeq||!this.addition.hasAvailableTracks||this.addition.isRadioInPlayer()||this.addition.isGenerativeInPlayer())),this.$cont.toggleClass("d-addition__popup_under-player",!this.addition.data.topmost)},l.prototype.onScroll=function(){const t=this,e=t.$popupContent.find(".d-addition__item").outerHeight(),i=t.$popupContent.children().outerHeight()-t.$popupContent.outerHeight()-t.$popupContent.scrollTop()<=e*Math.floor(t.addition.getPageSize()/10);!t.addition._loadingIsLocked&&t.addition._playlists&&i&&t.addition.loadPlaylistsNextPage()},l.prototype.onInputChange=function(t){const e=this;if(13===t.which)return void e.onCreatePlaylistClick();let i=e.input.value();const n=i.trimLeft();i.length>n.length&&e.input.value(n),i.length>36&&(i=i.slice(0,36),e.input.value(i)),i=e.input.value().trim(),e.buttonCreate.toggleDisabled(!i),e.filterPlaylists(i)},l.prototype.onCreatePlaylistClick=function(){this.addition.addToNewPlaylist(this.input.value())},l.prototype.toggleSeqVisibility=function(t){t=void 0!==t?t:!this.$actionsTop.hasClass("_hidden"),this.$actionsTop.toggleClass("_hidden",!t)},l.prototype.refreshPopupContent=function(t){t=!!Array.isArray(t)&&t;const e=this.$popupContent.scrollTop(),i=$(s(Object.assign(this.addition.data,{playlists:t})));this.$popupContent.html(i.html()),this.$popupContent.scrollTop(e)},l.prototype.onItemClick=function(t){const e=this,i=$(t.target).closest(".d-addition__item"),n=i.attr("data-index"),a=i.is(".d-addition__item_forth");if(e.addition.trigger("itemClick"),a)e.addition.addToSeq();else{const t=e.addition._playlists[n];t&&e.addition.addToPlaylist(t)}},l.prototype.filterPlaylists=function(t){const e=this;if(e._filterText=t,!e._filterProcessed){e._filterProcessed=!0;const t=function(){delete e._filterProcessed,delete e._filterText},i=function(){if(e.addition._playlists&&e.addition._playlists.length>0){const t=e.addition._playlists.filter((function(t){return t.title&&t.title.toLowerCase().includes(e._filterText.toLowerCase())}));e.refreshPopupContent(t)}t()};e.addition.collectAllPlaylists().then(i,t)}},t.exports=l},function(t,e,i,n){t.exports=function(){var t=i(139),e=i(143),n=i(149),a=i(150);return function(i){return'<div class="d-addition__popup '+__escape(i.classPopup?i.classPopup:"")+' deco-popup-menu"><div class="d-addition__actions d-addition__actions_top deco-popup-menu__item-group">'+n({type:"forth",icon:"playlist-next",text:i18n("d-addition","Добавить в очередь")})+"</div>"+a(i)+'<div class="d-addition__actions d-addition__actions_bottom deco-popup-menu__item-group"><div class="d-addition__actions-visible">'+t.render({size:"M",class:"d-addition__input deco-popup-menu__input",placeholder:i18n("d-addition","Создать или найти плейлист")})+e.render({size:"M",type:"action",disabled:!0,class:"d-addition__button d-addition__button_create _hidden",text:i18n("d-addition","Создать плейлист")})+"</div> </div></div>"}}()},function(t,e,i,n){var a={render:i(140)};clientSide&&(a.controller=i(148)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(141),e=i(143),n=i(147);return function(i){var a='<div class="d-input deco-input-wrapper '+__escape(n.classes(i))+'"data-b="'+__escape(Mu.dotBlockRoot(i,"d-input",!0))+'">';return i.iconLeft&&(a+=t.render({icon:i.iconLeft,class:"d-input__icon-left"})),i.buttonLeft&&i.suggest?a+=e.render({type:"flat",icon:"loupe",class:"suggest-button suggest-button_left",attrs:{tabindex:"2",type:"submit"}}):i.buttonRight&&i.suggest&&(a+=e.render({type:"flat",icon:"loupe",class:"suggest-button suggest-button_right",attrs:{tabindex:"2",type:"submit"}})),i.multiline?(a+='<textarea class="'+__escape(n.innerClasses(i))+'" ',i.placeholder&&(a+=' placeholder="'+__escape(i.placeholder)+'"'),a+=" ",i.readonly&&(a+=" readonly"),a+=" ",i.disabled&&(a+=" disabled"),a+=">"+__escape(i.value||"")+"</textarea>"):(a+='<input type="'+__escape(i.password?"password":"text")+'" class="'+__escape(n.innerClasses(i))+'" ',i.readonly&&(a+=" readonly"),a+=" ",i.disabled&&(a+=" disabled"),a+=" ",i.placeholder&&(a+=' placeholder="'+__escape(i.placeholder)+'"'),a+=" ",i.value&&(a+=' value="'+__escape(i.value)+'"'),a+=" ",i.maxlength&&(a+=' maxlength="'+__escape(i.maxlength)+'"'),a+=" ",i.name&&(a+=' name="'+__escape(i.name)+'"'),a+=" ",i.chars&&(a+=' data-chars="'+__escape(i.chars)+'"'),a+=" ",i.pattern&&(a+=' pattern="'+__escape(i.pattern)+'"'),a+="/>"),i.hasClear?a+=e.render({type:"flat",size:"S",icon:"cross-small",class:"d-input__clear"}):i.iconRight&&(a+=t.render({icon:i.iconRight,class:"d-input__icon-right"})),i.suggest||(a+='<div class="d-input__tip deco-input__tip"></div>'),a+="</div>"}}()},function(t,e,i,n){var a={render:i(142)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e='<span class="d-icon'+__escape(t.noDeco?"":" deco-icon")+" d-icon_"+__escape(t.icon)+" ";return t.rotate&&(e+="d-icon_rotate-"+__escape(t.rotate)),e+=" ",t.class&&(e+=t.class),e+='"',t.title&&(e+=' title="'+__escape(t.title)+'"'),e+="></span>"}},function(t,e,i,n){var a={render:i(144)};clientSide&&(a.controller=i(146)),t.exports=a},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(141),s=i(145),o=function(t){var e='<span class="d-button-inner deco-button-stylable"><span class="d-button__inner">';return"right"===t.iconPosition?e+=r(t)+l(t):e+=l(t)+r(t),e+="</span></span>"},r=function(t){var e="";return t.text&&(e+="<"+(t.seoTag||"span")+' class="d-button__label">'+t.text+"</"+(t.seoTag||"span")+">"),t.additionalText&&(e+='<span class="d-button__sublabel">'+__escape(t.additionalText)+"</span>"),e},l=function(t){var e="";return t.icon&&(e+=a.render({icon:t.icon,rotate:t.iconRotation})),e},function(t){var e="",i=s.buttonClass(t),n=s.buttonAtrrs(t);return t.href||t.use_link?(e+='<a class="'+__escape(i)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-button"))+'" '+n+" ",t.href&&(e+="href="+__escape(t.href)),e+=" ",t.href&&!t.opener&&"_blank"===t.target&&(e+='rel="noopener"'),e+=" ",t.target&&(e+="target="+__escape(t.target)),e+=">"+o(t)+"</a>"):t.not_handled?e+='<span class="'+__escape(i)+'" '+n+">"+o(t)+"</span>":(e+='<button class="'+__escape(i)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-button"))+'" ',t.disabled&&(e+='disabled="disabled"'),e+=" "+n+">"+o(t)+"</button>"),e})},function(t,e,i,n){var a=i(108);t.exports={buttonClass:function(t){var e=["d-button","deco-button"];return"action"===t.type?(e.push("deco-button-action"),t.disabled||e.push("local-icon-theme-"+a.current().get("actionIcons"))):"caution"===t.type?(e.push("deco-button-caution"),e.push("local-icon-theme-"+a.theme("black").get("icons"))):"gray"===t.type?e.push("deco-button-gray"):"rainbow"===t.type?e.push("deco-button-rainbow"):"flat"===t.type?(e.push("deco-button-flat"),e.push("d-button_type_flat")):"solid-flat"===t.type?(e.push("deco-button-solid-flat"),e.push("d-button_type_solid-flat")):"borderless"===t.type?(e.push("deco-button-borderless"),e.push("d-button_type_borderless")):"grouped"===t.type?(e.push("deco-button-grouped"),e.push("d-button_type_grouped")):"overlay"===t.type?(e.push("deco-button-overlay"),e.push("local-icon-theme-"+a.theme("black").get("icons"))):"transparent"===t.type?e.push("deco-button-transparent"):"half-transparent"===t.type?e.push("deco-button-half-transparent"):"colored-flat"===t.type?(e.push("deco-button-colored-flat"),e.push("d-button_type_colored-flat")):"shadowed"===t.type?(e.push("deco-button-shadowed"),e.push("d-button_type_shadowed")):"slider-control"===t.type&&(e.push("deco-button-slider-control"),e.push("d-button_type_slider-control")),t.additionalText&&e.push("d-button_with-sublabel"),t.rounded&&e.push("d-button_rounded"),t.size&&e.push("d-button_size_"+t.size),t.icon&&(e.push("d-button_w-icon"),t.text?"right"===t.iconPosition?e.push("d-button_w-icon-right"):e.push("d-button_w-icon-left"):e.push("d-button_w-icon-centered")),t.active&&e.push("active"),t.disabled&&e.push("disabled"),t.class&&e.push(t.class),e.join(" ")},buttonAtrrs:function(t){var e=[];for(var i in t.attrs=t.attrs||{},t.attrs.type||(t.attrs.type="button"),t.attrs)t.attrs.hasOwnProperty(i)&&e.push(" "+i+'="'+__escape(t.attrs[i])+'"');return e.join(" ")}}},function(t,e,i,n){var a;Mu.blocks.register("d-button",((a=function(){Mu.eventize(this)}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",this.onClick.bind(this))},a.prototype.onClick=function(t){this.trigger("click",this,t)},a.prototype.toggleDisabled=function(t){t!==this._disabled&&(this._disabled=void 0===t?!this._disabled:!!t,this.$cont.toggleClass("disabled",this._disabled),this.$cont.toggleClass("deco-button_disabled",this._disabled),this._disabled?this.$cont.attr("disabled","disabled"):this.$cont.removeAttr("disabled"),this.trigger("disable",this._disabled))},a.prototype.toggleActive=function(t){this._disabled||(this._active=void 0===t?!this._active:!!t,this.$cont.toggleClass("active",this._disabled),this.$cont.toggleClass("deco-button_active",this._active),this.trigger("active",this._active))},a.prototype.isDisabled=function(){return!!this._disabled},a.prototype.isActive=function(){return!!this._active},a))},function(t,e,i,n){t.exports={classes:function(t){var e=["d-input_size-"+(t.size||"L")];return["disabled","password","multiline","readonly","suggest","wide","rounded"].forEach((function(i){t[i]&&e.push("d-input_"+i),"suggest"===i&&t[i]&&e.push("deco-input-wrapper_suggest")})),"transparent"===t.style&&e.push("d-input_transparent"),t.hasClear&&e.push("d-input_has-clear"),t.iconLeft&&e.push("d-input_icon-left"),t.iconRight&&!t.hasClear&&e.push("d-input_icon-right"),t.class&&e.push(t.class),e.join(" ")},innerClasses:function(t){var e=["d-input__field deco-input","d-input__field_size-"+(t["field-size"]||"M")];return t.disabled&&e.push("deco-input_disabled"),t.suggest&&e.push("deco-input_suggest"),"transparent"===t.style&&e.push("deco-input_transparent"),e.join(" ")}}},function(t,e,i,n){var a;Mu.blocks.register("d-input",((a=function(){Mu.eventize(this)}).init=function(){},a.prototype.init=function(){this._disabled=!!this.data.disabled,this._readonly=!!this.data.readonly,this._checkDirection=!!this.data.checkDirection,this._active=!1,this.$cont=$(this.container),this.$field=this.$cont.find(".d-input__field"),this.$tip=this.$cont.find(".d-input__tip"),this.$clear=this.$cont.find(".d-input__clear"),this.$field.on("change",this._onChange.bind(this)),this.$field.on("keyup",this._onKeyUp.bind(this)),this.$field.on("keydown",this._onKeyDown.bind(this)),this.$field.on("input",this._onInput.bind(this)),this.$field.on("click",function(t){this.focus(),this._onFocus(t)}.bind(this)),this.$field.on("blur",this._onBlur.bind(this)),this.$clear.on("mousedown",this._onClear.bind(this)),this.data.chars&&this.$field.on("keypress",this._onBeforeChange.bind(this)),document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this))},a.prototype._onBeforeChange=function(t){var e=t.charCode||t.which,i=0!==e&&8!==e;if(13!==e){var n=String.fromCharCode(e);(i&&!this.data.chars.test(n)||this.data.maxlength&&this.value().length>=this.data.maxlength)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())}},a.prototype._onChange=function(t){this.trigger("change",t,this.value()),this.data.autoValidate?this.validate():(this.toggleValid(),this.hideTip())},a.prototype._onKeyUp=function(t){this._checkRTL(),this.trigger("keyup",t,this.value())},a.prototype._onInput=function(t){this._checkRTL(),this.trigger("input",t,this.value())},a.prototype._checkRTL=function(){this._checkDirection&&(/^[\u0590-\u05FF]+/i.test(this.$field.val())?(this.$field.attr("dir","rtl"),this.$cont.addClass("d-input_align-right")):(this.$field.removeAttr("dir"),this.$cont.removeClass("d-input_align-right")))},a.prototype._onKeyDown=function(t){this.trigger("keydown",t,this.value())},a.prototype._onFocus=function(t){this.trigger("focus",t,this),this.toggleClear(),this.toggleActive(!0,!0)},a.prototype._onBlur=function(t){this.trigger("blur",t,this),this.toggleClear(!1),this.toggleActive(!1,!0)},a.prototype._onClear=function(){this.value(""),this.trigger("clear")},a.prototype.onVisibilityChange=function(){document.hidden&&this.toggleActive(!1,!1)},a.prototype.toggleActive=function(t,e){var i=this.$field.is(":focus");this._active=void 0!==t?!!t:!i,e?this._active?this.toggleClear():this.toggleClear(!1):this._active?this.$field.focus():this.$field.blur(),this.$cont.toggleClass("d-input_active",this._active),this.$field.toggleClass("focus",this._active)},a.prototype.toggleClear=function(t){(t=void 0!==t?!!t:this.$field.val())&&this._active?this.$clear.show():this.$clear.hide()},a.prototype.toggleDisabled=function(t){t!==this._disabled&&(this._disabled=null==t?!this._disabled:!!t,this.$cont.toggleClass("d-input_disabled",this._disabled),this.$field.toggleClass("deco-input_disabled",this._disabled),this._disabled?(this.$field.attr("disabled","disabled"),this.toggleActive(!1)):this.$field.removeAttr("disabled"),this.trigger("disable",this._disabled))},a.prototype.toggleReadonly=function(t){t!==this._readonly&&(this._readonly=null==t?!this._readonly:!!t,this.$cont.toggleClass("d-input_readonly",this._readonly),this._readonly?this.$field.attr("readonly","readonly"):this.$field.removeAttr("readonly"),this.trigger("readonly",this._readonly))},a.prototype.value=function(t){var e=void 0===t?this.$field.val():this.$field.val(t).val();return this.toggleClear(e),this._checkRTL(),e},a.prototype.validate=function(){var t=this.value(),e=this.data.pattern.test(t);return this.toggleValid(e),e},a.prototype.focus=function(){this.$field.focus()},a.prototype.toggleValid=function(t){var e=!1,i=!1;this.hideTip(),!0===t?e=!0:!1===t&&(i=!0),this.$cont.toggleClass("d-input_success",e),this.$cont.toggleClass("deco-input-wrapper_success",e),e&&this.data.tipSuccess&&this.showTip(this.data.tipSuccess),this.$cont.toggleClass("d-input_fail",i),this.$cont.toggleClass("deco-input-wrapper_fail",i),i&&this.data.tipFail&&this.showTip(this.data.tipFail),(e||i)&&this.trigger("validate",e)},a.prototype.showTip=function(t){this.$cont.addClass("d-input_tip"),this.$tip.text(t),this.trigger("tip",t)},a.prototype.hideTip=function(){this.$cont.removeClass("d-input_tip"),this.trigger("tip",null)},a.prototype.setTipFail=function(t){""!==t&&(this.data.tipFail=t)},a.prototype.setPlaceholder=function(t){t?this.$field.attr("placeholder",t):this.$field.removeAttr("placeholder")},a))},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){var e="",i=[];t.playlist&&i.push("d-addition__item_playlist"),t.type&&i.push("d-addition__item_"+t.type);var n=t.icon;!n&&t.playlist&&(n="plus-big");var s=t.text;return!s&&t.playlist&&(s=t.playlist.title),e+='<div class="d-addition__item deco-popup-menu__item '+__escape(i.join(" "))+'" '+__escape(t.playlist?"data-index="+t.playlist.itemIndex:"")+" >"+a.render({size:"M",icon:n,class:"d-addition__item-icon deco-popup-menu__item-icon"}),t.playlist&&t.playlist.containsTrack&&(e+=a.render({size:"M",icon:"checkmark",class:"d-addition__item-icon d-addition__item-icon_no-hover deco-popup-menu__item-icon deco-popup-menu__item-icon_inactive"})),e+='<span class="d-addition__item-text deco-popup-menu__item-text typo-track" title="'+__escape(s)+'">'+__escape(s)+"</span></div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(149),function(t){var e='<div class="d-addition__content"><div class="d-addition__notice d-addition__notice_auth typo-secondary">'+i18n("d-addition","Чтобы добавлять треки в плейлисты, нужно %1",a.render({text:i18n("d-addition","авторизоваться"),style:"marked",class:"d-addition__show-auth"}))+"</div>";if((t.entry||t.entries)&&t.playlists&&(e+='<div class="d-addition__notice typo-secondary">'+__escape(i18n("d-addition","Добавить в плейлист"))+"</div>"),t.playlists){e+='<div class="d-addition__playlists">';for(var i,n=0;n<t.playlists.length;n++)i=t.playlists[n],e+=s({playlist:i});e+=" </div> "}else e+=' <div class="d-addition__preloader"> '+Mu.render("spinner",{})+" </div> ";return e+="</div>"})},function(t,e,i,n){var a={render:i(152)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(141),s=i(153),o=function(t,e){var i='class="'+__escape(e.join(" "))+'"';return t.asBlock&&(i+=' data-b="'+__escape(Mu.dotBlockRoot(t,"d-link"))+'"'),t.target&&t.href&&(i+=' target="'+__escape(t.target)+'"'),!t.opener&&"_blank"===t.target&&t.href&&(i+=' rel="noopener"'),t.title&&t.href&&(i+=' title="'+__escape(t.title)+'"'),i},r=function(t){var e="";return t.icon&&(e+=a.render({icon:t.icon})),t.flag&&(e+=s.render(t.flag)),t.content?e+=t.content:e+=__escape(t.text),e},function(t){var e="",i=["d-link","deco-link"];return t.class&&i.push(t.class),t.href&&t.notHandled&&i.push("not-handled"),t.arrow&&i.push("d-link_arrow deco-link_arrow"),t.style&&i.push("d-link_"+t.style+" deco-link_"+t.style),t.noHoverColor&&i.push("d-link_no-hover-color deco-link_no-hover-color"),!t.href&&t.noHoverColor&&i.push("d-link_no-hover"),t.href?e+='<a href="'+t.href+'" '+o(t,i)+">"+r(t)+"</a>":e+="<span "+o(t,i)+">"+r(t)+"</span>",e})},function(t,e,i,n){var a={render:i(154)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(155),function(t){return'<span class="d-flag '+__escape(a.classes(t))+'"></span>'})},function(t,e,i,n){const a=i(156);t.exports={icon:t=>t.name||a.getAlpha2(t.code),classes(t){const e=[];t.class&&e.push(t.class);const i=t.size||"M";return e.push("d-flag_size_"+i),e.push("d-flag_"+this.icon(t)),t.lang&&e.push("d-flag_"+this.getFlagByLang(t.lang)),e.join(" ")},getFlagByLang:t=>a.getFlagByLang(t)}},function(t,e,i,n){var a={225:{alpha2:"ru",alpha3:"rus",phoneCode:7,partnerPriority:1,name:i18n("country","Россия")},149:{alpha2:"by",alpha3:"blr",phoneCode:7,partnerPriority:4,name:i18n("country","Беларусь")},187:{alpha2:"uk",alpha3:"ukr",phoneCode:7,partnerPriority:2,name:i18n("country","Украина")},159:{alpha2:"kz",alpha3:"kaz",phoneCode:7,partnerPriority:3,name:i18n("country","Казахстан")},983:{alpha2:"tr",alpha3:"tur",phoneCode:7,partnerPriority:5,name:i18n("country","Турция")},169:{alpha2:"ge",alpha3:"geo",phoneCode:7,partnerPriority:6,name:i18n("country","Грузия")},168:{alpha2:"am",alpha3:"arm",phoneCode:7,partnerPriority:7,name:i18n("country","Армения")},171:{alpha2:"uz",alpha3:"uzb",phoneCode:7,partnerPriority:8,name:i18n("country","Узбекистан")},208:{alpha2:"md",alpha3:"mda",phoneCode:7,partnerPriority:9,name:i18n("country","Молдова")},207:{alpha2:"kg",alpha3:"kgz",phoneCode:7,partnerPriority:10,name:i18n("country","Киргизстан")},209:{alpha2:"tj",alpha3:"tjk",phoneCode:7,partnerPriority:11,name:i18n("country","Таджикистан")},181:{alpha2:"il",alpha3:"isr",phoneCode:7,partnerPriority:12,name:i18n("country","Израиль")},167:{alpha2:"az",alpha3:"aze",phoneCode:994,partnerPriority:13,name:i18n("country","[feature/mfront-2987]Азербайджан")}},s={en:"gb",hy:"am",kk:"kz"};t.exports={getAlpha2:function(t){var e=a[t];return e&&e.alpha2},getAlpha3:function(t){var e=a[t];return e&&e.alpha3},getPhoneCode:function(t){var e=a[t];return e&&e.phoneCode},name:function(t){var e=a[t];return e&&e.name},getFlagByLang:function(t){return s[t]||t},getRegionsForCode:function(t){return[t,t+"mp"]},getPartnerRegions:function(){return Object.keys(a).sort((function(t,e){return a[t].partnerPriority-a[e].partnerPriority})).map((function(t){return{value:t,title:a[t].name}}))},regionReducer:function(t,e){return t.concat(this.getRegionsForCode(e))},isInCountry:function(...t){return Array.prototype.slice.apply(t).reduce(this.regionReducer.bind(this),[]).includes(Mu.settings.regions.working)},isRussiaRegion:function(){return"RU"===Mu.settings.countryISO}}},function(t,e,i,n){var a=function(t){return t instanceof Array||(t=[t]),t},s=function(t){this.trigger(t?"actionSuccess":"actionError")},o=function(t){var e=l(t),i={id:e.id};return e.albums&&e.albums.length&&(i.albumId=e.albums[0].id),i},r=function(t){return{track:l(t)}},l=function(t){return t&&t.track||t},c=function(t){return"string"==typeof t?p(t):t},d=function(t){var e=t&&t.track||t;return e&&!e.error},u=function(t){var e=t&&t.track||t;return e&&(!e.error||["no-rights"].indexOf(e.error)>=0)},p=function(t){var e={id:t};if(!t)return e;var i=t.toString().split(":");return isNaN(+i[0])||2!==i.length?e:{id:i[0],albumId:i[1]}},h=function(t){t=t||{};var e=0;return Array.isArray(t.tracks)?e=t.tracks.length:Array.isArray(t.volumes)&&t.volumes.forEach((function(t){e+=Array.isArray(t)?t.length:0})),!(!e||Array.isArray(t.trackIds)&&t.trackIds.length!==e||t.trackCount&&t.trackCount!==e)};t.exports=function(t){return{expectArray:a.bind(t),additionHandler:s.bind(t),mapTrack:o.bind(t),mapTrackWrap:r.bind(t),mapTrackUnwrap:l.bind(t),mapTrackEntry:c.bind(t),getRequestEntry:p.bind(t),isAllTracksPreloaded:h.bind(t),filterTrackForAdd:u.bind(t),filterTrackForPlay:d.bind(t)}}},function(t,e,i,n){Mu.blocks.register("d-app-get-sms",function(){var t,e,i,n,a={invalid_phone:i18n("d-app-get-sms","Неверный формат номера"),empty_phone:i18n("d-app-get-sms","Введите номер телефона"),bad_phone:i18n("d-app-get-sms","Некорректный номер телефона")},s=function(){Mu.eventize(this)};return s.init=function(a){t=a.get("auth"),i=a.get("dataSrc"),n=a.get("metrika"),e=Mu.Storage.create("localStorage")},s.prototype.init=function(){var t=this;t.$cont=$(t.container),t.$form=t.$cont.find(".d-submitable-input"),t.dSubmitableInput=Mu.blocks.forElem(t.$form[0]),t.$phone=this.$form.find(".d-submitable-input__input"),this.phone=Mu.blocks.forElem(this.$phone[0]),t.dSubmitableInput.on("submit",(function(e){t.onSend(e.value)})),t.loadPhone()},s.prototype.successCallback=function(t){n.goal("appsSMS");try{Mu&&Mu.gtag&&Mu.gtag.appsSMS()}catch(t){}this.trigger("success",{phone:t}),this.dSubmitableInput.onSuccess(i18n("d-app-get-sms","Ссылка отправлена"))},s.prototype.failCallback=function(t){n.goal("Отправка кода другу",{"Ссылка отправляется по смс":{"Ошибка отправки":t.error}}),this.trigger("fail"),this.showPhoneError(t.error)},s.prototype.onSend=function(t){var e=this,n=t,a=e.data.smsId||"",s=e.data.entityId||"",o=e.data.entityType||"",r=e.data.contextName||"",l=e.data.contextType||"",c=e.data.blockPosition||"",d=e.data.branchOverrides||{};if(e.trigger("send",{phone:n}),e.isValidPhone(n)){var u=document.location.search.replace(/^\??/,""),p=decodeURIComponent($.param(d));p.length>0&&(u+=(u.length>0?"&":"")+p),i.post("sms",{phone:n,id:a,"entity-id":s,"entity-type":o,"context-name":r,"context-type":l,"block-position":c,code:e.data.code||e.data.text,query:u}).then((function(t){if(t.success)return e.savePhone(n),void e.successCallback(n);e.failCallback(t,n)})).catch((function(t){e.failCallback(t,n)}))}},s.prototype.isValidPhone=function(t){var e=!0;return t?(t.length<6||t.length>13)&&(this.showPhoneError("invalid_phone"),this.trigger("error",{type:"invalid_phone",phone:t}),e=!1):(this.showPhoneError("empty_phone"),this.trigger("error",{type:"empty_phone"}),e=!1),e},s.prototype.showPhoneError=function(t){var e=a[t]||i18n("d-app-get-sms","Произошла неизвестная ошибка");this.dSubmitableInput.onError(e)},s.prototype.loadPhone=function(){if(e){var i=JSON.parse(e.getItem("phoneStorage"))||{},n=(new Date).getTime(),a=i[t.user.uid];a&&a.deadLine>n&&this.phone.value(a.phone)}},s.prototype.savePhone=function(i){if(e){var n=(new Date).getTime(),a=JSON.parse(e.getItem("phoneStorage"))||{};a[t.user.uid]={phone:i,deadLine:t.user.uid?n+31536e6:n+6048e5},e.setItem("phoneStorage",JSON.stringify(a))}},s}())},function(t,e,i,n){var a;Mu.blocks.register("d-button-group",((a=function(){}).init=function(){this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target).closest(".d-button");1===i.length&&(e.$selectedButton=i,e.onChange())}))},a.prototype.init=function(){this.$cont=$(this.container),this.$buttons=this.$cont.find(".d-button"),this.$selectedButton=this.$buttons.filter(".active")},a.prototype.onChange=function(){this.$buttons.toggleClass("active",!1),this.$selectedButton.toggleClass("active",!0),this.triggerEvent({type:"group.change",value:this.getValue(),param:this.data.param})},a.prototype.getValue=function(){return this.$selectedButton.val()},a.prototype.setValue=function(t){this.$buttons.toggleClass("active",!1),this.$selectedButton=this.$buttons.filter(".d-button[value="+t+"]"),this.$selectedButton.toggleClass("active",!0)},a))},function(t,e,i,n){var a,s;Mu.blocks.register("d-button-store",((s=function(){}).init=function(t){a=t.get("metrika")},s.prototype.init=function(){this.$cont=$(this.container),this.$buttons=this.$cont.find(".d-button"),this.$buttons.on("click",this.onClick)},s.prototype.onClick=function(){var t=$(this).data("goal");t&&a.goal(t)},s))},function(t,e,i,n){var a,s=i(162);Mu.blocks.register("d-collapsable-description",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",".d-collapsable-description__read-more",this.expand.bind(this)),this.collapse()},a.prototype.collapse=function(){this.fullDescription=this.$cont.html();var t=this.getShortenedDescription();t&&this.$cont.html(t)},a.prototype.expand=function(){this.$cont.html(this.fullDescription)},a.prototype.getShortenedDescription=function(){var t,e,i=this.$cont.html().trim(),n=this.$cont.text().trim(),a=this.data.cutOfflength||140,o=[];for(o.unshift(i[i.length-1]);i.replace(/<[^>]+>/g,"").length>a;)i=i.substring(0,i.length-1),o.unshift(i[i.length-1]);if(o.shift(),-1!==(o=o.join("")).indexOf("</")&&(t=o.indexOf("</"),e=o.indexOf("<"),(t&&!e||t<=e)&&(o=i.substring(i.indexOf("<"))+o,i=i.substring(0,i.lastIndexOf("<")))),i.indexOf(" ")!==i.length-1&&0!==o.indexOf(" ")&&(o=i.substring(i.lastIndexOf(" "))+o,i=i.substring(0,i.lastIndexOf(" "))),o.length&&o.replace(/<[^>]+>/g,"").length>=20&&n.length>a)var r=i+s();return r||null},a))},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return"<span>&nbsp;...&nbsp;</span>"+a.render({text:i18n("d-collapsable-description","Читать полностью"),notHandled:!0,style:"marked",class:"d-collapsable-description__read-more"})})},function(t,e,i,n){var a,s;Mu.blocks.register("d-copy",((s=function(){Mu.eventize(this)}).init=function(){(a=document.createElement("textarea")).setAttribute("style","position: absolute; top: -1000px; left: -1000px"),a.readOnly=!0,document.body.append(a),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);e&&$(t.target).is(e.$action)&&e.copy(),e&&$(t.target).is(e.$aim)&&e.select()}))},s.prototype.init=function(){var t=this;t.$cont=$(t.container),t.$action=t.$cont.find(t.data.button?".d-copy__button":".d-copy__link"),t.data.input?t.$aim=t.$cont.find(".d-input__field"):t.data.selector&&(t.$aim=$("body").find(t.data.selector).eq(0)),t.on("success",(function(){t.showMessage(t.data.successText)})),t.on("error",(function(){t.showMessage(t.data.errorText)}))},s.prototype.copy=function(t){var e=this;t=t||e.value();var i=function(n,a){if(!n&&!a&&window.clipboardData)return i(window.clipboardData.setData("Text",t),!0);n?(e.trigger("success",e),e.select()):e.trigger("error",e)};try{a.value=t;var n=$(window).scrollTop();a.style.top=n+"px",navigator.userAgent.match(/ipad|ipod|iphone/i)?a.setSelectionRange(0,a.value.length):a.select(),$(window).scrollTop(n),i(document.execCommand("copy"))}catch(t){i(!1,!0)}},s.prototype.value=function(t){return(t=t||"")?this.$aim&&this.$aim.size()?this.$aim.is("input, textarea")?this.$aim.val(t):this.$aim.text(t):this.data.value=t:this.$aim&&this.$aim.size()?t=this.$aim.is("input, textarea")?this.$aim.val():this.$aim.text():this.data.value&&(t=this.data.value.toString()),t},s.prototype.select=function(){this.$aim&&this.$aim.size()&&this.$aim.is("input, textarea")&&this.$aim.select()},s.prototype.showMessage=function(t){var e=this;"string"==typeof t&&t&&(e.tooltip=Mu.blocks.get("d-tooltip").getTooltip(e.$action,{content:t,type:"alert",side:"bottom",theme:this.data.tooltipTheme||"black",fade:!0,onShow:function(){setTimeout(e.tooltip.hide.bind(e.tooltip),2e3)}}),e.tooltip.show())},s))},function(t,e,i,n){var a=i(165),s=i(168),o=i(171);Mu.blocks.register("d-equalizer",function(){var t,e,n,r,l=i(172),c=ya.music.Audio.fx.Equalizer.DEFAULT_PRESETS.slice(0);c.unshift({id:"custom",preamp:0,bands:[0,0,0,0,0,0,0,0,0,0]}),c.forEach((function(t){t.title=l.titles[t.id],c[t.id]=t}));var d=function(){this.enabled=!1,this.state=!1,this.active=!0,this.presetId="default"};return d.init=function(i){t=i.get("adapter"),e=Mu.Storage.create("localStorage"),n=i.get("metrika");try{r=i.get("xstorage")}catch(t){}},d.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-equalizer__button"),this.$popup=this.$cont.find(".d-equalizer__popup"),this.$toggler=this.$cont.find(".d-toggler"),this.$bands=this.$cont.find(".d-equalizer__bands"),this.__onOuterClick=this.onOuterClick.bind(this),this._initSettings()},d.prototype._initSettings=function(){r?Promise.all([r.getItem("equalizer-active"),r.getItem("equalizer-preset"),r.getItem("equalizer-custom")]).then(function(t){this._init(t[0],t[1],t[2])}.bind(this),function(){r=null,this._initSettings()}.bind(this)):this._init(e.getItem("equalizer-active"),e.getItem("equalizer-preset"),e.getItem("equalizer-custom"))},d.prototype._init=function(e,i,n){this.presetId=i||this.presetId,this.active=1==e,n&&("{"===n[0]?(n=JSON.parse(n),c.custom.preamp=n.preamp,c.custom.bands=n.bands):(n=n.split(",").map(parseFloat),c.custom.preamp=n[0],c.custom.bands=n.slice(1))),t.onReady(this.onReady.bind(this))},d.prototype.metrika=function(){n.count({equalizer:this.active?l.titles[this.presetId]:"off"})},d.prototype.onReady=function(){if(this.equalizer=t.getEqualizer(),!this.equalizer)return!1;if(this.triggerEvent({type:"equalizer.enabled"}),this.enabled=!0,this.$cont.addClass("d-equalizer_enabled"),this.$vol=this.$cont.closest(".volume"),this.$icon.on("click",this.onClick.bind(this)),this.toggler=Mu.blocks.forElem(this.$toggler[0],"d-toggler"),this.delegate("toggler.change",this.onToggle.bind(this)),this.createBand(this.equalizer.preamp),this.equalizer.bands.forEach(this.createBand.bind(this)),this.setupPresets(),this.toggler.toggle(this.active),r){var e=!1,i=r.setItem;r.setItem=function(){return e=!0,i.apply(r,arguments).then((function(){e=!1}))},r.on("update",function(t,i){e||("equalizer-active"===t?this.toggle(!!+i):"equalizer-preset"===t?this.setPreset(i,!0,!0):"equalizer-custom"===t&&this.equalizer.loadPreset(JSON.parse(i)))}.bind(this))}},d.prototype.onClick=function(){this.showHide(!this.state)},d.prototype.showHide=function(t){this.state!==t&&(this.state=t,this.triggerEvent({type:"equalizer.toggle",state:this.state}),this.$popup.toggleClass("d-equalizer__popup_edit",this.state),this.state?$(window).on("click",this.__onOuterClick):$(window).off("click",this.__onOuterClick))},d.prototype.onOuterClick=function(t){!$(t.target).closest(".volume").length&&$(t.target).closest(".d-select__popup").length<=0&&this.showHide(!1)},d.prototype.onToggle=function(){this.active=this.toggler.isChecked(),(r||e).setItem("equalizer-active",this.active?1:0),this.toggle()},d.prototype.toggle=function(e){"boolean"==typeof e&&(this.active=e),this.active?(t.toggleEqualizer(!0),this.$cont.addClass("d-equalizer_active")):(t.toggleEqualizer(!1),this.$cont.removeClass("d-equalizer_active")),this.metrika()},d.prototype.setupPresets=function(){c.some(function(t){return t.id==this.presetId&&(t.selected=!0),t.selected}.bind(this)),this.$presets=$(s({items:c,fixedPosition:!0,position:{my:"left bottom",at:"left top-5"}})),this.$cont.find(".d-equalizer__select").append(this.$presets),this.presets=Mu.blocks.forElem(this.$presets[0],"d-select"),this.presets.on("change",function(t){this.setPreset(t.value.id,!0),this.toggler.check()}.bind(this)),this.setPreset(this.presetId,!0)},d.prototype.setPreset=function(t,i,n){this.presetId=t;var a=c[this.presetId],s=c.indexOf(a);this.presets.toggle(s,!0,!0),n||(r||e).setItem("equalizer-preset",a.id),i&&this.equalizer&&this.equalizer.loadPreset(a)},d.prototype.updateCustom=function(){var t=c.custom;"custom"!==this.presetId&&this.setPreset("custom");var i=this.equalizer.savePreset();t.preamp=i.preamp,t.bands=i.bands,(r||e).setItem("equalizer-custom",JSON.stringify(t))},d.calcValue=function(t){return(t+12)/12*.5},d.prototype.createBand=function(t,e){var i={hz:l.bands[t.getConfigFreq()]||t.getConfigFreq(),value:d.calcValue(t.getValue())},n=$(a(i)).appendTo(this.$bands),s=n.find(".d-slider-vert__drag"),r=Mu.blocks.forElem(n.find(".d-equalizer-band__slider")[0],"d-slider-vert");null==e&&$(o({})).appendTo(this.$bands);var c=!1;s.on("mousedown",()=>{this.toggler.check()}),n.on("mousedown",()=>{this.toggler.check()}),r.delegate("sliderVert.change",function(e){c||(t.setValue(e.value/.5*12-12),this.updateCustom())}.bind(this)),t.on("change",(function(t){c=!0,r.setPosition(d.calcValue(t)),c=!1}))},d}())},function(t,e,i,n){var a;t.exports=(a=i(166),function(t){return'<li class="d-equalizer-band"> <div class="d-equalizer-band__control"> '+a.render({class:"d-equalizer-band__slider"})+' </div> <span class="d-equalizer-band__hz"> '+__escape(t.hz)+" </span></li>"})},function(t,e,i,n){var a={render:i(167)};t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="d-slider-vert '+__escape(t.class)+'"data-b="'+__escape(Mu.dotBlockRoot(t,"d-slider-vert",!0))+'" > <div class="d-slider-vert__track"> <div class="d-slider-vert__filled" style="height: 50%;"> <button class="d-slider-vert__drag" tabindex="-1"></button> </div> </div></div>'}},function(t,e,i,n){var a,s,o;t.exports=(a=i(169),s=i(170),o=i(141),function(t){var e="";a.prepareData(t),e+='<div class="d-select deco-button '+__escape(a.getClasses(t))+'" ',t.title&&(e+=' title="'+__escape(a.makeTitle(t.title))+'" '),e+=' data-b="'+__escape(Mu.dotBlockRoot(t,"d-select",!0))+'"><div class="d-select__inner deco-button-stylable">'+s(t);var i=a.getItems(t);return(i&&i.length||t.forceShowButton)&&(e+='<div class="d-select__button deco-button-simple '+__escape(a.getButtonClasses(t))+'">'+o.render({icon:"dropdown"})+"</div>"),e+="</div></div>"})},function(t,e,i,n){var a=["links"],s=["S","M"];t.exports={prepareData:function(t){return!t.groups&&t.items&&(t.groups=[{items:Array.isArray(t.items)?t.items:[t.items]}]),t.multi=void 0!==t.multi&&!!t.multi,t.resetable=void 0!==t.resetable&&!!t.resetable,t.firstOnTop=void 0!==t.firstOnTop&&!!t.firstOnTop,t.firstGroupIsMain=void 0!==t.firstGroupIsMain&&!!t.firstGroupIsMain,t.topWithoutHighlight=void 0!==t.topWithoutHighlight&&!!t.topWithoutHighlight,t.topNotSelectable=void 0!==t.topNotSelectable&&!!t.topNotSelectable,t.isFullWidth=void 0!==t.isFullWidth&&!!t.isFullWidth,t.groups=t.groups||[],t.groups.forEach((function(e,i){Array.isArray(e)?t.groups[i]={items:e}:e.items?e.items=Array.isArray(e.items)?e.items:[e.items]:e.items=[],t.groups[i].items.forEach((function(e,n){e.selected=void 0!==e.selected&&e.selected,t.firstOnTop&&0===i&&0===n?e.isRoot=!0:delete e.isRoot}))})),delete t.items,t},getClasses:function(t){var e=[],i=this.getItemsByGroup(t,0);return t.firstOnTop&&!t.topWithoutHighlight&&i.length&&(i[0].selected?e.push("deco-button-action d-select_selected"):i.find((function(t){return!!t.selected&&(e.push("deco-button-action-border"),!0)}))),a.indexOf(t.type)>-1&&e.push("d-select_type_"+t.type),s.indexOf(t.size)>-1&&e.push("d-select_size_"+t.size),t.topNotSelectable&&e.push("d-select_not-selectable"),t.isFullWidth&&e.push("d-select_full-width"),t.class&&e.push(t.class),e.join(" ")},getButtonClasses:function(t){var e=["deco-button"],i=this.getItems(t);(0===i.length||1===i.length&&t.firstOnTop)&&!t.forceShowButton&&e.push("d-select__button_hidden");var n=this.getItemsByGroup(t,0);return t.firstOnTop&&!t.topWithoutHighlight&&n.length&&(n[0].selected||n.find((function(t){return!!t.selected&&(e.push("deco-button-action"),!0)}))),e.join(" ")},getItemClasses:function(t){var e=["d-select__item"];return t.selected&&e.push("active d-select__item_selected"),t.isRoot&&e.push("d-select__item_hidden"),t.class&&e.push(t.class),e.join(" ")},getEmptyTitle:function(t){return t&&t.emptyTitle||" — "},makeTitle:function(t){var e="";return e+=t||""},getItems:function(t){var e=[];return t.groups.forEach((function(t){e=e.concat(t.items||[])})),e},getItemsByGroup:function(t,e){var i=t.groups[e];return i&&i.items||[]},getSelected:function(t){var e,i=[],n=0;t.groups.forEach((function(t,a){i.push([]),t.items.forEach((function(t,s){t.selected&&(n++,i[a].push(s),e={group:a,item:s})}))}));var a={all:i,count:n};return e&&(a.last=e),a},getCurrentItem:function(t,e){var i=this.getSelected(t);e=e||t.selected||i.last||{};var n=this.getItemsByGroup(t,0);return(t.firstOnTop||t.firstGroupIsMain)&&(i.all[0].length||0===i.count)&&n.length?t.firstOnTop?n[0]:n[i.all[0][i.all[0].length-1]]:e.group>=0&&e.item>=0?this.getItemsByGroup(t,e.group)[e.item]:{title:this.getEmptyTitle(t)}}}},function(t,e,i,n){var a;t.exports=(a=i(169),function(t){var e="",i=a.getCurrentItem(t);return e+='<span class="d-select__inner-item">',i&&i.icon&&(e+=i.icon),"links"==t.type&&i&&i.href&&!t.topNotSelectable?(e+='<a class="d-select__text" href="'+__escape(i.href)+'" ',i.target&&(e+='target="'+__escape(i.target)+'"'),e+=">"+__escape(i.topTitle||i.title)+"</a>"):(e+='<span class="d-select__text">',e+=__escape(i&&(i.topTitle||i.title)||a.getEmptyTitle(t)),e+="</span>"),e+="</span>"})},function(t,e,i,n){t.exports=function(t){return'<li class="d-equalizer-band d-equalizer-band_legend"> <div class="d-equalizer-band__control"> <span class="d-equalizer-band__max"> +12 '+__escape(i18n("d-equalizer-band","дБ"))+' </span> <span class="d-equalizer-band__zero"> 0 '+__escape(i18n("d-equalizer-band","дБ"))+' </span> <span class="d-equalizer-band__min"> -12 '+__escape(i18n("d-equalizer-band","дБ"))+" </span> </div></li>"}},function(t,e,i,n){t.exports={titles:{custom:i18n("equalizer","Своя настройка"),default:i18n("equalizer","По умолчанию"),Classical:i18n("equalizer","Классическая музыка"),Club:i18n("equalizer","Клубная музыка"),Dance:i18n("equalizer","Танцевальная музыка"),"Full Bass":i18n("equalizer","Усиление НЧ"),"Full Bass & Treble":i18n("equalizer","Усиление НЧ и ВЧ"),"Full Treble":i18n("equalizer","Усиление ВЧ"),"Laptop Speakers / Headphone":i18n("equalizer","Колонки ноутбука"),"Large Hall":i18n("equalizer","Большой зал"),Live:i18n("equalizer","Концерт"),Party:i18n("equalizer","Вечеринка"),Pop:i18n("equalizer","Поп"),Reggae:i18n("equalizer","Регги"),Rock:i18n("equalizer","Рок"),Ska:i18n("equalizer","Ска"),Soft:i18n("equalizer","Мягкое звучание"),"Soft Rock":i18n("equalizer","Софт-рок"),Techno:i18n("equalizer","Техно")},bands:{0:i18n("equalizer","уровень"),1e3:"1 "+i18n("equalizer","к"),3e3:"3 "+i18n("equalizer","к"),6e3:"6 "+i18n("equalizer","к"),12e3:"12 "+i18n("equalizer","к"),14e3:"14 "+i18n("equalizer","к"),16e3:"16 "+i18n("equalizer","к")}}},function(t,e,i,n){var a,s;Mu.blocks.register("d-payment-show",((s=function(){}).init=function(t){a=t.get("blocks").get("payment-popup-controller")},s.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",this.onClick.bind(this)),a.on("login",function(){this.triggerEvent({type:"d-payment-show.login"})}.bind(this))},s.prototype.onClick=function(t){this.deactivated||(t.preventDefault(),a.show({from:this.data.from||"exclusiveContent",crackdown:this.data.crackdown,force:this.data.force,mainTip:this.data.mainTip}))},s.prototype.toggle=function(t){this.deactivated=null==t?!this.deactivated:!t},s))},function(t,e,i,n){var a,s=i(170),o=i(175),r=i(169);Mu.blocks.register("d-select",((a=function(){Mu.eventize(this)}).init=function(){},a.prototype.init=function(){this.selected=null,this.allSelected=[],this.disabled=!1,this.data=r.prepareData(this.data),this.$cont=$(this.container),this.$innerCont=this.$cont.find(".d-select__inner"),this.$innerItem=this.$cont.find(".d-select__inner-item"),this.$button=this.$cont.find(".d-select__button"),this._onTextClick=this._onTextClick.bind(this),this._onButtonClick=this._onButtonClick.bind(this),this.$cont.on("click",".d-select__text",this._onTextClick),this.$cont.on("click",this._onButtonClick),this._initPopup()},a.prototype.destroy=function(){this.$cont.off("click",".d-select__text",this._onTextClick),this.$cont.off("click",this._onButtonClick),this.$cont.remove(),this.popup&&(this.popup.off("show",this._onPopupToggle),this.popup.off("hide",this._onPopupToggle),this.popup.$cont.off("click",".d-select__item",this._onPopupItemClick),this.popup.$cont.remove(),delete this.popup),delete this.data,delete this.disabled,delete this.selected,delete this.allSelected},a.prototype._initPopup=function(){if(!this.popup){this.$popup=$(o(this.data)).appendTo("body"),this.$popupStore=this.$popup.find(".d-select__store"),this.$popupGroups=this.$popup.find(".d-select__group");var t=Object.assign({},{my:"left top",at:"left bottom+5",of:this.$cont},this.data.position);this.popup=new(Mu.blocks.get("popup"))(this.$popup.get(0),{opener:this.$cont,position:t,toggable:!0}),this._onPopupItemClick=this._onPopupItemClick.bind(this),this._onPopupToggle=this._onPopupToggle.bind(this),this.popup.$cont.on("click",".d-select__item",this._onPopupItemClick),this.popup.on("show",this._onPopupToggle),this.popup.on("hide",this._onPopupToggle),this._detectSelectedIndex()}},a.prototype.val=function(t){if(void 0!==t){var e=this._getSelectionByValue(t);return e&&this.toggle(e),!!e&&this._getValueByIndex(e)}return this._getValueByIndex(this.selected)},a.prototype.getSelectedItems=function(){var t=this,e=[];return t.allSelected.forEach((function(i,n){i.forEach((function(i){var a=t._getValueByIndex({group:n,item:i});a&&e.push(a)}))})),e},a.prototype.getItems=function(){return r.getItems(this.data)},a.prototype.isSelected=function(t){var e=this._findSelection(t);return!!e&&this._getSelectedByGroup(e.group).includes(e.item)},a.prototype.toggle=function(t,e,i){this.disabled||(this._toggleSelected(t,e),this._redrawText(),i||this.trigger("change",{target:this,index:this.selected,value:this.val(),all:this.getSelectedItems()}),this.popup.hide())},a.prototype.reset=function(t){var e=this,i=e.data.resetable;e.data.resetable=!0,e.allSelected.forEach((function(i,n){i.forEach((function(i){e._getValueByIndex({group:n,item:i}).selected&&e.toggle({group:n,item:i},!1,t)}))})),e.data.resetable=i},a.prototype.toggleDisabled=function(t){this.disabled=void 0!==t?!!t:this.disabled,this.$innerCont.toggleClass("select_disabled disabled",this.disabled),this.disabled&&this.popup&&this.popup.isOpen&&this.popup.hide()},a.prototype.disable=function(){this.toggleDisabled(!0)},a.prototype.enable=function(){this.toggleDisabled(!1)},a.prototype.changeData=function(t,e){if(!this.disabled){t.items&&!t.groups&&(t.groups=[t.items],delete t.items),this.listHeight=0,this.data=r.prepareData(Object.assign({},this.data,t)),this._detectSelectedIndex(),this.popup.isOpen&&this.popup.hide();var i=$(o(this.data));this.$popup.find(".d-select__popup-content").replaceWith(i.find(".d-select__popup-content")),this.$popupStore=this.$popup.find(".d-select__store"),this.$popupGroups=this.$popup.find(".d-select__group"),this.toggle(this.selected,!0,e)}},a.prototype.setDisplayText=function(t){this.$cont.find(".d-select__text").text(t)},a.prototype._getSelectedByGroup=function(t){return this.allSelected[t]||[]},a.prototype._getValueByIndex=function(t){var e=this._findSelection(t);if(e){var i=this.data.groups[e.group];return i&&i.items[e.item]||null}return null},a.prototype._getSelectionByValue=function(t){var e=this,i=null;return e.data.groups.find((function(n,a){return n.items.find((function(n,s){return!!e._isEquivalent(n,t)&&(i={group:a,item:s},!0)}))})),i},a.prototype._isEquivalent=function(t,e){return typeof t==typeof e&&("object"==typeof t&&void 0!==t.id?t.id===e.id:t===e)},a.prototype._detectSelectedIndex=function(){var t=r.getSelected(this.data);this.selected=t.last,this.allSelected=t.all},a.prototype._findSelection=function(t){if(t&&t.group>=0&&t.item>=0)return t;var e,i=+t;if(isNaN(i))"string"==typeof t&&(i=t.split(":"))&&2==i.length&&(e={group:i[0],item:i[1]});else{var n=i;this.data.groups.find((function(t,i){var a=(t.items||[]).length;return n<a?(e={group:i,item:n},!0):(n-=a,!1)}))}return e},a.prototype._toggleSelected=function(t,e){var i=this;if(!i.disabled){var n=i._findSelection(t);if(n){(e=void 0===e?!i.data.resetable&&!i.data.multi||!i.isSelected(n):!!e)&&!i.data.multi&&[].concat(i._getSelectedByGroup(n.group)).forEach((function(t){t!==n.item&&i._toggleSelected({group:n.group,item:t},!1)})),i.$popupGroups.eq(n.group).find(".d-select__item").eq(n.item).toggleClass("d-select__item_selected active",e),i.data.firstOnTop&&0===n.group&&(n.item>0?(i.data.topWithoutHighlight||(i.$button.toggleClass("deco-button-action",e),i.$cont.toggleClass("deco-button-action-border",e)),i.$cont.toggleClass("d-select_selected deco-button-action",!1)):0===n.item&&(i.data.topWithoutHighlight||i.$cont.toggleClass("d-select_selected deco-button-action",e),i.$button.toggleClass("deco-button-action",!1),i.$cont.toggleClass("deco-button-action-border",!1)));var a=function(t){var e=i.allSelected[t.group].indexOf(t.item);e>-1&&i.allSelected[t.group].splice(e,1)};i._getValueByIndex(n)?(i._getValueByIndex(n).selected=e,e?(i.selected=n,i.allSelected[n.group].push(n.item)):(a(n),i.selected=null)):(a(n),i.selected=null)}}},a.prototype._setScrollness=function(t){if(t){var e=this.offset||this.$popupStore.offset(),i=this.listHeight||this.$popupStore.outerHeight(),n=this.contOffset||this.$cont.offset();this.offset=e,this.listHeight=i,this.contOffset=n;var a,s,o=r.getItems(this.data),l=this.itemHeight||this.listHeight/o.length;n.top>e.top?this.data.fixedPosition?(a=n.top-window.pageYOffset,s=Math.floor(a/l)*l):(a=window.innerHeight+window.pageYOffset-e.top-76,s=Math.ceil(a/l)*l):this.data.fixedPosition?(a=window.innerHeight-e.top+window.pageYOffset-76,s=Math.floor(a/l)*l):(a=window.innerHeight+window.pageYOffset-e.top-76,s=Math.floor(a/l)*l),s<l&&(s=l),i>a&&(this.$popupStore.addClass("d-select__store_scrolled").scrollTop(0).css("height",s),n.top>e.top&&this.popup.position())}else this.$popupStore.removeClass("d-select__store_scrolled").css("height","auto");delete this.offset,delete this.contOffset},a.prototype._redrawText=function(){var t=$(s(Object.assign({},this.data,{selected:this.selected})));this.$innerItem.html(t)},a.prototype._togglePopup=function(){this.popup.toggle()},a.prototype._onTextClick=function(t){this.trigger("click",{target:this,domEvent:t}),t.stopPropagation(),this.data.firstOnTop?this.data.topNotSelectable?r.getItemsByGroup(this.data,0).length>1&&this._togglePopup():this.toggle(0):this._togglePopup()},a.prototype._onButtonClick=function(t){t.stopPropagation(),this.disabled?t.preventDefault():this._togglePopup()},a.prototype._onPopupItemClick=function(t){this.trigger("click",{target:this,domEvent:t});var e=$(t.currentTarget).index(),i=$(t.currentTarget).closest(".d-select__group").index();this.allSelected[i].includes(e)||this.toggle({group:i,item:e})},a.prototype._onPopupToggle=function(){this.popup&&(this.trigger("toggle",{target:this,state:this.popup.isOpen}),this.$innerCont.toggleClass("d-select_active",this.popup.isOpen),this._setScrollness(this.popup.isOpen))},a))},function(t,e,i,n){var a,s;t.exports=(a=i(169),s=function(t,e){var i='<li class="deco-popup-menu__item '+__escape(a.getItemClasses(e))+'">';return"links"==t.type&&e.href?(i+='<a class="d-select__item-link" href="'+__escape(e.href)+'" ',e.target&&(i+='target="'+__escape(e.target)+'"'),i+=" >",e.icon&&(i+=e.icon),i+=__escape(e.title)+"</a>"):(i+='<span class="d-select__item-text">',e.icon&&(i+=e.icon),i+=__escape(e.title)+"</span>"),i+="</li>"},function(t){var e="";if(t.groups&&t.groups.length){e+='<div class="d-select__popup',t.wide&&(e+=" d-select__popup_wide"),t.popupClass&&(e+=" "+__escape(t.popupClass)),e+=' popup popup_compact popup_hidden deco-pane-popup deco-popup-menu"><div class="d-select__popup-content"><div class="d-select__store">';for(var i,n=0;n<t.groups.length;n++){e+='<div class="d-select__group ',(i=t.groups[n]).title||(e+="deco-border"),e+='">',i.title&&(e+='<div class="d-select__group-title typo-secondary">'+__escape(i.title)+"</div>"),e+='<ul class="d-select__list">';for(var a,o=0;o<i.items.length;o++)a=i.items[o],e+=s(t,a);e+="</ul></div>"}e+="</div>",t.footer&&(e+='<div class="d-select__footer">'+t.footer+"</div>"),e+="</div></div>"}return e})},function(t,e,i,n){Mu.blocks.register("d-share",function(){var t,e=i(177),n=function(){Mu.eventize(this)};return n.init=function(e){t=e.get("pages")},n.getTitle=function(t){var i=t&&t.data||t;return new e({data:i}).getTitle()},n.getLink=function(t){var i=t&&t.data||t;return new e({data:i}).getLink()},n.prototype.init=function(){this.helper=new e(this),this.$cont=$(this.container),this.$yaShare=this.$cont.find(".d-share__yashare"),this.$radioShareFooter=$(".footer_radio .d-share"),this.initShare=this.initShare.bind(this),t.on("loaded",this.initShare),this.initShare()},n.prototype.destroy=function(){t.off("loaded",this.initShare)},n.prototype.initShare=function(){var t=this;if(!t.inited){if(t.$radioShareFooter.length>0){var e=Mu.render("d-share",this.data);t.$radioShareFooter.replaceWith(e),t.$radioShareFooter=$(".footer_radio .d-share"),t.$yaShare=t.$radioShareFooter.find(".d-share__yashare"),this.data.radioRadio=this.data.radioRadio||{},this.data.radioRadio.data=Mu.pageData||Mu.pages.current.data,this.data.radioRadio.data.name=Mu.pageName||Mu.pages.current.name,this.data.radioRadio.data.page=this.data.radioRadio.page}var i=t.helper.getTitle(),n=t.helper.getLink(),a=t.helper.getServices(),s=t.helper.getSize(),o=t.helper.getDirection();"undefined"!=typeof Ya&&t.$yaShare.size()&&Ya.share2&&(Ya.share2(t.$yaShare.get(0),{content:{url:n,title:i},theme:{services:a.join(","),counter:!1,lang:t.helper.getAvailableLang(Mu.settings.lang),limit:5,size:s,direction:o,bare:!1},contentByService:{vkontakte:{title:t.data.hashTags?i+t.data.hashTags:i}},hooks:{onshare:function(e,i){t.trigger("shared",{service:e,instance:i})},onready:function(e){t.onReady(),t.trigger("loaded",{instance:e})}}}),t.inited=!this.data.radioRadio)}},n.prototype.onReady=function(){this.$yaShare.find(".ya-share2__item").addClass("d-share__item"),this.$yaShare.find(".ya-share2__title").addClass("deco-link")},n}())},function(t,e,i,n){const a=i(178).apply,s=i(180),o=i(181),r=i(183),l=i(184),c=i(185),d=i(78);let u;const p=function(t){t=t||{},this.data=Object.assign({},t&&t.data||t),t.id&&!this.data.id&&(this.data.id=t.id),t.name&&!this.data.name&&(this.data.name=t.name),t.what&&!this.data.what&&(this.data.what=t.what),this.type=this.getType(),u=l()};p.prototype.getType=function(){return this.data.genre?"genre":this.data.post?"post":this.data.label?"label":this.data.concert?this.data.concert.concertTitle?"concertTitle":"concert":this.data.radio&&void 0!==this.data.radio.activeTab?"radio":this.data.station?"station":this.data.promo&&this.data.promo.promotionType&&["track","album","artist","playlist"].includes(this.data.promo.promotionType)?"promo":this.data.prediction?"prediction":this.data.apartment?"apartment":this.data.joydivision?"joydivision":this.data.cobain?"cobain":this.data.metatag?"metatag":this.data.personal_top2017?"personal-top2017":this.data.personal_top2018?"personal-top2018":this.data.user?"user":this.data.name?"page":this.data.link||this.data.title?"manual":this.data.track?"track":this.data.album?"album":this.data.artist?"artist":this.data.playlist?"playlist":this.data.radioRadio?"radioRadio":"unknown"},p.prototype.getLink=function(t){const{shareLang:e}=this.data,i=t?"":u;switch(this.type){case"radioRadio":var n=this.data.radioRadio.data,o=n.station&&n.station.station;if(n.page){var l="";if(c(n.name,"station")){const t="user"===o.id.type&&n.station.login?o.login:o.id.tag;l=`${o.id.type}/${t}`}return"type"===n.name&&(l=n.type.id),s(`${i}/${l}`)}return n.station?s(`${i}/${o.id.type}/${o.id.tag}`,e):s(i,e);case"promo":return s(`${i}/post/${this.data.promo.promoId}`,e);case"post":return s(`${i}/post/${this.data.post.promoId}`,e);case"genre":return this.data.filter?s(`${i+r(this.data.genre.id)}/${this.data.filter}`,e):s(i+r(this.data.genre.id),e);case"label":return s(`${i}/label/${this.data.label.id}`,e);case"concert":return this.data.concert.url?s(`${i}/live/${this.data.concert.url}`,e):s(`${i}/live/${this.data.concert.id}`,e);case"concertTitle":return s(`${i}/concert/${this.data.concert.id}`,e);case"radio":return s(`${i}/radio${this.data.radio.activeTab?"/"+this.data.radio.activeTab:""}`,e);case"station":return s(`${i}/radio/${this.data.station.id.type}/${this.data.station.id.tag}`,e);case"prediction":return s(`${i}/cards/${this.data.prediction.id}`,e);case"apartment":return s(`${i}/timemachine?s=${this.data.apartment.imageNumber}`,e);case"joydivision":if(this.data.joydivision.imageNumber)return s(`${i}/joydivision?s=${this.data.joydivision.imageNumber}`,e);var d=Math.floor(Math.random()*this.data.joydivision.imageCount);return s(`${i}/joydivision?s=${d}`,e);case"cobain":return this.data.cobain.bonus?s(i+"/kurt?i=b",e):0===this.data.cobain.imageNumber||this.data.cobain.imageNumber>0&&this.data.cobain.imageNumber<this.data.cobain.imageCount?s(`${i}/kurt?i=${this.data.cobain.imageNumber}`,e):s(i+"/kurt",e);case"metatag":var p=this.data.metatag.href||"/genre"+(this.data.metatag.id?"/"+encodeURIComponent(this.data.metatag.id):"");return s(i+p+(this.data.tab&&"overview"!==this.data.tab?"/"+this.data.tab:""),e);case"personal-top2017":return this.data.sharingUser?s(`${i}/personal/top2017/${this.data.sharingUser}`,e):s(i+"/personal/top2017/",e);case"personal-top2018":return this.data.personal_top2018.sharingUser?s(`${i}/personal/top2018/${this.data.personal_top2018.sharingUser}`,e):s(i+"/personal/top2018/",e);case"user":return s(`${i}/users/${this.data.user.login}${this.data.what?"/"+this.data.what:"/playlists"}`,e);case"page":return s(`${i}/${this.data.name}${this.data.id?"/"+this.data.id:""}${this.data.what?"/"+this.data.what:""}`,e);case"manual":var h=this.data.link||"/";return s(i+h,e);case"track":var _=this.data.track.realId||this.data.track.id,m=this.data.track.albumId&&parseInt(this.data.track.albumId,10);return(isNaN(m)||m<=0)&&(m=a(".track.albums[0].id",this.data)),m&&!this.data.trackTarget?s(`${i}/album/${m}/track/${_}`,e):s(`${i}/track/${_}`,e);case"album":return s(`${i}/album/${this.data.album.id}`,e);case"artist":return this.data.what?s(`${i}/artist/${this.data.artist.id}/${this.data.what}`,e):s(`${i}/artist/${this.data.artist.id}`,e);case"playlist":return s(`${i}/users/${this.data.playlist.owner.login}/playlists/${this.data.playlist.kind}`,e);default:var g=this.data.link||"/";return s(i+g,e)}},p.prototype.getTitle=function(){switch(this.type){case"radioRadio":var t=this.data.radioRadio.data,{station:e}=t,i=e&&e.data;return t.page?"station"===t.name&&"user"===t.type.id?t.station.station.name:c(t.name,"station")&&i&&i.title?i18n("d-share","[feature/radio-share]%1",d(i.title)):i18n("d-share","[feature/mfront-4200]Яндекс Радио"):t.station?t.station.station.name:i18n("d-share","[feature/mfront-4200]Яндекс Радио");case"track":const r=a(".track.artists[0].name",this.data);return 0===r.length?this.data.track.title:`${r} — ${this.data.track.title}`;case"album":if("podcast"===this.data.album.type)return i18n("d-share","[feature/mfront-1885]Подкаст «%1»",this.data.album.title);var n=a(".album.artists[0].various",this.data);return n&&"object"!=typeof n?i18n("d-share","Альбом «%1»",this.data.album.title):i18n("d-share","%1 — альбом «%2»",a(".album.artists[0].name",this.data),this.data.album.title);case"artist":return this.data.artist.name;case"playlist":return this.data.playlist.ogTitle?this.data.playlist.ogTitle:this.data.isOwner?i18n("d-share","Мой плейлист «%1»",this.data.playlist.title):i18n("d-share","Плейлист «%1» пользователя %2",this.data.playlist.title,this.data.playlist.owner.login);case"genre":return o(this.data.genre.id);case"post":return this.data.post.title;case"label":return this.data.label.title;case"concert":return this.data.concert.seo.title;case"concertTitle":return this.data.concert.concertTitle;case"radio":return i18n("d-share","[feature/mfront-3789]Поток");case"station":return this.data.station.name;case"promo":return this.data.title;case"prediction":return this.data.prediction.text;case"apartment":return this.data.apartment.text;case"joydivision":return i18n("d-share","Йен Кёртис");case"cobain":return i18n("d-share","Включите «Нирвану» погромче");case"metatag":return this.data.metatag.name;case"personal-top2017":return this.data.sharingUser&&this.data.og&&0!==this.data.og.minutes?i18n("d-share","Музыка накрывает"):i18n("d-share","[feature/mfront-3990-1]Яндекс Музыка накрывает");case"personal-top2018":var s=this.data.personal_top2018;return s.sharingUser&&0!==s.userData.minutes?i18n("d-share","[feature/mfront-3990-1]#МузыкаЗажигает — Яндекс Музыка"):i18n("d-share","[feature/mfront-3990-1]Яндекс Музыка — цифра года #МузыкаЗажигает");case"user":return this.data.user.name;case"page":return this.data.title||i18n("d-share","[feature/mfront-3990-1]Яндекс Музыка");case"manual":default:return this.data.title||i18n("d-share","[feature/mfront-3990-1]Яндекс Музыка")}},p.prototype.getCode=function(){let t,e;switch(this.type){case"track":return t=this.data.track&&this.data.track.artists&&this.data.track.artists[0],t?(e=new p({artist:t}),i18n("d-share","[feature/mfront-3990-1]Слушайте %1 на Яндекс Музыке",`<a href='${this.getLink()}'>${this.data.track.title}</a> — <a href='${e.getLink()}'>${t.name}</a>`)):i18n("d-share","[feature/mfront-3990-1]Слушайте %1 на Яндекс Музыке",`<a href='${this.getLink()}'>${this.data.track.title}</a>`);case"album":return t=this.data.album&&this.data.album.artists&&this.data.album.artists[0],t?(e=new p({artist:t}),i18n("d-share","[feature/mfront-3990-1]Слушайте %1 на Яндекс Музыке",`<a href='${this.getLink()}'>${this.data.album.title}</a> — <a href='${e.getLink()}'>${t.name}</a>`)):i18n("d-share","[feature/mfront-3990-1]Слушайте %1 на Яндекс Музыке",`<a href='${this.getLink()}'>${this.data.album.title}</a>`);case"playlist":var i=`${u}/users/${this.data.playlist.owner.login}`;return i18n("d-share","[feature/mfront-3990-1]Слушайте %1 на Яндекс Музыке",`<a href='${this.getLink()}'>${this.data.playlist.title}</a> — <a href='${i}'>${this.data.playlist.owner.name}</a>`);default:return""}},p.prototype.getServices=function(){return"string"==typeof this.data.services?this.data.services.split(","):Array.isArray(this.data.services)?this.data.services:Mu.settings.isCIS?["vkontakte","twitter","odnoklassniki"]:["facebook","twitter"]},p.prototype.getAvailableLang=function(t){return t=(t||"en").toLowerCase(),["az","be","en","hy","ka","kk","ro","ru","tr","tt","uk"].includes(t)?t:"en"},p.prototype.getSize=function(){const t=["M","L"],e=(this.data.size||"").toUpperCase();return t.includes(e)?e:t[0]},p.prototype.getDirection=function(){const t=["horizontal","vertical"],e=(this.data.direction||"").toLowerCase();return t.includes(e)?e:t[0]},p.prototype.getStyle=function(){const t=(this.data.style||"").toLowerCase();return["black"].includes(t)?"d-share_style-"+t:""},p.prototype.getModes=function(){const t=[],e=Object.assign({},{centered:!0,rounded:!1,withoutText:!0},this.data);return e.centered&&t.push("d-share_centered"),e.rounded&&t.push("d-share_rounded"),e.withoutText&&t.push("d-share_without-text"),t},t.exports=p},function(t,e,i,n){t.exports=i(179)},function(t,e,i,n){"use strict";!function(){var e=1,i=2,n=3,a=4,s=5,o=6,r=7,l=8,c=9,d=10,u=11,p=function(){var t,p,h,_,m=1,g=2,f=3,y=4,v=5,b=6,k=7,w='Unexpected token "%0"',x="Unexpected end of path";function M(){for(var t,e=T();Y("|");)H(),(t||(t=[e])).push(T());return t?{type:l,args:t}:e}function T(){return Y("(")?S():L()}function S(){R("(");var t=M();R(")");for(var i,n=[];i=$();)n.push(i);return n.length?t.type===e?(t.parts=t.parts.concat(n),t):(n.unshift(t),{type:e,parts:n}):t}function $(){return Y("[")?function(){R("[");var t=function(){if(Y(":"))return H(),{type:d,toIdx:A()};var t=A();if(Y(":"))return H(),Y("]")?{type:d,fromIdx:t}:{type:d,fromIdx:t,toIdx:A()};return{type:d,idx:t}}();return R("]"),{type:a,arg:t}}():Y("{")?function(){R("{");var t=P();return R("}"),{type:n,arg:t}}():Y("(")?S():void 0}function L(){I()||q(H());var t,n=!1;Y("^")?(H(),n=!0):j()&&(t=H().val.substr(1));for(var a,s=[];a=O()?function(){var t,e=H().val,n=N();(Y("*")||n.type===m||n.type===f)&&(t=H().val);return{type:i,selector:e,prop:t}}():$();)s.push(a);return{type:e,fromRoot:n,subst:t,parts:s}}function P(){for(var t,e=C();Y("||");)H(),(t||(t=[e])).push(C());return t?{type:s,op:"||",args:t}:e}function C(){for(var t,e=D();Y("&&");)H(),(t||(t=[e])).push(D());return t?{type:s,op:"&&",args:t}:e}function D(){for(var t=function t(){var e=function(){var t=E();for(;Y("+")||Y("-");)t={type:r,op:H().val,args:[t,E()]};return t}();for(;Y("<")||Y(">")||Y("<=")||Y(">=");)e={type:o,op:H().val,args:[e,t()]};return e}();Y("==")||Y("!=")||Y("===")||Y("!==")||Y("^==")||Y("==^")||Y("^=")||Y("=^")||Y("$==")||Y("==$")||Y("$=")||Y("=$")||Y("*==")||Y("==*")||Y("*=")||Y("=*");)t={type:o,op:H().val,args:[t,D()]};return t}function E(){for(var t=A();Y("*")||Y("/")||Y("%");)t={type:r,op:H().val,args:[t,E()]};return t}function A(){return Y("!")||Y("-")?{type:c,op:H().val,arg:A()}:function(){var t=N().type;if(t===f||t===g||t===y||t===v)return{type:u,val:H().val};if(I())return L();if(Y("("))return function(){R("(");var t=P();return R(")"),t}();return q(H())}()}function Y(t){var e=N();return e.type===b&&e.val===t}function I(){return O()||j()||Y("^")}function O(){var t=N();if(t.type===b){var e=t.val;return"."===e||".."===e}return!1}function j(){var t=N();return t.type===m&&"$"===t.val[0]}function R(t){var e=H();e.type===b&&e.val===t||q(e)}function N(){if(null!==h)return h;var t=p;return h=z(),p=t,h}function z(){for(;e=t[p]," \r\n\t".indexOf(e)>-1;)++p;var e;if(p>=_)return{type:k,range:[p,p]};var i=function(){var e=p,i=t[p],n=t[p+1];if("."===i){if(F(n))return;return"."===t[++p]?{type:b,val:"..",range:[e,++p]}:{type:b,val:".",range:[e,p]}}if("="===n){var a=t[p+2];if("="===a){if("=!^$*".indexOf(i)>=0)return{type:b,val:i+n+a,range:[e,p+=3]}}else if("^$*".indexOf(a)>=0){if("="===i)return{type:b,val:i+n+a,range:[e,p+=3]}}else if("=!^$*><".indexOf(i)>=0)return{type:b,val:i+n,range:[e,p+=2]}}else if("="===i&&"^$*".indexOf(n)>=0)return{type:b,val:i+n,range:[e,p+=2]};if(i===n&&("|"===i||"&"===i))return{type:b,val:i+n,range:[e,p+=2]};if(":{}()[]^+-*/%!><|".indexOf(i)>=0)return{type:b,val:i,range:[e,++p]}}();if(i||(i=function(){var e=t[p];if(!B(e))return;var i=p,n=e;for(;++p<_&&U(e=t[p]);)n+=e;switch(n){case"true":case"false":return{type:y,val:"true"===n,range:[i,p]};case"null":return{type:v,val:null,range:[i,p]};default:return{type:m,val:n,range:[i,p]}}}())||(i=function(){if('"'!==t[p]&&"'"!==t[p])return;var e,i=t[p],n=++p,a="",s=!1;for(;p<_;){if("\\"===(e=t[p++]))e=t[p++];else if(('"'===e||"'"===e)&&e===i){s=!0;break}a+=e}if(s)return{type:f,val:a,range:[n,p]}}())||(i=function(){var e=p,i=t[p],n="."===i;if(n||F(i)){for(var a=i;++p<_;){if("."===(i=t[p])){if(n)return;n=!0}else if(!F(i))break;a+=i}return{type:g,val:n?parseFloat(a):parseInt(a,10),range:[e,p]}}}()))return i;i={range:[p,p]},p>=_?i.type=k:i.val=t[p],q(i)}function H(){var t;return h?(p=h.range[1],t=h,h=null,t):z()}function F(t){return"0123456789".indexOf(t)>=0}function B(t){return"$"===t||"@"===t||"_"===t||t>="a"&&t<="z"||t>="A"&&t<="Z"}function U(t){return B(t)||t>="0"&&t<="9"}function q(t){t.type===k&&W(t,x),W(t,w,t.val)}function W(t,e){var i=Array.prototype.slice.call(arguments,2),n=e.replace(/%(\d)/g,(function(t,e){return i[e]||""})),a=new Error(n);throw a.column=t.range[0],a}return function(e){t=e.split(""),p=0,h=null,_=t.length;var i=M(),n=H();return n.type!==k&&q(n),i}}(),h=function(){var t,d,p,h;function _(){if(h.length)return h.shift();var t="v"+ ++p;return d.push(t),t}function m(){for(var t=arguments,e=t.length;e--;)h.push(t[e])}function g(e,i,n){if(e.prop){var a=x(e.prop),s=_(),o=_(),r=_(),l=_(),c=_(),d=_(),u=_();t.push(s,"= [];",o,"= 0;",r,"=",n,".length;",u,"= [];","while(",o,"<",r,") {",l,"=",n,"[",o,"++];","if(",l,"!= null) {"),"*"===e.prop?(t.push("if(typeof ",l,'=== "object") {',"if(isArr(",l,")) {",s,"=",s,".concat(",l,");","}","else {","for(",c," in ",l,") {","if(",l,".hasOwnProperty(",c,")) {",d,"=",l,"[",c,"];"),M(s,d),t.push("}","}","}","}")):(t.push(d,"=",l,"[",a,"];"),M(s,d,u,r)),t.push("}","}",i,"=",r,"> 1 &&",u,".length?",u,".length > 1?","concat.apply(",s,",",u,") :",s,".concat(",u,"[0]) :",s,";"),m(s,o,r,l,c,d,u)}}function f(e,i,n){var a=e.prop,s=_(),o=_(),r=_(),l=_(),c=_(),d=_(),u=_(),p=_();t.push(s,"=",n,".slice(),",p,"= [];","while(",s,".length) {",o,"=",s,".shift();"),a?t.push("if(typeof ",o,'=== "object" &&',o,") {"):t.push("if(typeof ",o,"!= null) {"),t.push(r,"= [];","if(isArr(",o,")) {",l,"= 0,",u,"=",o,".length;","while(",l,"<",u,") {",d,"=",o,"[",l,"++];"),a&&t.push("if(typeof ",d,'=== "object") {'),M(r,d),a&&t.push("}"),t.push("}","}","else {"),a?"*"!==a&&(t.push(d,"=",o,'["'+a+'"];'),M(p,d)):(M(p,o),t.push("if(typeof ",o,'=== "object") {')),t.push("for(",c," in ",o,") {","if(",o,".hasOwnProperty(",c,")) {",d,"=",o,"[",c,"];"),M(r,d),"*"===a&&M(p,d),t.push("}","}"),a||t.push("}"),t.push("}",r,".length &&",s,".unshift.apply(",s,",",r,");","}","}",i,"=",p,";"),m(s,o,r,l,c,d,u,p)}function y(e,i,n){var a=_(),s=_(),o=_(),r=_(),l=_();t.push(a,"= [];",s,"= 0;",o,"=",n,".length;","while(",s,"<",o,") {",l,"=",n,"[",s,"++];"),b(e.arg,r,l),t.push(S(e.arg,r),"&&",a,".push(",l,");","}",i,"=",a,";"),m(a,s,o,l,r)}function v(e,i,n){var a,s,o=e.arg;if(o.idx){var r=_();return b(o.idx,r,n),t.push(r,"< 0 && (",r,"=",n,".length +",r,");",i,"=",n,"[",r,"] == null? [] : [",n,"[",r,"]];"),m(r),!1}o.fromIdx?o.toIdx?(b(o.fromIdx,a=_(),n),b(o.toIdx,s=_(),n),t.push(i,"=",n,".slice(",a,",",s,");"),m(a,s)):(b(o.fromIdx,a=_(),n),t.push(i,"=",n,".slice(",a,");"),m(a)):(b(o.toIdx,s=_(),n),t.push(i,"=",n,".slice(0,",s,");"),m(s))}function b(d,p,h){switch(d.type){case e:!function(e,s,o){var r=e.parts,c=0,d=r.length;for(t.push(s,"=",e.fromRoot?"data":e.subst?"subst."+e.subst:o,";","isArr("+s+") || ("+s+" = ["+s+"]);");c<d;){var u=r[c++];switch(u.type){case i:".."===u.selector?f(u,s,s):g(u,s,s);break;case n:y(u,s,s);break;case a:v(u,s,s);break;case l:w(u,s,s)}}}(d,p,h);break;case l:w(d,p,h);break;case o:!function(i,n,a){var s=_(),o=_(),r=_(),l=_(),c=_(),d=_(),p=_(),h=_(),g=i.args[0],f=i.args[1];t.push(n,"= false;"),b(g,s,a),b(f,o,a);var y=g.type===e,v=f.type===u;t.push(r,"="),y?t.push("true;"):t.push("isArr(",s,");"),t.push(l,"="),v?t.push("false;"):t.push("isArr(",o,");"),t.push("if("),y||t.push(r,"&&"),t.push(s,".length === 1) {",s,"=",s,"[0];",r,"= false;","}"),v||t.push("if(",l,"&&",o,".length === 1) {",o,"=",o,"[0];",l,"= false;","}"),t.push(c,"= 0;","if(",r,") {",p,"=",s,".length;"),v||(t.push("if(",l,") {",h,"=",o,".length;","while(",c,"<",p,"&& !",n,") {",d,"= 0;","while(",d,"<",h,") {"),k(i.op,[s,"[",c,"]"].join(""),[o,"[",d,"]"].join("")),t.push(n,"= true;","break;","}","++",d,";","}","++",c,";","}","}","else {"));t.push("while(",c,"<",p,") {"),k(i.op,[s,"[",c,"]"].join(""),o),t.push(n,"= true;","break;","}","++",c,";","}"),v||t.push("}"),t.push("}"),v||(t.push("else if(",l,") {",h,"=",o,".length;","while(",c,"<",h,") {"),k(i.op,s,[o,"[",c,"]"].join("")),t.push(n,"= true;","break;","}","++",c,";","}","}"));t.push("else {",n,"=",Y[i.op](s,o),";","}"),m(s,o,r,l,c,d,p,h)}(d,p,h);break;case r:!function(e,i,n){var a=_(),s=_(),o=e.args;b(o[0],a,n),b(o[1],s,n),t.push(i,"=",Y[e.op]($(o[0],a),$(o[1],s)),";"),m(a,s)}(d,p,h);break;case s:!function(e,i,n){var a,s=[],o=e.args,r=o.length,l=0;switch(t.push(i,"= false;"),e.op){case"&&":for(;l<r;)s.push(a=_()),b(o[l],a,n),t.push("if(",S(o[l++],a),") {");t.push(i,"= true;");break;case"||":for(;l<r;)s.push(a=_()),b(o[l],a,n),t.push("if(",S(o[l],a),") {",i,"= true;","}"),1+l++<r&&t.push("else {");--r}for(;r--;)t.push("}");m.apply(null,s)}(d,p,h);break;case c:!function(e,i,n){var a=_(),s=e.arg;switch(b(s,a,n),e.op){case"!":t.push(i,"= !",S(s,a)+";");break;case"-":t.push(i,"= -",$(s,a)+";")}m(a)}(d,p,h);break;case u:t.push(p,"="),M=d.val,t.push("string"==typeof M?x(M):null===M?"null":M),t.push(";")}var M}function k(e,i,n){t.push("if(",Y[e](i,n),") {")}function w(e,i,n){for(var a=[],s=e.args,o=s.length,r=0;r<o;)a.push(_()),b(s[r],a[r++],n);t.push(i,"= concat.call(",a.join(","),");"),m.apply(null,a)}function x(t){return"'"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}function M(e,i,n,a){t.push("if(typeof ",i,'!== "undefined") {',"if(isArr(",i,")) {"),n&&(t.push(a,"> 1?"),T(n,i),t.push(":")),t.push(e,"=",e,".length?",e,".concat(",i,") :",i,".slice()",";","}","else {"),n&&t.push("if(",n,".length) {",e,"= concat.apply(",e,",",n,");",n,"= [];","}"),T(e,i),t.push(";","}","}")}function T(e,i){t.push(e,".length?",e,".push(",i,") :",e,"[0] =",i)}function S(t,i){switch(t.type){case s:return i;case u:return"!!"+i;case e:return i+".length > 0";default:return["(typeof ",i,'=== "boolean"?',i,":","isArr(",i,")?",i,".length > 0 : !!",i,")"].join("")}}function $(t,i){switch(t.type){case u:return i;case e:return i+"[0]";default:return["(isArr(",i,")?",i,"[0] : ",i,")"].join("")}}function L(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".indexOf(",e,") === 0"].join("")}function P(t,e){return[t,"!= null &&",e,"!= null &&",t,".toString().toLowerCase().indexOf(",e,".toString().toLowerCase()) === 0"].join("")}function C(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".length >=",e,".length &&",t,".lastIndexOf(",e,") ===",t,".length -",e,".length"].join("")}function D(t,e){return[t,"!= null &&",e,"!= null &&","(",t,"=",t,".toString()).length >=","(",e,"=",e,".toString()).length &&","(",t,".toLowerCase()).lastIndexOf(","(",e,".toLowerCase())) ===",t,".length -",e,".length"].join("")}function E(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string" &&',t,".indexOf(",e,") > -1"].join("")}function A(t,e){return[t,"!= null && ",e,"!= null &&",t,".toString().toLowerCase().indexOf(",e,".toString().toLowerCase()) > -1"].join("")}var Y={"===":function(t,e){return t+"==="+e},"==":function(t,e){return["typeof ",t,'=== "string" && typeof ',e,'=== "string"?',t,".toLowerCase() ===",e,".toLowerCase() :"+t,"==",e].join("")},">=":function(t,e){return t+">="+e},">":function(t,e){return t+">"+e},"<=":function(t,e){return t+"<="+e},"<":function(t,e){return t+"<"+e},"!==":function(t,e){return t+"!=="+e},"!=":function(t,e){return t+"!="+e},"^==":L,"==^":function(t,e){return L(e,t)},"^=":P,"=^":function(t,e){return P(e,t)},"$==":C,"==$":function(t,e){return C(e,t)},"$=":D,"=$":function(t,e){return D(e,t)},"*==":E,"==*":function(t,e){return E(e,t)},"=*":function(t,e){return A(e,t)},"*=":A,"+":function(t,e){return t+"+"+e},"-":function(t,e){return t+"-"+e},"*":function(t,e){return t+"*"+e},"/":function(t,e){return t+"/"+e},"%":function(t,e){return t+"%"+e}};return function(i){if(t=[],d=["res"],p=0,h=[],b(i,"res","data"),t.unshift("var ",Array.isArray?"isArr = Array.isArray":'toStr = Object.prototype.toString, isArr = function(o) { return toStr.call(o) === "[object Array]"; }',", concat = Array.prototype.concat",",",d.join(","),";"),i.type===e){var n=i.parts[i.parts.length-1];n&&n.type===a&&"idx"in n.arg&&t.push("res = res[0];")}return t.push("return res;"),t.join("")}}();function _(t){return Function("data,subst",h(p(t)))}var m={},g=[],f={cacheSize:100},y={cacheSize:function(t,e){if(e<t&&g.length>e)for(var i=g.splice(0,g.length-e),n=i.length;n--;)delete m[i[n]]}},v=function(t,e,i){return m[t]||(m[t]=_(t),g.push(t)>f.cacheSize&&delete m[g.shift()]),m[t](e,i||{})};v.version="0.3.4",v.params=function(t){if(!arguments.length)return f;for(var e in t)t.hasOwnProperty(e)&&(y[e]&&y[e](f[e],t[e]),f[e]=t[e])},v.compile=_,v.apply=v,"object"==typeof t&&"object"==typeof t.exports?t.exports=v:"object"==typeof modules?modules.define("jspath",(function(t){t(v)})):"function"==typeof define?define((function(t,e,i){i.exports=v})):window.JSPath=v}()},function(t,e,i,n){var a=i(73),s=i(75);t.exports=function(t,e){if(!1===e)return t;var i=e;e=e||a().lang;var n=/.+([\&\?])(lang=([a-z]{2}))/.exec(t);return n?i&&n[3]!==e?t.replace(n[2],"lang="+e):t:i||"ru"!==e?t+s(t)+"lang="+e:t}},function(t,e,i,n){var a=i(182);t.exports=function(t,e){var i=Mu.genres.customTitles&&Mu.genres.customTitles[t.toLowerCase()]||a(t);return i=i||t,e?i&&i.toLowerCase():i}},function(t,e,i,n){t.exports=function(t,e){var i=Mu.genres.titles&&Mu.genres.titles[t.toLowerCase()];return e?i&&i.toLowerCase():i}},function(t,e,i,n){var a=i(181);t.exports=function(t){return"/genre/"+encodeURIComponent(a(t,!0))}},function(t,e,i,n){var a=i(73);t.exports=function(){return"https://"+(Mu.serviceName||"music")+".yandex."+a().tld}},function(t,e,i,n){t.exports=function(t,e){return"string"==typeof t&&"string"==typeof e&&0===t.indexOf(e)}},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("d-share-popup",(s=i(187),o=i(193),(r=function(){}).inherit(s),r.init=function(t){s.init.call(r,t),a=t.get("blocks").get("iframe-config")},r.prototype.initPopup=function(){this.popup||(s.prototype.initPopup.call(this),this.$popupDom.on("click",".d-share-popup__button-code",this.onShareConfig.bind(this)),document.queryCommandSupported("copy")||this.$popupDom.on("click",".d-share-popup__button-link",this.onButtonClick.bind(this,"d-share-popup__link")))},r.prototype.onClick=function(){this.isDisabled||s.prototype.onClick.call(this)},r.prototype.onPopupClose=function(){s.prototype.onPopupClose.call(this)},r.prototype.onButtonClick=function(t,e){var i=e.currentTarget;this.popup.show(),this.currentTarget!==i&&this.toggleButton(this.currentTarget,!1),this.currentTarget=i},r.prototype.toggle=function(){var t=this.popup.toggle();this.setOpen(t)},r.prototype.toggleButton=function(t,e){var i=$(t);return e=void 0===e?!i.hasClass("d-button_checked"):e,i.toggleClass("d-button_checked",e),e},r.prototype.getShareInfo=function(){if(this.data.track){var t=this.data.track.albums;return t=(t=t&&t[0])&&t.id,{type:"track",id:this.data.track.id+(t?"/"+t:""),content:o(this.data)}}return this.data.album?{type:"album",id:this.data.album.id,content:o(this.data)}:this.data.playlist?{type:"playlist",id:this.data.playlist.owner.login+"/"+this.data.playlist.kind,content:o(this.data)}:void 0},r.prototype.onShareConfig=function(){var t=this.getShareInfo();a.show(t.type,t.id,t.content),this.toggle()},r))},function(t,e,i,n){var a,s,o,r=i(188),l=function(){};l.init=function(t){a=$(window),s=t.get("blocks"),o=t.get("auth"),this.domDelegate("click",(function(t){var e=s.forElem(this,"share-container");if(e||(e=s.forElem(this)),e&&"inline"!==e.data.type)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.onClick(),!1})),l.$shareHolder||(l.$shareHolder=$("<div class='share__holder'/>").appendTo(document.body))},l.prototype.init=function(){this.$cont=$(this.container),this.$dButton=this.$cont.find(".d-button"),this.offset=void 0===this.data.offset?12:this.data.offset,this.data.isLoggedIn=o.isLoggedIn(),this.isDisabled=this.$dButton.hasClass("disabled")},l.prototype.initPopup=function(){this.popup||(this.$track=this.$cont.closest(".track, .d-track"),this.$popupDom=$(r(this.data)).appendTo(l.$shareHolder),this.$popupTail=this.$popupDom.find(".d-share-popup__tail-wrapper"),this.$yaShare=this.$popupDom.find(".d-share__yashare"),this.popup=new(Mu.blocks.get("popup"))(this.$popupDom[0],{position:{my:"center top",at:"center bottom",of:this.$cont},fixed:!!this.data.fixed,toggable:!0}),this.popup.on("hide",this.onPopupClose.bind(this)),this.popup.on("show",this.onPopupShow.bind(this)),s.initPendingBlocks(this.$popupDom[0]))},l.prototype.onClick=function(){this.isDisabled||(this.initPopup(),this.toggle())},l.prototype.onPopupShow=function(){var t,e=this.popup.getOffset();t=this.$dButton.length?this.$dButton.offset().top-a.scrollTop():this.$cont.offset().top-a.scrollTop();var i,n,s=e.top,o=e.left;this.$dButton.length?(i=this.$dButton.outerWidth(),n=this.$dButton.offset().left):(i=this.$cont.outerWidth(),n=this.$cont.offset().left),this.position=t<s?1:0,this.$popupDom.toggleClass("d-share-popup__popup_top",0===this.position),this.$popupDom.toggleClass("d-share-popup__popup_bottom",1===this.position),this.$popupDom.css({top:s+(0===this.position?-1:1)*this.offset}),this.$popupTail.removeAttr("style"),this.$popupTail.css({left:n-o+Math.ceil(i/2)}),this.triggerEvent({type:"share.popup-showed"})},l.prototype.onPopupClose=function(){this.setOpen(!1),this.data.permanent||this.destroy(),this.triggerEvent({type:"share.popup-hided"})},l.prototype.toggle=function(){var t=this.popup.toggle();this.setOpen(t)},l.prototype.destroy=function(){this.popup&&(this.$popupDom.remove(),this.$popupDom=null,this.popup=null)},l.prototype.setDisabled=function(t){if(this.isDisabled=this.data.disabled=t,this.$dButton.length){var e=s.forElem(this.$dButton[0]);e&&e.toggleDisabled(t)}else this.$dButton.toggleClass("disabled",t);this.$yaShare&&this.$yaShare.toggle(!t)},l.prototype.setOpen=function(t){this.$cont.toggleClass("d-share-popup_open",t),this.$dButton.length?this.$dButton.toggleClass("active",t):this.$cont.toggleClass("d-button_checked",t),this.$track.toggleClass("track_hover d-track_hover",t)},t.exports=l},function(t,e,i,n){t.exports=function(){var t=i(189),e=i(190),n=i(191),a=i(143);return function(i){var s="",o=""+e(i);return s+='<div class="d-share-popup__popup ">',"vote"==i.popupType&&(s+='<div class="d-share-popup__content">'+__escape(i18n("d-share-popup","Голосуйте%1 постом в соцсеть","<br/>"))+"</div>"),s+='<div class="d-share-popup__bar"><div class="d-share-popup__buttons">'+t(i)+'</div><div class="d-share-popup__actions">',(i.track||i.album||i.playlist)&&!i.noCode&&(s+=a.render({text:i18n("d-share-popup","HTML-код"),size:"S",class:"d-share-popup__button-code"})),i.noLink||(s+=n.render({button:{size:"S",text:i18n("d-share-popup","Скопировать ссылку")},value:o,class:"d-share-popup__button-link",successText:i18n("d-share-popup","Ссылка скопирована"),errorText:i18n("d-share-popup","Скопировать не удалось"),tooltipTheme:i.tooltipTheme||"black"})),s+='</div></div><div class="d-share-popup__tail-wrapper"><div class="d-share-popup__tail deco-pane-popup deco-pane-arrow_up"></div></div></div>'}}()},function(t,e,i,n){var a;t.exports=(a=i(177),function(t){var e="",i=new a({data:t});return e+='<div class="d-share '+__escape(i.getStyle())+" "+__escape(i.getModes().join(" "))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-share",!0))+'"><div class="d-share__yashare"></div></div>'})},function(t,e,i,n){var a;t.exports=(a=i(177),function(t){var e="";return e+=new a({data:t}).getLink()})},function(t,e,i,n){var a={render:i(192)};clientSide&&(a.controller=i(163)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(151),e=i(139),n=i(143),a=function(t){var i="";return t.input&&(i+=" ",t.input.class=t.input.class||"",t.input.class+=" d-copy__input",i+=" "+e.render(t.input)+" "),i},s=function(e){var i="";return e.button?(i+=" ",e.button.class=e.button.class||"",e.button.class+=" d-copy__button",i+=" "+n.render(e.button)+" "):e.link&&(i+=" ",e.link.class=e.link.class||"",e.link.class+=" d-copy__link",i+=" "+t.render(e.link)+" "),i};return function(t){var e="",i=[];return t.revert&&i.push("d-copy__revert"),t.class&&i.push(t.class),e+='<div class="d-copy '+__escape(i.join(" "))+'" data-b='+Mu.dotBlockRoot(t,"d-copy")+">",t.revert?e+=s(t)+a(t):e+=a(t)+" "+s(t),e+="</div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(177),function(t){var e="";return e+=new a({data:t}).getCode()})},function(t,e,i,n){const a=i(25),s=i(195);Mu.blocks.register("d-slider",function(){let t,e;const i=function(){Mu.eventize(this)};return i.init=function(i){t=i.get("dataSrc"),e=i.get("metrika")},i.prototype.init=function(){Array.isArray(this.data.items)&&0!==this.data.items.length&&(this.settings={step:this.data.step||1,longStep:this.data.longStep||1,endless:this.data.endless||!1,shrinkToIntegerItemCount:this.data.shrink||!1},this.data.itemTemplate||(this.settings.endless=!1),this.itemTemplate=s.itemTemplate(this.data),this.$cont=$(this.container),window.setTimeout(()=>{$(".app-wall").length>0?$(".app-wall__close").on("click",this.fullInit.bind(this)):this.fullInit()},0))},i.prototype.fullInit=function(){window.setTimeout(()=>{this.$cont=$(this.container),this.$items=this.$cont.find(".d-slider__item"),this.$itemsMover=this.$cont.find(".d-slider__items"),this.$itemsContainer=this.$cont.find(".d-slider__items-container"),this.$resizableContainer=this.$cont.find(".d-slider__container"),this.$backButton=this.$cont.find(".d-slider__control_back"),this.$fwdButton=this.$cont.find(".d-slider__control_fwd"),this.itemWidth=this.data.itemWidth||this.$items.eq(0).outerWidth(!0),this.itemsCount=this.data.items.length,this.visibleItemsCount=Math.min(Math.floor(this.$cont.width()/this.itemWidth),this.itemsCount),this.visibleItemsCount=Math.max(1,this.visibleItemsCount),this.settings.step=Math.min(this.settings.step,this.visibleItemsCount),this.itemsPerPage=Math.min(this.visibleItemsCount,this.itemsCount),this.currentIndex=0,this.currentOffset=0,this.isTooShort=this.visibleItemsCount>=this.itemsCount,this.pushedPagesCount=0,this.unshiftedPagesCount=0,this._moveThrottled=a.throttle(200,this.move).bind(this),this._resizeThrottled=a.throttle(200,this._updateDimensions).bind(this),this._checkForPages(),this._toggleControls(),this.settings.shrinkToIntegerItemCount&&this.$resizableContainer.css("width",this.visibleItemsCount*this.itemWidth),this.$items.on("click",function(t){const e=$(t.target).closest(".d-slider__item");e&&e.size()&&(this.$items.removeClass("d-slider__item_active"),e.addClass("d-slider__item_active"),this.trigger("click",e.get(0),e.index()))}.bind(this)),this.$cont.on("click",".d-slider__control_back",this._moveThrottled.bind(this,-this.settings.step)),this.$cont.on("click",".d-slider__control_fwd",this._moveThrottled.bind(this,this.settings.step)),this.$cont.on("mousedown touchstart",".d-slider__control_fwd",function(t){3!==t.which&&(this.mousedownTO=window.setTimeout(function(){this._startLongMove(this.settings.longStep)}.bind(this),300))}.bind(this)),this.$cont.on("mouseup mouseout touchend",".d-slider__control_fwd",function(){window.clearTimeout(this.mousedownTO),this.longMoveStarted?this._endLongMove():this._cancelLongMove()}.bind(this)),this.$cont.on("mousedown touchstart",".d-slider__control_back",function(t){3!==t.which&&(this.mousedownTO=window.setTimeout(function(){this._startLongMove(-this.settings.longStep)}.bind(this),300))}.bind(this)),this.$cont.on("mouseup mouseout touchend",".d-slider__control_back",function(){window.clearTimeout(this.mousedownTO),this.longMoveStarted?this._endLongMove():this._cancelLongMove()}.bind(this)),this.$cont.on("touchstart touchend touchmove touchcancel",".d-slider__items-container",function(t){"touchstart"===t.type&&(this.lastTouchStart=Date.now()),"touchend"===t.type&&Date.now()-this.lastTouchStart>200&&(t.stopPropagation(),t.preventDefault()),"touchmove"===t.type?(t.stopPropagation(),t.preventDefault(),this._touchDrag(t.originalEvent)):t.originalEvent.touches&&0!==t.originalEvent.touches.length?this._startTouchDrag(t.originalEvent):this._endTouchDrag(t.originalEvent)}.bind(this)),$(window).on("resize",this._resizeThrottled),this.$cont.on("mousewheel wheel",".d-slider__items-container",this._onScroll.bind(this)),this.$cont.removeClass("uninited")},0),this.data.autoscroll&&(this.settings.autoscroll={step:this.data.autoscroll.step||this.settings.step,interval:this.data.autoscroll.interval||5e3},this.__autoscroll=this._autoscroll.bind(this),this._startAutoscroll()),this.initSlider()},i.prototype.initSlider=function(){var e=this;if(e.$cont=$(e.container),e.$cont.hasClass("page-main__promo")&&(e.$dSliderButtons=e.$cont.find(".d-slider__control"),e.$dSliderItemLinks=e.$cont.find(".promo-slider-item__wrapper"),e.$dSliderButtons.on("click",e.onSliderButtonClick.bind(e)),e.$dSliderItemLinks.on("click",e.onSliderItemClick.bind(e)),e.$cont&&e.$cont.size())){var i=e.$cont.closest("[data-type]").attr("data-type");e.getItems().forEach((function(t){var n={},a=t.data&&t.data.promoId;a&&(n[a]={loaded:1},e._sendCount(i,n))})),e.previouslyShownItems=[];var n=function(){var i=e.getShownItems();if(e.previouslyShownItems=e.previouslyShownItems.filter(t=>i.some(e=>e.data&&e.data.promoId===t)),i&&i.length>0){var n=[];i.forEach((function(t){var i=new Image,a=t.data&&t.data.promoId;if(a){if(!e.previouslyShownItems.includes(a)){n.push(a),e.previouslyShownItems.push(a);var s={};s[a]={showed:1},e._sendCount(e._detectType(e.$cont),s)}i.src="//clck.yandex.ru/counter/dtype=stred/pid=78/cid=73158/path="+a+"/*"}})),n.length>0&&t&&t.post("promo-feedback",{action:"show",ids:n.join(",")})}};e.on("move",n.bind(e)),e.on("click",(function(e){var i=$(e.innerHTML).data("id");i&&t&&t.post("promo-feedback",{action:"click",ids:i})}));const a=()=>{this.$items?n():setTimeout(()=>a(),1e3)};a()}},i.prototype._detectType=function(t){return $(t&&t.target||t).closest(".page-line").attr("data-type")},i.prototype._sendCount=function(t,i){if(i&&t&&this.data.metrikaPath){const n=this.data.metrikaPath,a={[n.page]:{[n.subPage]:{[t]:i}}};e.count(a)}},i.prototype.onSliderButtonClick=function(t){this._sendCount(this._detectType(t),{scroll:1})},i.prototype.onSliderItemClick=function(t){this._sendCount(this._detectType(t),{object:1});var e=$(t.target).closest(".promo-slider-item").attr("data-id");if(e){var i={};i[e]={click:1},this._sendCount(this._detectType(t),i)}},i.prototype.isNotMovable=function(){return!this.settings.endless||this.isTooShort},i.prototype._updateDimensions=function(){let t=Math.min(Math.floor(this.$cont.width()/this.itemWidth),this.itemsCount);t=Math.max(1,t),t!==this.visibleItemsCount&&(this.visibleItemsCount=t,this.itemsPerPage=Math.min(this.visibleItemsCount,this.itemsCount),this.settings.shrinkToIntegerItemCount&&this.$resizableContainer.css("width",this.visibleItemsCount*this.itemWidth),this.isTooShort=this.visibleItemsCount>=this.itemsCount,this._checkForPages(),this._toggleControls(),this.isNotMovable()&&this.visibleItemsCount>this.itemsCount-this.currentIndex&&(this.currentIndex=this.itemsCount-this.visibleItemsCount,this._updateOffset(),this._toggleControls()))},i.prototype._startLongMove=function(t){this._stopAutoscroll(),delete this.mousedownTO,this.longMoveStarted=!0,window.clearTimeout(this.longMoveEndTO),this.$itemsMover.removeClass("end").addClass("start"),this.longMoveStartTO=window.setTimeout(function(){this.$itemsMover.removeClass("start").addClass("started")}.bind(this),299),this.longMoveInterval=window.setInterval(function(){this.move(t,!0)}.bind(this),400),this.move(t,!0)},i.prototype._endLongMove=function(){window.clearInterval(this.longMoveInterval),window.clearTimeout(this.longMoveStartTO),window.setTimeout(function(){this.longMoveStarted=!1}.bind(this),0),this.$itemsMover.removeClass("start started").addClass("end"),this.longMoveEndTO=window.setTimeout(function(){this.$itemsMover.removeClass("end"),this._startAutoscroll()}.bind(this),350)},i.prototype._cancelLongMove=function(){window.clearInterval(this.longMoveInterval),window.clearTimeout(this.longMoveStartTO),this.$itemsMover.removeClass("start started end")},i.prototype._startTouchDrag=function(t){this.$itemsMover.removeClass("d-slider__items_animated"),this.lastX=t.touches[0].pageX},i.prototype._touchDrag=function(t){const e=t.touches[0].pageX,i=e-this.lastX;this.$itemsMover.css(this._getTransformForDiff(-i)),this.lastX=e},i.prototype._endTouchDrag=function(){this._moveCloser()},i.prototype._onScroll=function(t){if(!(Math.abs(t.originalEvent.deltaX||t.originalEvent.wheelDeltaX)>Math.abs(t.originalEvent.deltaY||t.originalEvent.wheelDeltaY)))return;let e;t.preventDefault(),t.stopPropagation(),window.clearTimeout(this.scrollTO),e="mousewheel"===t.type||"wheel"===t.type?t.originalEvent.wheelDeltaX:t.originalEvent.deltaX;const i=-e;if(0===i)return;if(this.scrollDirection=i<0?"right":"left",this.isNotMovable()){if("left"===this.scrollDirection&&this._isLastItemVisible())return void this._toggleControls();if("right"===this.scrollDirection&&0===this.currentIndex)return void this._toggleControls()}const n=this._getMinIndex(),a=this._getMaxIndex();this.$itemsMover.removeClass("d-slider__items_animated"),"right"===this.scrollDirection&&this._getClosestIndexForOffset(this.currentOffset-this.itemWidth/2)<=n?(this.currentIndex=n,this._updateOffset(),this._checkForPages()):"left"===this.scrollDirection&&this._getClosestIndexForOffset(this.currentOffset+this.itemWidth/2)>=a?(this.currentIndex=a,this._updateOffset(),this._checkForPages()):this.$itemsMover.css(this._getTransformForDiff(i)),this.scrollTO=window.setTimeout(this._moveCloser.bind(this),200),this.lastX=e},i.prototype._moveCloser=function(){this.$itemsMover.addClass("d-slider__items_animated"),this.move(this._getClosestIndexForOffset(this.currentOffset)-this.currentIndex),this._cleanUpAfterMove()},i.prototype._cleanUpAfterMove=function(){window.clearTimeout(this.cleanUpTO),this.cleanUpTO=window.setTimeout(this._checkForPages.bind(this),300)},i.prototype.move=function(t,e){if(this._stopAutoscroll(),!e&&this.longMoveStarted||isNaN(t))return!1;const i=parseInt(t,10);this._checkForPages();let n=this.currentIndex+i;this.isNotMovable()&&(n=Math.min(n,this._getMaxIndex()),n=Math.max(n,this._getMinIndex()));let a=this.settings.endless||n>=this._getMinIndex()&&n<=this._getMaxIndex();return this.isNotMovable()&&a&&i>0&&(a=!this._isLastItemVisible()),a?(this.currentIndex=n,this.$itemsMover.css(this._getTransformForIndex(this.currentIndex)),this._updateItemsForIndex(this.currentIndex),this.$cont.toggleClass("d-slider_shifted",0!==this.currentIndex),this.$cont.toggleClass("d-slider_ended",this.currentIndex===this.itemsCount-1),this._toggleControls(i,n),this.trigger("move",{target:this,directionRatio:i}),this._startAutoscroll(),!0):(this.$itemsMover.css(this._getTransformForIndex(this.currentIndex)),this._updateItemsForIndex(this.currentIndex),this.$cont.toggleClass("d-slider_shifted",0!==this.currentIndex),this.$cont.toggleClass("d-slider_ended",this.currentIndex===this.itemsCount-1),this._toggleControls(),!1)},i.prototype.moveTo=function(t){this.move(t-this.currentIndex,!0)},i.prototype.getItems=function(){return this.data.items},i.prototype.getShownItems=function(){const t=Math.min(Math.round(this.$cont.width()/this.itemWidth),this.itemsCount);if(t>=this.itemsCount)return this.data.items;const e=this.currentIndex<0?this.currentIndex+this.data.items.length:this.currentIndex;let i=this.data.items.slice(e,t+e);return i.length<t&&(i=i.concat(this.data.items.slice(0,t-i.length))),i},i.prototype._isLastItemVisible=function(){const t=this.unshiftedPagesCount*this.itemsPerPage+this.currentIndex;return Math.abs(this._getMinIndex())+this._getMaxIndex()-t<=0},i.prototype._toggleControls=function(){this.$backButton.toggleClass("d-slider__control_hidden",this.isTooShort),this.$fwdButton.toggleClass("d-slider__control_hidden",this.isTooShort)},i.prototype._getTransformForDiff=function(t){const e=this.currentOffset-t,i=0===e?"":`translate(${e}px, 0)`;return this.currentOffset=e,{"-webkit-transform":i,"-moz-transform":i,"-ms-transform":i,transform:i}},i.prototype._getTransformForIndex=function(t){const e=-(t+this.unshiftedPagesCount*this.itemsPerPage)*this.itemWidth,i=0===e?"":`translate(${e}px, 0)`;return this.currentOffset=e,{"-webkit-transform":i,"-moz-transform":i,"-ms-transform":i,transform:i}},i.prototype._updateItemsForIndex=function(t){this.$items.each((e,i)=>{if(this.itemsCount+t<=e){const t=this.itemWidth*this.itemsCount,e=0===t?"":`translate(-${t}px, 0)`;$(i).css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e})}else if(t-1>e){const t=this.itemWidth*this.itemsCount,e=0===t?"":`translate(${t}px, 0)`;$(i).css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e})}else $(i).css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"",transform:""})})},i.prototype._getClosestIndexForOffset=function(t){return-Math.round((t+this.unshiftedPagesCount*this.itemsPerPage*this.itemWidth)/this.itemWidth)},i.prototype._getMinIndex=function(){return-this.unshiftedPagesCount*this.itemsPerPage||0},i.prototype._getMaxIndex=function(){return this.itemsCount+this.pushedPagesCount*this.itemsPerPage-this.itemsPerPage},i.prototype._updateOffset=function(t){t&&this.$itemsMover.removeClass("d-slider__items_animated"),this.$itemsMover.css(this._getTransformForIndex(this.currentIndex)),this._updateItemsForIndex(this.currentIndex),t&&(this.$itemsMover[0].offsetHeight,this.$itemsMover.addClass("d-slider__items_animated"))},i.prototype._checkForPages=function(){this.settings.endless&&(this.isTooShort||(this.isTooShort=this.visibleItemsCount>=this.itemsCount),this._prunePages())},i.prototype._prunePages=function(){if(Math.abs(this.currentIndex)>=this.itemsCount){let t=this.currentIndex>=0?Math.abs(this.currentIndex%this.itemsCount):this.itemsCount-Math.abs(this.currentIndex%this.itemsCount);t===this.itemsCount&&(t=0),this.currentIndex=t,this._updateOffset(!0)}},i.prototype._updateItems=function(){this.$items=this.$cont.find(".d-slider__item")},i.prototype._startAutoscroll=function(){this.settings.autoscroll&&(this._stopAutoscroll(),this.__autoscrollTO=window.setTimeout(this.__autoscroll,this.settings.autoscroll.interval))},i.prototype._stopAutoscroll=function(){this.__autoscrollTO&&(window.clearTimeout(this.__autoscrollTO),delete this.__autoscrollTO)},i.prototype._autoscroll=function(){this.move(this.settings.autoscroll.step)&&this._startAutoscroll()},i.prototype.destroy=function(){$(window).off("resize",this._resizeThrottled)},i}())},function(t,e,i,n){var a=i(196);t.exports={className:function(t){var e=[];return t.theme&&e.push("d-slider__theme-"+t.theme),t.decoTheme&&e.push("local-theme-"+t.decoTheme),t.decoIconTheme&&e.push("local-icon-theme-"+t.decoIconTheme),t.addClass&&e.push(t.addClass),clientSide&&e.push("uninited"),e.join(" ")},itemTemplate:function(t){var e=JSON.stringify;return t.itemTemplate.render?e=t.itemTemplate.render:t.itemTemplate&&(e=function(e){return Mu.render(t.itemTemplate,e)}),function(t){return a(e(t))}}}},function(t,e,i,n){t.exports=function(t){return'<div class="d-slider__item">'+t+"</div>"}},function(t,e,i,n){var a;Mu.blocks.register("d-slider-vert",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$track=this.$cont.find(".d-slider-vert__track"),this.$filled=this.$cont.find(".d-slider-vert__filled"),this.$drag=this.$cont.find(".d-slider-vert__drag"),this.$drag.on("keydown",this.onKeyboard.bind(this)),this.$cont.on("mouseenter",this.onHover.bind(this)),this.$cont.on("mouseleave",this.onLeave.bind(this)),this.$drag.on("mousedown",this.onMouseDown.bind(this)),this.$cont.on("touchstart",this.onTouchStart.bind(this)),this.$cont.on("click",this.onClick.bind(this)),this.__onScroll=this.onScroll.bind(this),this.__onDrag=this.onDrag.bind(this),this.__onMouseUp=this.onMouseUp.bind(this),this.__onTouchMove=this.onTouchMove.bind(this),this.__onTouchEnd=this.onTouchEnd.bind(this),this.setPosition(this.data.value||.5,!0)},a.prototype.setPosition=function(t,e){this.value=Math.max(0,Math.min(1,t)),this.$filled.css("height",(100*this.value).toFixed(2)+"%"),e||this.triggerEvent({type:"sliderVert.change",target:this,value:this.value})},a.prototype.getPosition=function(){return this.value},a.prototype.stepMove=function(t){this.setPosition(this.value+.03*t)},a.prototype.onHover=function(){this.$cont.bind("DOMMouseScroll.sliderVert",this.__onScroll),this.$cont.bind("mousewheel.sliderVert",this.__onScroll)},a.prototype.onLeave=function(){this.$cont.unbind(".sliderVert")},a.prototype.onScroll=function(t){t.preventDefault&&t.preventDefault();var e=(t=t.originalEvent?t.originalEvent:t).detail?-1*t.detail:t.wheelDelta;e=e>0?1:-1,this.stepMove(e)},a.prototype.onKeyboard=function(t){38!=t.which&&40!=t.which||(t.preventDefault(),this.stepMove(38==t.which?1:-1))},a.prototype.onClick=function(t){this.setPosition(1-(t.pageY-this.$cont.offset().top)/this.$cont.height())},a.prototype.onMouseDown=function(t){t.preventDefault(),t.stopPropagation(),this.moved=!1,this.drag=!0,$(window).on("mousemove",this.__onDrag),$(window).on("mouseup",this.__onMouseUp),this.triggerEvent({type:"sliderVert.dragStart",target:this})},a.prototype.onMouseUp=function(t){this.moved&&(t.preventDefault(),t.stopPropagation()),this.drag=!1,$(window).off("mousemove",this.__onDrag),$(window).off("mouseup",this.__onMouseUp),this.triggerEvent({type:"sliderVert.dragEnd",target:this})},a.prototype.onDrag=function(t){this.moved=!0,this.onClick(t)},a.prototype.onTouchStart=function(t){t.preventDefault(),t.stopPropagation(),this.moved=!1,this.drag=!0,$(window).on("touchmove",this.__onTouchMove),$(window).on("touchend",this.__onTouchEnd),this.triggerEvent({type:"sliderVert.dragStart",target:this})},a.prototype.onTouchEnd=function(t){this.moved&&(t.preventDefault(),t.stopPropagation()),this.drag=!1,$(window).off("touchmove",this.__onTouchMove),$(window).off("touchend",this.__onTouchEnd),this.triggerEvent({type:"sliderVert.dragEnd",target:this})},a.prototype.onTouchMove=function(t){t.preventDefault();var e=t.originalEvent.changedTouches;e&&e[0]&&this.onDrag({pageY:e[0].pageY})},a))},function(t,e,i,n){var a;Mu.blocks.register("d-submitable-input",((a=function(){Mu.eventize(this)}).prototype.init=function(){this.$cont=$(this.container),this.$input=this.$cont.find(".d-submitable-input__input"),this.input=Mu.blocks.forElem(this.$input[0]),this.$submit=this.$cont.find(".d-button"),this.submit=Mu.blocks.forElem(this.$submit[0]),this.$submit.on("click",this.onSubmit.bind(this)),this.$input.on("keypress",function(t){13===(t.keyCode||t.which)&&this.onSubmit(t)}.bind(this))},a.prototype.onSubmit=function(t){this.submit.toggleDisabled(!0),t.stopPropagation(),t.preventDefault(),this.trigger("submit",{value:this.input.value()})},a.prototype.onSuccess=function(t){this.$cont.addClass("d-submitable-input_success"),this.input.toggleDisabled(!0),this.input.validate(),this.input.value(t)},a.prototype.onError=function(t){this.submit.toggleDisabled(!1),this.input.setTipFail(t),this.input.toggleValid(!1),this.input.toggleActive(!0)},a))},function(t,e,i,n){var a;Mu.blocks.register("d-toggler",((a=function(){Mu.eventize(this)}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$view=this.$cont.find(".d-toggler__view"),this.$value=this.$cont.find(".d-toggler__value"),this.$text=this.$cont.find(".d-toggler__text_selected"),this.$textOpposite=this.$cont.find(".d-toggler__text_opposite"),this.$input=this.$cont.find(".d-toggler__input"),this.$view.on("click",this.onClick.bind(this)),this.data.clickableValue&&this.$value.on("click",this.onClick.bind(this)),this.$input.on("change",this.onChange.bind(this)),this.data.checked=!!this.data.checked,this.data.onText=this.data.onText?this.data.onText:i18n("d-toggler","Вкл"),this.data.offText=this.data.offText?this.data.offText:i18n("d-toggler","Выкл"),this.data.fixedLength||this.$textOpposite.remove()},a.prototype.onChange=function(){this.data.disabled?this.$input.prop("checked",this.data.checked):this.toggle(this.$input.is(":checked"))},a.prototype.onClick=function(){this.toggle()},a.prototype.isChecked=function(){return this.data.checked},a.prototype.check=function(){this.toggle(!0)},a.prototype.uncheck=function(){this.toggle(!1)},a.prototype.toggle=function(t,e){this.data.disabled||(this.data.checked=void 0!==t?!!t:!this.data.checked,this.$cont.toggleClass("deco-toggler_on",this.data.checked),this.$input.prop("checked",this.data.checked),this.data.showOpposite||(this.$text.text(this.data.checked?this.data.onText:this.data.offText),this.$textOpposite.text(this.data.checked?this.data.offText:this.data.onText)),this.data.onToggle&&"function"==typeof this.data.onToggle&&this.data.onToggle(this),e||(this.triggerEvent({type:"toggler.change",data:this}),this.trigger(this.data.checked?"toggleOn":"toggleOff",this),this.trigger("changed",this)))},a.prototype.toggleDisabled=function(t){this.data.disabled=void 0!==t?!!t:!this.data.disabled,this.$cont.toggleClass("deco-toggler_disabled",this.data.disabled)},a))},function(t,e,i,n){const a=i(108),s=i(201),o=i(202);Mu.blocks.register("d-tooltip",function(){let t;const e=["alert","notice","confirm"],i=["top","bottom","left","right"],n=a.themesList(),r=function(){},l=function(){Mu.eventize(this)};return l.init=function(e){t=e.get("pages")},l.showWithConditions=function(t,e){if(e.conditions){if(!$.cookie(e.conditions.cookieName)&&"on"===Mu.experiments[e.conditions.experimentName]){const i=()=>{const i=$(t)[0],n=i&&i.getBoundingClientRect(),a=$(window).height()-$(".bar").height()-e.conditions.verticalDistance;return n&&n.top>=0&&n.bottom<=a},n=()=>{$.cookie(e.conditions.cookieName)||($.cookie(e.conditions.cookieName,1,{path:"/"}),this.show(t,e))},a=()=>{i()&&($(window).off("scroll",a),setTimeout(()=>n(),500))},s=()=>{$(window).off("scroll",a).on("scroll",a)};$(window).on("load",()=>i()?n():s())}}else this.show(t,e)},l.show=function(t,e){const i=l.getTooltip(t,e);return i&&i.popup&&i.popup.show(),i},l.getTooltip=function(t,e){const i=$(t).eq(0);if(!i.size())return null;let n=i.data("tooltip");const a=n&&n.popup;let o=e||{};if("string"==typeof t||"undefined"!=typeof jQuery&&t instanceof jQuery?o=Object.assign({selector:t},o):"object"==typeof t&&(o=t),a)n.updateContent(o);else{const t=$(s(o));o.container=o.container||i.parent(),$(o.container).append(t),n=Mu.blocks.forElem(t.get(0))}return n},l.prototype.init=function(){const e=this;e.$cont=$(e.container),e.$content=e.$cont.find(".d-tooltip__content"),e.onLoaded=e.onLoaded.bind(e),t.current?e.prepare():t.on("loaded",e.onLoaded),e.$cont.on("click",".d-tooltip__btn-agree",(function(){try{e.data.onAgree=e.data.onAgree instanceof Function?e.data.onAgree:r,e.data.onAgree(e.data.destinationElem,e)}finally{e.trigger("agree",{tooltip:e}),e.hide()}})),e.$cont.on("click",".d-tooltip__btn-disagree",(function(){try{e.data.onDisagree=e.data.onDisagree instanceof Function?e.data.onDisagree:r,e.data.onDisagree(e.data.destinationElem,e)}finally{e.trigger("disagree",{tooltip:e}),e.hide()}}))},l.prototype.destroy=function(){const t=this;try{["before-show","show","hide","agree","disagree"].forEach((function(e){t.off(e)})),t.$cont.remove()}catch(t){}},l.prototype.prepare=function(){this.makePopup(),this.$cont.removeClass("_hidden"),this.$cont.toggleClass("d-tooltip_wide",this.data.wide),this.$cont.toggleClass("d-tooltip_min-width",this.data.withMinWidth)},l.prototype.onLoaded=function(){this.prepare(),t.off("loaded",this.onLoaded)},l.prototype.updateContent=function(t){this.makeParams(t);const e=$(o(this.data));this.$content.replaceWith(e),this.$content=e,this.popup&&this.popup.setOptions(t)},l.prototype.findVisibleElement=function(t,e){const i=$(t).eq(0);if(i.is(":visible"))return i;const n=i.parents(":visible");if(!n.length)return i;let a;switch(e){case"top":case"bottom":a=(t,e)=>$(e).width()>0;break;default:a=(t,e)=>$(e).height()>0}const s=n.filter(a).first();return s.length?s:i},l.prototype.makeParams=function(t){const a=Object.assign({},this.data,t||{});return a.side=i.includes(a.side)?a.side:i[1],a.destinationElem=a.doNotChangeDestinationElement?$(a.selector).eq(0):this.findVisibleElement(a.selector,a.side),a.theme=n.includes(a.theme)?a.theme:null,a.fade=!!a.fade,a.fixed=!!a.fixed,a.wide=!!a.wide,a.withMinWidth=!!a.withMinWidth,e.includes(a.type)||(a.type=e[0]),this.data=a,this.data},l.prototype.buildPosition=function(){let t={},e=this.data.side;const i=this.data.destinationElem,n=this.detectFallbackSide();switch(n!==this.data.side&&(e=n),e){case"top":t={my:"center bottom",at:"center top-8",of:i,collision:"fit"};break;case"left":t={my:"right center",at:"left-8 center",of:i,collision:"fit"};break;case"right":t={my:"left center",at:"right+8 center",of:i,collision:"fit"};break;case"bottom":t={my:"center top",at:"center bottom+8",of:i,collision:"fit"}}return t},l.prototype.detectFallbackSide=function(){let t=0,e=0;const i=this.$cont,n=Math.round(i.outerWidth()/2),a=Math.round(i.outerHeight()/2),s=this.data.destinationElem,o=Math.round(s.outerWidth()/2),r=Math.round(s.outerHeight()/2),l=s.offset().left+o,c=s.offset().top+r;switch(this.data.side){case"top":t=l-n,e=s.offset().top-i.outerHeight();break;case"left":t=s.offset().left-i.outerWidth(),e=c-a;break;case"right":t=s.offset().left+s.outerWidth(),e=c-a;break;case"bottom":t=l-n,e=s.offset().top+s.outerHeight()}let d=this.data.side;return t<0&&(d="right"),e<0&&(d="bottom"),d},l.prototype.makePopup=function(t){const e=this;if(!e.popup){const a=e.makeParams(t),s=new(Mu.blocks.get("popup"))(e.$cont,{toggable:!0,persistent:!1,fade:a.fade,position:a.position,fixed:a.fixed,notHideOnScroll:a.notHideOnScroll,appendable:a.appendable});switch(s.on("beforeshow",(function(){try{s.$cont.removeClass("local-theme-"+n.join(" local-theme-")),e.data.theme&&s.$cont.addClass("local-theme-"+e.data.theme),e.data.onBeforeShow instanceof Function&&e.data.onBeforeShow(e.data.destinationElem,e)}finally{e.trigger("before-show",{tooltip:e})}})),s.on("show",(function(){try{const t={position:e.buildPosition()};s.setOptions(t),s.position(),s.$cont.removeClass("deco-tooltip_to-"+i.join(" deco-tooltip_to-")),s.$cont.addClass("deco-tooltip_to-"+e.detectPosition()),e.data.onShow instanceof Function&&e.data.onShow(e.data.destinationElem,e)}finally{e.trigger("show",{tooltip:e})}})),s.on("hide",(function(){try{e.data.onHide instanceof Function&&e.data.onHide(e.data.destinationElem,e)}finally{e.trigger("hide",{tooltip:e})}})),a.event){case"hover":a.destinationElem.on("mouseenter",(function(){e.show()})),a.destinationElem.on("mouseleave",(function(t){e.$cont.is(t.toElement||t.relatedTarget)||e.$cont.has(t.toElement||t.relatedTarget).size()||e.hide()})),s.$cont.on("mouseleave",(function(){e.hide()}));break;case"click":a.destinationElem.on("click",(function(){e.toggle()}))}a.destinationElem.data("tooltip",e),e.popup=s}return e.popup},l.prototype.getElementSize=function(t){return t[0]&&t[0].getBoundingClientRect?t[0].getBoundingClientRect():{height:t.outerHeight(),width:t.outerWidth()}},l.prototype.detectPosition=function(){const t=this.data.destinationElem;if(!t||!t.size())return"";const e=this.getElementSize(t),i=this.getElementSize(this.$cont),n=t.offset().left+Math.round(e.width/2),a=t.offset().top+Math.round(e.height/2),s=this.$cont.offset().left+Math.round(i.width/2)-n,o=this.$cont.offset().top+Math.round(i.height/2)-a;let r="";s>=0&&o>=0?r=Math.abs(s)<Math.abs(o)?"bottom":"right":s<0&&o>=0?r=Math.abs(s)<Math.abs(o)?"bottom":"left":s>=0&&o<0?r=Math.abs(s)<Math.abs(o)?"top":"right":s<0&&o<0&&(r=Math.abs(s)<Math.abs(o)?"top":"left");let l={};switch(r){case"top":l={top:"auto",right:"auto",bottom:0,left:`calc(50% - ${s}px)`};break;case"right":l={top:`calc(50% - ${o}px)`,right:"auto",bottom:"auto",left:0};break;case"bottom":l={top:0,right:"auto",bottom:"auto",left:`calc(50% - ${s}px)`};break;case"left":l={top:`calc(50% - ${o}px)`,right:0,bottom:"auto",left:"auto"}}return this.$cont.find(".deco-tooltip__pointer-before").css(l),r},l.prototype.toggle=function(){this.popup&&this.popup.toggle()},l.prototype.show=function(){this.popup&&!this.popup.isOpen&&this.popup.show()},l.prototype.hide=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},l.prototype.isOpen=function(){return this.popup&&this.popup.isOpen},l}())},function(t,e,i,n){var a;t.exports=(a=i(202),function(t){return'<div class="d-tooltip deco-tooltip _hidden '+__escape(t.class||"")+" "+__escape(t.isSmall?"d-tooltip--small-paddings":"")+'" data-b="'+Mu.dotBlockRoot(t,"d-tooltip",!0)+'"><div class="deco-tooltip__pointer-before"></div><div class="d-tooltip__stair"></div>'+a(t)+"</div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(203);return function(i){var n="",a="d-tooltip__btn-agree"+(i.agreeBtnClass?" "+i.agreeBtnClass:"");return n+='<div class="d-tooltip__content deco-tooltip'+__escape(e.scrollable(i))+'"'+e.style(i)+">",i.content&&(n+='<div class="d-tooltip__message">'+i.content+"</div> "),n+=" ","confirm"===i.type?n+=' <div class="d-tooltip__actions"> '+t.render({size:"S",type:"caution",text:i.agreeLabel||i18n("d-tooltip","Да"),class:a})+" "+t.render({size:"S",text:i.disagreeLabel||i18n("d-tooltip","Нет"),class:"d-tooltip__btn-disagree"})+" </div> ":"notice"===i.type&&(n+=' <div class="d-tooltip-actions '+__escape("left"===i.buttonPosition?"d-tooltip-actions__position-left":"d-tooltip-actions__position-right")+'"> '+t.render({size:"S",type:i.buttonType,text:i.agreeLabel||i18n("d-tooltip","Ок"),class:a})+" </div> "),n+="</div>"}}()},function(t,e,i,n){t.exports={scrollable:function(t){return t.scrollable?" scrollable":""},style:function(t){var e="";return t.scrollable&&t.scrollable.height&&(e="max-height: "+t.scrollable.height),e.length>0?` style="${e}"`:""}}},function(t,e,i,n){Mu.blocks.register("diagnostic",function(){var t,e,i=function(t){};return i.init=function(i){t=i.get("diag"),e=i.get("blocks")},i.prototype.init=function(t){this.$cont=$(this.container),this.popup=new(e.get("popup"))(this.container,{modal:!0}),this.popup.show(),this.popup.on("hide",this.onClose.bind(this)),Mu.layout&&Mu.layout.lockScroll(),this.$info=this.$cont.find(".diagnostic__info"),this.$info.on("click",this.autoSelect.bind(this))},i.prototype.autoSelect=function(){this.$info[0].focus(),this.$info[0].select()},i.prototype.onClose=function(){Mu.layout&&Mu.layout.unlockScroll(),this.$cont.remove(),i.diag=null},i.showDiagnostic=function(){if(!i.diag){var n=$(Mu.render("diagnostic",{diag:t.getDiag()})).appendTo("body");i.diag=e.forElem(n[0],"diagnostic")}},i}())},function(t,e,i,n){let a,s,o,r,l;const c=i(206),d=i(25),u=i(100),p=i(207),h=i(206),_=function(){p.call(this)};_.inherit(p),_.init=function(t){a=t.get("pages"),o=t.get("popups"),s=t.get("sidebars"),r=t.get("hiliter"),l=t.get("dataSrc"),Navigation=t.get("navigation")},_.prototype.init=function(){let t;this.$dom=$(this.container),this.$cont=this.$dom.find(".lightlist__cont"),this.$shim=this.$dom.find(".lightlist__shim"),this.items=[],this.type=this.data.type,this.itemTemplate=this.data.itemTemplate||this.type,this.placeholderTemplate=this.data.placeholderTemplate||"lightlist__placeholder",this.variablePlaceholder=!!this.data.variablePlaceholder,this.itemHeight=this.data.itemHeight,this.itemWidth=this.data.itemWidth,this.currentIndex=-1,this.params=Function.mixin({},this.data.params),this.initPendingBlocks=this.initPendingBlocks.bind(this),this.hilitePlaying=d.debounce(350,!1,this.hilitePlaying.bind(this)),this.onResize=d.throttle(100,!1,this.onResize.bind(this)),this.onRender=this.onRender.bind(this),this.onScroll=d.throttle(300,!1,this.onScroll.bind(this)),this.onUnloading=this.onUnloading.bind(this),this.pageManager=this.getPageManager(),this.pageManager.on("loaded",this.onRender),this.pageManager.on("unloading",this.onUnloading),requestAnimationFrame(()=>{this.getItemsPerRow(!0)});const e=this.asArray(this.data.ids),i=this.asArray(this.data.items),n=Navigation.getCurrentUrlParam("activeTab");this.soughtTrackIndex=this.data.trackId&&e.indexOf(this.data.trackId),this.scrollToTrack="number"==typeof this.soughtTrackIndex&&this.soughtTrackIndex>=0&&"about"!==n,t=this.soughtTrackIndex&&i.length>0?this.asArray(i.slice(this.soughtTrackIndex,this.soughtTrackIndex+100)):i.length>0?this.asArray(i.slice(0,100)):[];const a=t.map((function(t){return t.id}));e.forEach(function(e,n){a.includes(e.toString())?this.items.push(new c(n,e,t[a.indexOf(e.toString())])):this.items.push(new c(n,e,i[n]))}.bind(this)),p.prototype.init.call(this)},_.prototype.fetch=function(t){switch(this.data.type){case"album":return l.get("albums",{albumIds:t.join(",")}).then(function(t){return this.triggerEvent({type:"lightlist.albums-fetch",albums:t}),t}.bind(this));case"playlist":return l.post("playlists-list",{ids:t.join(","),owner:this.data.owner,withLikesCount:!0});case"playlist-enchanced":return l.post("playlists-enchanced",{ids:t.join(",")})}},_.prototype.onItemReady=function(t){p.prototype.onItemReady.call(this,t),this.initPendingBlocks(),t.shown||(t.shown=!0),this.hilitePlaying()},_.prototype.destroy=function(){this.$scrollable&&(this.$scrollable.off("scroll",this.onScroll),this.$scrollable.off("resize",this.onResize)),this.items&&this.items.filter(t=>t&&t instanceof h).map(t=>Mu.blocks.forElem(t.dom)).forEach(t=>t&&t.destroy&&t.destroy())},_.prototype.onRender=function(){try{this.pageManager!==a||this.isTouch()?this.$scrollable=$(this.getScrollable()):this.$scrollable=$(window),this.$scrollable.on("scroll",this.onScroll),this.$scrollable.on("resize",this.onResize),this.onResize()}finally{this.pageManager.off("loaded",this.onRender)}},_.prototype.isTouch=function(){return u()&&this.data&&this.data.params&&"touch"===this.params.type},_.prototype.onUnloading=function(){try{this.destroy()}finally{this.pageManager.off("unloading",this.onUnloading)}},_.prototype.onScroll=function(){let t=this.getViewIndex();if(this.showShim(),this.hideShim(),t<0&&(t=0),this.currentIndex!==t&&this.$cont.is(":visible")){let e=null;this.currentIndex>=0&&(e=t>this.currentIndex?"down":"up"),this.currentIndex=t,this.updateWindow(t,e)}},_.prototype.forceViewportUpdate=function(){let t=this.scrollToTrack?this.soughtTrackIndex:this.getViewIndex();this.showShim(),this.hideShim(),t<0&&(t=0),this.currentIndex=t,this.updateWindow(t)},_.prototype.onResize=function(){this.onViewPortChange(),this.forceViewportUpdate()},_.prototype.onViewPortChange=function(){this.baseOffset=this.$cont.offset().top;const t=this.$scrollable.offset()||{top:0};this.baseOffset-=t.top,this.baseOffset<0&&(this.baseOffset=0);const e=this.$scrollable.innerHeight(),i=Math.ceil(e/this.getItemHeight(!0))*this.getItemsPerRow(!0);this.packSize=isNaN(i)?1:i},_.prototype.hilitePlaying=function(){this.pageManager&&this.pageManager.current&&r.hilitePage(this.pageManager.current)},_.prototype.initPendingBlocks=function(){Mu.blocks.initPendingBlocks(this.$cont)},_.prototype.getScrollable=function(){let t,e,i,n=this.container;for(;n&&n!==document.body&&!n.document;){if(e=getComputedStyle(n),i=e.getPropertyValue("overflow-y"),"scroll"===i||"auto"===i){t=n;break}n=n.parentNode}return t},_.prototype.getPageManager=function(){let t,e=this.getParent();for(;e;){if(t=/^(page|sidebar|popup)-/.exec(e.constructor.type),t&&t[1])switch(t[1]){case"popup":return o;case"sidebar":return s;case"page":default:return a}e=e.getParent()}return a},_.prototype.asArray=function(t){const e=t||[];return Array.isArray(e)?e:[e]},"undefined"!=typeof Mu&&Mu.blocks&&Mu.blocks.register("lightlist",_),t.exports=_,i(209)},function(t,e,i,n){var a=i(26),s=function(t,e,i,n){this.idx=t,this.id=e,this.data=i&&"object"==typeof i?i:null,this.dom=n,this.rendered=!!this.dom,this.shown=!!this.dom,this.data?(this.state=s.STATE_LOADED,this.promise=Promise.resolve(this.data)):(this.state=s.STATE_NONE,this.defered=new a,this.promise=this.defered.promise())};s.STATE_NONE=0,s.STATE_LOADING=1,s.STATE_LOADED=2,s.prototype.whenReady=function(t){this.data?t():this.promise.then(t)},s.prototype.setData=function(t){this.state=s.STATE_LOADED,this.data=t,this.defered.resolve(t)},s.prototype.reset=function(){this.rendered=!1,this.shown=!1,this.defered=new a,this.promise=this.defered.promise()},t.exports=s},function(t,e,i,n){var a=i(208),s=function(){};s.inherit(a),s.prototype.init=function(){this.insertAt=null,this.insertFrom=null,a.prototype.init.call(this),this.data.draggable&&(this.notDraggablePositions=this.data.notDraggablePositions||[],this.$splitter=this.$dom.find(".lightlist__splitter"),this.$cont.on("mousedown","."+this.itemTemplate,this.onMouseDown.bind(this)),this.$body=$(document.body))},s.prototype.onMouseDown=function(t){if(3!==t.which){var e,i=this.getCoord(t,!0),n=i.x+i.y*this.getItemsPerRow(),a=this.items[n],s=Function.mixin({drag:!0},this.params);s[this.type]=a.data,s.listIndex=a.idx,"track"===this.itemTemplate?(s.track.drag=!0,e=$(Mu.render(this.itemTemplate,s.track))[0]):e=$(Mu.render(this.itemTemplate,s))[0],this.insertFrom=n,isNaN(this.insertFrom)||this.insertFrom<0||this.insertFrom>=this.items.length||-1===this.notDraggablePositions.indexOf(this.insertFrom)&&(this.$draggedItem=$(this.getItemDom(n)),Mu.dnd(t,{draggable:!0,overlay:e,shim:this.draggableShim,onDragStart:this.onDragStart.bind(this),onMove:this.onDragMove.bind(this),onEnd:this.onDragEnd.bind(this)}))}},s.prototype.onDragStart=function(){this.$splitter.toggleClass("lightlist__splitter_shown",!0),this.offset=this.$cont.offset(),this.width=this.$cont.outerWidth(),this.height=this.$cont.outerHeight(),this.$body.toggleClass("body_dnd",!0),this.triggerEvent({type:"lightlist.dragstart",currentTarget:this.$draggedItem[0]}),$(this.$draggedItem[0]).toggleClass("prevent-click-ondrag",!0)},s.prototype.onDragMove=function(t){var e=this.getCoord(t),i=e.x+e.y*this.getItemsPerRow(),n=i===this.insertFrom||i===this.insertFrom+1,a=i>=0&&i<=this.items.length&&e.y*this.itemHeight+this.$splitter.height()<=this.height+1;this.$splitter.toggleClass("lightlist__splitter_shown",a&&!n),!a||n||i>this.items.length||-1!==this.notDraggablePositions.indexOf(i)?this.insertAt=null:this.insertAt!==i&&(this.insertAt=i,this.$splitter.css({left:e.x*this.itemWidth,top:e.y*this.itemHeight}))},s.prototype.onDragEnd=function(){if($(this.$draggedItem[0]).toggleClass("prevent-click-ondrag",!1),this.$body.toggleClass("body_dnd",!1),null!==this.insertAt&&this.insertAt!==this.insertFrom){var t=this.items.map((function(t){return t.data?t.data:t.id}));this.triggerEvent({type:"lightlist.dragend",insertAt:this.insertAt,insertFrom:this.insertFrom,insertAtIdx:this.insertAt,insertFromIdx:this.insertFrom,data:t}),this.swapItems(),this.$splitter.toggleClass("lightlist__splitter_shown",!1),this.insertAt=null,this.insertFrom=null}},s.prototype.swapItems=function(){if(this.insertFrom!==this.insertAt){var t=this.items[this.insertFrom];this.insertFrom<this.insertAt?(this.items.splice(this.insertAt,0,t),this.items.splice(this.insertFrom,1)):(this.items.splice(this.insertFrom,1),this.items.splice(this.insertAt,0,t)),this.reset(),this.onScroll()}},s.prototype.getItemDom=function(t){return this.items[t].dom},s.prototype.getCoord=function(t,e){var i=e||this.getItemsPerRow()>1?"floor":"round",n=Math[i]((t.pageY-this.$dom.offset().top)/this.itemHeight);return{x:this.getItemsPerRow()>1?Math.floor((t.pageX-this.$dom.offset().left)/this.itemWidth):0,y:n}},t.exports=s},function(t,e,i,n){var a=i(206),s=i(25),o=function(){this.items=[],this.type=null,this.itemTemplate=null,this.params=null,this.currentIndex=-1,this.packSize=-1,this.itemHeight=0,this.itemWidth=0,this.itemsPerRow=0,this.baseOffset=0};o.prototype.init=function(){this.hideShim=s.debounce(350,!1,this.hideShim.bind(this))},o.prototype.fetch=function(t){},o.prototype.getItemHeight=function(t){if(this.itemHeight&&!t)return this.itemHeight;var e=this.$cont.children().eq(0).outerHeight(!0);return e?this.itemHeight=e:e=this.itemHeight||0,e},o.prototype.getItemWidth=function(t){if(this.itemWidth&&!t)return this.itemWidth;var e=this.$cont.children().eq(0).outerWidth(!0);return e?this.itemWidth=e:e=this.itemWidth||this.$cont.width(),e},o.prototype.getItemsPerRow=function(t){if(this.itemsPerRow&&!t)return this.itemsPerRow;var e=this.$cont.width(),i=this.getItemWidth(t),n=Math.floor(e/i);return this.itemsPerRow=n,this.itemsPerRow},o.prototype.getRowByIndex=function(t){return Math.floor(t/this.getItemsPerRow())},o.prototype.renderItem=function(t){var e;t.rendered||("yate"===this.data.templateEngine||"track"===this.placeholderTemplate?("album"!==this.type&&(this.params[this.params.length-1]=t.idx),t.data.actionType=this.data.actionType,t.dom=$(Mu.render(this.itemTemplate,t.data,this.params))[0]):(e=this.prepareDotData(t),t.dom=$(Mu.render(this.itemTemplate,e))[0]),t.rendered=!0)},o.prototype.updateItem=function(t){var e=t.idx-this.getRealStartIndex(this.currentIndex),i=this.$cont.children().eq(e);i&&(i.replaceWith(t.dom),this.onItemReady(t))},o.prototype.onItemReady=function(t){this.data.onItemReady&&this.data.onItemReady(t)},o.prototype.getPlaceholder=function(){var t=Function.mixin({isPlaceholder:!0},this.params);return this.variablePlaceholder?Mu.render(this.placeholderTemplate,t):(this.__placeholder=this.__placeholder||Mu.render(this.placeholderTemplate,t),this.__placeholder)},o.prototype.getItemDOM=function(t){if(t.rendered)return t.dom;var e=t.state;return t.whenReady(function(){this.renderItem(t),e==a.STATE_NONE&&this.updateItem(t)}.bind(this)),t.rendered?t.dom:this.getPlaceholder()},o.prototype.getRealStartIndex=function(t){var e=100;e<this.packSize&&(e=this.packSize);var i=t-e;return i<0&&(i=0),i>this.items.length&&(i=this.items.length),i},o.prototype.getRealEndIndex=function(t){var e=this.packSize,i=t+this.packSize+e;return i<0&&(i=0),i>this.items.length&&(i=this.items.length),this.data.maxShowTracksCount&&this.data.maxShowTracksCount<i&&(i=this.data.maxShowTracksCount),i},o.prototype.updateWindow=function(t,e){var i,n=[],a=[],s=this.getRealStartIndex(t),o=this.getRealEndIndex(t),r=s-(this.renderedStartIndex||0),l=o-(this.renderedEndIndex||0);(r>this.packSize||Math.abs(l)>this.packSize)&&(e=null);var c="down"===e;const{maxShowTracksCount:d}=this.data;var u=e&&c?this.renderedEndIndex:s,p=e?c?o:this.renderedStartIndex:o;p>d&&(p=d),this.renderedStartIndex=s,this.renderedEndIndex=o;for(var h=u;h<p;h++){let t=this.items[h];if(a.push(this.getItemDOM(t)),t.rendered&&n.push(t),this.scrollToTrack){var _=Mu.blocks.forElem(this.getItemDOM(t),"d-track");_&&_.data.track.id===this.data.trackId&&(i=_)}}let m=this.items.length;this.data.maxShowTracksCount&&this.data.maxShowTracksCount<m&&(m=this.data.maxShowTracksCount);var g=this.getRowByIndex(s)*this.getItemHeight(),f=Math.ceil((o-s)/this.getItemsPerRow())*this.getItemHeight(),y=Math.ceil(m/this.getItemsPerRow())*this.getItemHeight()-f-g;if(this.$cont.css({paddingTop:g,paddingBottom:y<0?0:y,height:`calc(100% - ${f}px)`}),e){c?r>0&&this.$cont.children().slice(0,r).remove():l<0&&this.$cont.children().slice(l).remove();var v=c?"append":"prepend";this.$cont[v](a)}else this.$cont.html(a);for(this.scrollToTrack&&i&&(i.container.scrollIntoView(),this.scrollToTrack=!1),h=0;h<n.length;h++)this.onItemReady(n[h]);this.load(this.items.slice(u,p))},o.prototype.load=function(t){var e=(t=t.filter((function(t){return t.state==a.STATE_NONE}))).map((function(t){return t.state=a.STATE_LOADING,t.id}));e.length&&this.fetch(e).then((function(e){e.forEach((function(e,i){t[i].setData(e)}))}),(function(){t.forEach((function(t){t.state=a.STATE_NONE}))}))},o.prototype.getViewIndex=function(){var t=Math.round((this.$scrollable.scrollTop()-this.baseOffset)/this.getItemHeight())*this.getItemsPerRow();return isNaN(t)?0:t},o.prototype.showShim=function(){this.$shim.removeClass("_hidden",!1)},o.prototype.hideShim=function(){this.$shim.addClass("_hidden",!0)},o.prototype.reset=function(){this.currentIndex=-1,this.items.forEach((function(t,e){t.idx=e,t.reset()}))},o.prototype.prepareDotData=function(t){var e=Object.assign({},this.params);return"playlist"===this.itemTemplate?Object.assign(e,{playlist:t.data}):e[this.type]=t.data,e.listIndex=t.idx,e},t.exports=o},function(t,e,i,n){var a,s=i(205),o=function(){s.call(this)};o.inherit(s),o.init=function(t){s.init(t),a=t.get("trackscache")},o.prototype.init=function(){this.data.items.length&&a.setList(this.data.items),this.delegate("button-play.getContext",this.getContext.bind(this)),this.delegate("track.delete",this.onDeleteTrack.bind(this)),s.prototype.init.call(this)},o.prototype.fetch=function(t){return a.fetch(t)},o.prototype.getItemsPerRow=function(){return 1},o.prototype.getContext=function(t){if(!["album","sidebar-album"].includes(this.data.from)){t&&(t.stopBubble=!0);var e=this.items.map((function(t){return t.data?{album:t.data.albums&&t.data.albums[0],track:t.data}:t.id})),i=this.triggerEvent({type:"lightlist.getContext",entries:e})||{};return i.entries=void 0!==i._entries?i._entries:e,i._entries=this.items.map((function(t){return t.data?{album:t.data.albums&&t.data.albums[0],track:t.data}:t.id})),i.lazy=!0,i}},o.prototype.onDeleteTrack=function(t){if(t.data&&t.target){var e=this.container.getElementsByClassName(this.itemTemplate),i=Array.prototype.indexOf.call(e,t.target.container);if(-1!==(i+=this.getRealStartIndex(this.currentIndex))){t.target.$cont.remove();var n=this.items.map((function(t){return t.data?t.data:t.id}));this.triggerEvent({type:"lightlist.delete",item:t.data,data:n,index:i,idx:i}),this.items.splice(i,1),this.reset(),this.onScroll()}}},"undefined"!=typeof Mu&&Mu.blocks&&Mu.blocks.register("lightlist_tracks",o),t.exports=o},function(t,e,i,n){var a;Mu.blocks.register("loading",((a=function(t){this.$dom=$(t),this.shown=!1,this.delayed=null,this.showTimeout=250}).prototype.init=function(t){var e=this;if(this.data.listenOn){var i=t.get(this.data.listenOn);i.on("loading",(function(){e.show(!0)})),i.on("loaded",(function(){e.show(!1)}))}},a.prototype.doShow=function(t){this.shown=t,this.$dom.toggleClass("loading_on",t)},a.prototype.show=function(t){this.shown?t||this.doShow(!1):(this.delayed&&(clearTimeout(this.delayed),this.delayed=null),t&&(this.delayed=setTimeout(function(){this.delayed=null,this.doShow(!0)}.bind(this),this.showTimeout)))},a))},function(t,e,i,n){var a,s,o;Mu.blocks.register("log-in",(s=function(){},(o=function(){}).init=function(t){a=t.get("auth"),this.domDelegate("click",(function(t){t.preventDefault();var e=$(t.target),i=e.hasClass(".log-in")?e:e.closest(".log-in"),n=Mu.blocks.forElem(t.target,"log-in"),s=n&&n.data.from||i.data("from"),o=n&&n.data.loginCallback||null;a.showAuthForm(o,s)}))},o.prototype.init=function(){var t=this;$(this.container).on("click","a",(function(e){e.preventDefault(),e.stopPropagation(),t.show()}))},o.prototype.show=function(t,e){var i=t instanceof Function?t:this.data&&this.data.loginCallback||s;e=e||this.data.from||"",a.showAuthForm(i,e)},o))},function(t,e,i,n){const a=i(213),s=i(214),o=i(215),r={looded:"STATE/loader"},l="order",c="user_scenario",d="close";Mu.blocks.register("mbform",class t{constructor(){Mu.eventize(this)}static init(e){t.Metrika=e.get("metrika")}init(t){this.DataSrc=t.get("dataSrc"),this.Metrika=t.get("metrika"),this.YaMBPaymentManager=t.get("yaMBPaymentManager"),this.$window=$(window),this.$cont=$(this.container),this.$mbform=this.$cont,this.onUserCancel=this.onUserCancel.bind(this),this.onReport=this.onReport.bind(this),this.onPayment=this.onPayment.bind(this),this.onError=this.onError.bind(this),this.hashOrderId=s(),this.fromOverride=null,this.sendMetrika("Открытие диалога оплаты");try{Mu&&Mu.gtag&&Mu.gtag.newPaymentPopupButton()}catch(t){}}destroy(){this.$window.off("message.payment",this.onPostMessage)}onReport(t){`${t.type}/${t.data.status}`===r.loaded&&this.onFrameLoaded()}attachIframe(){this.YaMBPaymentManager.push({type:"open",options:{targetNodeSelector:".mbform",productIds:[this.config.product.productId],isFrameEmbed:1,hashOrderId:this.hashOrderId,page:encodeURI(window.location.href),referer:this.prepareMetrikaConfig().from}})}buildConfig(t,e){if(null==t)throw new Error("Product is required for mediabilling form");const i=a(),n=["retpath","from"].reduce((t,e)=>null!=i[e]?Object.assign(t,{[e]:i[e]}):t,{}),s=Object.assign({product:null,target:t.target||"music",widgetType:"music",widgetServiceName:"music",widgetSubServiceName:"music_web",lang:window.Mu&&Mu.settings&&Mu.settings.lang||"ru",familyUrl:null,retpath:null,from:null},{product:t},n,this.data.orderConfig,e);if(!s.target||!s.widgetServiceName)throw new Error("Required fields missing");return s}static getServiceUrl(){return Mu.settings.mbformUrl.replace("{{tld}}",Mu.settings.tld||"ru")}showFormFor(t,e){this.config=this.buildConfig(t,e),this.fromOverride=null,this.sendMetrika("Клик по кнопке с ценой"),this.doShowForm();try{Mu&&Mu.gtag&&Mu.gtag.submitOrder()}catch(t){}}doShowForm(){this.YaMBPaymentManager.push({type:"init",options:{target:this.config.target,widgetType:this.config.widgetType,widgetServiceName:this.config.widgetServiceName,widgetSubServiceName:this.config.widgetSubServiceName,offersPositionIds:this.config.offersPositionIds||"",offersBatchId:this.config.offersBatchId||"",lang:this.config.lang,platform:"web",onClose:this.onUserCancel,onReport:this.onReport,onSuccess:this.onPayment,onError:this.onError}}),this.attachIframe()}onUserCancel(){this.trigger(o.userExitCancel),this.remove()}onFrameLoaded(){this.trigger(o.loaded),this.sendMetrika("Открытие платёжной формы")}onPayment(t){switch(t.type){case l:this.onPaymentSuccess();break;case c:this.onUserSuccess()}}onPaymentSuccess(){this.trigger(o.paymentSuccess);try{Mu&&Mu.gtag&&Mu.gtag.pay(),Mu&&Mu.newgtag&&Mu.newgtag.sendPaymentCompleted()}catch(t){}this.sendMetrika("Успешная оплата"),t.Metrika.goal("PaymentCompleted")}onError(t){t.action===d&&this.onUserCancel(),this.sendMetrika("Ошибка платежа",{error:t.error})}onUserSuccess(){this.trigger(o.userExitSuccess),this.finishOrder(!0)}finishOrder(t){t?(this.product=null,this.config&&this.config.retpath?window.location.href=this.config.retpath:window.location.reload()):window.location.reload()}sendMetrika(e,i){const n=this.prepareMetrikaConfig(),a=this.config&&this.config.product,s=n.goal||"newPaymentPopupButton",o={from:n.from,hashOrderId:this.hashOrderId};a&&a.duration&&(o.period=a.duration),a&&a.price&&a.price.amount&&a.price.currency&&(o.price={},o.price[a.price.currency]=parseInt(a.price.amount,10)||0),i&&$.extend(o,i);let r=o;e&&(r={},r[e]=o),t.Metrika.goal(s,{"Оплата подписки":r})}remove(){null!=this.$frame&&this.$frame.remove(),this.hashOrderId=s()}prepareMetrikaConfig(){const t=this.data&&this.data.metrikaConfig?Object.assign({},this.data.metrikaConfig):{},e=this.data.placeholderType||"popup",i=a(),n=t.campaign||i.campaign;return null!=this.fromOverride?t.from=this.fromOverride:t.from||"page"!==e?t.from||"popup"!==e||(t.from="other"):i.from?t.from="direct_"+i.from:t.from=n?"direct_"+n:"direct",t}})},function(t,e,i,n){t.exports=function(){var t=window.location.search.replace("?",""),e={};return t.length&&(e=t.split("&").reduce((function(t,e){var i=e.split("=");return i[0]&&(t[i[0]]=i[1]),t}),{})),e}},function(t,e,i,n){t.exports=function(){var t=Date.now();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)}))}},function(t,e,i,n){t.exports={loading:"loading",loaded:"loaded",loadError:"load-error",paymentSuccess:"payment-success",userExitSuccess:"user-exit-success",userExitError:"user-exit-error",userExitCancel:"user-exit-cancel",requestAuth:"request-auth",noAvailableOptionsError:"no-available-options"}},function(t,e,i,n){const a=i(215);Mu.blocks.register("mbform-wrapper",function(){let t,e;const i=function(){};return i.init=function(i){t=i.get("auth"),e=i.get("metrika")},i.prototype.init=function(){this.$container=$(this.container),this.$mbform=this.$container.find(".mbform"),this.payFormInit(),this.sendInitMetrika()},i.prototype.togglePayForm=function(t){t?this.$container.css("display","flex"):(this.$container.css("display","none"),window.localStorage&&localStorage.removeItem("openPaymentFormAfterLoading"))},i.prototype.payFormInit=function(){this.mbform=Mu.blocks.forElem(this.$mbform[0]),this.mbform&&(this.mbform.on(a.userExitCancel,this.onUserExitCancel.bind(this)),this.mbform.on(a.userExitError,this.togglePayForm.bind(this,!1)),this.mbform.on(a.paymentSuccess,this.onPaymentSuccess.bind(this)),this.mbform.on(a.userExitSuccess,this.redirectToSuccessPage.bind(this)),this.mbform.on(a.noAvailableOptionsError,this.togglePayForm.bind(this,!1)),this.mbform.on(a.loaded,this.onPaymentFormLoaded.bind(this)))},i.prototype.onUserExitCancel=function(){window.localStorage&&localStorage.removeItem("openPaymentFormAfterLoading"),this.paymentSuccessed?this.redirectToSuccessPage():this.togglePayForm(!1)},i.prototype.onPaymentFormLoaded=function(){window.localStorage&&localStorage.removeItem("openPaymentFormAfterLoading")},i.prototype.redirectToSuccessPage=function(){this.$container.hide(),window.location.href="/home",window.localStorage&&localStorage.removeItem("openPaymentFormAfterLoading")},i.prototype.onPaymentSuccess=function(){this.paymentSuccessed=!0,window.localStorage&&localStorage.removeItem("openPaymentFormAfterLoading")},i.prototype.onPaymentClick=function(){const i=this.data.product;i.offersBatchId=this.data.offersBatchId;const n=Mu.settings.uatraits.isMobile;i.widgetServiceName=n?"music_touch":"music";if(t.isLoggedIn()){if(this.togglePayForm(!0),this.mbform.showFormFor(i),i){this.sendOfferBatchEvent("click",[i.offersPositionId]);const t="Клик на кнопку";e.count({"my-wave":{[t]:1}})}}else window.localStorage&&(localStorage.setItem("openPaymentFormAfterLoading",JSON.stringify(i)),window.open(this.data.passportUrl,"_blank").focus())},i.prototype.sendInitMetrika=function(){if(this.data.products&&this.data.products.length){const t=this.data.products.map(t=>t.offersPositionId);this.sendOfferBatchEvent("load",t),this.sendOfferBatchEvent("show",[t[0]])}else if(this.data.allProducts){const t=this.data.allProducts.map(t=>t.offersPositionId);this.sendOfferBatchEvent("load",t)}e.count({subscriptionOfferEvent:{subscriptionOfferEventParams:{offersBatchId:{[this.data.offersBatchId]:{clientSource:"music"}}}}})},i.prototype.sendOfferBatchEvent=function(t,i){e.count({subscriptionOfferEvent:{[t]:{offersBatchId:{[this.data.offersBatchId]:{offersPositionIds:i}}}}},"")},i}())},function(t,e,i,n){const a=i(120),s=i(14),o=i(218);Mu.blocks.register("multi-auth",function(){let e,i,n,r,l,c,d;const u=function(t){this.subscriptions={},this.data=t,this.plusState=a,this.toggle=t.toggle,this.user=s()};return u.init=function(t){e=t.get("auth"),i=t.get("dataSrc"),n=t.get("metrika"),c=t.get("storage"),r=Mu.blocks.get("diagnostic"),l=Mu.blocks.get("plus-points-popup"),e.on("info",(function(){d=void 0})),e.on("info",this.loadSubscriptions.bind(this)),this.loadSubscriptions()},u.prototype.init=function(){},u.loadSubscriptions=function(){this.subscriptions=Mu.authData.user&&Mu.authData.user.subscription},u.getAccounts=function(){return d||(d=i.get("accounts",{},{nocache:!0}),d.catch((function(){d=void 0})),d)},u.prototype.show=function(t){if(!this.isClose())return;!e.isLoggedIn()||e.isPremium()||this.hidePayment()||n.count({"Показ предложения подписки":{from:"userMenu"}},"Оплата подписки");const i=function(e){const i=e&&e.valueOf instanceof Function?e.valueOf():{};this.render(i,{from:t}),n.count({head:{my:"popup"}})}.bind(this);u.getAccounts().then(i,i)},u.prototype.hide=function(){this.popup.hide()},u.prototype.isClose=function(){return!this.popup||!this.popup.isOpen},u.prototype.render=function(t,e){this.prepareData(t,e);const i=$(window).height(),n=$(this.toggle)[0],a=n&&n.getBoundingClientRect().top||0;this.$popup=$(o(this.popupData)),$("body").append(this.$popup),this.$popup.css({"max-height":i-200-a}),this.popup=new(Mu.blocks.get("popup"))(this.$popup,{fade:!0,dontCloseOnElements:[".plus-points-popup",".overlay_plus-points"],lockedElements:[".d-toggler",".plus-points-popup",".overlay_plus-points"],position:{my:"center top",at:"center bottom+10",of:this.toggle}}),this.$gift=this.$popup.find(".multi-auth__gift"),this.$myMusic=this.$popup.find(".multi-auth__my-music"),this.$user=this.$popup.find(".multi-auth__item_user"),this.$diag=this.$popup.find(".multi-auth__diag"),this.$tutorial=this.$popup.find(".multi-auth__plus-visit-tutorial"),this.$promocodeLink=this.$popup.find(".multi-auth__promocode"),Mu.blocks.initPendingBlocks(this.$popup),this.bindEvents(),this.popup.show()},u.prototype.clickToggler=function(){l.show()},u.prototype.prepareData=function(t,i){const n=this.data||{},a=`https://${location.hostname}${location.port?":"+location.port:""}`;let s={login:""};if(Array.isArray(t.accounts))for(let e=0;e<t.accounts.length;e++)if(t.accounts[e].uid===t.default_uid){s=t.accounts[e];break}const o=location.pathname!=="/user/"+s.login?encodeURIComponent(location.href):encodeURIComponent(`${location.protocol}//${location.host}`),r="music"===Mu.serviceName?e.getAuthOrigin("menu-add-user"):e.getAuthOrigin("menu");this.popupData=$.extend({yandexuid:$.cookie("yandexuid"),retpath:o,retpathClose:encodeURIComponent(a+(n.retpath||"/settings?from-passport")),login:e.user&&e.user.login,userName:e.user&&e.user.name,premium:e.user&&e.user.premium,accounts:t,subscriptions:u.subscriptions,from:n.from,hidePayment:this.hidePayment(),origin:r,yandexPlusState:this.plusState,MBError:e.user&&e.user.MBError},i)},u.prototype.bindEvents=function(){this.popup.on("hide",this.destroy.bind(this)),$(window).one("scroll",()=>{this.popup&&this.popup.hide()}),this.$gift.on("click",(function(){n.count({head:{my:"gift"}})})),this.$user.on("click",(function(){const t=$(this).find(".multi-auth__user").attr("data-uid");e.changeDefaultAccount(t)})),this.$diag.on("click",(function(t){t.preventDefault(),r.showDiagnostic()})),this.$myMusic.on("click",(function(){n.count({head:{my:"menu"}})})),this.$promocodeLink.on("click",(function(){n.count("promocode_click")})),this.$tutorial.on("click",function(){i.post("plus-tutorial-complete"),this.plusState.visited()}.bind(this))},u.prototype.destroy=function(){$("body").find(this.$popup).remove(),this.popup=null,this.$popup=null,this.$diag=null,this.$gift=null,this.$myMusic=null,this.$user=null,this.$tutorial=null},u.prototype.hidePayment=function(){return"/pay"===window.location.pathname},t.exports=u,u}())},function(t,e,i,n){t.exports=function(){i(219);var t=i(151),e=i(221),n=i(141),a=i(223),s=i(226),o=(i(69),i(231)),r=i(232),l=(i(230),function(e){var i='<li class="multi-auth__line ';return e.withPaddings&&(i+="multi-auth__item"),i+='">',e.noWrap?i+=e.content:i+=t.render(r.itemData(e)),i+="</li>"}),c=function(t){return'<span class="multi-auth__user" data-uid="'+__escape(t.uid)+'" title="'+__escape(r.accountName(t))+'">'+s.render({user:t,size:"L",showAvatar:!0,showName:!0,showCurrent:t.showCurrent,showPlusMarker:!0,forceShowPlusMarker:t.plusState&&t.plusState.forceShowPlusMarker,class:"typo_bold multi-auth__user-show-current"})+"</span>"},d=function(t){var e='<li class="'+__escape(t.class)+'"><span class="multi-auth__user" title="'+__escape(t.userName)+'"><span class="multi-auth__user-info ';return r.hasPlus(t)||(e+="multi-auth__user-info_without-badge"),e+='"><div class="multi-auth__user-name typo">'+__escape(t.userName)+"</div>",t.premium&&(e+='<div class="multi-auth__user-caption typo-secondary">'+i18n("multi-auth","Подписка оформлена")+"</div>"),e+="</span>",r.showPlus(t)&&r.hasPlus(t)&&(e+=a.render({class:"multi-auth__user-badge",type:"rainbow"})),e+="</span></li>"},u=i(233);return function(t){var i="",a=r.isMusic(t),s=r.moreAccounts(t),p=(r.allAccounts(t),r.hasPlus(t),r.hasPlusAccounts(t),r.plusHost()+"/gift?serviceName=music&promoName=music_common");if(i+='<div class="multi-auth popup_compact popup_borderless" data-b="'+__escape(Mu.dotBlockRoot(t,"multi-auth",!0))+'"><div class="multi-auth__container"><ul class="multi-auth__menu deco-popup-menu'+__escape(r.menuClasses(t))+'">'+l({content:d(r.itemData(t)),noWrap:!0})+e.render({}),r.showPlus(t)&&!t.MBError&&(i+=l({content:u(t),noWrap:!0})),i+='<li class="multi-auth__line multi-auth__line_separator"></li>',a&&(i+=l({href:r.myMusicUrl(t),content:o("myMusic"),class:"multi-auth__my-music"}),r.isSupportAvailable()&&(i+=l({href:"https://yandex.ru/chat?build=chamb&guid=ee219503-b69b-9484-405b-6877a510e13c",content:i18n("multi-auth","[feature/music-chat]Чат с поддержкой"),class:"multi-auth__support"})),i+=l({href:p,content:i18n("multi-auth","[feature/mfront-4501]Активировать промокод"),class:"multi-auth__promocode"})+l({href:"/settings",content:i18n("multi-auth","Настройки")})),i+=l({content:i18n("multi-auth","Диагностика"),class:"multi-auth__diag",hover:!0})+l({href:r.logoutUrl(t),content:i18n("multi-auth","Выйти"),class:"multi-auth__item_gray",notHandled:!0})+'<li class="multi-auth__line multi-auth__line_separator"></li>',s.length)for(var h,_=0;_<s.length;_++)h=s[_],i+=e.render({})+l({content:c(h),class:"multi-auth__item_user",hover:!0});return i+=e.render({}),r.canAddAccount(t)&&(i+=l({href:r.canAddAccountUrl(t),content:'<span class="multi-auth__user"><span class="multi-auth__user-add_icon deco-popup-menu__item-icon-bg">'+n.render({icon:"plus-big",class:"deco-popup-menu__item-icon"})+'</span><span class="multi-auth__user-info"><div class="multi-auth__user-add_caption">'+__escape(i18n("multi-auth","Добавить аккаунт"))+"</div></span></span>"})),i+="</ul></div></div>"}}()},function(t,e,i,n){var a={render:i(220)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){var e="";return t.content?(e+='<span class="d-payment-show ',t.class&&(e+=" "+__escape(t.class)),e+='" data-b='+__escape(Mu.dotBlockRoot(t,"d-payment-show",!0))+">"+t.content+"</span>"):e+='<div class="d-payment-show" data-b='+__escape(Mu.dotBlockRoot(t,"d-payment-show",!0))+">"+a.render({text:t.text,class:"d-payment-show "+(t.class||""),style:"marked"})+"</div>",e})},function(t,e,i,n){var a={render:i(222)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e='<div class="d-devider"><span class="d-devider__stripe deco-devider"></span>';return t.text&&(e+='<span class="d-devider__content deco-devider">'+t.text+'</span><span class="d-devider__stripe deco-devider"></span>'),e+="</div>"}},function(t,e,i,n){var a={render:i(224)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(225),function(t){return'<div class="plus-badge deco-plus-badge '+a.getClasses(t)+'"></div>'})},function(t,e,i,n){t.exports={getClasses:t=>{const e=[];t.class&&e.push(t.class),t.size&&["M","L"].includes(t.size)?e.push("plus-badge__size_"+t.size):e.push("plus-badge__size_M");const i=t.type||"rainbow",n=(t=>{const e=t.lang||"undefined"!=typeof Mu&&Mu.settings.lang||"ru";return["ru","kk","uk"].includes(e)?"ru":"en"})(t);return e.push(`plus-badge__${i}-${n}`),e.join(" ")}}},function(t,e,i,n){var a={render:i(227)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(228),s=i(151),o=i(141),r=i(223),function(t){var e="",i=a.getUserData(t);if(e+='<span class="user',t.class&&(e+=" "+__escape(t.class)),e+='">',t.showAvatar&&(e+='<div class="user__userpic user__userpic_size_'+__escape(i.picSize)+" "+__escape(i.showPlusMarker?"user__userpic__plus-"+i.plusMarkerType:""),t.showName&&(e+=" user__userpic_margin"),e+='"title="'+__escape(i.name)+'"style=\'background-image: url("'+__escape(i.pic)+"\")'></div>"),e+='<span class="user__info">',t.showName)if(t.showLink){var n="/users/"+i.login+"/playlists";e+=s.render({text:i.name,title:i.name,href:n,style:t.markedLink?"marked":"",class:"user__name_link"})}else e+='<span class="user__name',t.userNameClass&&(e+=" "+__escape(t.userNameClass)),e+='" title="'+__escape(i.name)+'">'+__escape(i.name)+"</span>",t.user.plusState&&(t.user.plusState.hasPlus?e+=r.render({type:"rainbow"}):e+='<div class="typo-secondary">'+i18n("multi-auth","Без подписки")+"</div>");return t.showLogin&&(e+=s.render({text:"@"+i.login,title:"@"+i.login,href:"/users/"+i.login+"/playlists",style:t.markedLink?"marked":"muted",class:"user__login_link typo-secondary"})),e+="</span>",t.showCurrent&&(e+='<div class="',i.name.length>16?e+="user__show-current":e+="user__show-current-short",e+='">'+o.render({icon:"checkmark-green"})+"</div>"),e+="</span>"})},function(t,e,i,n){const a=i(229);i(230);t.exports={getUserpicSize(t){switch(t){case"L":case"Large":case"VeryLarge":return"normal";case"Huge":return"large";default:return""}},getUserName:t=>t.user&&(t.user.name||t.user.displayName),getUserData(t){const e=t.user&&t.user.plus&&t.user.plus.hasPlus;return{type:t.friend?"friend":"main",picSize:t.size||"S",login:t.user&&t.user.login||t.login,name:this.getUserName(t),showPlusMarker:e&&t.showPlusMarker||t.forceShowPlusMarker,plusMarkerType:t.plusMarkerType||"rainbow",pic:a(t.user&&t.user.avatarHash,this.getUserpicSize(t.size))}}}},function(t,e,i,n){var a={large:"islands-200",middle:"islands-retina-middle",normal:"islands-retina-middle",small:"islands-small"};t.exports=function(t,e){return"https://avatars.mds.yandex.net/get-yapic/"+t+"/"+(e=a[e=e||"middle"]||e)}},function(t,e,i,n){t.exports=function(){return Mu.experiments}},function(t,e,i,n){t.exports=function(t,e){let i="";return"myMusic"===t&&(i="genitive"===e?i18n("commonTexts","[feature/mfront-4015]Коллекции"):i18n("commonTexts","[feature/mfront-4015]Коллекция")),i}},function(t,e,i,n){const a=i(156),s=i(73);t.exports={isMusic:()=>"music"===Mu.serviceName,host(){return this.isMusic()?"":"//music.yandex."+s().tld},plusHost:()=>"https://plus.yandex."+s().tld,isRussiaRegion:()=>"RU"===Mu.settings.countryISO,showPayment(t){return!t.hidePayment&&!t.premium&&(this.isMusic()||a.isRussiaRegion())},moreAccounts(t){const e=this,i=e.defaultUid(t);return(t.accounts&&t.accounts.accounts||[]).reduce((function(t,n){return n.status&&n.uid&&n.uid!==i&&(n.name=e.accountName(n),t.push(n)),t}),[])},allAccounts(t){const e=this,i=e.defaultUid(t);return(t.accounts&&t.accounts.accounts||[]).map(t=>({...t,name:e.accountName(t),notClickable:t.status&&t.uid&&t.uid===i}))},canAddAccount:t=>t.accounts&&t.accounts["can-add-more"],pasportUrl:()=>s().passport,defaultUid:t=>t.accounts&&t.accounts.default_uid,canAddAccountUrl(t){return`${this.pasportUrl()}auth?mode=add-user&retpath=${t.retpathClose}&origin=${t.origin}`},logoutUrl(t){return`${this.pasportUrl()}passport?mode=embeddedauth&action=logout&yu=${t.yandexuid}&retpath=${t.retpath}&uid=${this.defaultUid(t)}&origin=${t.origin}`},myMusicUrl(t){return`${this.host()}/users/${t.login}/playlists`},itemData(t){const e=Object.assign({},t),i=["multi-auth__item"];return i.push("typo-main"),t.class&&i.push(t.class),(t.href||t.hover)&&i.push("deco-popup-menu__item"),e.class=i.join(" "),e.noHoverColor=!0,e.opener=!0,e},menuClasses:t=>t.class?t.class:"",showPlus:t=>t.yandexPlusState&&t.yandexPlusState.canUseMusicInRegion(),hasPlus:t=>t.yandexPlusState&&t.yandexPlusState.hasPlus(),canUpgradePlus:t=>t.premium&&t.yandexPlusState&&t.yandexPlusState.hasPlus(),canSubscribePlus:t=>!t.premium&&t.yandexPlusState&&!t.yandexPlusState.hasPlus(),isPlusUser:t=>t.yandexPlusState&&t.yandexPlusState.hasPlus()&&t.yandexPlusState.isTutorialCompleted(),accountName:t=>t.displayName&&t.displayName.name||"",isSupportAvailable:()=>["RU","BY"].includes(Mu.settings.countryISO),hasPlusAccounts(t){const e=this.defaultUid(t);return(t.accounts&&t.accounts.accounts||[]).some(t=>t.status&&t.uid&&t.uid!==e&&t.havePlus)}}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(219),n=i(108),a=(i(230),i(232));return function(i){var s="",o=n.theme("black").classes(!0),r=n.theme("white").classes(!0),l=a.isMusic(i);if(!a.isPlusUser(i)&&!i.hidePayment)if(a.canUpgradePlus(i))s+='<div class="multi-auth__plus multi-auth__plus-rainbow"><div class="'+__escape(o)+'"><div class="multi-auth__plus-title typo typo-main">'+i18n("multi-auth","Теперь вы в Плюсе")+'</div><div class="multi-auth__plus-info typo typo-main">'+i18n("multi-auth","И не надо доплачивать. Просто к&nbsp;подписке на Музыку вы получаете больше возможностей на сервисах Яндекса")+'</div></div><div class="multi-auth__plus-controls '+__escape(r)+'">'+t.render({href:"https://passport.yandex."+Mu.settings.tld+"/profile/services",text:i18n("multi-auth","Подробнее"),rounded:!0,size:"L",class:"multi-auth__plus-visit-tutorial"})+"</div></div>";else if(a.canSubscribePlus(i)){s+='<div class="multi-auth__plus multi-auth__plus-rainbow"><div class="'+__escape(o)+'"><div class="multi-auth__plus-title typo typo-main">'+i18n("multi-auth","Подписка Плюс")+'</div><div class="multi-auth__plus-info typo typo-main">'+i18n("multi-auth","Слушайте музыку в высоком качестве без рекламы и получайте дополнительные возможности в&nbsp;сервисах Яндекса")+'</div></div><div class="multi-auth__plus-controls '+__escape(r)+'">';var c=t.render({text:i18n("multi-auth","Попробовать"),rounded:!0,type:"default",size:"L",class:" local-theme-white d-button_type_borderless"});s+=e.render({content:c,from:l?"userMenu":"userMenu_radio"})+"</div></div>"}return s}}()},function(t,e,i,n){const a=i(235),s=i(23);Mu.blocks.register("pay-promo-popup",function(){let t,e,i,n;const o=function(){s(this)};return o.init=function(n){e=n.get("auth"),t=n.get("layout"),i=n.get("metrika")},o.show=function(t){n||(n=o.createInstance(t||{})),n.popup.show(),i.count("PopUp.Opened")},o.createInstance=function(t){const e=$(a(t));$(".page-root").append(e);const i=Mu.blocks.forElem(e[0],"pay-promo-popup");return i.initPopup(),i},o.prototype.init=function(){this.$cont=$(this.container),this.$iframe=this.$cont.find("iframe")},o.prototype.initPopup=function(){this.popup=new(Mu.blocks.get("popup"))(this.$cont,{showOnLoaded:this.data.showOnLoaded,resize:!0,modal:!0,persistent:!0,position:{my:"center top",at:"center top",of:window}}),this.hide=this.hide.bind(this),this.$cont.on("click",".js-close",this.onClose.bind(this)),this.popup.on("show",this.onShow.bind(this)),this.popup.on("hide",this.onHide.bind(this)),window.addEventListener("message",this.onMessage.bind(this))},o.prototype.hide=function(){this.popup&&(this.popup.hide(),this.$iframe.remove(),this.$cont.remove(),n=null)},o.prototype.onMessage=function(t){t.origin===window.location.origin&&t.source===this.$iframe[0].contentWindow&&t.data&&"pay-promo"===t.data.type&&("payment-complete"===t.data.value?this.hide():"payment-cancel"===t.data.value?$(document).trigger("dontPayPopupRequest",{condition:"paywall-promo_close"}):"window-focus"===t.data.value?e.refresh():"offer-click"===t.data.value&&i.count("PopUp.Navigated"))},o.prototype.onClose=function(){i.count("PopUp.Closed");const t={condition:"paywall-promo_close",callback:this.hide.bind(this)};$(document).trigger("dontPayPopupRequest",t)},o.prototype.onShow=function(){this.trigger("show"),t.lockScroll({scrollLockedByWall:!0}),t.moveSidebar()},o.prototype.onHide=function(){this.trigger("hide"),t.unlockScroll(),t.moveSidebar()},o}())},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){return'<div class="pay-promo-popup" data-b='+__escape(Mu.dotBlockRoot(t,"pay-promo-popup"))+'> <div class="pay-promo-close-btn js-close"> '+a.render({icon:"cross-big",class:"local-icon-theme-black"})+' </div> <iframe src="/pay-promo"></iframe></div>'})},function(t,e,i,n){const a=i(23),s=i(120);Mu.blocks.register("payment-popup-controller",function(){let t,e,i,n,o,r,l;const c=function(){};return a(c),c.init=function(a){t=a.get("auth"),e=a.get("adapter"),i=a.get("dataSrc"),n=a.get("navigation"),o=a.get("blocks").get("payment-popup"),r=a.get("blocks").get("pay-promo-popup"),l=a.get("blocks").get("crackdown-popup"),e.on(Mu.Adapter.RESTRICTION_PREMIUM_ONLY,c.show.bind(c))},c.show=function(e){if(e=e||{},!t.isPremium()||e.force)return e.showToNotLoggedIn||t.isLoggedIn()?void("radio"===Mu.serviceName?this.payOnMusic(Object.assign(e,{from:"radio"})):this.canShowCrackdown(e)?l.show():this.isMobile()?this.openMusicMobilePay(e):s.canUseMusicInRegion()&&(r.show(e),c.trigger("show"))):(this.trigger("login"),void t.showAuthForm(function(){t.isPremium()||this.show()}.bind(this),e.from))},c.needInstallApp=function(t){return"music"===Mu.serviceName&&t&&!t.length},c.payOnMusic=function(t){const e=encodeURIComponent(`${document.location.protocol}//${document.location.host}?from-payment`),i=Object.assign(t,{from:"radio",retpath:e}),n=document.location.protocol+globalThis.__Mu_getUrlFn("music")+this.payPageUrl(i);window.open(n,"paymentFormWindow")},c.openMusicMobilePay=function(t){n.navigateTo(this.payPageUrl(t))},c.isMobile=function(){return(Mu.settings.uatraits||{}).isMobile},c.payPageUrl=function(t){const e=[];let i="/pay";this.isMobile()&&(t.from+="_mobile");for(const i in t)t.hasOwnProperty(i)&&t[i]&&e.push(`${i}=${encodeURIComponent(t[i])}`);return e.length>0&&(i+="?"+e.join("&")),i},c.canShowCrackdown=function(t){return l&&t.crackdown},c}())},function(t,e,i,n){const a=i(238),s=i(23);Mu.blocks.register("plus-kids-popup",function(){let t,e,i,n,o;const r=function(){s(this)};return r.init=function(n){e=n.get("auth"),t=n.get("layout"),i=n.get("metrika"),o=n.get("navigation")},r.show=function(t){n||(n=r.createInstance(t||{})),n.popup.show(),i.count("PlusKids.PopUp.Show")},r.createInstance=function(t){const e=$(a(t));$(".page-root").append(e);const i=Mu.blocks.forElem(e[0],"plus-kids-popup");return i.initPopup(t),i},r.prototype.init=function(){this.$cont=$(this.container),this.$iframe=this.$cont.find("iframe")},r.prototype.initPopup=function(t){this.lastUrl=t.lastUrl,this.popup=new(Mu.blocks.get("popup"))(this.$cont,{showOnLoaded:this.data.showOnLoaded,resize:!0,modal:!0,persistent:!0}),this.hide=this.hide.bind(this),this.$cont.on("click",".js-close",this.onClose.bind(this)),this.popup.on("show",this.onShow.bind(this)),this.popup.on("hide",this.onHide.bind(this)),window.addEventListener("message",this.onMessage.bind(this))},r.prototype.hide=function(){this.popup&&(this.popup.hide(),this.$iframe.remove(),this.$cont.remove(),n=null)},r.prototype.onMessage=function(t){t.origin===window.location.origin&&t.source===this.$iframe[0].contentWindow&&t.data&&"plus-kids"===t.data.type&&("payment-complete"===t.data.value?this.hide():"payment-cancel"===t.data.value?$(document).trigger("dontPayPopupRequest",{condition:"paywall-promo_close"}):"window-focus"===t.data.value?e.refresh():"offer-click"===t.data.value?i.count("PlusKids.PopUp.ClickPlusButton"):"show-plus-button"===t.data.value?i.count("PlusKids.PopUp.ShowPlusButton"):"payment-success"===t.data.value&&i.count("PlusKids.PopUp.PaymentSuccess"))},r.prototype.onClose=function(){const t=Mu.experiments.WebOptionsKids,e=Mu.authData.user.uid,n=$.cookie("skip_paywall");if("skip_paywall"===t&&n!==e)$.cookie("skip_paywall",e,{expires:1});else if(this.lastUrl){const t=`${window.location.origin}${this.lastUrl}`;o.navigateTo(t)}else{const t=window.location.origin+"/home";o.navigateTo(t)}i.count("PlusKids.PopUp.Close");const a={condition:"paywall-promo_close",callback:this.hide.bind(this)};$(document).trigger("dontPayPopupRequest",a)},r.prototype.onShow=function(){this.trigger("show"),t.lockScroll({scrollLockedByWall:!0}),t.moveSidebar()},r.prototype.onHide=function(){this.trigger("hide"),t.unlockScroll(),t.moveSidebar()},r}())},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){return'<div class="plus-kids-popup" data-b='+__escape(Mu.dotBlockRoot(t,"plus-kids-popup"))+'> <div class="plus-kids-popup-close-btn js-close"> '+a.render({icon:"cross-big",class:"local-icon-theme-black"})+' </div> <iframe src="/plus-kids"></iframe></div>'})},function(t,e,i,n){Mu.blocks.register("popup",function(){var t,e,i,n,a,s,o=function(t,e){this.container=t,this.options=e||{},this.options.fixed=!!e.lockScroll||this.options.fixed,this.isOpen=!1,this.init(),Mu.eventize(this)};return o.init=function(o){t=$(document.body),e=$(document),i=$(window),n=o.get("popups")||{hide:function(){},on:function(){}},s=o.get("layout"),a=o.get("pages"),this.items=[],this.$overlay=$(".overlay"),this.overlayVisible=!1,e.on("mousedown",this.onHidePopup.bind(this)),e.on("keydown",this.onKeyDown.bind(this)),i.on("resize",this.onWindowResize.bind(this)),a.on("loading",this.onPageLoading.bind(this)),n.on("loading",this.onPageLoading.bind(this))},o.prototype.init=function(){this.$cont=$(this.container),this.$cont.toggleClass("popup_hidden",!0).toggleClass("popup deco-pane-popup",!0).toggleClass("popup_modal",!!this.options.modal),this.setOpener(),this.timeout=null,this.options.fade&&this.$cont.on("mouseenter",function(){clearTimeout(this.timeout)}.bind(this))},o.onHidePopup=function(t){o.closeAll(t,!1)},o.onKeyDown=function(t){27===t.keyCode&&(o.closeAll(t),n.hide())},o.onPageLoading=function(t){o.closeAll(t),n.hide()},o.onWindowResize=function(t){o.items.forEach((function(e){e.options.resize?e.options.position&&(e.$cont.position(e.options.position),e.fixPosition()):e.hide(t)}))},o.prototype.onOpenerMouseDown=function(t){this.isOpen&&t.stopPropagation()},o.prototype.show=function(){clearTimeout(this.timeout),this.trigger("beforeshow"),this.options.modal&&(!this.options.notClosePopupOnModalType&&o.closeAll(),this.showOverlay(!0)),this.options.appendable&&t.append(this.$cont),this.position(),this.isOpen=!0,o.items.push(this),this.setScrollEvents(),this.trigger("show")},o.prototype.hide=function(t){if(this.isOpen){var e=function(){this.$cont.toggleClass("popup_hidden",!0),this.options.modal&&o.overlayVisible&&this.showOverlay(!1),this.options.appendable&&this.$cont.remove(!1,!0),this.isOpen=!1,this.removeFromItems(),this.trigger("hide",t)}.bind(this);this.trigger("beforehide"),this.options.fade?this.timeout=setTimeout(function(){this.$cont.removeClass("popup_visible"),e()}.bind(this),150):e()}},o.prototype.position=function(){var t=this.options.position;this.$cont.toggleClass("popup_fade",!!this.options.fade),this.$cont.toggleClass("popup_fixed",!!this.options.fixed),this.$cont.toggleClass("popup_hidden",!1),t&&(this.$cont.position(t),this.fixPosition()),this.$cont.toggleClass("popup_visible",!!this.options.fade)},o.prototype.toggle=function(){return this.isOpen?this.hide():this.show(),this.isOpen},o.prototype.setOptions=function(t){this.options=$.extend(this.options,t),(t.opener||t.position)&&this.setOpener()},o.prototype.getOffset=function(){return this.options.fixed?this.$cont.position():this.$cont.offset()},o.prototype.setOpener=function(){this.$opener&&this.$opener.unbind("mousedown.Popup"),this.options.toggable&&(this.$opener=$(this.options.opener||this.options.position&&this.options.position.of),this.$opener&&this.$opener.bind("mousedown.Popup",this.onOpenerMouseDown.bind(this)))},o.prototype.showOverlay=function(t){o.overlayVisible=t=!!t,o.$overlay.toggleClass("overlay_shown",o.overlayVisible),this.options.overlayClass&&o.$overlay.toggleClass(this.options.overlayClass,t)},o.closeAll=function(t,e){if(e="boolean"!=typeof e||e,o.items&&o.items.length){var i=o.items.slice(0);$.each(i,(function(i,n){if(n.isOpen){if(!e&&n.options.persistent||n.options.showOnLoaded)return;var a=!1;!t||"mousedown"!==t.type&&"touchstart"!==t.type||(n.options.dontCloseOnElements&&n.options.dontCloseOnElements.length>0&&(a=n.options.dontCloseOnElements.some(e=>$(t.target).closest(e).length>0)),a=a||n.$cont[0]===t.target||n.$cont.has(t.target).length),a||n.hide(t)}}))}},o.prototype.removeFromItems=function(){var t;o.items&&o.items.length&&-1!==(t=o.items.indexOf(this))&&o.items.splice(t,1)},o.prototype.fixPosition=function(){var t=this.getOffset().left,e=this.$cont.outerWidth(),n=i.width();if(t<0&&this.$cont.css({left:0}),t+e>n){var a=n-e-this.$cont.offsetParent().offset().left;this.$cont.css({left:a})}},o.prototype.setScrollEvents=function(){if(!this.options.notHideOnScroll){var t=this.scrollableParents(this.$cont);this.hide=this.hide.bind(this),this.onLock=function(){t.map(function(t){t.off("scroll",this.hide)}.bind(this)),s.off("lockScroll",this.onLock),s.on("unlockScroll",this.onUnlock)}.bind(this),this.onUnlock=function(){i.one("scroll",this.hide),t.map(function(t){t.one("scroll",this.hide)}.bind(this)),s.off("unlockScroll",this.onUnlock),s.on("lockScroll",this.onLock)}.bind(this),this.options.lockScroll&&!this.needFallback()?(this.$cont.on("mouseenter",()=>{s.lockScroll(),this.position()}),this.$cont.on("mouseleave",t=>{const e=$(t.target),i=this.options.lockedElements;if(i&&i.length>0){if(this.options.lockedElements.some(t=>e.closest(t).length>0))return}s.unlockScroll(),this.position()}),s.on("lockScroll",this.onLock),this.on("hide",function(){s.unlockScroll(),i.off("scroll",this.hide),t.map(function(t){t.off("scroll",this.hide)}.bind(this)),s.off("lockScroll",this.onLock),s.off("unlockScroll",this.onUnlock)}.bind(this)),t.map(function(t){t.one("scroll",this.hide)}.bind(this))):this.options.modal||($(".sidebar-cont").one("scroll",this.hide),i.one("scroll",this.hide))}},o.prototype.mixin=function(t,e){var i,n;for(e=e||["toggle","show","hide","setOptions","isOpen"],i=0;i<e.length;i++)n=e[i],this.mixins[n]&&(t[n]=this.mixins[n])},o.prototype.mixins={toggle:function(){return this.popup.toggle()},show:function(){return this.popup.show()},hide:function(){return this.popup.hide()},setOptions:function(t){this.popup.setOptions(t)},isOpen:function(){return this.popup.isOpen}},o.prototype.needFallback=function(){var t=Mu.settings.uatraits||{},e=t.BrowserName,i=parseInt(t.BrowserVersion,10);return"MSIE"===e&&i<=11},o.prototype.scrollableParents=function(t){for(var e=[],i=t[0];i&&i.parentNode!==document.body;)i.scrollHeight>i.clientHeight&&e.push($(i)),i=i.parentNode;return e},o}())},function(t,e,i,n){Mu.blocks.register("settings-stream",function(){var t,e=function(){Mu.eventize(this)};return e.init=function(e){t=e.get("blocks"),t.get("station-popup")},e.prototype.init=function(){this.$cont=$(this.container),$(document.body).append(this.$cont),this.popup=new(t.get("popup"))(this.$cont,{toggable:!0,position:this.data.position}),this.popup.mixin(this,["setOptions","toggle","isOpen"]),this.popup.on("show",this.onToggle.bind(this)),this.popup.on("hide",this.onToggle.bind(this)),this.delegate("button-radio-slider.change",this.onChange.bind(this)),t.initPendingBlocks(this.container)},e.prototype.onChange=function(t){t.param&&t.value&&this.trigger("settings-stream.change",t)},e.prototype.onToggle=function(t){this.trigger("toggle")},e.prototype.destroy=function(){this.$cont.remove()},e}())},function(t,e,i,n){const a=globalThis.__Mu_appLinkUtility,s=i(40);Mu.blocks.register("social-bind",function(){let t,e,i,n;const o={vkontakte:"vk",facebook:"fb",deezer:"dz",lastfm:"lf"},r=function(){};return r.init=function(a){t=a.get("dataSrc"),e=a.get("broker"),i=a.get("auth"),n=a.get("popups"),this.domDelegate("click",(function(t){Mu.blocks.forElem(this).onClick(t)}))},r.brokerParams={startUrl:Mu.settings.social+"broker/start",retpath:`${window.location.protocol}//${window.location.host}/closer.html`,consumer:"radio",popupName:"social_radio",return_brief_profile:"true",action_if_anonymous:"authorize",result_location:"fragment",sid:54},r.brokerParamsForAuthorized={startUrl:Mu.settings.social+"broker2/start",retpath:`${window.location.protocol}//${window.location.host}/closer.html`,consumer:"radio",popupName:"social_radio",require_auth:1,return_brief_profile:"true",place:"fragment",sid:54},r.prototype.init=function(){this.$cont=$(this.container),this.$link=this.$cont.find(".d-link"),this.$button=this.$cont.find(".d-button"),this.button=Mu.blocks.forElem(this.$button.get(0),"d-button"),this.$link.on("click",this.onClick.bind(this)),this.button&&this.button.on("click",this.onClick.bind(this));const t=i.isLoggedIn()?r.brokerParamsForAuthorized:r.brokerParams;this.params=Object.assign({},this.data.params,t)},r.prototype.onClick=function(){const t=this,n=e(t.params);let{provider:a}=t.params;a=o[a]||a,i.lastProvider=a,n.start((function(e){"ok"===e.status&&e["profile.profile_id"]&&(i.isLoggedIn()?(t.bindProfile(e),t.checkWizard()):i.refresh(a,!0).then((function(){t.bindProfile(e),t.checkWizard()})))}))},r.prototype.checkWizard=function(){const e=this;if(e.data.needWizard){t.get("wizard-status",{},{nocache:!0}).then((function(t){t.isWizardPassed?window.location.href="/home":e.showWizard()}))}},r.prototype.showWizard=function(){a.hasAppStore()?(s.send({placement:"musicMobileWizardRecomendations"}),window.location=a.getLink({},{channel:"musicMobileWizardRecomendations",tags:["webwizard"],deeplink_url:"yandexmusic://main/"})):n.toggle("wizard")},r.prototype.bindProfile=function(e){const{provider:i}=this.params;if(!o[i])return;const n=this;t.post("change-profile",{action:"add","profile-id":e["profile.profile_id"],provider:i}).then((function(t){n.onBindSuccess(t,i)}))},r.prototype.onBindSuccess=function(t,e){t.success&&this.triggerEvent({type:"social-bind.bound",provider:e})},r}())},function(t,e,i,n){var a,s,o;Mu.blocks.register("speed",((o=function(){}).init=function(t){a=t.get("metrika"),s=t.get("adapter")},o.prototype.init=function(){this.speedOptions=[1,1.25,1.5,1.75,2],this.$cont=$(this.container),this.$speedIcon=this.$cont.find(".playback__control"),this.$cont.on("click",this.onSpeedClick.bind(this)),s.on(Mu.Adapter.EVENT_SPEED,this.updateSpeedStateFromOutside.bind(this)),s.onReady(this.updateSpeedStateFromOutside.bind(this))},o.prototype.getSpeedIconClass=function(){return"d-icon_playback-x"+String(this.speedOptions[this.currentSpeedOptionIndex]).split(".").join("")},o.prototype.updateSpeedStateFromOutside=function(){var t=this.getSpeedIconClass();this.$speedIcon.hasClass(t)&&this.$speedIcon.removeClass(t),this.currentSpeedOptionIndex=this.speedOptions.indexOf(s.getSpeed()),-1!==this.currentSpeedOptionIndex&&this.$speedIcon.addClass(this.getSpeedIconClass())},o.prototype.onSpeedClick=function(){this.$speedIcon.removeClass(this.getSpeedIconClass());var t=this.currentSpeedOptionIndex+1;this.currentSpeedOptionIndex=this.speedOptions[t]?t:0,a.count({speedChange:this.speedOptions[this.currentSpeedOptionIndex]+"x"}),s.setSpeed(this.speedOptions[this.currentSpeedOptionIndex])},o))},function(t,e,i,n){var a;Mu.blocks.register("tooltip",((a=function(){this.position=void 0,this.popup=void 0,this.$cont=void 0,this.$tail=void 0,this.tail=void 0,this._isOpen=!1,this._isInited=!1,Mu.eventize(this)}).init=function(t){a.current=null,$(window).on("mousedown",(function(t){a.current&&a.current.hide()}))},a.prototype.init=function(){this.trigger("init"),this.$cont=$(this.container),this.$tail=this.$cont.find(".tooltip__tail"),this.$parent=this.data.parent?this.$cont.parent().find(this.data.parent):this.$cont.parent(),this.$content=this.$cont.find(".tooltip__static-text"),this.$popup=this.data.popup?$(this.data.popup):void 0,this.data.autoInit&&(this.$parent.on("mouseenter",this.onShowTooltip.bind(this)),this.$parent.on("mouseleave",this.onHideTooltip.bind(this)))},a.prototype.initLayout=function(){this.trigger("initLayout"),this.position=this.position||this.data.position||{my:"center bottom",at:"center top-5"},this.position.of=this.position.of||this.$parent,this.tail=this.tail||this.data.tail;var t=this.getTailClass(),e=this.tail&&this.tail.side;for(var i in this.$tail.toggleClass(t,!0),e)e.hasOwnProperty(i)&&this.$tail.css(i,e[i]);this._isInited=!0},a.prototype.show=function(){this.trigger("show"),a.current&&a.current.hide(),this._isInited||this.initLayout(),a.current=this,this.$cont.toggleClass("tooltip_hidden",!1),this.$cont.position(this.position),this._isOpen=!0},a.prototype.hide=function(){this.trigger("hide"),a.current=null,this.$cont.toggleClass("tooltip_hidden",!0),this._isOpen=!1},a.prototype.isOpen=function(){return this._isOpen},a.prototype.setContent=function(t){this.$content.text(t),this.isOpen()&&this.show()},a.prototype.onShowTooltip=function(){var t=this;t.canOpen()&&(t.delay=setTimeout((function(){t.canOpen()&&t.show()}),500))},a.prototype.onHideTooltip=function(){this.delay&&(clearTimeout(this.delay),this.delay=null),this.hide()},a.prototype.getTailClass=function(){var t=/(left|right|top|bottom|center)/g;if(this.tail&&this.tail.className)return this.tail.className;if(!this.position||!this.position.my)return"tooltip__tail_bottom-left";var e=this.position.my.match(t),i=this.position.at.match(t);return e.length<2||i.length<2?"tooltip__tail_bottom-left":"tooltip__tail_"+("center"!==e[1]&&e[1]==i[1]?e.join("-"):e.reverse().join("-"))},a.prototype.canOpen=function(){return!this.data.checkedClass||!this.$parent.hasClass(this.data.checkedClass)},a))},function(t,e,i,n){const a={on:!1,mute:!1,volume:null};Mu.blocks.register("volume",function(){var t,e,i;var n=function(){};return n.init=function(n){t=n.get("adapter"),e=n.get("blocks"),i=n.get("seq")},n.prototype.init=function(){this.$cont=$(this.container),this.$button=this.$cont.find(".volume__btn"),this.$icon=this.$cont.find(".volume__icon"),this.$slider=this.$cont.find(".volume__slider"),this.slider=e.forElem(this.$slider[0]),this.isEqualizerShow=!1,t.on(Mu.Adapter.EVENT_VOLUME,this.onPlayerVolume.bind(this)),t.onReady(this.updateState.bind(this)),this.delegate("equalizer.enabled",this.onEqualizerShow),this.delegate("sliderVert.change",this.onChange),this.delegate("sliderVert.dragStart",this.onDragStart),this.delegate("sliderVert.dragEnd",this.onDragEnd),this.delegate("equalizer.toggle",this.onEqualizer),this.$cont.on("mouseenter",this.onHover.bind(this)),this.$cont.on("mouseleave",this.onLeave.bind(this)),this.__onScroll=this.onScroll.bind(this),this.$button.on("mouseenter",this.onBtnHover.bind(this)),this.$button.on("mouseleave",this.onBtnLeave.bind(this)),this.$button.on("click",this.mute.bind(this)),a.volume=this.slider.getPosition(),$(document.body).toggleClass("no-volume",!t.isReady())},n.prototype.updateState=function(){$(document.body).toggleClass("no-volume",!t.canChangeVolume()),"pc"!==ya.music.info.platform.type?t.setVolume(1):this.onPlayerVolume()},n.prototype.toggleIconClass=function(t,e){this.$icon.toggleClass(t,e)},n.prototype.onChangeCastVolume=function(t){if(window.castPlayer.phoneChangedVolume)window.castPlayer.phoneChangedVolume=!1,a.volume=window.castPlayer.volumeLevel;else{window.castPlayer.webChangedVolume=!0,t&&(a.volume=t);const e=t<=.001,i=!e&&t<.45;window.castPlayer.volume(t),this.toggleIconClass("volume__icon_half",i),this.toggleIconClass("volume__icon_mute",e)}},n.prototype.onChange=function(e){this._onPlayer||e.target!==this.slider||a.on||t.setVolume(e.value),window.castPlayer&&window.castPlayer.connected?(a.on=!0,this._onPlayer||e.target!==this.slider||this.onChangeCastVolume(this.slider.getPosition()),t.getVolume()>0&&(a.volume=t.getVolume()),t.mute(!0)):(a.on=!1,this.updateIcon())},n.prototype.onPlayerVolume=function(){this._onPlayer=!0;let e=t.getVolume();a.volume=this.slider.getPosition(),window.castPlayer&&window.castPlayer.connected&&(e=a.volume,window.castPlayer.webChangedVolume=!0,window.castPlayer.volume(e)),this.slider.setPosition(e),this._onPlayer=!1},n.prototype.close=function(){this.hover||this.drag||this.closeTimer||this.equalizer||(this.$cont.removeClass("volume_open"),this.$cont.removeClass("volume_edited"),this.$cont.addClass("volume_visited"))},n.prototype.onBtnHover=function(){this.$cont.bind("DOMMouseScroll.sliderVert",this.__onScroll),this.$cont.bind("mousewheel.sliderVert",this.__onScroll)},n.prototype.onBtnLeave=function(){this.$cont.unbind(".sliderVert")},n.prototype.onScroll=function(t){this.slider.onScroll(t)},n.prototype.onHover=function(){this.hover=!0,this.$cont.addClass("volume_open"),this.isEqualizerShow&&(window.castPlayer&&window.castPlayer.connected||i.isGenerative()?(this.$cont.removeClass("volume_show-equalizer"),$(".d-equalizer").hide()):(this.$cont.addClass("volume_show-equalizer"),$(".d-equalizer").show()))},n.prototype.onLeave=function(){this.hover=!1,this.close()},n.prototype.onDragStart=function(){this.closeTimer=this.closeTimer&&clearTimeout(this.closeTimer),this.drag=!0,this.$cont.addClass("volume_open"),window.castPlayer&&window.castPlayer.connected&&this.onChangeCastVolume(this.slider.getPosition())},n.prototype.onDragEnd=function(){this.drag=!1,this.hover||(this.closeTimer=setTimeout(function(){this.closeTimer=null,this.close()}.bind(this),1500))},n.prototype.onEqualizerShow=function(){this.$cont.addClass("volume_show-equalizer"),this.isEqualizerShow=!0},n.prototype.onEqualizer=function(t){this.equalizer=t.state,this.$cont.removeClass("volume_visited"),this.$cont.toggleClass("volume_equalizer",t.state),this.$cont.toggleClass("volume_edited",!t.state),t.state||this.close()},n.prototype.mute=function(e){e.preventDefault(),e.stopPropagation(),window.castPlayer&&window.castPlayer.connected?(t.mute(!0),a.mute=!a.mute,window.castPlayer.logger("web","mute"),window.castPlayer.logger("web",window.castPlayer),a.mute?(this.slider.setPosition(0),window.castPlayer.mute()):(this.slider.setPosition(a.volume),window.castPlayer.unmute())):t.mute()},n.prototype.updateIcon=function(){var e=t.getVolume();let i=0===e,n=!i&&e<.45;a.on&&(i=a.mute,n=!i&&a.volume<.45),this.toggleIconClass("volume__icon_half",n),this.toggleIconClass("volume__icon_mute",i),this.$icon.attr("title",(i?i18n("volume","Включить звук"):i18n("volume","Выключить звук"))+" [0]")},n}())},function(t,e,i,n){e["../blocks/adfox-creative/adfox-creative.js"]=i(246),e["../blocks/app-wall/app-wall.js"]=i(249),e["../blocks/album/album.js"]=i(251),e["../blocks/artist/artist.js"]=i(252),e["../blocks/audio-advert/audio-advert.js"]=i(253),e["../blocks/audio-animation/audio-animation.js"]=i(255),e["../blocks/auto-playlists/auto-playlists.js"]=i(257),e["../blocks/bar/bar.js"]=i(258),e["../blocks/bar-below/bar-below.js"]=i(264),e["../blocks/bar-below-configurable/bar-below-configurable.js"]=i(276),e["../blocks/branding/branding.js"]=i(279),e["../blocks/button-bilet/button-bilet.js"]=i(282),e["../blocks/button-play/button-play.js"]=i(283),e["../blocks/button-radio/button-radio.js"]=i(286),e["../blocks/cover-popup/cover-popup.js"]=i(287),e["../blocks/crackdown-popup/crackdown-popup.js"]=i(288),e["../blocks/d-album-slider/d-album-slider.js"]=i(297),e["../blocks/d-album-summary/d-album-summary.js"]=i(298),e["../blocks/d-artists/d-artists.js"]=i(299),e["../blocks/d-button-play__wrap/d-button-play__wrap.js"]=i(300),e["../blocks/d-chart-track/d-chart-track.js"]=i(302),e["../blocks/d-collective-access/d-collective-access.js"]=i(303),e["../blocks/d-context-menu/d-context-menu.js"]=i(305),e["../blocks/d-emojis/d-emojis.js"]=i(340),e["../blocks/d-event/d-event.js"]=i(343),e["../blocks/d-generic-intro/d-generic-intro.js"]=i(349),e["../blocks/d-hover/d-hover.js"]=i(350),e["../blocks/d-lang-switcher/d-lang-switcher.js"]=i(351),e["../blocks/d-like/d-like.js"]=i(355),e["../blocks/d-links/d-links.js"]=i(363),e["../blocks/d-more/d-more.js"]=i(364),e["../blocks/d-no-ads/d-no-ads.js"]=i(365),e["../blocks/d-overhead/d-overhead.js"]=i(366),e["../blocks/d-overhead-mobile/d-overhead-mobile.js"]=i(367),e["../blocks/d-playlist-authors/d-playlist-authors.js"]=i(370),e["../blocks/d-search/d-search.js"]=i(372),e["../blocks/d-station/d-station.js"]=i(373),e["../blocks/d-suggest/d-suggest.js"]=i(374),e["../blocks/d-track/d-track.js"]=i(405),e["../blocks/dislike/dislike.js"]=i(443),e["../blocks/dont-pay-popup/dont-pay-popup.js"]=i(444),e["../blocks/editorial/editorial.js"]=i(446),e["../blocks/footer/footer.js"]=i(447),e["../blocks/force-auth-popup/force-auth-popup.js"]=i(448),e["../blocks/gdpr-popup/gdpr-popup.js"]=i(449),e["../blocks/head/head.js"]=i(453),e["../blocks/head-kids/head-kids.js"]=i(464),e["../blocks/head-progress/head-progress.js"]=i(470),e["../blocks/hq/hq.js"]=i(471),e["../blocks/iframe-config/iframe-config.js"]=i(472),e["../blocks/meta/meta.js"]=i(473),e["../blocks/mix/mix.js"]=i(505),e["../blocks/more/more.js"]=i(506),e["../blocks/nav/nav.js"]=i(507),e["../blocks/nav-kids/nav-kids.js"]=i(508),e["../blocks/notify/notify.js"]=i(509),e["../blocks/payment-popup-annoyer/payment-popup-annoyer.js"]=i(510),e["../blocks/pictures-slider/pictures-slider.js"]=i(511),e["../blocks/player-controls/player-controls.js"]=i(512),e["../blocks/player-progress/player-progress.js"]=i(522),e["../blocks/playlist/playlist.js"]=i(524),e["../blocks/playlist-cover/playlist-cover.js"]=i(525),e["../blocks/plus-kids-popup-annoyer/plus-kids-popup-annoyer.js"]=i(526),e["../blocks/plus-points/plus-points.js"]=i(527),e["../blocks/promo/promo.js"]=i(529),e["../blocks/promo/promo_video.js"]=i(530),e["../blocks/radio/radio.js"]=i(531),e["../blocks/radio-settings/radio-settings.js"]=i(532),e["../blocks/radio-station/radio-station.js"]=i(533),e["../blocks/rup/rup.js"]=i(534),e["../blocks/rup-stations/rup-stations.js"]=i(539),e["../blocks/scrolling-side-navigation/scrolling-side-navigation.js"]=i(540),e["../blocks/serp-hint/serp-hint.js"]=i(541),e["../blocks/share/share.js"]=i(542),e["../blocks/share/share_base.js"]=i(544),e["../blocks/share/share_counters.js"]=i(543),e["../blocks/sidebar/sidebar.js"]=i(546),e["../blocks/single-queue/single-queue.js"]=i(548),e["../blocks/snowfall/snowfall.js"]=i(549),e["../blocks/stream-badge/stream-badge.js"]=i(550),e["../blocks/subhead/subhead.js"]=i(552),e["../blocks/subscribe/subscribe.js"]=i(553),e["../blocks/subscribe-to-user/subscribe-to-user.js"]=i(554),e["../blocks/teaser/teaser.js"]=i(555),e["../blocks/teaser-nonmusic/teaser-nonmusic.js"]=i(559),e["../blocks/theme/theme.js"]=i(560),e["../blocks/tooltip/tooltip.js"]=i(561),e["../blocks/touch-player/touch-player.js"]=i(562),e["../blocks/touch-player-controls/touch-player-controls.js"]=i(568),e["../blocks/touch-player-sequence/touch-player-sequence.js"]=i(565),e["../blocks/track/track.js"]=i(570),e["../blocks/ugc-loader/ugc-loader.js"]=i(571),e["../blocks/video-list/video-list.js"]=i(574),e["../blocks/video-overlay/video-overlay.js"]=i(575),e["../blocks/visibility-toggle/visibility-toggle.js"]=i(578),e["../blocks/web-push-popup/web-push-popup.js"]=i(579),e["../blocks/wizard-item/wizard-item.js"]=i(580),e["../blocks/wizard-item/wizard-item_helper.js"]=i(582),e["../blocks/wizard-me/wizard-me.js"]=i(583),e["../blocks/z-media/z-media.js"]=i(584)},function _(module,exports,require,global){const canShowAdvertOnPage=require(247),advertVar=require(248);Mu.blocks.register("adfox-creative",function(){var Pages,DataSrc,DOverhead,AdfoxCreative=function(){};return AdfoxCreative.init=function(t){Pages=t.get("pages"),DataSrc=t.get("dataSrc"),DOverhead=t.get("blocks").get("d-overhead")},AdfoxCreative.prototype.init=function(){this.$cont=$(this.container),this.$divForAdfox=this.$cont.find("#adfox_"+this.data.id),Pages.on("loaded",async t=>{const e=await this.checkAvailablePage(t);this.toggleAdfoxCreative(e)})},AdfoxCreative.prototype.checkAvailablePage=function(t){return canShowAdvertOnPage(t)&&"pc"===ya.music.info.platform.type?advertVar.shouldShowAdfoxBrick(DataSrc):Promise.resolve(!1)},AdfoxCreative.prototype.toggleAdfoxCreative=function(isAvailable){if(!this.script){const t=$("#recallable-script__"+this.data.type)[0];this.script=t&&t.innerHTML}isAvailable?(this.loaded&&this.script&&(this.clearAdfox(),eval(this.script)),DOverhead.hideBrick()):this.clearAdfox(),this.loaded=!0,this.$cont.toggleClass("adfox-creative_shown",isAvailable)},AdfoxCreative.prototype.clearAdfox=function(){this.$divForAdfox.html("")},AdfoxCreative}())},function(t,e,i,n){const a=["album","artist","label","main","metatag","playlist","post","radio","search","settings","tag","track","users","non-music","kids"];t.exports=t=>a.includes(t&&t.name)},function(t,e,i,n){t.exports={_getVarPromise:function(t){return this._promise||(this._promise=t.get("variabel",{id:"advert"},{nocache:!0})),this._promise},_getREPromise:function(t,e){return this._getVarPromise(t).then(t=>{const i=t&&t.valueByKey&&t.valueByKey[e];return i&&new RegExp(i)})},_checkCondition:function(t){return t.then(t=>t&&t.test(location.pathname))},shouldShowAdfoxBrick:function(t){return this._adfoxBrickPromise||(this._adfoxBrickPromise=this._getREPromise(t,"show-adfox-brick-3-0")),this._checkCondition(this._adfoxBrickPromise)},shouldHideBrick:function(t){return this._brickPromise||(this._brickPromise=this._getREPromise(t,"hide-brick")),this._checkCondition(this._brickPromise)},shouldHideSidebar:function(t){return this._sidebarPromise||(this._sidebarPromise=this._getREPromise(t,"hide-sidebar")),this._checkCondition(this._sidebarPromise)}}},function(t,e,i,n){const a=i(40),s=i(12),o=i(250),r=i(177),l=i(103),c=i(215),d={track:!0,album:!0,playlist:!0,artist:!0,index:!0,home:!0,mix:!0,main:!0},u={index:!0,home:!0},p={},h="app-wall_should_pay_after_autharization",_="suggest",m="mbform",g="app-wall__track-list__track--playing",f="app-wall__controls__button-play-label--playing",y="app-wall__suggest-plus-modal--opened",v="app-wall--no-scrollable",b="app-wall__mbform__wrapper--opened",k=function(t,e){if("album"!==t.name)return[];if(e)return t.data.volumes;let i=0;const n=[];for(var a=0;a<t.data.volumes.length;a++){let e=t.data.volumes[a];for(let t=0;t<e.length;t++){if(5-i==0)return n;n[a]||(n[a]=[]),i++,n[a].push(e[t])}}return n},w=function(t){switch(t.name){case"album":return[].concat.apply([],t.data.volumes);case"playlist":return t.data.playlist.tracks;default:return t.data.tracks||[]}},x=function(t){switch(t.name){case"album":return"podcast"===t.data.type?t.data.likesCount:0;case"playlist":return t.data.playlist.likesCount;case"artist":return t.data.likesCount;default:return 0}};Mu.blocks.register("app-wall",function(){var t,e,i,n,M,T,S,L,P,C,D,E,A,Y=function(){};return Y.init=function(a){t=s.getDeviceInfo(),Y.isAvailable()&&(Y.blockView(),e=a.get("pages"),i=a.get("metrika"),a.get("layout"),a.get("navigation"),n=a.get("auth"),M=a.get("seq"),T=a.get("dataSrc"),S=Mu.Storage.create("localStorage"),L=T.get("payment-products",{},{nocache:!0}).then(({products:t=[]})=>t.find(({available:t,trialAvailable:e,type:i})=>t&&e&&"subscription"===i)||t[0]),e.on("loaded",(function(t){if(Y.isAvailableForPage(t)){M.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,Y.eventTogglePause),M.on(Mu.PlayFlow.EVENT_TRACK_PLAY,Y.eventTrackPlay),M.on(Mu.PlayFlow.EVENT_TRACK_END,Y.eventTrackEnd);var e=Y.show(t);Y.isRedirectableFromPage(t)&&e.then((function(){return setTimeout((function(){Y.redirect(t)}),1)})).catch(()=>{})}else Y.hide()})),this.domDelegate("click",".app-wall__close",Y.goToWeb),this.domDelegate("click",".app-wall__footer__button--go-to-site",Y.goToWeb),this.domDelegate("click",".app-wall__app",Y.goToApp),this.domDelegate("click",".app-wall__footer__button--open-app",Y.goToApp),this.domDelegate("click",".app-wall__link-plus-landing",(function(){i.count({splashScreen:"plus"})})),this.domDelegate("click",".app-wall__disabled-control-button-play",Y.stopPlayingShowSuggestPopup),this.domDelegate("click",".app-wall__disabled-track-button-play",Y.stopPlayingShowSuggestPopup),this.domDelegate("click",".app-wall__show-full-track-list",Y.showFullTrackList),this.domDelegate("click",".app-wall__show-full-album-list",Y.showFullAlbumList),this.domDelegate("click",".app-wall__controls__button-like",Y.likeButtonClick),this.domDelegate("click",".app-wall__suggest-plus-modal__button-get-plus",Y.getPlusButtonClick),this.domDelegate("click",".app-wall__suggest-plus-modal__button-has-plus",Y.hasPlusButtonClick),this.domDelegate("click",".app-wall__mbform__wrapper__close",Y.closeMBFormButtonClick),this.domDelegate("click",".app-wall__suggest-plus-modal__close",(function(){S.removeItem("app-wall_autoplay_track_id"),S.removeItem("app-wall_like_after_authorizate"),Y.toggleSuggestPlusPopup()})))},Y.closeMBFormButtonClick=function(){const t=Mu.blocks.forElem($(".mbform")[0]);t&&t.destroy(),Y.changeMediabilllingAndSuggestPopups(!1)},Y.setCookie=function(t,e,i){const n=new Date,a=n.getTime()+i;n.setTime(a),$.cookie(t,e,{expires:n,path:"/"})},Y.setListenLimitEndCookie=function(){Y.setCookie("app-wall_listen_limit_ended","1",6048e5)},Y.eventTrackEnd=function({id:t}={}){n.isPremium()||t!==E||(Y.setListenLimitEndCookie(),Y.disableTrackPlayButtons(),Y.stopPlayingShowSuggestPopup())},Y.eventTogglePause=function(t){if(!n.isPremium()&&$.cookie("app-wall_listen_limit_ended")&&t)return Y.stopPlayingShowSuggestPopup();Y.togglePlayingUIClasses(t)},Y.eventTrackPlay=function({id:t}={}){Y.togglePlayingUIClasses(),n.isPremium()||(E?t!==E&&(Y.setListenLimitEndCookie(),Y.disableTrackPlayButtons(),Y.stopPlayingShowSuggestPopup()):(E=t,Y.disableTrackPlayButtons(t)))},Y.likeButtonClick=function(){n.isLoggedIn()||(S.setItem("app-wall_like_after_authorizate",!0),Y.stopPlayingShowSuggestPopup())},Y.disableTrackPlayButtons=function(t){if(!t){const t=$(".app-wall__controls__button-play");t.find(".button-play").remove(),t.prepend(Mu.render("app-wall__control__play-button",{canListen:!1,allTrackList:C.allTrackList}))}$(".app-wall__track-list__track").filter((e,i)=>$(i).attr("data-track-id")!==t).find(".app-wall__track-button-play-appendable-wrap").html(Mu.render("app-wall__track-play-button"),{canListen:!1})},Y.stopPlayingShowSuggestPopup=function(){if(M.isPlaying()){const t=M.getCurrent();M.togglePause(!0),t&&S.setItem("app-wall_autoplay_track_id",t.id)}Y.togglePlayingUIClasses(!1),Y.toggleSuggestPlusPopup(!0)},Y.changeMediabilllingAndSuggestPopups=function(t=!1){A?window.location.reload():(Y.toggleSuggestPlusPopup(!t),P.find(".app-wall__mbform__wrapper").toggleClass(b,t))},Y.showBillingPopup=function(){L.then((function(t){const e=Mu.blocks.forElem($(".mbform")[0]);t&&e&&(Y.changeMediabilllingAndSuggestPopups(!0),e.on(c.userExitCancel,Y.changeMediabilllingAndSuggestPopups),e.on(c.userExitError,Y.changeMediabilllingAndSuggestPopups),e.on(c.userExitSuccess,Y.changeMediabilllingAndSuggestPopups),e.on(c.paymentSuccess,(function(){$(".app-wall__mbform__wrapper__close").remove(),A=!0})),e.showFormFor(t,{widgetServiceName:"music_touch",widgetSubServiceName:"zaglushka_with_playlist"}))}))},Y.hasPlusButtonClick=function(){i.count({popUp:"subscribed"}),S.setItem(h,_),n.showAuthForm((function(){}))},Y.getPlusButtonClick=function(){i.count({popUp:"subscribe"}),n.isLoggedIn()?Y.showBillingPopup():(S.setItem(h,m),n.showAuthForm((function(){})))},Y.showFullAlbumList=function(){n.isLoggedIn()&&n.isPremium()||Y.stopPlayingShowSuggestPopup()},Y.showFullTrackList=function(){n.isLoggedIn()&&n.isPremium()?(Y.togglePlayingUIClasses(),C={...C,albumVolumes:k(Mu.pages.current,!0),isFullTrackList:!0},P.find(".app-wall__show-full-track-list").remove(),P.find(".app-wall__track-list").html(Mu.render("app-wall__track-list",C))):Y.stopPlayingShowSuggestPopup()},Y.toggleSuggestPlusPopup=function(t=!1){const e=t?"show":"close",n=P.find(".app-wall__suggest-plus-modal"),a=()=>{n.toggleClass(y,t),P.toggleClass(v,t)};if(n.hasClass(y)!==t){if(i.count({popUp:e}),!t)return a();L.then((function(e){if(t&&e){const{buttonText:t,buttonAdditionalText:i}=e;$(".app-wall__suggest-plus-modal__subscription_button").html(Mu.render("d-button",{rounded:!0,size:"L",class:"app-wall__suggest-plus-modal__button app-wall__suggest-plus-modal__button-get-plus",text:t,additionalText:i,type:"action",noHoverColor:!0}))}a()}))}},Y.togglePlayingUIClasses=function(t){P&&setTimeout((function(){const e=M.getCurrent(),i=void 0!==t?t:M.isPlaying();P.find(".app-wall__track-list__track").removeClass(g),P.find(".app-wall__controls__button-play-label").toggleClass(f,i),e&&i&&P.find(`[data-track-id="${e.id}"]`).addClass(g)}))},Y.goToApp=function(t){i.count({splashScreen:"app"});var e=$(t.target).attr("href").split("?")[1],n=$.queryString(e).channel;a.send({placement:n})},Y.goToWeb=function(){Y.hide(),Y.saveStatus(),i.count({splashScreen:"web"})},Y.render=function(t,e){P=$(Mu.render(t,e)),$(document.body).append(P)},Y.isAvailable=function(){return!!s.isSupportedDevice()&&!$.cookie("phone-banner_shown")},Y.isAvailableForPage=function(t){const e=t.query&&0===Number(t.query.mob),i=t.query&&t.query.playVideo,n="undefined"!=typeof document&&document.cookie.includes("redirected_from_touch");return!(e||i||n)&&!!d[t.name]},Y.isRedirectable=function(){return s.isSupportedIOs()},Y.isRedirectableFromPage=function(t){return!!Y.isRedirectable()&&!!u[t.name]},Y.isHidable=function(e){return!("iPhone"===t.DeviceName||"Android"===t.OSFamily&&t.isMobile)||(!s.isSupportedDevice()||!Y.isRedirectable())},Y.isHidableOnPage=function(t){return!!Y.isShowAppLink(t)&&(!p[t.name]&&Y.isHidable(t))},Y.isShowAppLink=function(t){return!t.data.doNotIndex},Y.interactiveSplashscreenExperimentTurnOn=function(){return["non","30sec","full"].some(t=>Mu.experiments.WebInteractiveSplashscreenWithTrackTimeLimit===t)},Y.interactiveSplashscreenExperimentCanListen=function(){const t=n.isLoggedIn()&&n.isPremium()&&Y.interactiveSplashscreenExperimentTurnOn(),e=["30sec","full"].some(t=>Mu.experiments.WebInteractiveSplashscreenWithTrackTimeLimit===t);return t||e},Y.isInteractiveSplashscreenPage=function(t){const e=["playlist","artist","album","track"].some(e=>t.name===e);return Y.interactiveSplashscreenExperimentTurnOn()&&e},Y.show=function(e){i.count({splashScreen:"show"}),P&&P.remove(),$("body").hasClass("theme-black")&&(D=!0,Y.bodyChangeThemeClass());const a="artist"===e.name,s=a&&"tracks"===e.data.what,l=a&&"albums"===e.data.what,c=a?e.data.albums:[],d=w(e),u=function(t){return"playlist"===t.name?t.data.playlist:t.trackId?w(t).find(({id:e})=>t.trackId===e):t.data}(e),p=n.isLoggedIn(),h=p&&n.isPremium(),_="album"===e.name&&e.trackId?"track":e.name,m=new r({data:{[_]:u}}).getLink(),g=Y.getLink(e);return C=$.extend({},e,{device:t,link:g,hidable:Y.isHidableOnPage(e),isShowAppLink:Y.isShowAppLink(e),pageDataType:e.data.type,isInteractiveSplashscreenPage:Y.isInteractiveSplashscreenPage(e),canListenTrack:Y.interactiveSplashscreenExperimentCanListen(),albumVolumes:k(e),likesCount:o(x(e)),isPremium:h,pageItem:u,isLoggedIn:p,allTrackList:d,isArtistTrackPage:s,isArtistAlbumPage:l,albumList:c,linkForShare:m,previewTracksLimit:5,previewAlbumsLimit:4,commonButtonClass:"local-theme-white local-icon-theme-white d-button_type_borderless",hasLimitToListen:h||!$.cookie("app-wall_listen_limit_ended")}),M.getShuffle()&&M.setShuffle(!1),Y.render("app-wall",C),Y.autoActionsAfterPageRender(),Y.loadImages()},Y.autoActionsAfterPageRender=function(){const t=!n.isPremium()&&S.getItem(h),e=S.getItem("app-wall_autoplay_track_id"),i=S.getItem("app-wall_like_after_authorizate"),a=()=>$(".app-wall__controls__button-like .d-button"),s=()=>Mu.pages.current.trackId?$(".app-wall__controls__button-play .button-play"):$(`[data-track-id="${e}"] .button-play_full`),o=(t,e,i=0)=>setTimeout(()=>{const n=t()[0];n?e($(n)):i<5&&o(t,e,i+1)},500);t===m&&n.isLoggedIn()?Y.showBillingPopup():t&&Y.toggleSuggestPlusPopup(!0),e&&n.isPremium()&&o(s,()=>{const t=Y.getPlayContext(),i=C.trackId?[C.pageItem]:C.allTrackList,n=i.findIndex(({id:t})=>t===e);S.removeItem("app-wall_autoplay_track_id"),M.clear().then(()=>M.playTracks(t,i,n))}),i&&n.isLoggedIn()&&!a().find(".d-icon").hasClass("d-icon_heart-full")&&o(a,t=>t.trigger("click")),S.removeItem("app-wall_like_after_authorizate"),S.removeItem(h)},Y.hide=function(){Y.unBlockView(),P&&P.remove(),D&&Y.bodyChangeThemeClass("black")},Y.bodyChangeThemeClass=function(t="white"){const e=$("body");e.addClass("theme-"+t),e.removeClass("theme-"+("white"===t?"black":"white"))},Y.loadImages=function(){var t,e=0,i=[],n=[],a=new l,s=function(){0===(e-=1)&&a.resolve()},o=function(t){document.body.removeChild(t),s()};P.find("*").each((function(){if("IMG"===this.tagName)i.push(this);else{var t=getComputedStyle(this);t.backgroundImage&&"none"!==t.backgroundImage&&!t.backgroundImage.includes("linear-gradient")&&n.push(t.backgroundImage.replace(/^url\(['"]?([^'"]+)['"]?\)$/,"$1"))}})),e+=i.length,e+=n.length;for(var r=0;r<i.length;r++)i[r].complete&&i[r].naturalWidth?s():i[r].addEventListener("load",i[r].addEventListener("error",s));for(var c=0;c<n.length;c++)(t=new Image).style="visibility: hidden; position: fixed; left: -10000;",document.body.append(t),t.src=n[c],t.complete&&t.naturalWidth?o(t):t.addEventListener("load",t.addEventListener("error",o.bind(null,t)));return a.promise()},Y.saveStatus=function(){Y.setCookie("phone-banner_shown","1",6e4)},Y.blockView=function(){$(".page-root").css({display:"none"})},Y.unBlockView=function(){$(".page-root").css({display:""})},Y.getLink=function(t){var e="musicSplashScreen";Y.isHidableOnPage(t)||(e+="Locked");var i,n,a=t.name;switch(a){case"artist":case"playlist":i=t.name,n=t.data[i];break;case"album":a=i=(n=t.data).trackId?"track":"album";break;case"mix":n=t.data,i="mix";break;default:i="",n={}}let o=null;const r=t.query&&(t.query.play||t.query.playTrack);return r&&(o={argument:t.query.play?"play":"playTrack",value:r}),s.getLink({contextName:a,blockName:"app-wall",entity:n,entityType:i,autoPlay:o},Object.assign({channel:e},t.query))},Y.redirect=function(t){window.location.href=Y.getLink(t)},Y.toggleLikeCount=function(t){const e=Mu.pages.current,i=e.name,n=e.data.type;if("artist"===i||"playlist"===i||"album"===i&&"podcast"===n){const e=P.find(".app-wall__controls__button-like .app-wall__controls__button__label");if(e){const i=(Number(e.html().replace(/ /gi,""))||0)+(t?1:-1);e.html(i>0?o(i):i18n("app-wall","[feature/mfront-3352]Нравится"))}}},Y.getPlayContext=function(t){switch(C.name){case"album":return Y.albumContext(t);case"artist":return Y.artistContext(t);case"playlist":return Y.playlistContext(t);default:return null}},Y.albumContext=function(){let t,e;if(C.trackId){const i=C.pageItem;t=i.albums[0]||{},e=[i]}else t=C.pageItem,e=[].concat.apply([],t.volumes);const i=e.map(e=>({album:t,track:e})),{title:n}=t;return{id:"album:"+t.id,entries:i,shortTitle:n,title:i18n("page-album","Альбом «%1»",n),href:"/album/"+t.id,album:t}},Y.playlistContext=function(){const t=C.pageItem,e=t.title,i=t.tracks.map(e=>({playlist:t,track:e}));return{id:"playlist:"+t.kind,entries:i,shortTitle:e,title:i18n("page-playlist","Плейлист «%1»",e),href:"/users/"+t.owner.login+"/playlists/"+t.kind,playlist:t}},Y.artistContext=function(){const t="tracks"===C.pageItem.what,e=C.pageItem.artist,i=C.pageItem.tracks.map(t=>({album:t.albums?t.albums[0]:{},track:t})),n=t?i18n("page-artist","Все треки исполнителя %1",e.name):i18n("page-artist","Популярные треки исполнителя %1",e.name),a="/artist/"+e.id+(t?"/tracks":"");return{id:"artist:"+e.id+(t?":all":":top"),entries:i,shortTitle:e.name,title:n,href:a,artist:e}},Y.likeMessage=function(t){const e=`app-wall_tooltip_${t}_message`,i=Mu.blocks.get("d-tooltip").getTooltip(".app-wall__controls__button-like .d-button",{content:Mu.render(e,{}),type:"alert",side:"bottom",theme:"black",fade:!0,onShow:function(){setTimeout(i.hide.bind(i),2e3)}});i.show()},Y.prototype.init=function(){this.$cont=$(this.container),this.delegate("button-play.click",(function(){i.count({splashScreen:"play"})})),this.delegate("like",(function(){Y.toggleLikeCount(!0),Y.likeMessage("like")})),this.delegate("unlike",(function(){Y.toggleLikeCount(!1),Y.likeMessage("unlike")})),this.delegate("button-play.getContext",(function(t){return Y.getPlayContext(t)}))},Y}())},function(t,e,i,n){t.exports=i(77)},function(t,e,i,n){var a,s,o;Mu.blocks.register("album",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);0===$(t.target).closest("a").length&&e&&e.onClick(t)}))},o.prototype.onClick=function(){this.triggerEvent({type:"album.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("album_selected",t)},o.prototype.openSidebar=function(){var t={},e=this.data.album;t.from=s.getCardFrom(this.container,"album"),t.album=e.id;var i=this.closestParent("event");i&&(t.eventId=i.data.id),a.show("album",t)},o))},function(t,e,i,n){var a,s,o;Mu.blocks.register("artist",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target);0===i.closest("a").size()&&0===i.closest(".button").size()&&i.closest(".artist__content").size()>0&&e.onClick(t)}))},o.prototype.onClick=function(){this.triggerEvent({type:"artist.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("artist_selected",t)},o.prototype.openSidebar=function(){var t={};t.from=s.getCardFrom(this.container,"artist"),t.artist=this.data.artist.id;var e=this.closestParent("event");e&&(t.eventId=e.data.id),a.show("artist",t)},o))},function(t,e,i,n){var a,s,o,r,l,c=i(254);Mu.blocks.register("audio-advert",((l=function(){this.collapsed=!0,this.shown=!1}).init=function(t){a=t.get("player"),s=t.get("adapter"),o=t.get("metrika"),r=t.get("blocks").get("payment-popup-controller")},l.prototype.init=function(){a.allowVideoAdvert(this.videoAdvertPopup.bind(this)),this.$cont=$(this.container),this.$popup=this.$cont.find(".audio-advert__block"),this.$wrapper=this.$cont.find(".audio-advert__content"),this.$pause=this.$cont.find(".audio-advert__button"),this.$close=this.$cont.find(".audio-advert__close"),this.$body=$("body"),this.$bar=$(".bar"),s.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onStart.bind(this)),s.on(Mu.Adapter.EVENT_HIDE_ADVERT,this.onStop.bind(this)),s.on(Mu.Adapter.EVENT_EMPTY_ADVERT,this.onEnd.bind(this)),s.on(Mu.Adapter.EVENT_TOGGLE_PAUSE,this.onState.bind(this)),r.on("show",this.onPaymentShow.bind(this)),$(window).on("resize",this.onWindowResize.bind(this)),this.$wrapper.on("click","a",this.onClick.bind(this)),this.$close.on("click",this.onClose.bind(this)),this.$pause.on("click",this.togglePause.bind(this))},l.prototype.videoAdvertPopup=function(t){return t.video=!0,this.onStart(t),this.$wrapper.find(".audio-advert__video")[0]},l.prototype.onStart=function(t){this.$wrapper.html(c(t)),this.$videoWrap=this.$wrapper.find(".audio-advert__video-wrap"),this.$videoWrap.find(".audio-advert__expand").on("click",this.onExpand.bind(this)),this.collapsed=!(t.image||t.video),this.temporaryCollapsed=!1,this.shown=!0,this.data=t,this.$cont.toggleClass("audio-advert_media",!this.collapsed),this.toggleCollapsed(this.collapsed),this.onWindowResize(),this.$cont.removeClass("audio-advert_hidden")},l.prototype.onEnd=function(){this.$wrapper.empty()},l.prototype.onStop=function(){this.$cont.addClass("audio-advert_hidden"),this.$bar.removeClass("audio-advert_on"),this.shown=!1},l.prototype.onWindowResize=function(){this.collapsed||(this.$body.height()<550?this.temporaryCollapsed||(this.toggleCollapsed(!0),this.temporaryCollapsed=!0):this.temporaryCollapsed&&(this.toggleCollapsed(!1),this.temporaryCollapsed=!1))},l.prototype.onPaymentShow=function(){this.collapsed||this.onClose()},l.prototype.toggleCollapsed=function(t){this.$cont.toggleClass("audio-advert_collapsed",t),this.$cont.toggleClass("audio-advert_expanded",!t);var e=this.data&&(this.data.description||this.data.clickThroughUrl),i=t&&!e?i18n("audio-advert","[feature/fix-desktop-audio-advert]Не хочу так"):i18n("no-ads","Отключить рекламу");this.$cont.find(".d-no-ads__button .d-button__label").text(i),this.$popup.toggleClass("deco_shadow",!t),this.$popup.toggleClass("deco-pane-popup",!t),this.$popup.toggleClass("deco-pane",t),this.$videoWrap.toggleClass("deco_shadow",t)},l.prototype.onClose=function(){try{o.goal("ADV_POPUP",{"Аудио реклама":{"Закрытие попапа":s._buildAdvMetric(s.advertInfo.type,s.advertInfo.tag,s.advertInfo.data)}})}catch(t){}this.collapsed=!0,this.toggleCollapsed(this.collapsed)},l.prototype.onExpand=function(t){t.preventDefault(),t.stopPropagation();try{o.goal("ADV_POPUP",{"Аудио реклама":{"Переоткрытие попапа":s._buildAdvMetric(s.advertInfo.type,s.advertInfo.tag,s.advertInfo.data)}})}catch(t){}this.collapsed=!1,this.toggleCollapsed(this.collapsed)},l.prototype.onCanSkip=function(){this.$skip.addClass("audio-advert__skip_show")},l.prototype.onSkip=function(){},l.prototype.onClick=function(){s.advertClick()},l.prototype.onState=function(){this.$pause.attr("title",(s.isPlaying()?i18n("audio-advert","Пауза"):i18n("audio-advert","Играть"))+" [P]"),this.$pause.toggleClass("player-controls__btn_play",!s.isPlaying()),this.$pause.toggleClass("player-controls__btn_pause",s.isPlaying())},l.prototype.togglePause=function(){s.togglePause()},l))},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(125);return function(i){var n="";return i.video?(n+='<div class="audio-advert__video-wrap deco-pane-popup deco-pane-arrow_down">',e()||(n+=t.render({size:"M",icon:"box-with-arrow",iconRotation:"upside-down",rounded:!0,type:"overlay",attrs:{title:i18n("audio-advert","Развернуть")},class:"audio-advert__expand"})),n+='<div class="audio-advert__video"><video></video></div></div>'):i.image&&(n+='<div class="audio-advert__image"><img src="'+__escape(i.image)+'" alt="'+__escape(i.description)+'" title="'+__escape(i18n("audio-advert","Реклама"))+'" /></div>'),n+='<div class="audio-advert__captions deco-pane"><span class="audio-advert__title typo-default">'+__escape(i18n("audio-advert","[feature/preroll-news]Воспроизведение начнется сразу после рекламы"))+"</span>",i.clickThroughUrl?n+='<a class="audio-advert__description typo-link" href="'+__escape(i.clickThroughUrl)+'" rel="noopener" target="_blank">'+__escape(i18n("audio-advert","[feature/touch-player-advert]Узнать больше"))+"</a>":n+='<span class="audio-advert__description">'+__escape(i18n("audio-advert","[feature/fix-desktop-audio-advert]Сейчас вы слушаете музыку вперемешку с рекламой"))+"</span>",n+="</div>"}}()},function(t,e,i,n){i(256);Mu.blocks.register("audio-animation",function(){let t;const e=function(){};return e.init=function(e){t=e.get("metrika")},e.prototype.init=function(){this.$container=$(this.container),this.$fallback=this.$container.find(".audio-animation__fallback"),this.$fallbackVideo=this.$container.find(".audio-animation__fallback video"),this.$fallbackFade=this.$container.find(".audio-animation__fallback-fade"),t.count({RUP:{Fallback:"error"}}),this.fallbackOnResize=this.fallbackOnResize.bind(this),this.$fallbackVideo.one("play",this.fallbackOnResize),$(window).on("resize",this.fallbackOnResize),this.handleVisibilityChange=this.handleVisibilityChange.bind(this),$(document).on("visibilitychange",this.handleVisibilityChange)},e.prototype.fallbackOnResize=function(){const t=this.$fallbackVideo.width(),e=(this.$container.width()-t)/2;this.$fallbackFade.css("left",e+"px"),this.$fallbackFade.css("width",t+"px")},e.prototype.destroy=function(){$(window).off("resize",this.fallbackOnResize),$(document).off("visibilitychange",this.handleVisibilityChange)},e.prototype.handleVisibilityChange=function(){document.hidden?this.$fallbackVideo.get(0).pause():this.$fallbackVideo.get(0).play()},e}())},function(t,e,i,n){},function(t,e,i,n){var a="playlist-notification__point",s="playlist-notification__point_ready";Mu.blocks.register("auto-playlists",function(){var t,e=function(){};return e.init=function(e){t=e.get("dataSrc")},e.prototype.init=function(){this.$cont=$(this.container),this.delegate("playlist.click",(function(t){var e=t.target;this.onClick(e)})),this.$cont.on("click",".button-play",function(t){var e=Mu.blocks.forElem(t.currentTarget,"playlist");this.onClick(e)}.bind(this));const t=this.data&&Array.isArray(this.data)&&this.data.some(t=>t.data.notify),e=$(".nav-kids__tab:first-child"),i=e.find("."+a),n=e.find("."+s);t&&!n.length?i.addClass(s):!t&&n.length&&i.removeClass(s)},e.prototype.onClick=function(e){if(e.hasNotification()){var i=e.playlist(),n={uid:i.owner.uid,kind:i.kind};return t.get("playlist-seen",n,{nocache:!0}).then(({updated:t})=>(t&&(e.$cont.find("."+a).removeClass(s),this.checkNavPoint(),this.$cont.find("."+s).length||$(".nav-kids__tab.current").find("."+a).removeClass(s)),t))}},e.prototype.checkNavPoint=function(){this.$cont.find("."+s).size()||$(".nav__tab_is-notified").find("."+a).removeClass(s)},e}())},function(t,e,i,n){var a=i(108),s=i(259),o=i(260),r=i(262),l=i(263);Mu.blocks.register("bar",function(){var t,e,i,n,c,d;let u;var p,h,_,m,g,f,y,v,b,k,w=Mu.settings.uatraits&&!Mu.settings.uatraits.isMobile,x=function(){};return x.init=function(a){t=a.get("auth"),e=a.get("seq"),i=a.get("blocks"),n=a.get("metrika"),c=a.get("seq"),d=Mu.Storage.create("localStorage"),u=a.get("navigation")},x.prototype.init=function(){this.$cont=$(this.container),this.$root=$(".page-root"),this.$below=this.$cont.find(".bar-below"),this.$brandingAdvContainer=this.$cont.find(".bar__branding"),this.below=Mu.blocks.forElem(this.$below.get(0),"bar-below"),this.onSeq=this.onSeq.bind(this),this.hideBrandingAdv=this.hideBrandingAdv.bind(this),e.on(Mu.Adapter.EVENT_CHANGE,this.onSeq),e.on(Mu.Adapter.EVENT_EMPTY,this.onSeq),c.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,this.hideBrandingAdv),c.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,this.hideBrandingAdv),i.blocks["single-queue"].prototype.initSingleQueue(),this.onSeq(),this.toggleBelow(),this.initBranding(),t.on("info",this.toggleBelow.bind(this))},x.prototype.initBranding=function(){var t=this;h=s()?Mu.settings.adPlayerTypePremium:Mu.settings.adPlayerType,p=o(),m=r(p,"transformerType"),g=r(p,"patternType"),f=r(p,"colorType"),h&&(t.userData=t.getUserInfo(),v=h+"__adPlayer"),t.$progress=t.$cont.find(".progress"),t.$progressBar=t.$cont.find(".progress__bar.progress__progress"),t.$progressListened=t.$progressBar.find(".progress__line"),m&&("moving-slider",b="paused-slider","bumblebee"===p&&(k="bumblebee__bubble"),t.$movingSlider=t.$cont.find(".moving-slider"),t.$pausedSlider=t.$cont.find("."+b),t.$bubble=t.$cont.find("."+k)),t.onTogglePause=t.onTogglePause.bind(t),t.$cont.on("click",".bar__branding_picture",(function(){t.metrikaPlayer("playerClick")})),t.$cont.on("click",".bar__branding_text",(function(){t.metrikaPlayer("playerClick")})),t.$cont.on("click","."+h+"__close",t.hidePausedSlider.bind(t)),t.showBranding()},x.prototype.hideBrandingAdv=function(){var t=c.getAdvert();this.$brandingAdvContainer.toggleClass("bar__branding_hidden",!!t)},x.prototype.onTogglePause=function(t){if(r(h,"transformerType")&&_&&(_=w&&this.userData&&(void 0===this.userData.closePausedSliderCounter||this.userData.closePausedSliderCounter<3)),_)if(t){if(this.$movingSlider.show(),this.$pausedSlider.hide(),!this.$bubble)return;this.bubbleNumber&&this.side&&this.$bubble.removeClass(k+"_"+this.side).removeClass(k+"_"+this.side+"_"+this.bubbleNumber).hide()}else{var e=this.$progressListened[0]?this.$progressListened[0].getBoundingClientRect().width:0,i=this.$progressBar.outerWidth();this.side=i/e>=2?"left":"right","right"===this.side?this.$pausedSlider.addClass(b+"_right").removeClass(b+"_left"):this.$pausedSlider.addClass(b+"_left").removeClass(b+"_right"),this.$pausedSlider.show(),this.$movingSlider.hide(),this.$bubble&&(this.bubbleNumber=["one","two","three"][Math.floor(3*Math.random())],this.$bubble.addClass(k+"_"+this.side).addClass(k+"_"+this.side+"_"+this.bubbleNumber),this.$bubble.show())}},x.prototype.showBranding=function(){this.$progress.addClass("progress_branding"),m?this.showBrandingOne():g?this.showBrandingTwo():f&&this.colourPlayer(),h&&this.saveUserInfo()},x.prototype.showBrandingOne=function(){e.on(Mu.Adapter.EVENT_TOGGLE_PAUSE,this.onTogglePause),["duck","winter"].includes(p)?$(".player-controls__btn_play").on("click",(function(){_=w})):_=w,r(p,"transformerType")&&this.$progress.addClass("progress_"+p),["porsche","rocket"].includes(p)&&this.colourPlayer()},x.prototype.showBrandingTwo=function(){$(".progress__text").addClass("deco-typo"),$(".progress__left").after("<span class='progress__slash'>/</span>"),"venom"===p&&(this.$progress.addClass("progress_venom"),$(".bar__content").addClass(a.theme("black").classes(!0)),$(".player-controls").addClass("player-controls__venom"),$(".player-controls__seq-controls").addClass("local-icon-theme-venom"),$(".player-controls__track-container").addClass("local-icon-theme-venom"))},x.prototype.colourPlayer=function(){this.$progress.addClass("progress_"+p),$(".player-controls__seq-controls").addClass("local-icon-theme-"+p),$(".bar").addClass("local-icon-theme-"+p)},x.prototype.hidePausedSlider=function(){this.modifyUserData(),this.$movingSlider.show(),this.$pausedSlider.hide(),this.$bubble.hide()},x.prototype.modifyUserData=function(){this.userData.closePausedSliderCounter=(this.userData.closePausedSliderCounter||0)+1,d.setItem(v,JSON.stringify(y))},x.prototype.getUserInfo=function(){var e={};try{e=(y=JSON.parse(d.getItem(v))||[]).find(e=>e.uid===t.user.uid&&void 0===e.yuid)||{}}catch(t){y=[]}return 0===Object.keys(e).length&&(e={uid:t.user.uid,yuid:void 0},y.push(e)),e},x.prototype.saveUserInfo=function(){var t;d.setItem(v,JSON.stringify(y));var e=l.getPixelSrc();if("string"==typeof e||e instanceof String)t=document.createElement("img"),e&&t.setAttribute("src",e);else for(let i=0;i<e.length;i++)t=document.createElement("img"),e[i]&&t.setAttribute("src",e[i])},x.prototype.metrikaPlayer=function(t){var e={};e[p]={},e[p][t]=1,n.count(e)},x.prototype.onSeq=function(){e.isEmpty()?this.hide():this.show()},x.prototype.toggleBelow=function(){this.below&&this.below.show()},x.prototype.show=function(){this.$root.removeClass("page-root_empty-player")},x.prototype.hide=function(){this.$root.addClass("page-root_empty-player")},x}())},function(t,e,i,n){var a=i(14);t.exports=function(){var t=a();return!(!t||!t.premium)}},function(t,e,i,n){const a=i(261),s=i(99);t.exports=function(t){if(s())return;const e=void 0===t||t;if("undefined"!=typeof window)try{const t=Mu.settings.extraPlayersInSettings,i=a()?Mu.settings.adPlayerTypePremium:Mu.settings.adPlayerType,n=Mu.Storage.create("localStorage");let s;const o=Mu.authData.user.uid,r=JSON.parse(n.getItem("playerBrandingType"))||{};if(r[o]&&(s=r[o].type.toLowerCase(),"off"===t[s]&&(s="default")),a()){const t=JSON.parse(n.getItem("premiumBrandingPlayer"))||{};if(!i&&t[o])return delete t[o],n.setItem("premiumBrandingPlayer",JSON.stringify(t)),s;if(i&&"off"===t[o])return s}return e&&i&&["225","225mp"].includes(Mu.settings.regions.working.toString())&&(s=i),s}catch(t){}}},function(t,e,i,n){t.exports=i(259)},function(t,e,i,n){t.exports=function(t,e){return{colorType:[],transformerType:["duck","bumblebee","winter","porsche","rocket"],patternType:["venom"],onlyAdvert:[]}[e].includes(t)}},function(t,e,i,n){const a=i(259);t.exports={getPixelSrc:function(){switch(Mu.settings.adPlayerType){case"rocket":return"https://mc.yandex.ru/pixel/5018039253749889817?rnd=%aw_random%";default:return""}},getBrandingLink:function(){switch(Mu.settings.adPlayerType){case"rocket":return"https://music.yandex.ru/users/thesoundofstars/playlists/1000?utm_source=player&utm_medium=music&utm_campaign=kosmos";default:return""}},getType:function(){return Mu.settings.adPlayerType},canShowBarBranding:function(){return!a()&&["rocket"].includes(Mu.settings.adPlayerType)&&["225","225mp"].includes(Mu.settings.regions.working.toString())}}},function(t,e,i,n){var a=i(265),s=i(276);const o=i(277),r=i(278),l=i(119);Mu.blocks.register("bar-below",function(){let t,e,i,n,c;var d=function(){Mu.eventize(this)};return d.init=function(a){t=a.get("auth"),e=a.get("adapter"),i=a.get("dataSrc"),n=a.get("metrika"),c=a.get("pages")},d.prototype.init=function(){this.$body=$("body"),this.$cont=$(this.container),this.$cont.on("click",".bar-below__close-control",this.hide.bind(this)),this.$cont.on("click",".bar-below-configurable__button.bar-below__close-control",()=>{$.cookie("closeBarBelow",1,{path:"/",expires:15})}),this.$cont.on("click",".bar-below__auth:not(.bar-below__auth_new) .bar-below__log-in",this.logIn.bind(this)),this.plusStyle(),this.unavaliableStyle(),e.on(Mu.Adapter.CRACKDOWN_PAUSE,this.showCrackdown.bind(this)),this.barBelowConfig=t.user.barBelow,this.reloadAccountStatus=this._reloadAccountStatus.bind(this)},d.prototype.destroy=function(){this.unsubscribeToAccountStatusChanges()},d.prototype.show=function(){var e=!1;this.data=this.getData();const i=t.user&&t.user.MBError;if(this.data&&!i){var s=$(a(this.data));if(s.size()){if(this.data.configurable){Mu.blocks.forElem(s.find(".bar-below-configurable")[0],"bar-below-configurable").on("close",()=>this.hide())}this.$cont.html(s),this.$content=s,Mu.blocks.initPendingBlocks(s),this.$cont.removeClass("bar-below_empty"),this.$body.addClass("body_bar-tall"),this.plusStyle(),this.unavaliableStyle(),this.$cont.removeClass("bar-below_process"),this.trigger("show",this),e=!0,!this.data.subscription||c.current&&c.current.noPlayer||n.count({"Показ предложения подписки":{from:"underPlayer"}},"Оплата подписки")}}else this.hide();return e},d.prototype.hide=function(){this.$cont.addClass("bar-below_empty"),this.$body.removeClass("body_bar-tall"),this.trigger("hide",this),this.unsubscribeToAccountStatusChanges()},d.prototype.isOpen=function(){return!this.$cont.hasClass("bar-below_empty")},d.prototype.getData=function(){const e=o().WebRedAlert;if("testClosing"===o().webBarBelowRubilnik&&!$.cookie("closeBarBelow"))return{configurable:!0,config:r.configForTest};if(t.isLoggedIn()&&!Mu.settings.uatraits.isMobile&&!Mu.settings.uatraits.isTablet){if("on"===e&&Mu.redAlerts&&Mu.redAlerts.musicAlert)return{redAlert:!0,config:Mu.redAlerts.musicAlert};if("testRed"===e)return{redAlert:!0,config:{texts:{"bar-text":"Мы не смогли произвести платёж с вашей карты. Обновите данные вашей карты или пополните баланс, иначе подписка Яндекс Плюс перестанет работать","bar-button-text":"Сменить карту"},clickUrl:"https://plus.yandex.ru/ "}}}return l.canUseMusicInRegion()||sessionStorage&&sessionStorage.getItem("emailStorage")?t.isLoggedIn()?this.crackdown&&!t.user.isPremium?{crackdown:!0}:this.barBelowConfig&&s.isFeatureAllowed()&&!$.cookie("closeBarBelow")?(this.subscribeToAccountStatusChanges(),{configurable:!0,config:s.getBarBelowConfig(this.barBelowConfig)}):t.user.isPremium||Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTablet?null:{subscription:!0}:{auth:!0}:{unavaliable:!0}},d.prototype.plusStyle=function(){this.$cont.toggleClass("bar-below_plus",!0)},d.prototype.unavaliableStyle=function(){var t=!(l.canUseMusicInRegion()||sessionStorage&&sessionStorage.getItem("emailStorage"));this.$cont.toggleClass("bar-below_unavaliable",t),this.$body.find(".bar").toggleClass("bar_unavaliable",t)},d.prototype.logIn=function(){t.showAuthForm(this.show.bind(this),"underPlayer")},d.prototype.showCrackdown=function(t){"muted"!==t&&(this.crackdown=!0,this.show())},d.prototype._reloadAccountStatus=function(){i.get("account-status",{},{nocache:!0}).then(t=>{const e=t.barBelow;return(null!=this.barBelowConfig&&null==e||null==this.barBelowConfig&&null!=e||null!=e&&this.barBelowConfig.alertType!==e.alertType)&&(this.barBelowConfig=e,this.show()),null}).catch((function(){}))},d.prototype.subscribeToAccountStatusChanges=function(){this.hasSubscribed||(window.addEventListener("focus",this.reloadAccountStatus),this.hasSubscribed=!0)},d.prototype.unsubscribeToAccountStatusChanges=function(){window.removeEventListener("focus",this.reloadAccountStatus),this.hasSubscribed=!1},d}())},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(a=i(141),s=i(266),o=i(268),r=i(269),l=i(270),c=i(272),d=i(273),u=i(275),function(t){var e='<div class="bar-below__content">';return t.withClose&&(e+='<div class="bar-below__close">'+a.render({icon:"cross-small"})+"</div>"),t.auth?e+=o(t):t.redAlert&&t.config&&t.config.texts&&t.config.texts["bar-text"]&&t.config.texts["bar-button-text"]?e+=c(t):t.subscription||t.crackdown?e+=s(t):t.unavaliable?e+=r(t):t.subscriptionEnding?e+=l(t):t.configurable&&u.canShowBar&&(e+=d.render(t)),e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(219),e=i(143);i(267),i(119);return function(i){var n="",a=""+e.render({text:i18n("bar-below","Оформить подписку"),rounded:!0,type:"default",class:"bar-below__subscription-button local-theme-white d-button_type_borderless"});return n+='<div class="bar-below__subscription"><div class="bar-below__subscription-description">'+__escape(i18n("bar-below","Слушайте музыку в высоком качестве и без рекламы"))+"</div>"+t.render({from:"underPlayer",content:a})+'</div><div class="bar-below__bg"></div><div class="bar-below__rainbow"></div>'}}()},function(t,e,i,n){t.exports=i(230)},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="bar-below__auth"><div class="bar-below__auth-image"></div><div class="bar-below__auth-text local-theme-white typo">'+i18n("bar-below","Зарегистрируйтесь и получите единую<br />коллекцию музыки на всех устройствах.")+'</div><div class="bar-below__auth-actions">'+t.render({class:"bar-below__action bar-below__log-in",text:i18n("bar-below","[feature/mfront-3861]Войти"),type:"action",rounded:!0})+"</div></div>"}}()},function(t,e,i,n){t.exports=function(t){return'<div class="bar-below__unavaliable"><div class="bar-below__unavaliable-description">'+i18n("bar-below","[feature/mfront-3990-1]К сожалению, Яндекс&nbsp;Музыка пока не играет в вашей стране")+"</div></div>"}},function(t,e,i,n){var a;t.exports=(a=i(271),function(t){var e="",i=a.getSubscriptionEndingData(t.type);return i&&(e+='<div class="bar-below__subscription-ending bar-below__subscription-ending_'+__escape(t.type)+'"><div class="bar-below__subscription-description">'+__escape(i.description)+"</div>"+dButton.render(i.button)+"</div>"),e})},function(t,e,i,n){const a=i(73);t.exports={getSubscriptionEndingData:function(t){return{underPlayer5db:{from:"underPlayer5db",description:i18n("bar-below","[feature/bb-styl]Музыка без ограничений и другие преимущества вот-вот закончатся"),button:{text:i18n("bar-below","[feature/bb-styl]Проверить подписку"),link:`https://plus.yandex.${a().tld}/?from=underPlayer5db`}},underPlayer14da:{from:"underPlayer14da",description:i18n("bar-below","[feature/bb-styl]Снизили цену на подписку специально для вас"),button:{text:i18n("bar-below","Подробнее"),link:"/pay?campaign=upsale99&from=underPlayer14da"}}}[t]||""}}},function(t,e,i,n){t.exports=function(){i(151),i(143);return function(t){var e="";const i=t.config&&t.config.texts&&t.config.texts["bar-text"],n=t.config&&t.config.texts&&t.config.texts["bar-button-text"];return e+='<div class="bar-below__red-alert"><div class="bar-below__red-alert_description">'+i+'</div><a href="'+__escape(t.config.clickUrl||"")+'" class="bar-below__red-alert_link">'+n+'</a></div><div class="bar-below__bg"></div><div class="bar-below__red"></div>'}}()},function(t,e,i,n){var a={render:i(274)};clientSide&&(a.controller=i(276)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(275),function(t){var e="",i=a.getConfigurableData(t.config);return i&&(e+='<div class="bar-below-configurable'+__escape(t.isTouch?" bar-below-configurable_touch":"")+'" style="'+__escape(i.barStyle)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"bar-below-configurable"))+'"><div class="bar-below-configurable__description" style="'+__escape(i.textStyle)+'">'+__escape(i.text)+"</div>",i.link?e+='<a href="'+__escape(i.link)+'" target="_blank" class="bar-below-configurable__button bar-below__button__action" style="'+__escape(i.buttonStyle)+'">'+__escape(i.buttonText)+"</a>":e+='<span class="bar-below-configurable__button bar-below__close-control bar-below__button__action" style="'+__escape(i.buttonStyle)+'">'+__escape(i.buttonText)+"</span>",i.closeButton&&(e+=' <span class="bar-below-configurable__button bar-below-configurable__button_default bar-below__close-control bar-below__button__action"> Закрыть </span> '),e+="</div>"),e})},function(t,e,i,n){t.exports={getConfigurableData:function(t){if(null==t)return null;const e=t.button||{};let i=t.button.uri||t.button.url;return null!=i&&i.length>0&&(i+=i.includes("?")?"&":"?",i+=t.from?"from="+t.from:""),{barStyle:`background: ${t.bgColor};`,textStyle:`color: ${t.textColor};`,text:t.text,link:i,buttonStyle:`background: ${e.bgColor};color: ${e.textColor};`,buttonText:e.text,closeButton:t.closeButton}},canShowBar:function(){return!$.cookie("closeBarBelow")}}},function(t,e,i,n){const a=i(277);class s{init(t){Mu.eventize(this),this.Auth=t.get("auth"),this.Metrika=t.get("metrika"),this.data=s.getBarBelowConfig(this.Auth.user.barBelow),null!=this.data.from&&(this.Metrika.count({BarBelow:{Shown:{type:this.data.from}}}),$(this.container).find(".bar-below__button__action").on("click",()=>this.Metrika.count({BarBelow:{ButtonClicked:{type:this.data.from}}}))),$(this.container).find(".bar-below__close-control").on("click",()=>this.trigger("close"))}destruct(){$(this.container).find(".bar-below__button__action").off("click"),$(this.container).find(".bar-below__close-control").off("click")}static getBarBelowConfig(t){return null!=t?Object.assign({},t,{from:t.alertType||"BarBelow-default"}):null}static isFeatureAllowed(){return"on"===a().webBarBelowRubilnik}}Mu.blocks.register("bar-below-configurable",s),t.exports=s},function(t,e,i,n){t.exports=i(230)},function(t,e,i,n){t.exports={configForTest:{text:"Подписка закончится через три дня. Вместе с ней закончатся музыка и подкасты без ограничений",bgColor:"#FF5038",textColor:"#FFFFFF",button:{text:"Оформить подписку",bgColor:"#FFFFFF",textColor:"#191919",url:"https://ya.ru/"},closeButton:!0}}},function(t,e,i,n){const a=i(247),s=i(280),o=i(281);Mu.blocks.register("branding",function(){var t,e,i,n,r,l,c,d=["#ffffff","#fff"],u="https://content.adfox.ru",p=function(){this.__brandingListener=this.brandingListener.bind(this),this.__onDestroyBranding=this.destroyBranding.bind(this),this.__onShowSidebarCont=this.showSidebarCont.bind(this),this.__hideSidebar=this.hideSidebar.bind(this),this.onTogglePause=this.onTogglePause.bind(this),this.iframeConnection=this.connectToIframe()};return p.init=function(a){t=a.get("sidebars"),e=a.get("pages"),i=a.get("layout"),n=a.get("blocks"),r=a.get("auth"),l=a.get("blocks").get("d-overhead"),c=a.get("seq")},p.prototype.init=function(){this.$cont=$(this.container),this.$sidebar=$(t.parent),this.$centerblockWrapper=$(".centerblock-wrapper"),this.$bar=$(".bar"),this.$pageRoot=$(".page-root"),this.$body=$("body"),this.$logo=$(".logo"),window.addEventListener("message",this.__brandingListener),e.on("show",this.loadBranding.bind(this))},p.prototype.onTogglePause=function(t){var e=t?"adfoxIsPlaying":"adfoxIsNotPlaying";this.frame.contentWindow.postMessage(e,u)},p.prototype.loadBranding=function(){this.createFrameBranding()},p.prototype.brandingListener=function(t){this.iframeConnection.processEvent(t),(t.origin||t.originalEvent&&t.originalEvent.origin)===u&&"string"==typeof t.data&&(0===t.data.indexOf("brandingHereEar")?this.initBranding(t.data,"ear"):0===t.data.indexOf("brandingBrick")?this.initBranding(t.data,"brick"):0===t.data.indexOf("brandingHere")?this.initBranding(t.data):"isInteractive"===t.data&&(c.on(Mu.Adapter.EVENT_TOGGLE_PAUSE,this.onTogglePause),this.onTogglePause(c.isPlaying())))},p.prototype.initBranding=function(n,a){this.params=this.setParams(n),this.brandingType=a,"on"!==Mu.experiments.advForTest&&(this.hideOverhead(),this.showBranding()),"brick"!==a&&(this.hideSidebar(),i.moveSidebar(),i.moveBranding()),e.on("unloading",this.__onDestroyBranding),t.on("loaded",this.__onShowSidebarCont)},p.prototype.createFrameBranding=function(){if(a(e.current)){var t=s(r.user);this.$cont.html(o({frameUrl:"https://content.adfox.ru/190625/adfox/661676/branding2019.html?puid1="+t})),this.$frame=$("#brandingFrame"),this.frame=this.$frame[0],this.$frame.on("load",function(){this.iframeConnection.connectTo(this.frame);var t=n.blocks.theme.checkActualTheme()||"white",e="setLocation;"+document.location.href+";currentTheme;"+t;this.frame.contentWindow.postMessage(e,u)}.bind(this))}},p.prototype.connectToIframe=function(){let t;const e=e=>{if(t)try{t.postMessage(JSON.stringify(e),"*")}catch(t){}},i=t=>{c.on(t,i=>e({event:t,state:i}))};return i(Mu.PlayFlow.EVENT_TOGGLE_PAUSE),i(Mu.PlayFlow.EVENT_VOLUME),{connectTo:e=>{t=e.contentWindow},processEvent:t=>{let i;try{i=JSON.parse(t.data)}catch(t){i={}}switch(i.event){case Mu.PlayFlow.EVENT_TOGGLE_PAUSE:i.state?c.resume():c.pause();break;case Mu.PlayFlow.EVENT_VOLUME:c.setVolume(i.state);break;case"state-"+Mu.PlayFlow.EVENT_TOGGLE_PAUSE:e({event:Mu.PlayFlow.EVENT_TOGGLE_PAUSE,state:c.isPlaying()});break;case"state-"+Mu.PlayFlow.EVENT_VOLUME:e({event:Mu.PlayFlow.EVENT_VOLUME,state:c.getVolume()})}}}},p.prototype.destroyBranding=function(){this.$cont.html(""),this.$cont.removeClass("deco-pane"),c.off(Mu.Adapter.EVENT_TOGGLE_PAUSE,this.onTogglePause),delete this.frame,delete this.$frame,delete e.current.branding,e.off("unloading",this.__onDestroyBranding),t.off("loaded",this.__onShowSidebarCont),t.off("sidebars.hideAll",this.__hideSidebar),this.$centerblockWrapper.removeClass("centerblock-wrapper_branding centerblock-wrapper_branding_axe centerblock-wrapper_branding_brick centerblock-wrapper_branding_ear"),this.$pageRoot.removeClass("page-root_branding page-root_branding_axe page-root_branding_brick page-root_branding_ear"),this.$body.removeClass("branding branding_on"),this.destroyParams(),this.$sidebar&&(this.$sidebar.removeClass("sidebar_branding"),this.$sidebar.find(".sidebar__under").removeClass("sidebar_branding"),t.branding=!1,t.brandingType="",delete this.shownSidebarBranding)},p.prototype.setParams=function(t){t=t.split(";");var e={};return e.background=this.isValidColor(t[1])?t[1]:"",e.theme=this.isValidTheme(t[2])?t[2]:"",e.transparent=this.strToBool(t[3]),e.border=this.isValidColor(t[4])?t[4]:"",e.transparentValue=t[5]||95,e},p.prototype.isValidColor=function(t){return t&&(4===t.length||7===t.length)&&/^#[0-9a-fA-F]+$/.test(t)},p.prototype.isValidTheme=function(t){return["dark","white","custom"].includes(t)},p.prototype.strToBool=function(t){return"yes"===t||"true"===t||"1"===t},p.prototype.hexToRgba=function(t,e){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(i[1],16)+", "+parseInt(i[2],16)+", "+parseInt(i[3],16)+", "+(e||1)+")"},p.prototype.hideOverhead=function(){l.hideBrick()},p.prototype.addBrandingClassesToCenterBlock=function(){this.$centerblockWrapper.addClass("centerblock-wrapper_branding"+(this.brandingType?" centerblock-wrapper_branding_"+this.brandingType:""))},p.prototype.showBranding=function(){this.$cont.addClass("branding_"+(this.brandingType||"axe")),this.addBrandingClassesToCenterBlock(),this.$pageRoot.addClass("page-root_branding"+(this.brandingType?" page-root_branding_"+this.brandingType:"")),this.$body.addClass("body_branding branding_on"+(this.brandingType?" branding_"+this.brandingType:"")),this.applyParams(),e.trigger("branding.showed"),t.on("sidebars.hideAll",this.__hideSidebar)},p.prototype.applyParams=function(){if(this.params.background&&"custom"!==this.params.theme){this.params.backgroundObj={"background-color":this.params.background};$(["body",".head",".head__subnav.nav__subnav",".centerblock",".centerblock-wrapper",".footer",".progress__bg",".bar>.player-controls",".playlist-slider__icon",".garage"].join(", ")).css(this.params.backgroundObj),this.applyParamsForSidebar(),d.includes(this.params.background&&this.params.background.toLowerCase())||n.blocks.theme.themeBrandingOn(this.params.background),this.params.border&&this.$centerblockWrapper.css({"box-shadow":"1px -1px 0px 0px "+this.params.border})}else this.$cont.addClass("deco-pane"),this.$centerblockWrapper.addClass("deco-pane_branding-shadow");if(this.params.transparent){var t;if("custom"===this.params.theme)t="rgba("+$(".centerblock-wrapper").css("background-color").replace(/rgb\(|\)/g,"")+", 0."+this.params.transparentValue+")";else t=this.hexToRgba(this.params.background,"0."+this.params.transparentValue);$(".centerblock, .footer").css({"background-color":"transparent"}),this.$centerblockWrapper.css({"box-shadow":"1px -1px 0px 0px "+this.hexToRgba(this.params.border,"0."+this.params.transparentValue),"background-color":t})}"dark"===this.params.theme?(n.blocks.theme.themeOn(),$(".theme.theme_dark .head__search .nb-input").css({"background-color":"rgba(255, 255, 255, 0.1)","border-color":"rgba(255, 255, 255, 0.1)"})):"white"===this.params.theme&&(n.blocks.theme.themeOff(),$(".progress__progress").css({"background-color":"rgba(0, 0, 0, 0.2)"}))},p.prototype.applyParamsForSidebar=function(){this.params.backgroundObj&&($(".sidebar__under").css(this.params.backgroundObj),$(".sidebar-cont").css($.extend({"box-shadow":"0px -1px 0px 0px "+this.params.border,"border-color":this.params.border},this.params.backgroundObj||"")))},p.prototype.destroyParams=function(){$(["body",".head",".head__subnav.nav__subnav",".centerblock",".centerblock-wrapper",".footer",".progress__bg",".progress__progress",".bar>.player-controls",".sidebar__under",".playlist-slider__icon",".sidebar-cont",".garage"].join(", ")).css("background-color",""),$(".theme.theme_dark .head__search .nb-input").css({"background-color":"","border-color":""}),n.blocks.theme.themeBrandingOff(),n.blocks.theme.themeOff(),$(".sidebar-cont").css({"box-shadow":"","border-color":"","background-color":""}),$(".sidebar__under, .sidebar").css({"background-color":""})},p.prototype.hideSidebar=function(){this.$sidebar.addClass("sidebar_branding"),t.branding=!0,t.brandingType=this.brandingType||"axe",this.$sidebar.find(".sidebar-cont").length>0&&this.showSidebarCont()},p.prototype.showSidebarCont=function(){this.applyParamsForSidebar(),i.moveSidebar(),this.hideAdInSidebar(),this.$sidebar.removeClass("sidebar_branding"),this.shownSidebarBranding||(this.shownSidebarBranding=!0,this.frame.contentWindow.postMessage("sidebarOpen",u))},p.prototype.hideAdInSidebar=function(){this.$sidebar.find(".sidebar__under").addClass("sidebar_branding")},p}())},function(t,e,i,n){t.exports=function(t){return t&&t.uid?t.isPremium?1:0:2}},function(t,e,i,n){t.exports=function(t){return'<iframe src="'+__escape(t.frameUrl)+'" id="brandingFrame" frameborder="0" scrolling="0"></iframe>'}},function(t,e,i,n){var a,s;Mu.blocks.register("button-bilet",(a=i(25),(s=function(){}).init=function(){},s.initTicketDealer=a.debounce(500,!1,(function(){var t=Mu.settings.bilet,e=document.location.hostname||document.location.host;if(t&&"ru"===e.slice(-2))if(window.ticketDealer)window.ticketDealer.scan();else{var i=window.ticketDealer=[],n="";try{n=ya.music.info.platform.type}catch(t){}"pc"===n?(i.push(["setDefaultClientKey",t.clientKey]),i.push(["watchClicks",!0])):(i.push(["setDefaultClientKey",t.mobileClientKey]),i.push(["forceMobile",!0]),i.push(["watchClicks",!0]));var a="?"+(new Date).getTime()*Math.random(),s=document.createElement("script"),o=document.getElementsByTagName("script")[0];s.async=!0,s.src=t.url+a,o.parentNode.insertBefore(s,o)}})),s.prototype.init=function(){this.$cont=$(this.container),s.initTicketDealer()},s))},function(t,e,i,n){const a=i(37),s=i(284),o=i(285);Mu.blocks.register("button-play",function(){var t,e,i,n,r,l,c,d,u,p,h={playlistOfTheDay:{metrikaName:"SmartPlaylistDaily_start",firstMetrikaName:"PlayPD"},recentTracks:{metrikaName:"SmartPlaylistPremiere_start",firstMetrikaName:"PlayPremeire"},neverHeard:{metrikaName:"SmartPlaylistDejavu_start",firstMetrikaName:"PlayDejaVu"},missedLikes:{metrikaName:"SmartPlaylistMissed_start",firstMetrikaName:"PlayStash"},summerTop:{metrikaName:"SmartPlaylistRewind_start",firstMetrikaName:"PlayRewind"},family:{metrikaName:"SmartPlaylistFamily_start",firstMetrikaName:"PlayFamily"}},_=function(){};return _.init=function(a){t=a.get("seq"),e=a.get("froms"),i=a.get("dataSrc"),n=a.get("metrika"),r=a.get("auth"),l=a.get("sidebars"),c=a.get("pages"),d=a.get("blocks").get("force-auth-tooltip"),u=a.get("adapter"),p=a.get("player"),this.domDelegate("click",(function(t){Mu.blocks.forElem(this,"button-play").onClick(t)})),this.onFmStreamError=this.onFmStreamError.bind(this),p.on(ya.music.Player.playerEvents.FM_STREAM_ERROR,this.onFmStreamError)},_.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon").eq(0),this.type=this.data.type,this.item=this.data.item,this.tooltipAnchorSelector=this.data.tooltipAnchorSelector,this.data.tracks&&(this.item.tracks=this.data.tracks),this.data.trackIds&&(this.item.trackIds=this.data.trackIds)},_.prototype.setPlaying=function(t){this.$cont.toggleClass("button-play_playing",t),this.triggerEvent({type:"button-play.changed",state:t})},_.prototype.setDisabled=function(t){var e=this.$cont.is(".button2")?"button2_disabled":"button_disabled";this.$cont.toggleClass(e,t),this.$cont.prop("disabled",t)},_.prototype.toggle=function(t){switch(this.type){case"track":this.toggleTrack(t);break;case"playlist":this.togglePlaylist(t);break;case"album":this.toggleAlbum(t);break;case"artist":this.toggleArtist(t);break;case"generated":this.toggleGeneratedPlaylist(t);break;case"radio":this.toggleRadio(t);break;case"generative":this.toggleGenerative();break;default:throw new Error("unknown play item")}},_.prototype.decideSendClickToPlay=function(){if("idle"===t.getState())return!0;const e=this.getPlayingContext();switch(this.type){case"track":const i=t.getCurrent()&&t.getCurrent().id;return this.item.id!==i;case"playlist":const{playlist:n}=e;return!(n&&n.kind===this.item.kind);case"album":const{album:a}=e;return!a||a.id!==this.item.id;case"artist":const{artist:s}=e;return!s||s.id!==this.item.id;case"radio":const{id:{type:o,tag:r}={}}=this.item,{id:{type:l,tag:c}={}}=e;return!(o===l&&r===c);default:return!1}},_.prototype.onClick=function(t){t&&t.stopPropagation&&t.stopPropagation();if(this.decideSendClickToPlay()&&(u.setFlagValue("playOnUserInteraction",!0),a.startMark("click-to-play")),!this.data.disableAuthTooltip){var e=$(this.tooltipAnchorSelector||t.currentTarget);d.setTarget(e)}this.triggerEvent({type:"button-play.click"}),this.sendEventToPage(),n.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play(),Mu&&Mu.newgtag&&Mu.newgtag.sendProductStream()}catch(t){}this.toggle(t&&t.data)},_.prototype.sendEventToPage=function(){var t=!u.isPlaying(),e=!!this.$cont.closest(".sidebar").length;if(t&&e){var i="track"===l.current.name?"d-track":l.current.name,n={target:{container:$(c.current.container).find("."+i+"_selected")[0]}};c.current.onPlay&&c.current.onPlay(n)}},_.prototype.toggleAlbum=function(e){var n=this,a=this.item,s=this.getPlayingContext(),o=s.album||{};"idle"===t.getState()||o.id!==a.id?(s=this.getAlbumContext(a,e),a.volumes?n.playAlbum(s,a):i.get("album",{album:a.id}).then((function(t){return n.playAlbum(s,t),null})).catch(t=>console.log(t))):!t.getAdvert()&&t.togglePause()},_.prototype.toggleArtist=function(e){var i=this.item,n=this.getPlayingContext(),a=n.artist||{};"idle"===t.getState()||a.id!==i.id?(n=this.getArtistContext(i,e),i.trackIds?this.playLightlist(n,i):t.playArtist(n,{artistId:i.id})):!t.getAdvert()&&t.togglePause()},_.prototype.togglePlaylist=function(e){var n=this,a=this.getPlayingContext(),s=this.item;const o=s.resumeFrom;var r=a.playlist||{owner:{}},l={owner:s.owner.login,kinds:s.kind,light:!0};if("idle"===t.getState()||r.owner.uid!==s.owner.uid||r.kind!==s.kind||r.modified!==s.modified){a=this.getPlaylistContext(s,e),n.sendAutoplaylistMetrika(this.item.generatedPlaylistType);var c=function(t,e){e=Object.assign(e,{resumeFrom:o}),n.playLightlist(t,e)||n.setDisabled(!0)};s.trackIds?c(a,s):i.get("playlist",l,{nocache:!0}).then((function(t){return c(a,t.playlist),null})).catch(t=>console.log(t))}else!t.getAdvert()&&t.togglePause()},_.prototype.toggleGeneratedPlaylist=function(e){var i=this.item,n=this.getPlayingContext(),a=n.generated||{};if("idle"===t.getState()||a.id!==i.id){n=this.getGeneratedPlaylistContext(i,e);var s=i.data.tracks;0!==s.length&&null!=s.length||this.setDisabled(!0),t.playTracks(n,s)}else!t.getAdvert()&&t.togglePause()},_.prototype.toggleRadio=function(e){var i=this.item,n=this.getPlayingContext(),a=n.id||{};a.type!==i.id.type||a.tag!==i.id.tag?(n=this.getRadioContext(i,e),this.startRadioLoadIndicator(),t.playNewRadio(n)):t.togglePause()},_.prototype.toggleGenerative=function(e){if(!(this.item&&this.item.id&&this.item.id.tag))return;const n=this.item.id.tag,a=t.getConfig(),s=this.item&&this.item.radioId,o=a&&a.radioId;if(s&&o&&o===s&&!e){if(t.isPlaying())return void t.pause();if(t.isPaused())return void t.play()}i.get("station-stream",{stationId:"generative:"+n},{nocache:!0}).then(i=>{if(i&&i.stream&&i.stream.url){const n={title:i.data.title,radioId:i.stream.id,from:"web-radio_page-radio-main",stream:{type:"generative",tag:this.item.id.tag}},a={url:i.stream.url,radioId:i.stream.id,type:"generative",title:i.data.title};if(this.item.radioId=i.stream.id,e&&e.hasBeenPaused)return;t.playFmStream(n,a,!0)}})},_.prototype.onFmStreamError=function(e,i){if(!(this.item&&this.item.id&&this.item.id.tag&&t.isGenerative()))return;const n=t.getConfig(),a=this.item&&this.item.radioId,s=n&&n.radioId;a&&s&&s===a&&this.toggleGenerative(i)},_.prototype.startRadioLoadIndicator=function(){this.stopRadioLoadIndicator(),this.data.rotatable&&(this.$icon.addClass("d-icon_rotate-animation"),this._onFlowChangeForRadio=function(){this.stopRadioLoadIndicator()}.bind(this),this._onTimeoutForRadio=window.setTimeout(function(){this.stopRadioLoadIndicator()}.bind(this),5e3),t.on(Mu.PlayFlow.EVENT_CHANGE,this._onFlowChangeForRadio))},_.prototype.stopRadioLoadIndicator=function(){this._onFlowChangeForRadio&&(t.off(Mu.PlayFlow.EVENT_CHANGE,this._onFlowChangeForRadio),delete this._onFlowChangeForRadio),this._onTimeoutForRadio&&(window.clearTimeout(this._onTimeoutForRadio),delete this._onTimeoutForRadio),this.$icon.removeClass("d-icon_rotate-animation")},_.prototype.getAutoplaylistType=function(){var t=l.current&&l.current.data&&l.current.data.playlist&&l.current.data.playlist.generatedPlaylistType,e=c.current&&c.current.data&&c.current.data.playlist&&c.current.data.playlist.generatedPlaylistType;return this.item.generatedPlaylistType||t||e},_.prototype.isAutoplaylist=function(){var t=this.item;return this.getAutoplaylistType()&&(!t.madeFor||t.madeFor.userInfo&&r.user.uid==t.madeFor.userInfo.uid)},_.prototype.everPlayedAutoplaylist=function(){return l.current&&l.current.data&&l.current.data.playlist&&l.current.data.playlist.generatedPlaylistType?l.current.data.playlist.everPlayed:c.current&&c.current.data&&c.current.data.playlist&&c.current.data.playlist.generatedPlaylistType?c.current.data.playlist.everPlayed:this.item.everPlayed},_.prototype.sendAutoplaylistMetrika=function(t){if(r.user.uid&&this.isAutoplaylist()){var e=h[t];if(e&&(n.goal(e.metrikaName),!e.everPlayed&&!this.everPlayedAutoplaylist())){e.everPlayed=!0;var i=e.firstMetrikaName;if(i){n.goal(i);try{Mu&&Mu.gtag&&Mu.gtag[i]()}catch(t){}}}}},_.prototype.toggleTrack=function(e){var i=this.item;if(!i.error){var n={track:i,album:this.getAlbum()};if(t.isCurrent(n))!t.getAdvert()&&t.togglePause();else{var a=this.getTrackContext(n,e),o=-1,r=a.entries||a._entries;if(this.sendAutoplaylistMetrika(this.getAutoplaylistType()),s(i.type,"",t),Array.isArray(r))for(const[t,e]of r.entries())if(e.track&&e.track.id===i.id){o=t;break}a.artist&&!a.lazy?t.playArtist(a,{artistId:a.artist.id,entries:r},o):t.playTracks(a,r,o)}}},_.prototype.getTrackContext=function(t,e){var i=t.track,n=i.title,a=this.getAlbum(),s=null;try{s=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return s=s||{id:"track:"+i.id+(a&&a.id?":"+a.id:""),entries:[t],shortTitle:n,title:i18n("button-play","Трек «%1»",n),href:"/album/"+(a&&a.id)+"/track/"+i.id},s=this.fixContext(s,e)},_.prototype.getPlaylistContext=function(t,e){var i=t.title,n=null;try{n=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return n={id:"playlist:"+t.owner.login+":"+t.kind,shortTitle:n&&n.shortTitle||i,title:n&&n.title||i18n("button-play","Плейлист «%1»",i),href:n&&n.href||"/users/"+t.owner.login+"/playlists/"+t.kind,playlist:n&&n.playlist||t,from:n&&n.from,eventId:n&&n.eventId,blockId:n&&n.blockId,entityId:n&&n.entityId},n=this.fixContext(n,e)},_.prototype.getArtistContext=function(t,e){var i=null;try{i=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return i={id:"artist:"+t.id,shortTitle:t.name,title:i18n("button-play","Популярные треки исполнителя %1",t.name),href:"/artist/"+t.id,artist:t,from:i&&i.from,eventId:i&&i.eventId},i=this.fixContext(i,e)},_.prototype.getAlbumContext=function(t,e){var i=null;try{i=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return i={id:"album:"+t.id,shortTitle:t.title,title:i18n("button-play","Альбом «%1»",t.title),href:"/album/"+t.id,album:t,from:i&&i.from,eventId:i&&i.eventId},i=this.fixContext(i,e)},_.prototype.getGeneratedPlaylistContext=function(t,e){var i={id:"generated:"+t.id,shortTitle:t.data.title,title:t.data.title,href:"/home",generated:t.data};return i=this.fixContext(i,e)},_.prototype.getRadioContext=function(t,i){var n={id:t.id,from:e.getRadioFrom(t.id)};return n=this.fixContext(n,i)},_.prototype.fixContext=function(t,i={}){const n=t||{};var a=this.data.fromName||this.data.type;if(n.from=i.from||n.from||e.getBlockFrom(this.container,a),i.eventId)n.eventId=i.eventId;else{var s=this.closestParent("event");s&&(n.eventId=s.data.id)}return n},_.prototype.getPlayingContext=function(){return t.context||{}},_.prototype.getAlbum=function(){var t=this.data.item,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},_.prototype.playLightlist=function(e,i){if(!i.trackIds||!i.tracks)return!1;var n=i.tracks,a=i.trackIds;Array.isArray(a)||(a=[a]);var s=a.map((function(t,e){return n[e]?n[e]:t.toString()})).filter((function(t){return t&&!t.error}));if(0===s.length||null==s.length)return!1;let r;const{resumeFrom:l}=i;if(l){const e=i.tracks,n=e[0];o(l,e,n,t,t=>r=t)}return t.playTracks(e,s,r),!0},_.prototype.playAlbum=function(e,i){var n="podcast"===i.type&&"asc"===i.dir,a=Array.prototype.concat.apply([],i.volumes);let r=n?a.length-1:null;const{resumeFrom:l}=i,c=a[r||0];s(i.type,i.genre,t),o(l,a,c,t,t=>r=t),t.playTracks(e,a,r)},_.prototype.destroy=function(){p.off(ya.music.Player.playerEvents.FM_STREAM_ERROR,this.onFmStreamError)},_}())},function(t,e,i,n){const a=["podcast","show","poetry","lecture"],s=["audiobook"],o=["audiobooksinenglish","fiction"];t.exports=(t,e,i)=>{const n=s.includes(t)||o.includes(e);return!(!a.includes(t)&&!n)&&(i.getShuffle()&&i.setShuffle(!1),i.getRepeat()&&i.setRepeat(!1),!0)}},function(t,e,i,n){t.exports=(t,e,i,n,a)=>{if(t){if(i&&t.trackId!==i.id){const i=e.findIndex(e=>e.id===String(t.trackId));-1!==i&&a&&a(i)}return 0!==t.startPositionSec&&n.setPosition(t.startPositionSec),!0}return!1}},function(t,e,i,n){Mu.blocks.register("button-radio",function(){var t,e,i,n,a,s=function(){};return s.init=function(a){t=a.get("seq"),e=a.get("froms"),i=a.get("dataSrc"),n=a.get("blocks").get("force-auth-tooltip"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);e&&e.onClick(t)})),t.on(Mu.PlayFlow.EVENT_CHANGE,s.onSeqChanged)},s.onSeqChanged=function(){a&&(a.finished?(a.$icon.toggleClass("icon_rotate d-icon_rotate-animation",!1),s.clearCurrent()):a.finished=!0)},s.clearCurrent=function(){a&&(clearTimeout(a.maxDelay),clearTimeout(a.minDelay),a.finished=!1,a=null)},s.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon").eq(0),this.data.status&&!this.data.status.error||this.refresh()},s.prototype.onClick=function(i){var o=this.getRadioContext();if(o&&!a){var r=$(".button-radio");n.setTarget(r);var l=e.getBlockFrom(this.container,"radio"),c=this.getParams();o.from=l,(a=this).$icon.toggleClass("icon_rotate d-icon_rotate-animation",!0),a.minDelay=setTimeout(s.onSeqChanged,1e3),a.maxDelay=setTimeout((function(){a&&a.$icon.toggleClass("icon_rotate d-icon_rotate-animation",!1),s.clearCurrent()}),5e3),t.playRadio(o,c,i)}},s.prototype.refresh=function(){var t=this,e={};t.data.artist?(e.radio_tag=t.data.artist.id,e.radio_type="artist"):t.data.genre?(e.radio_tag=t.data.genre,e.radio_type="genre"):t.data.user?(e.radio_tag=t.data.user.uid,e.radio_type="user"):t.data.track&&(e.radio_tag=t.data.track.id,e.radio_type="track"),i.get("radio-available",e).then((function(e){t.$cont.toggleClass("button-radio_hidden",!e.available)}))},s.prototype.getRadioContext=function(){var t,e;if(this.data.genre){var i=yr.externals.genreName(this.data.genre).toLowerCase();t={shortTitle:i,title:i18n("button-radio","[feature/mfront-3789]Поток жанра")+" "+i,href:"/genre/"+this.data.genre}}else this.data.artist?t={shortTitle:e=this.data.artist.name,title:i18n("button-radio","[feature/mfront-3789]Поток исполнителей, похожих на")+" "+e,href:"/artist/"+this.data.artist.id}:this.data.track?t={shortTitle:e=this.data.track.title,title:i18n("button-radio","[feature/mfront-3789]Поток треков, похожих на")+" "+e,href:"/track/"+this.data.track.id}:this.data.user&&(t={shortTitle:e=this.data.user.name,title:i18n("button-radio","[feature/mfront-3789]Потоки пользователя")+" "+e,href:"/users/"+this.data.user.login+"/playlists"});return t},s.prototype.getParams=function(){var t;return this.data.genre?t={radio_tag:this.data.genre,radio_type:"genre"}:this.data.artist?t={radio_tag:this.data.artist.id,radio_type:"artist"}:this.data.track?t={radio_tag:this.data.track.id,radio_type:"track"}:this.data.user&&(t={radio_tag:this.data.user.uid,radio_type:"user"}),t},s}())},function(t,e,i,n){var a=i(103);Mu.blocks.register("cover-popup",function(){var t,e,i,n,s=function(t){this.data=t};return s.init=function(t){e=$(window),i=null,n=t.get("blocks")},s.show=function(t){i&&i.data.type===t.type&&i.data.data===t.data?i.show():(s.clearCurrent(),(i=Mu.blocks.forElem($(Mu.render("cover-popup",t))[0])).show())},s.clearCurrent=function(){i&&(i.hide(),i.$cont.remove(),i=null)},s.getBarHeight=function(){return t=t||$(".bar").outerHeight()},s.prototype.init=function(){var t=this,e=new a;t.$cont=$(this.container),t.$cont.appendTo(document.body),t.$cover=t.$cont.find(".cover-popup__item.cover-popup__cover"),t.$slider=t.$cont.find(".pictures-slider"),t.$sliderCover=t.$slider.find(".pictures-slider__item_selected .pictures-slider__cover"),t.popup=new(Mu.blocks.get("popup"))(t.$cont[0],{position:{my:"center",at:"center center-"+Math.round(s.getBarHeight()/2)+"px",of:window},modal:!0}),t.$cover.load((function(){e.resolve()})),t.$sliderCover.load((function(){e.resolve()})),t.$cont.on("click",(function(){})),t.imgPromise=e.promise(),t.$slider.size()&&(t.slider=n.forElem(t.$slider[0]),t.slider.on("move",(function(){t.shrink(),t.popup.show()})))},s.prototype.show=function(){var t=this;t.imgPromise.then((function(){t.shrink(),t.popup.show()}))},s.prototype.hide=function(){this.popup.hide()},s.prototype.shrink=function(){this.$cont.css({height:"auto",width:"auto"});var t=e.height()-s.getBarHeight(),i=this.$cont.height();if(t&&i&&t<i){var n=this.$cont.width()/i,a=t-(this.$cont.outerHeight()-i);this.$cont.css({height:a,width:Math.round(n*a)})}},s}())},function(t,e,i,n){const a=i(73),s=i(14),o=i(215),r=i(289),l=i(290);Mu.blocks.register("crackdown-popup",function(){let t,e,i,n,c,d,u=!1;const p=function(){};return p.init=function(a){t=a.get("adapter"),e=a.get("dataSrc"),i=a.get("auth"),n=a.get("metrika"),t.on(Mu.Adapter.CRACKDOWN_PAUSE,this.show.bind(this))},p.show=function(t){"muted"!==t&&(d=!0,0===s().uid?this.showPopup():e.get("payment-products",{},{nocache:!0}).then(this.showPopup.bind(this)))},p.showPopup=function(t){const e=this.prepareData(t);if(c?t&&c.updateContent(e):c=this.createInstance(e),t&&t.products&&t.products.length>0){const e={offersBatchId:{[t.offersBatchId]:{offersPositionIds:t.products.map(t=>t.offersPositionId)}}};n.count({load:e},"subscriptionOfferEvent"),n.count({show:e},"subscriptionOfferEvent"),n.count({subscriptionOfferEventParams:{offersBatchId:{[t.offersBatchId]:{clientSource:"music"}}}},"subscriptionOfferEvent")}c.popup.show()},p.hide=function(){c.popup.hide()},p.createInstance=function(t){const e=$(r(t));$(document.body).append(e);const i=Mu.blocks.forElem(e[0],"crackdown-popup");return i.initPopup(t),i.updateContent(t),i},p.prepareData=function(t){return Object.assign({isMobile:a().uatraits.isMobile||a().uatraits.isTablet,mbform:{metrikaConfig:{from:"crackdown"},placeholderType:"page"}},t)},p.onAuthUpdate=function(){d&&p.show()},p.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",".crackdown-popup__product",this.onProductClick.bind(this)),this.$cont.on("click",".crackdown-popup__login",this.onLoginClick.bind(this)),this.$cont.on("click",".crackdown-popup__close",this.onCloseClick.bind(this))},p.prototype.updateContent=function(t){this.data=t;const e=$(l(t));this.$cont.html(e),Mu.blocks.initPendingBlocks(this.$cont),this.$slide=this.$cont.find(".crackdown-popup__slide"),this.$mbformWrapper=this.$cont.find(".crackdown-popup__mbform"),this.mbform=Mu.blocks.forElem(this.$cont.find(".mbform")[0]),this.mbform&&(this.mbform.on(o.userExitCancel,this.onCloseClick.bind(this)),this.mbform.on(o.userExitError,this.onCloseClick.bind(this)),this.mbform.on(o.userExitSuccess,this.onCloseClick.bind(this)),this.mbform.on(o.paymentSuccess,this.onPaymentSuccess))},p.prototype.initPopup=function(t){this.popup=new(Mu.blocks.get("popup"))(this.$cont,{resize:!0,persistent:!1,modal:!0,position:t.isMobile?{}:{my:"center",at:"center",of:window}})},p.prototype.onProductClick=function(t){const e=$(t.target);if(e.hasClass("disabled"))return;const i=e.attr("data-product-id"),a=this.data.products&&this.data.products.find(t=>t.productId===i);if(a){const t={click:{offersBatchId:{[this.data.offersBatchId]:{offersPositionIds:[a.offersPositionId]}}}};n.count(t,"subscriptionOfferEvent"),this.showMBForm(a)}},p.prototype.onPaymentSuccess=function(){u=!0},p.prototype.onCloseClick=function(){u?window.location.reload():(this.mbform.destroy(),p.hide())},p.prototype.onLoginClick=function(){i.showAuthForm(()=>Mu.blocks.get("crackdown-popup").show(),"crackdown-popup")},p.prototype.showMBForm=function(t){this.$slide.toggleClass("_hidden",!0),this.$mbformWrapper.toggleClass("_hidden",!1);const e=a().uatraits.isMobile;this.mbform&&(this.mbform.showFormFor(t,{widgetServiceName:e?"music_touch":"music",offersPositionIds:t.offersPositionId,offersBatchId:this.data.offersBatchId}),$(".crackdown-popup__close").toggleClass("_hidden",!0))},p}())},function(t,e,i,n){var a;t.exports=(a=i(108),function(t){var e="",i=a.theme("white").classes("local");return e+='<div class="crackdown-popup popup_compact '+__escape(i),t.isMobile&&(e+=" crackdown-popup_mobile"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"crackdown-popup",!0))+'"></div>'})},function(t,e,i,n){t.exports=function(){var t=i(291),e=i(143),n=i(293),a=i(294),s=i(295),o=i(296),r=function(t){var i="",a=function(){var e="";return 30===t.duration?e+=i18n("payment-popup","На месяц"):365===t.duration?e+=i18n("payment-popup","На год"):e+=n(t.duration,i18n("crackdown-popup","[feature/crackdown-test]%s день|%s дня|%s дней")),e}(),r=""+o.btnMod(t),l=(function(){var t="";"action"!==r&&(t+="local-theme-black-contrast")}(),function(){var e="";return t.buttonText?e+=t.buttonText:e+=a+" — "+s(t.price.amount,t.price.currency),e}()),c=function(){var e="";return t.buttonAdditionalText&&(e+=t.buttonAdditionalText),e}(),d="crackdown-popup__product crackdown-popup__product_"+__escape(t.duration);return i+=e.render({size:"XL",text:l,additionalText:c,attrs:{"data-product-id":t.productId},rounded:!0,type:r,disabled:"disabled"===t.mod,class:d})};return function(i){var n='<div class="crackdown-popup__inner">'+e.render({icon:"cross-big",type:"flat",class:"crackdown-popup__close"})+'<div class="crackdown-popup__slide crackdown-popup__content"><h2 class="crackdown-popup__title typo-display_bold">'+__escape(i18n("crackdown-popup","[feature/crackdown-test]Музыка без остановки"))+'</h2><div class="crackdown-popup__description">'+i18n("crackdown-popup","[feature/crackdown-timing]Бесплатно слушать музыку в&nbsp;фоновом режиме можно только ограниченное время. Оформите подписку, и&nbsp;музыку ничего не&nbsp;остановит.")+"</div>";return 0===a().uid?n+=e.render({text:i18n("crackdown-popup","[feature/crackdown-test]Авторизоваться"),type:"action",size:"XL",rounded:!0,class:"crackdown-popup__login"}):n+='<div class="crackdown-popup__products">'+function(t){var e="";if(t.isDisallowed){if(e+='<div class="crackdown-popup__products crackdown-popup__products_disallowed">'+tip({type:"disallowed",text:i18n("payment-popup","Оплата возможна только в следующих странах: Россия, Украина, Беларусь, Казахстан")}),t.products)for(var i=0;i<t.products.length;i++)(n=t.products[i]).mod="disabled",e+=r(n);e+="</div>"}else{if(e+='<div class="crackdown-popup__products">',t.products)for(var n,a=0;a<t.products.length;a++)n=t.products[a],e+=r(n);e+="</div>"}return e}(i)+"</div>",n+='</div><div class="crackdown-popup__mbform _hidden">'+t.render(i.mbform)+"</div></div>"}}()},function(t,e,i,n){const a={render:i(292)};clientSide&&(a.controller=i(212)),t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="mbform" data-b="'+Mu.dotBlockRoot(t,"mbform",!0)+'"></div>'}},function(t,e,i,n){t.exports=i(69)},function(t,e,i,n){t.exports=i(14)},function(t,e,i,n){t.exports=(t,e)=>({RUB:i18n("formatPrice","%1&nbsp;руб.",t),BYN:i18n("formatPrice","[feature/byn-subscr]%1&nbsp;BYN",t),USD:i18n("formatPrice","$%1",t),KZT:i18n("formatPrice","%1&nbsp;KZT",t),AZN:i18n("formatPrice","[feature/azn-currency]%1&nbsp;AZN",t),UZS:i18n("formatPrice","[feature/azn-currency]%1&nbsp;UZS",t)}[e])},function(t,e,i,n){t.exports={btnMod:function(t){var e="disabled"!==t.mod;return 30===t.duration&&e?"action":"default"}}},function(t,e,i,n){var a,s,o;Mu.blocks.register("d-album-slider",(s="d-album-slider__item_selected",(o=function(){}).init=function(t){a=t.get("sidebars"),this.domDelegate("click",".d-album-slider-back",(function(){Mu.blocks.forElem(this,"d-album-slider").moveThrottled(-1)})),this.domDelegate("click",".d-album-slider-forward",(function(){Mu.blocks.forElem(this,"d-album-slider").moveThrottled(1)})),this.domDelegate("mouseenter","."+s,(function(){Mu.blocks.forElem(this,"d-album-slider").onHover()})),this.domDelegate("mouseleave","."+s,(function(){Mu.blocks.forElem(this,"d-album-slider").onLeave()}))},o.prototype.init=function(){var t=this;a.on("loaded",(function(){var e,i,n;t.$cont=$(t.container),t.$items=t.$cont.find(".d-album-slider__items"),t.itemWidth=t.$items.children().eq(0).outerWidth(!0),t.data.items=t.data.items||[],t.length=t.data.items.length,t.index=0,t.moveThrottled=(e=t.move.bind(t),i=200,function(){var t=arguments;n||(e.apply(null,t),n=setTimeout((function(){n=null}),i))})}))},o.prototype.move=function(t){if(-1===t||1===t){var e=this.index+t;e>=0&&e<this.length&&(this.setSelected(this.index,!1),this.setSelected(e,!0),this.index=e,this.$items.css(this.getTransform(this.index)),this.$cont.toggleClass("d-album-slider_shifted",0!==this.index),this.$cont.toggleClass("d-album-slider_ended",this.index===this.length-1))}},o.prototype.setSelected=function(t,e){this.$items.children().eq(t).toggleClass(s,!!e)},o.prototype.getTransform=function(t){var e=t*this.itemWidth+this.itemWidth/2,i=0===t?"":"translate(-"+e+"px, 0)";return{"-webkit-transform":i,"-moz-transform":i,"-ms-transform":i,transform:i}},o.prototype.onHover=function(){var t=$(document);t.bind("DOMMouseScroll.d-album-slider",this.onScroll.bind(this)),t.bind("mousewheel.d-album-slider",this.onScroll.bind(this))},o.prototype.onLeave=function(){$(document).unbind(".d-album-slider")},o.prototype.onScroll=function(t){if(t=t.originalEvent?t.originalEvent:t,!(Math.abs(t.deltaY)>0)){var e=t.detail?t.detail:-1*t.wheelDelta,i=e>0?1:-1,n=this.$cont.offset(),a=this.$cont.width(),s=this.$cont.height();t.pageX<n.left||t.pageX>n.left+a||t.pageY<n.top||t.pageY>n.top+s||(t.preventDefault&&t.preventDefault(),Math.abs(e)>3&&this.moveThrottled(i))}},o))},function(t,e,i,n){var a;Mu.blocks.register("d-album-summary",((a=function(){Mu.eventize(this)}).prototype.init=function(){var t=$(this.container);this.$editor=t.find(".d-album-summary__edit"),this.$genre=this.$editor.find(".d-link"),this.$editButton=this.$editor.find(".d-button-edit"),this.$editButtonInner=this.$editButton.find(".d-button-inner"),Mu.blocks.get("d-tooltip").getTooltip(this.$editButton,{type:"alert",event:"hover",side:"bottom",class:"d-tooltip-edit",theme:"black",content:i18n("d-album-summary","Изменить жанр"),fade:!0})},a))},function(t,e,i,n){var a;Mu.blocks.register("d-artists",((a=function(){}).prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",".d-artists__read-more",this.showAll.bind(this)),this.$cont.removeClass("d-artists__expanded")},a.prototype.showAll=function(){this.$cont.addClass("d-artists__expanded")},a))},function(t,e,i,n){const a=i(259),s=i(119),{needsUserToBuyOption:o}=i(301);let r;Mu.blocks.register("d-button-play__wrap",function(){let t,e;const i=function(){};return i.init=function(i){t=i.get("blocks").get("payment-popup-controller"),r=i.get("metrika"),e=i.get("navigation")},i.prototype.init=function(){this.$cont=$(this.container),this.initTooltip()},i.prototype.initTooltip=function(){let i="";if(["album","track"].includes(this.data.type)&&!a()&&!this.data.item.available&&this.data.item.availableForPremiumUsers||o(this.data.item)){const t={album:i18n("d-button-play","[feature/fix-auto-playlist-tooltip]Альбом"),audiobook:i18n("d-button-play","[feature/mfront-3881]Аудиокнигу"),podcast:i18n("d-button-play","[feature/mfront-4153]Подкаст"),fairytale:i18n("d-button-play","[feature/mfront-4153]Аудиосказку"),track:i18n("d-button-play","[feature/fix-auto-playlist-tooltip]Трек")},e=()=>{switch(this.data.item.type){case"audiobook":case"podcast":return this.data.item.type;case"fairy-tale":return"fairytale";default:return this.data.type}};i=(()=>{const i=e();return o(this.data.item)?i18n("d-button-play","[feature/mfront-4656]Эта книга доступна с опцией Букмейт"):t[i]+" "+i18n("d-button-play","[feature/mfront-4153]могут слушать только подписчики Яндекс Плюса")})()}const n=()=>o(this.data.item)?i18n("d-button-play","[feature/mfront-4656]Подробнее"):i18n("d-button-play","[feature/fix-auto-playlist-tooltip]Стать подписчиком"),l=(e,i)=>{const n=this.data.type.charAt(0).toUpperCase()+this.data.type.slice(1);i.popup.setOptions({fade:!1}),t.show({from:"exclusiveContent"+n})},c=()=>{const t=Mu&&Mu.settings&&Mu.settings.tld||"ru",i=window&&window.location.href?encodeURIComponent(window.location.href):"";e.navigateTo(`https://plus.yandex.${t}/bookmate?retpath=${i}`)};s.canUseMusicInRegion()&&i&&Mu.blocks.get("d-tooltip").getTooltip(this.$cont,{container:"body",type:"notice",event:"hover",side:"bottom",theme:"black",buttonPosition:o(this.data.item)?"right":"left",buttonType:o(this.data.item)?"rainbow":"action",content:i,fade:!0,class:"align-left",agreeLabel:n(),onAgree:o(this.data.item)?c:l,onShow:()=>{const t=this.data.type.charAt(0).toUpperCase()+this.data.type.slice(1);r.count({"Показ предложения подписки":{from:"exclusiveContent"+t}},"Оплата подписки")}})},i}())},function(t,e,i,n){function a(){return Mu&&Mu.experiments&&"on"===Mu.experiments.WebBookmateOption}function s(t){if(!a())return!1;const{hasOptions:e}=Mu.authData.user;return e&&e.includes(t)}t.exports={hasUserOption:s,hasItemOption:function(t,e){if(!a()||!t)return!1;const{availableForOptions:i,availableForPremiumUsers:n}=t;return!n&&(i&&i.includes(e))},needsUserToBuyOption:function(t){if(!a()||!t)return!1;const{availableForOptions:e,availableForPremiumUsers:i}=t;if(i)return!1;for(const t of e)if(!s(t))return!0;return!1},OptionsEnum:{bookmate:"bookmate"}}},function(t,e,i,n){Mu.blocks.register("d-chart-track",function(){var t,e,i,n,a=function(){};return a.init=function(a){t=a.get("sidebars"),e=a.get("navigation"),i=a.get("froms"),n=a.get("blocks"),this.domDelegate("click",".d-context-menu",(function(){Mu.blocks.forElem(this).show()})),this.domDelegate("dblclick",(function(t){Mu.blocks.forElem(this).onDblClick(t)}))},a.prototype.init=function(){var t=this;t.$cont=$(t.container),t.delegate("button-play.changed",(function(e){t.setPlaying(e.state)})),t.$cont.on("click",t.onClick.bind(t)),Mu.blocks.initPendingBlocks(this.$cont)},a.prototype.onClick=function(t){var e=$(t.target);if(!e.closest(".d-chart-track__actions").length&&!e.closest("a").length){var i=this.data.track;if(i.error&&!i.title)return!1;this.triggerEvent({type:"chartTrack.click"})}},a.prototype.setPlaying=function(t){this.$cont.toggleClass("d-chart-track_playing",t)},a.prototype.setSelected=function(t){this.$cont.toggleClass("d-chart-track_selected",t)},a.prototype.getAlbum=function(){var t=this.data.track,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},a.prototype.openSidebar=function(n,a,s){var o=this.data.track,r=s||this.getAlbum(),l=i.getCardFrom(this.container,"chartTrack"),c=o.realId||o.id,d=this.closestParent("event");if(d)var u=d.data.id;if(t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track==c||t.show("track",{track:c,album:r?r.id:-1,hideAlbum:!!s,from:l,eventId:u}),n){var p=/\?(.*)/.exec(e.getLastUrl());p=p&&p[0]?p[0]:"",e.pushState("/album/"+r.id+"/track/"+c+p,a)}},a.prototype.onDblClick=function(t){if(1!==$(t.target).closest(".d-chart-track__play").length&&1!==$(t.target).closest(".d-chart-track__actions").length&&!this.$cont.hasClass("d-chart-track_type_player")){var e=n.forElem(this.$cont.find(".button-play")[0]);e&&e.toggle()}},a}())},function(t,e,i,n){Mu.blocks.register("d-collective-access",function(){var t,e,n=i(304),a=i(25),s=function(){};return s.init=function(i){t=i.get("layout"),e=i.get("dataSrc"),this.domDelegate("click",(function(){Mu.blocks.forElem(this).show()}))},s.prototype.init=function(){this.data.playlist.authors=this.data.playlist.authors||[],this.$window=$(window),this.$cont=$(this.container),this.onResize=a.throttle(300,!1,this.onResize.bind(this)),this.$window.on("resize",this.onResize)},s.prototype.destroy=function(){this.$window.off("resize",this.onResize)},s.prototype.getPopup=function(){var e=this;return e.popup||(e.$popup=$(n(e.data)),e.$input=e.$popup.find(".d-input"),e.$content=e.$popup.find(".d-collective-access__authors-content"),e.$regenerate=e.$popup.find(".d-collective-access__authors-regenerate"),e.$copy=e.$popup.find(".d-collective-access__link-copy"),e.$users=e.$popup.find(".d-collective-access__user"),e.$ban=e.$popup.find(".d-collective-access__user-ban"),e.$unban=e.$popup.find(".d-collective-access__user-unban"),e.$authors=e.$popup.find(".d-collective-access__authors"),e.$extend=e.$popup.find(".d-collective-access__authors-extend"),e.$authorsToggleAccess=e.$popup.find(".d-collective-access__authors-all"),$("body").append(e.$popup),Mu.blocks.initPendingBlocks(e.$popup),e.popup=new(Mu.blocks.get("popup"))(e.$popup,{modal:!0,resize:!0,persistent:!1,position:{my:"center",at:"center",of:window}}),e.input=Mu.blocks.forElem(e.$input.get(0),"d-input"),e.popup.on("show",(function(){t.lockScroll(),e.onResize()})),e.popup.on("hide",(function(){t.unlockScroll()})),e.$popup.on("click",".popup__close",e.hide.bind(e)),e.$regenerate.on("click",e.showUrl.bind(e,!0)),e.$ban.add(e.$unban).on("click",e.onAccessClick.bind(e)),e.$authorsToggleAccess.on("click",e.onAccessAllClick.bind(e)),e.showUrl()),e.popup},s.prototype.show=function(){this.popup=this.popup||this.getPopup(),this.popup&&!this.popup.isOpen&&this.popup.show()},s.prototype.hide=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},s.prototype.onResize=function(){if(this.popup&&this.popup.isOpen){this.$content.css({maxHeight:"none"});var t=this.$window.height()-40,e=parseInt(this.$content.css("minHeight"))||0,i=t-(this.$popup.outerHeight()-this.$content.outerHeight());i>0&&i>e?this.$content.css({maxHeight:i+"px"}):this.$content.css({maxHeight:this.$content.css("minHeight")}),this.popup.position()}},s.prototype.onAccessClick=function(t){var i=this,n=$(t.target),a=n.is(".d-collective-access__user-ban"),s=n.closest(".d-collective-access__user").index();if(i.data.playlist.authors.length&&i.data.playlist.authors[s]){var o={action:a?"ban":"unban",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind,user:i.data.playlist.authors[s].uid};e.post("playlist-access",o,{nocache:!0}).then((function(t){t&&"ok"===t.status&&i.afterAccessChanged(a,s)}))}},s.prototype.onAccessAllClick=function(t){var i=this,n=$(t.target).is(".d-collective-access__authors-all_ban"),a={action:n?"ban-all":"unban-all",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind};e.post("playlist-access",a,{nocache:!0}).then((function(t){t&&"ok"===t.status&&i.afterAccessChanged(n)}))},s.prototype.afterAccessChanged=function(t,e){if(t=!!t,e=parseInt(e),!1===(e=!isNaN(e)&&e))this.data.playlist.authors=this.data.playlist.authors.map((function(e){return e.banned=t,e})),this.$users.toggleClass("d-collective-access__user_banned",t),this.$authors.toggleClass("d-collective-access__authors_banned",t);else{this.data.playlist.authors[e].banned=t,this.$users.eq(e).toggleClass("d-collective-access__user_banned",t);var i=this.data.playlist.authors.filter((function(t){return t.banned})).length===this.data.playlist.authors.length;this.$authors.toggleClass("d-collective-access__authors_banned",i)}t&&(this.$extend.addClass("d-collective-access__authors-extend_visible"),this.popup.position())},s.prototype.showUrl=function(t){var i=this,n={action:"token",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind};t&&(n.action="regenerate"),e.get("playlist-access",n,{nocache:!0}).then((function(e){if(e&&e.token){var n=document.location.protocol+"//"+document.location.host+"/users/"+i.data.playlist.owner.login+"/playlists/"+i.data.playlist.kind+"?token="+e.token;i.input.value(n),t&&i.$extend.addClass("d-collective-access__authors-extend_refreshed")}}))},s}())},function(t,e,i,n){t.exports=function(){var t=i(226),e=i(191),n=i(141),a=i(151),s=i(143),o=function(e){var i='<div class="d-collective-access__user';return e.user.banned&&(i+=" d-collective-access__user_banned"),i+='">'+t.render({user:e.user,size:"L",showAvatar:!0,showName:!0,showLogin:!0,class:"typo"})+'<div class="d-collective-access__user-actions">'+s.render({size:"M",icon:"trash-narrow",type:"flat",class:"d-collective-access__user-ban"})+s.render({size:"M",icon:"plus-big",type:"flat",class:"d-collective-access__user-unban"})+"</div></div>"};return function(t){var i='<div class="d-collective-access__popup"><div class="popup__close d-collective-access__close">'+n.render({icon:"cross-small"})+'</div><div class="d-collective-access__title typo-h2_bold">'+__escape(i18n("d-collective-access","Совместный доступ"))+'</div><div class="d-collective-access__description typo-secondary">'+__escape(i18n("d-collective-access","Пригласите друзей, чтобы они могли добавлять треки в плейлист.")+" ")+__escape(i18n("d-collective-access","Добавлять треки смогут все, у кого есть ссылка."))+'</div><div class="d-collective-access__action">',r={size:"M",type:"action",text:i18n("d-collective-access","Скопировать"),class:"d-collective-access__link-copy"};if(i+=e.render({input:{size:"M",readonly:!0,class:"d-collective-access__link-input"},button:r,successText:i18n("d-collective-access","Ссылка скопирована"),errorText:i18n("d-collective-access","Не удалось скопировать ссылку")})+"</div>",t.playlist.authors&&t.playlist.authors.length){var l=t.playlist.authors.filter((function(t){return t.banned})).length===t.playlist.authors.length;i+=function(t){var e='<div class="d-collective-access__authors';t.bannedAll&&(e+=" d-collective-access__authors_banned"),e+='"><div class="d-collective-access__authors-title typo-h3">'+__escape(i18n("d-collective-access","Соавторы"))+a.render({text:i18n("d-collective-access","Удалить всех"),style:"marked",class:"d-collective-access__authors-all d-collective-access__authors-all_ban typo"})+a.render({text:i18n("d-collective-access","Восстановить всех"),style:"marked",class:"d-collective-access__authors-all d-collective-access__authors-all_unban typo"})+'</div><div class="d-collective-access__authors-content"><div class="d-collective-access__authors-users">';for(var i,r=0;r<t.authors.length;r++)i=t.authors[r],e+=o({user:i,style:""});return e+='</div><div class="d-collective-access__authors-extend"><div class="d-collective-access__authors-advice typo-secondary">'+__escape(i18n("d-collective-access","Если вы заметили, что плейлист меняют посторонние люди, создайте новую ссылку. Старая перестанет работать, так что не забудьте заново отправить приглашение тем друзьям, кто ещё не успел к вам присоединиться."))+'</div><div class="d-collective-access__authors-actions">'+s.render({size:"M",text:i18n("d-collective-access","Создать"),class:"d-collective-access__authors-regenerate"})+'<div class="d-collective-access__authors-message">'+n.render({icon:"checkmark_green"})+'<span class="d-collective-access__authors-message-text typo-success">'+__escape(i18n("d-collective-access","Ссылка обновлена"))+"</span></div></div></div></div></div>"}({authors:t.playlist.authors,bannedAll:l})}return i+="</div>"}}()},function(t,e,i,n){Mu.blocks.register("d-context-menu",function(){const t="d-context-menu__item";let e,n,a,s,o,r,l;const c=i(306),d=i(177),u=i(311);var p=function(){Mu.eventize(this)};return p.init=function(t){e=t.get("seq"),n=t.get("froms"),a=t.get("adapter"),s=t.get("dataSrc"),o=t.get("blocks").get("iframe-config"),r=t.get("blocks").get("force-auth-tooltip"),l=t.get("playbackProgress"),this.domDelegate("click",(function(t){$(t.target).is(".d-context-menu__opener")&&Mu.blocks.forElem(this).toggle()}))},p.prototype.init=function(){this.helper=c(this),this.shareHelper=new d(this),this.$cont=$(this.container),this.$popup=this.$cont.find(".d-context-menu__popup"),this.$opener=this.$cont.find(".d-context-menu__opener"),Mu.blocks.initPendingBlocks(this.$cont),this.share.inited&&this.onShareLoaded()},p.prototype.initPopup=function(){const e=this,i=function(...i){const[n,a]=i;return function(s){const o=$(s.target).closest("."+t);o.size()&&!o.is(".deco-popup-menu__item_disabled")&&(n.apply(e,i),e.trigger("itemClick",e,o.get(0)),a&&e.hide())}};e.$copy=e.$popup.find(".d-copy"),e.$share=e.$popup.find(".d-share"),e.$like=e.$popup.find(".d-like"),e.$addition=e.$popup.find(".d-addition"),e.$toggler=e.$popup.find(".d-toggler"),e.$collectiveAccess=e.$popup.find(".d-collective-access"),e.$itemAdd=e.$popup.find(".d-context-menu__item_add"),e.$itemMain=e.$popup.find(".d-context-menu__item_main"),e.$itemShare=e.$popup.find(".d-context-menu__item_share"),e.$itemForth=e.$popup.find(".d-context-menu__item_forth"),e.$itemDelete=e.$popup.find(".d-context-menu__item_delete"),e.$itemHtml=e.$popup.find(".d-context-menu__item_html"),e.$itemRadio=e.$popup.find(".d-context-menu__item_radio"),e.$itemCollective=e.$popup.find(".d-context-menu__item_collective"),e.$markTrackFinished=e.$popup.find(".d-context-menu__item_mark-finished"),e.$markTrackUnfinished=e.$popup.find(".d-context-menu__item_mark-unfinished"),e.$markAlbumFinished=e.$popup.find(".d-context-menu__item_mark-album-finished"),e.$markAlbumUnfinished=e.$popup.find(".d-context-menu__item_mark-album-unfinished"),e.copy=Mu.blocks.forElem(e.$copy.get(0),"d-copy"),e.share=Mu.blocks.forElem(e.$share.get(0),"d-share"),e.like=Mu.blocks.forElem(e.$like.get(0),"d-like"),e.addition=Mu.blocks.forElem(e.$addition.get(0),"d-addition"),e.toggler=Mu.blocks.forElem(e.$toggler.get(0),"d-toggler"),e.collectiveAccess=Mu.blocks.forElem(e.$collectiveAccess.get(0),"d-collective-access"),e.onAddClick=i(e.toggleAddTab.bind(e,!0)),e.onMainClick=i(e.toggleMain.bind(e,!0)),e.onShareClick=i(e.toggleShare.bind(e,!0)),e.onForthClickHandler=i(e.onForthClick,!0,4),e.onDeleteClick=i(e.openDeletionTooltip),e.onHtmlClick=i(e.showIframe,!0),e.onRadioClick=i(e.playRadio,!0),e.onCollectiveClick=i(e.showCollectiveAccess,!0),e.onMarkTrackFinished=i(e.markTrackFinished,!0),e.onMarkTrackUnfinished=i(e.markTrackUnfinished,!0),e.onMarkAlbumFinished=i(e.markAlbumFinished,!0),e.onMarkAlbumUnfinished=i(e.markAlbumUnfinished,!0),e.$itemAdd.on("click",e.onAddClick),e.$itemMain.on("click",e.onMainClick),e.$itemShare.on("click",e.onShareClick),e.$itemForth.on("click",e.onForthClickHandler),e.$itemDelete.on("click",e.onDeleteClick),e.$itemHtml.on("click",e.onHtmlClick),e.$itemRadio.on("click",e.onRadioClick),e.$itemCollective.on("click",e.onCollectiveClick),e.$markTrackFinished.on("click",e.onMarkTrackFinished),e.$markTrackUnfinished.on("click",e.onMarkTrackUnfinished),e.$markAlbumFinished.on("click",e.onMarkAlbumFinished),e.$markAlbumUnfinished.on("click",e.onMarkAlbumUnfinished),e.on("toggleAccess",e.onToggleAccess.bind(e)),e.on("toggleAccessError",e.onToggleAccessError.bind(e)),e.copy&&e.copy.on("error",e.onCopyError.bind(e)),e.share&&(e.share.on("shared",e.hide.bind(e)),e.share.on("loaded",e.onShareLoaded.bind(e))),e.addition&&(e.addition.on("actionError",e.hide.bind(e)),e.addition.on("actionSuccess",e.hide.bind(e))),e.toggler&&(e.toggler.on("toggleOn",e.toggleAccess.bind(e,!1)),e.toggler.on("toggleOff",e.toggleAccess.bind(e,!0)),e.toggler.on("changed",(function(){e.toggler.toggleDisabled(!0)}))),e.like&&(e.like.on("like",e.hide.bind(e)),e.like.on("unlike",e.hide.bind(e)))},p.prototype.markTrackFinished=function(){const t=this.helper.getEntity();t&&l.markFinished(t.id)},p.prototype.markTrackUnfinished=function(){const t=this.helper.getEntity();t&&l.markUnfinished(t.id)},p.prototype.markAlbumFinished=function(){const t=this.helper.getEntity();t&&l.markAlbumProgress(t.id,"finished")},p.prototype.markAlbumUnfinished=function(){const t=this.helper.getEntity();t&&l.markAlbumProgress(t.id,"unfinished")},p.prototype.toggle=function(){const t=this.helper.isDisabled&&this.helper.isDisabled();this.popup&&this.popup.isOpen||t||(this.popup=this.getPopup()),this.initPopup(),this.popup&&this.popup.toggle()},p.prototype.hide=function(){this.popup&&this.popup.hide()},p.prototype.getPopup=function(){const t=this;t.$popup=$(u(this.data));const i=new(Mu.blocks.get("popup"))(t.$popup,t.getSettings());return i.on("beforeshow",(function(){t.updatePosition()})),i.on("show",(function(){t.trigger("show",t),t.$itemForth.toggleClass("d-context-menu__item_hidden",a.isRadio()||e.isGenerative()),i.position()})),i.on("hide",(function(){t.addition.hide(),t.trigger("hide",t),t.toggleMain(!0)})),t.$popup.removeClass("_hidden"),i},p.prototype.updatePosition=function(){const t=$(".bar"),e=$(window),i=this.$opener;this.popup.position();const n=i.offset().top-e.scrollTop(),a=n+i.height()/2,s=a>(e.outerHeight()-t.outerHeight())/2;s?this.$popup.css({"max-height":n-i.height()/2}):this.$popup.css({"max-height":e.outerHeight()-a-i.height()}),this.popup.setOptions(this.getSettings(s))},p.prototype.getSettings=function(t){const e={resize:!1,toggable:!0,modal:!1,appendable:!0,position:{my:"right top",at:"right top+45px",of:this.$cont}};return t&&(e.position.my="right bottom-45px"),e},p.prototype.getShareInfo=function(){const t=this;if(t.data.track){const e=t.data.track.albums&&t.data.track.albums[0];return{type:"track",id:t.data.track.id+(e.id?"/"+e.id:""),content:t.shareHelper.getCode()}}return t.data.album?{type:"album",id:t.data.album.id,content:t.shareHelper.getCode()}:t.data.playlist?{type:"playlist",id:t.data.playlist.owner.login+"/"+t.data.playlist.kind,content:t.shareHelper.getCode()}:void 0},p.prototype.showIframe=function(){const t=this.getShareInfo();o.show(t.type,t.id,t.content),this.hide()},p.prototype.playRadio=function(){const t=this;let i,a,s;switch(t.helper.getType()){case"track":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток трека «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={radio_type:t.helper.getType(),radio_tag:s.id};break;case"album":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток альбома «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={album:s.id,radio_type:t.helper.getType(),radio_tag:s.id};break;case"playlist":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток плейлиста «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={radio_type:t.helper.getType(),radio_tag:s.owner.login+"_"+s.kind}}const o=$(".player-controls__btn_play");r.setTarget(o),i&&e.playRadio(i,a)},p.prototype.showCollectiveAccess=function(){this.popup=this.getPopup(),this.initPopup(),this.collectiveAccess&&this.collectiveAccess.show()},p.prototype.toggleMain=function(t){const e=void 0===t||!!t;this.toggleShare(!e),this.toggleAddTab(!e)},p.prototype.toggleAddTab=function(t){const e=this,i=void 0!==t?!!t:!e.$popup.hasClass("d-context-menu__popup_add");e.$popup.toggleClass("d-context-menu__popup_add",i);const n={};e.data.track&&e.data.track.id&&(n.trackId=e.data.track.id),i&&(e.addition.show(),e.addition.loadPlaylists(n)),e.updatePosition()},p.prototype.toggleShare=function(t){const e=void 0!==t?!!t:!this.$popup.hasClass("d-context-menu__popup_share");this.$popup.toggleClass("d-context-menu__popup_share",e),this.updatePosition()},p.prototype.toggleItemState=function(e,i){const n=parseInt(e,10),a=Number.isNaN(n)?$(e):this.$cont.find("."+t).eq(n);if(a.is("."+t)){const t=void 0!==i?!i:a.hasClass("deco-popup-menu__item_disabled");a.toggleClass("deco-popup-menu__item_disabled",t),a.closest(".deco-popup-menu__item").toggleClass("deco-popup-menu__item_disabled",t)}},p.prototype.toggleAccess=function(t){const e=this,i=void 0!==t?!!t:!e.isPublic();e.isPublic()!==t&&s.changePlaylist("set-visibility",{kind:e.data.playlist.kind,visibility:i?"public":"private"}).then((function(t){t&&t.playlist&&(e.data.playlist.visibility=t.playlist.visibility,e.trigger("toggleAccess",e.isPublic()))})).catch((function(t){e.trigger("toggleAccessError",t)}))},p.prototype.isPublic=function(){return"public"===this.data.playlist.visibility},p.prototype.onCopyError=function(){this.$copy.addClass(".d-context-menu__copy_error"),this.$copy.find(".d-link").hide(),this.$copy.find(".d-input").show().find("input").select()},p.prototype.onShareLoaded=function(){this.$share.find("li").addClass("deco-popup-menu__item"),this.$share.find(".d-share__item").addClass("deco-popup-menu__item"),this.$share.find(".d-share__item .deco-link").addClass("deco-link_freezed"),this.$share.find(".d-share__item a").removeAttr("title")},p.prototype.onForthClick=function(){this.addition.addToSeq()},p.prototype.openDeletionTooltip=function(){const t=this;var e=i18n("d-context-menu","[feature/mfront-4659]Содержимое плейлиста будет удалено навсегда, без возможности восстановления."),i=i18n("d-context-menu","Удалить плейлист?"),n=Mu.blocks.get("d-tooltip").show(t.$itemDelete,{type:"confirm",side:t.$cont.closest(".sidebar").size()?"bottom":"right",content:"<div>"+e+"</div><div>"+i+"</div>",container:$(document.body),class:"d-context-menu__tooltip-delete",onShow:function(){t.$itemDelete.addClass("deco-popup-menu__item_active")},onHide:function(){t.$itemDelete.removeClass("deco-popup-menu__item_active")},onAgree:function(){s.changePlaylist("delete",{kind:t.data.playlist.kind}).then((function(e){return t.trigger("delete",e)})).catch((function(){}))},onDisagree:function(){n.hide()}});t.on("itemClick",(function(e,i){!$(i).is(t.$itemDelete)&&n.popup.isOpen&&n.hide()})),t.toggler&&t.toggler.on("changed",(function(){n.popup.isOpen&&n.hide()}))},p.prototype.onToggleAccessError=function(){this.onToggleAccess(this.isPublic())},p.prototype.onToggleAccess=function(t){const e=this;e.toggleItemState(e.$itemShare,e.helper.isShareEnabled()),e.toggleItemState(e.$itemCollective,e.helper.isPublic()),e.toggler&&(e.toggler.toggleDisabled(!1),e.toggler.isChecked()===!!t&&e.toggler.toggle(!t,!0))},p}())},function(t,e,i,n){var a=i(307),s=i(308),o=i(310);t.exports=function(t){return(t=t&&t.data||t).playlist?new o(t):t.album?new a(t):t.track?new s(t):void 0}},function(t,e,i,n){var a=i(177),s=function(t){this.data=Object.assign({},{album:{}},t&&t.data||t),this.shareHelper=new a(this.data)};s.prototype.getType=function(){return"album"},s.prototype.getLink=function(t){return this.shareHelper.getLink(t)},s.prototype.getEntity=function(){return this.data.album},s.prototype.isShareEnabled=function(){return!0},s.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},s.prototype.getTracks=function(){var t=[];return(this.data.album&&this.data.album.volumes||[]).forEach((function(e){t=t.concat(e)})),t},s.prototype.getTracksCount=function(){return this.data.album.trackCount?this.data.album.trackCount:this.getTracks().length},s.prototype.getAvailableTracksCount=function(){return this.getTracks().filter((function(t){return t&&!t.error})).length},s.prototype.isCanMarkFinished=function(){if(this.data.album&&this.data.album.isShelfItem)return!1;if(!(Mu.authData&&Mu.authData.user&&Mu.authData.user.uid&&this.data.canShowPlaybackProgressItems))return!1;if(!["podcast","fairy-tale","audiobook"].includes(this.data.album&&this.data.album.type))return!1;return!!this.getTracks().some(t=>!(t.streamProgress&&t.streamProgress.everFinished))},s.prototype.isCanMarkUnfinished=function(){if(this.data.album&&this.data.album.isShelfItem)return!1;if(!(Mu.authData&&Mu.authData.user&&Mu.authData.user.uid&&this.data.canShowPlaybackProgressItems))return!1;if(!["podcast","fairy-tale","audiobook"].includes(this.data.album&&this.data.album.type))return!1;return!this.getTracks().some(t=>!(t.streamProgress&&t.streamProgress.everFinished))},t.exports=s},function(t,e,i,n){var a=i(177),s=i(124),o=i(309),r=function(t){this.data=Object.assign({},{track:{}},t&&t.data||t),this.shareHelper=new a(this.data)};r.prototype.getType=function(){return"track"},r.prototype.getLink=function(t){return this.shareHelper.getLink(t)},r.prototype.getEntity=function(){return this.data.track},r.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},r.prototype.getTracks=function(){return[this.getEntity()]},r.prototype.getTracksCount=function(){return this.getTracks().length},r.prototype.getAvailableTracksCount=function(){return this.getEntity().error?0:1},r.prototype.isPrivateTrack=function(){var t=this.getEntity();return s(t.id)||o(t.id)},r.prototype.isPodcastEpisode=function(){return"podcast-episode"===this.getEntity().type},r.prototype.isCanMarkFinished=function(){const t=this.getEntity();return this.data.canShowPlaybackProgressItems&&!(t.streamProgress&&t.streamProgress.everFinished)},r.prototype.isCanMarkUnfinished=function(){const t=this.getEntity();return this.data.canShowPlaybackProgressItems&&t.streamProgress&&t.streamProgress.everFinished},t.exports=r},function(t,e,i,n){t.exports=function(t){return t&&/yadisk/.test(t)}},function(t,e,i,n){const a=i(177),s=i(14);var o=function(t){this.data=Object.assign({},{playlist:{}},t&&t.data||t),this.shareHelper=new a(this.data)};o.prototype.getType=function(){return"playlist"},o.prototype.getLink=function(t){return this.shareHelper.getLink(t)},o.prototype.getEntity=function(){return this.data.playlist},o.prototype.isOwner=function(t){t=t||s();var e=parseInt(t.uid,10);return!isNaN(e)&&e===parseInt(this.data.playlist.owner.uid,10)||!1},o.prototype.isPublic=function(){return"public"===this.data.playlist.visibility},o.prototype.shouldHideCollective=function(){return new Date(this.data.playlist.created)>new Date("2022-05-19T00:00:00+00:00")},o.prototype.isShareEnabled=function(){return(this.isPublic()||this.isLikes())&&this.getTracksCount()},o.prototype.isDisabled=function(){const t=this.data.playlist.visibility;return t?"private"===t&&!this.isOwner():this.data.playlist.doNotIndex&&!this.isOwner()},o.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},o.prototype.isLikes=function(){return 3===parseInt(this.data.playlist.kind,10)},o.prototype.getTracksCount=function(){return this.data.playlist.trackCount?this.data.playlist.trackCount:this.data.playlist.tracks&&this.data.playlist.tracks.length||0},o.prototype.getAvailableTracksCount=function(){return(this.data&&this.data.playlist&&this.data.playlist.tracks||[]).filter((function(t){return t&&!t.error})).length},t.exports=o},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(306),s=i(312),o=i(334),r=i(335),function(t){var e="",i=a(t);return e+='<div class="d-context-menu__popup _hidden deco-popup-menu">',"playlist"===i.getType()&&(e+=" "+r(t)),"album"===i.getType()&&(e+=" "+o(t)),"track"===i.getType()&&(e+=" "+s(t)),e+="</div>"})},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(306),s=i(177),o=i(313),r=i(191),l=i(315),c=i(316),function(t){var e="",i=a(t),n=new s(t);return e+='<div class="d-context-menu__content d-context-menu__content_track"><div class="d-context-menu__tab d-context-menu__tab_add">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+o.render({inline:!0,entry:t.track,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+l.render({track:t.track,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+r.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+c({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">'+c({items:[{type:"mark-finished",icon:"mark-finished",text:i18n("d-context-menu","[feature/mfront-3314-podprog]Отметить прослушанным"),hidden:!i.isCanMarkFinished()},{type:"mark-unfinished",icon:"mark-unfinished",text:i18n("d-context-menu","[feature/mfront-3314-podprog]Отметить непрослушанным"),hidden:!i.isCanMarkUnfinished()},{type:"radio",icon:"radio",text:i18n("d-context-menu","[feature/mfront-3789]Поток по треку"),disabled:!i.isPlayEnabled()||i.isPrivateTrack()},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled()},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:i.isPrivateTrack()},{block:"d-like",type:"subscribe",params:{album:t.track.albums[0],size:"L",theme:"subscribe-podcast"},hidden:!i.isPodcastEpisode()}]})+"</div></div>"})},function(t,e,i,n){var a={render:i(314)};clientSide&&(a.controller=i(136)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(138);return function(i){var n='<div class="d-addition '+__escape(i.inline?"d-addition_inline":"")+" "+__escape(i.class?i.class:"")+" "+__escape(i.style?"d-addition_"+i.style:"")+'" data-b='+__escape(Mu.dotBlockRoot(i,"d-addition",!(!i.playlist&&!i.album)))+">";return i.inline?n+=e(i):n+=t.render(Object.assign({size:"L",rounded:!0,icon:"plus-big",class:"d-addition__opener",type:"pure"===i.style?"flat":i.style||""},i.button||{})),n+="</div>"}}()},function(t,e,i,n){var a={render:i(189)};clientSide&&(a.controller=i(176)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(317),function(t){var e="";if(t.items&&t.items.length){e+='<ul class="d-context-menu__list '+__escape(t.type?"d-context-menu__list_"+t.type:"")+' deco-popup-menu__item-group">';for(var i,n=0;n<t.items.length;n++)(i=t.items[n]).hidden||(e+=" "+a(i)+" ");e+="</ul>"}return e})},function(t,e,i,n){var a,s,o;t.exports=(a=i(318),s=i(141),o=i(331),function(t){var e='<li class="d-context-menu__item deco-popup-menu__item ';return t.type&&(e+="d-context-menu__item_"+__escape(t.type)),e+=" ",t.disabled&&(e+="deco-popup-menu__item_disabled"),e+='"> ',"d-like"===t.block?e+=" "+a.render(t.params)+" ":(e+=" ",t.icon&&(e+=' <span class="d-context-menu__item-icon">'+s.render({icon:t.icon})+"</span> "),e+=" ",t.toggler?e+=" "+o(t)+" ":e+=' <span class="d-context-menu__item-title">'+__escape(t.text)+"</span> ",e+=" "),e+="</li>"})},function(t,e,i,n){var a={render:i(319)};clientSide&&(a.controller=i(327)),t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(320),s=i(325),o=i(321),function(t){var e='<span class="d-like'+__escape(a.class(t))+'" data-b="'+Mu.dotBlockRoot(t,"d-like")+'">';return o(t),e+=s(t)+"</span>"})},function(t,e,i,n){var a=i(321),s=i(322),o=i(323),r=i(231);t.exports={class:function(t){var e="",i=a(t),n=s(t);return i&&(e+=" d-like_on"),t.className&&(e+=" "+t.className),t.theme&&(e+=" d-like_theme-"+t.theme),"hover"===t.theme&&(e+=" local-icon-theme-black"),"spin"===t.theme&&("0"!==t.count||t.showZero||(e+=" d-like_zero"),t.buttonish&&(e+=" deco-buttonish-like"),i&&(e+=" active"),e+=" d-like_size_"+this.size(t),e+=" d-like_position_"+this.position(t)),"track"===t.theme&&t.buttonish&&(e+=" deco-track-like","chart"===t.type?e+=" d-like__track-hover":n&&(e+=" like__track-hover-hidden")),e},icon:function(t){return a(t)?"heart-full":"heart"},iconPale:function(t){return a(t)?"heart-full-colorless":"heart"},size:function(t){return t.size||("metatag"===t.theme?"L":"M")},count:function(t){return parseInt(t.count,10)||0},text:function(t){var e=a(t),i="";if("text_like"===t.theme)i=i18n("d-like","Нравится");else if("text_add"===t.theme)i=e?i18n("d-like","Добавлено"):i18n("d-like","Добавить");else if("metatag"===t.theme)i=e?i18n("d-like","Вы подписаны"):i18n("d-like","Подписаться");else if("subscribe-podcast"===t.theme)i=e?i18n("d-like","Вы подписаны"):i18n("d-like","[feature/subscribe-podcast]Подписаться на подкаст");else if("countAndSubscribe"===t.theme){var n=this.count(t)>0?o(this.count(t)," "):"";i=e?n:(n?n+"<span class='d-like__devider'>&bull;</span>":"")+i18n("d-like","Подписаться")}return i},tooltipText:function(t){var e=a(t);return e&&t.tooltip&&t.tooltip.removeText?t.tooltip.removeText:e?this.getLikedText(t):t.tooltip&&t.tooltip.addText?t.tooltip.addText:this.getDefaultText(t)},buttonTitleText:function(t){var e=a(t);return e&&t.buttonTitle&&t.buttonTitle.removeText?t.buttonTitle.removeText:e?this.getLikedText(t):t.buttonTitle&&t.buttonTitle.addText?t.buttonTitle.addText:this.getDefaultText(t)},getLikedText:function(t){var e=r("myMusic"),i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот трек, а ещё он добавлен в раздел «%1»",e);return t.entry&&t.entry.track&&"podcast-episode"===t.entry.track.type&&(i=i18n("d-like","[feature/podcast-collection]Вам нравится этот выпуск, а ещё он добавлен в раздел «%1»",e)),t.playlist&&(i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот плейлист, а ещё он добавлен в раздел «%1»",e)),t.album&&(i="podcast"===t.album.type?i18n("d-like","[feature/subscribe-to-podcast]Вы подписаны на этот подкаст, а ещё он добавлен в раздел «%1»",e):"audiobook"===t.album.type?i18n("d-like","[feature/mfront-3881]Вам нравится эта аудиокнига, а ещё она добавлена в раздел «%1»",e):"fairy-tale"===t.album.type?i18n("d-like","[feature/mfront-3881]Вам нравится эта сказка, а ещё она добавлена в раздел «%1»",e):i18n("d-like","[feature/my-music-new-name]Вам нравится этот альбом, а ещё он добавлен в раздел «%1»",e)),t.artist&&(i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот исполнитель, а ещё он добавлен в раздел «%1»",e)),t.label&&(i=t.isPublisher?i18n("d-like","[feature/mfront-2906]Вам нравятся релизы издателя, и мы учитываем это в рекомендациях"):i18n("d-like","[feature/mfront-2906]Вам нравятся релизы лейбла, и мы учитываем это в рекомендациях")),i},getDefaultText:function(t){var e=r("myMusic"),i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте трек в раздел «%1»",e);return t.entry&&t.entry.track&&"podcast-episode"===t.entry.track.type&&(i=i18n("d-like","[feature/podcast-collection]Сделайте рекомендации точнее и добавьте выпуск в раздел «%1»",e)),t.playlist&&(i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте плейлист в раздел «%1»",e)),t.album&&(i="podcast"===t.album.type?i18n("d-like","[feature/subscribe-to-podcast]Подпишитесь на подкаст, чтобы сделать рекомендации точнее и узнавать о новых выпусках"):"audiobook"===t.album.type?i18n("d-like","[feature/mfront-3881]Сделайте рекомендации точнее и добавьте аудиокнигу в раздел «%1»",e):"fairy-tale"===t.album.type?i18n("d-like","[feature/mfront-3881]Сделайте рекомендации точнее и добавьте сказку в раздел «%1»",e):i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте альбом в раздел «%1»",e)),t.artist&&(i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте исполнителя в раздел «%1»",e)),t.label&&(i=t.isPublisher?i18n("d-like","[feature/mfront-2906]Отметьте любимого издателя сердечком — так мы лучше поймём, что вам нравится"):i18n("d-like","[feature/mfront-2906]Отметьте любимый лейбл сердечком — так мы лучше поймём, что вам нравится")),i},position:function(t){return t.position||"left"},showCount:function(t){return t.showZero||!!this.count(t)}}},function(t,e,i,n){t.exports=function(t){var e="undefined"!=typeof Mu&&Mu.libraryData||{};return t.entry&&e.defaultLibrary?e.defaultLibrary[t.entry.track.id]>0:t.album&&e.albums?e.albums[t.album.id]>0:t.playlist&&t.playlist.owner&&e.playlists?e.playlists[t.playlist.owner.uid+":"+t.playlist.kind]>0:t.artist&&e.artists?e.artists[t.artist.id]>0:t.user&&e.users?e.users[t.user.uid]>0:t.genre&&e.genres?e.genres[t.genre.genre]>0:t.metatag&&e.metatags?e.metatags[t.metatag.id]>0:!(!t.label||!e.labels)&&e.labels[t.label.id]>0}},function(t,e,i,n){t.exports=function(t){var e="undefined"!=typeof Mu&&Mu.libraryData||{};return t.entry&&e.defaultLibrary?e.defaultLibrary[t.entry.track.id]<0:t.album&&e.albums?e.albums[t.album.id]<0:t.playlist&&t.playlist.owner&&e.playlists?e.playlists[t.playlist.owner.uid+":"+t.playlist.kind]<0:t.artist&&e.artists?e.artists[t.artist.id]<0:t.user&&e.users?e.users[t.user.uid]<0:t.genre&&e.genres?e.genres[t.genre.genre]<0:t.metatag&&e.metatags?e.metatags[t.metatag.id]<0:!(!t.label||!e.labels)&&e.labels[t.label.id]<0}},function(t,e,i,n){t.exports=i(324)},function(t,e,i,n){t.exports=function(t,e){if("number"!=typeof(t=parseInt(t,10))||isNaN(t)||t<0)return"";for(var i=(t=t.toString()).length%3,n=t.substr(0,i),a=i;a<t.length;a+=3)n+=(n?e:"")+t.substr(a,3);return n}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(320),a=i(323),s=i(326);return function(i){var o="";return i.theme?"player"==i.theme?o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i),noDeco:!0}):"count"==i.theme||"countTransparent"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.count(i)>0?a(n.count(i)," "):null}):"countAndSubscribe"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.text(i)}):"countFlat"==i.theme?o+=t.render({rounded:!0,type:"flat",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.count(i)>0?a(n.count(i)," "):"0"}):s(i.theme,"text")?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),text:n.text(i),attrs:{title:n.buttonTitleText(i)}}):"subscribe-podcast"===i.theme?o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-bright"})+"<span>"+n.text(i)+"</span>":"metatag"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)}}):"flat"==i.theme||"hover"==i.theme?o+=t.render({rounded:!0,type:"flat",icon:n.icon(i),class:"hover"===i.theme?"deco-button-hover":"",size:n.size(i),attrs:{title:n.buttonTitleText(i)}}):"track"==i.theme?o+='<span class="d-like__icon-wrapper deco-track-like-icon-wrapper">'+e.render({type:"flat",icon:n.icon(i),class:"d-like__icon deco-buttonish-like-icon-bright",title:n.buttonTitleText(i),size:n.size(i)})+e.render({type:"flat",icon:n.iconPale(i),class:"d-like__icon deco-buttonish-like-icon-pale",title:n.buttonTitleText(i),size:n.size(i)})+"</span>":"spin"==i.theme&&("left"==n.position(i)&&(o+='<span class="d-like__icon-wrapper deco-buttonish-like-icon-wrapper">'+e.render({icon:n.icon(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-bright"})+e.render({icon:n.iconPale(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-pale"})+"</span>"),!n.count(i)&&i.emptyText&&(o+='<span class="d-like__empty-text">'+__escape(i.emptyText)+"</span>"),o+='<span class="d-like__digits-spin-container deco-buttonish-like-stylable"><span class="d-like__digits-spin-hard">',n.showCount(i)&&(o+=a(n.count(i),"&nbsp;")),o+="</span></span>","right"==n.position(i)&&(o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i)}))):o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)}}),o}}()},function(t,e,i,n){t.exports=i(185)},function(t,e,i,n){var a=i(324),s=i(319),o=i(328),r=i(329);Mu.blocks.register("d-like",function(){var t,e,i,n,l,c,d,u,p=function(){Mu.eventize(this)};return p.init=function(a){t=a.get("auth"),i=a.get("blocks"),e=a.get("fav"),n=a.get("metrika"),l=a.get("froms"),c=a.get("pages"),d=a.get("sidebars"),u=a.get("seq"),this.domDelegate("click",(function(t){i.forElem(this,"d-like").onClick(t)}))},p.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon"),this.$button=this.$cont.find(".d-button"),this.blockName=l.getBlockName(this.data),this.cardFrom=l.getCardFrom(this.container,this.blockName),this.blockFrom=l.getBlockFrom(this.container,this.blockName),this.on("like",this.repaint.bind(this)),this.on("unlike",this.repaint.bind(this));var t,e,i,a,s=this.$cont.closest(".bar"),o=this.$cont.closest(".d-track"),r=this.$cont.closest(".d-header"),c=this.$cont.closest(".d-hover"),d=this.$cont.closest(".playlist"),u=this.$cont.closest(".d-suggest"),p=this.$cont.closest(".d-slider"),h=this.$cont.closest(".album"),_=this.$cont.closest(".d-context-menu__popup");o.length>0&&(t=Mu.blocks.forElem(o.get(0),"d-track")),c.length>0&&(e=Mu.blocks.forElem(c.get(0),"d-hover")),i=e?this.$cont:this.$button.length>0?this.$button:this.$icon,a=s.length>0?s:e?$(".popup-holder"):d.length>0&&0===p.length?d.parent():u.length>0||p.length>0||h.length>0?$("body"):this.$cont.parent(),this.tooltip=Mu.blocks.get("d-tooltip").getTooltip(i,{container:a,appendable:_.length>0,type:"notice",theme:"black",side:o.length>0||r.length>0?"left":"right",withMinWidth:!0,agreeLabel:i18n("log-in","Войти"),content:i18n("d-like","[feature/like-login-popup]Войдите, чтобы отмечать и сохранять понравившееся"),onShow:function(i,a){n.count({authPopupShown:{like:1}}),a.popup.position(),e&&e.show(),t&&t.setActive(!0)},onHide:function(){e&&e.hide(),t&&t.setActive(!1)},onAgree:function(){n.count({authPopupButtonClick:{like:1}}),this.authAction("like_popup")}.bind(this)})},p.prototype.setData=function(t){this.data=$.extend(this.data,t)},p.prototype.repaint=function(t){var i=!1,n=this.$cont.hasClass("d-like_on")!==e.isFavorite(this.data);if(n){if(void 0!==this.data.count&&(i=this.data.count,t&&void 0!==t.count?this.data.count=t.count:e.isFavorite(this.data)?this.data.count+=1:this.data.count-=1,i=this.data.count-i),n||i){var a=Object.assign({},this.data),o=$(s(a));$(this.container).replaceWith(o),this.container=o.get(0),this.$cont=$(this.container)}i&&"spin"===this.data.theme&&this.animateCount(i)}},p.prototype.animateCount=function(t){var e=0;this.data.count<0&&(this.data.count=0);var i=a(this.data.count-t," "),n=a(this.data.count," ");i.length>n.length||"0"===n&&t<0?e=-1:(i.length<n.length||"0"===i&&t>0)&&(e=1);for(var s="",r="",l="",c=Math.max(n.length,i.length)-1;c>=0;c--)i[c]!==n[c]?(n[c]&&(r=n[c]+r),i[c]&&(s=i[c]+s)):l=n[c]+l;var d=o({before:s,after:r,hard:l,delta:t,shift:e}),u=this.$cont.find(".d-like__digits-spin-container");u.html(d).css("top"),u.addClass(t>0?"d-like__digits-spin_up":"d-like__digits-spin_down"),this.$cont.addClass("d-like_blink"),this.data&&!this.data.showZero&&("0"===n?this.$cont.addClass("d-like_zero"):"0"===i&&this.$cont.removeClass("d-like_zero"))},p.prototype.onClick=function(){t.isLoggedIn()?this.data.entry&&this.data.entry.track?this.toggleTrack():this.toggle():this.tooltip?$(".d-tooltip").is(":visible")||this.tooltip.toggle():this.authAction()},p.prototype.authAction=function(e){t.showAuthForm((function(){}),e||"like")},p.prototype.toggleTrack=function(t){var e=this.data.entry.track;(t=void 0!==t?!!t:!u.isLiked(e))&&r.like(),u[t?"like":"unlike"](e,this.blockFrom,this.cardFrom),this._triggerEvent(t)},p.prototype._triggerEvent=function(t){this.trigger(t?"like":"unlike",this.data&&this.data.entry||this.data),this.triggerEvent({type:t?"like":"unlike",data:this.data&&this.data.entry||this.data});var e=!!t,i=!!this.$cont.closest(".sidebar").length;if(e&&i){var n="track"===d.current.name?"d-track":d.current.name,a={target:{container:$(c.current.container).find("."+n+"_selected")[0]}};c.current.onLike&&c.current.onLike(a)}},p.prototype.toggle=function(t){var i=Object.assign({from:this.blockFrom},this.data);void 0!==t?(t=!!t,e.isFavorite(i)!==t&&e.toggle(i)):t=e.toggle(i),t&&r.like(),n.goal(t?"LIKE":"REMOVE",{likeFrom:this.cardFrom}),i.artist&&!i.count&&n.count({likeArtist:1}),this._triggerEvent(t)},p.prototype.isFavorite=function(){return this.data.entry&&this.data.entry.track?u.isLiked(this.data.entry.track):e.isFavorite(Object.assign({from:this.blockFrom},this.data))},p}())},function(t,e,i,n){t.exports=function(t){for(var e="",i=0;i<t.hard.length;i++)a=t.hard[i],e+="<span>"+__escape(a)+"</span>";e+='<span class="d-like__digits-spin-before-container">';for(var n=0;n<t.before.length;n++)e+='<span class="d-like__digits-spin-before">'+(" "===(a=t.before[n])?"&nbsp;":a)+"</span>";e+="</span>";for(var a,s=0;s<t.after.length;s++)a=t.after[s],e+='<span class="'+__escape(t.delta>0?"d-like__digits-spin-after_top":"d-like__digits-spin-after_bottom")+'">'+(" "===a?"&nbsp;":a)+"</span>";return e}},function(t,e,i,n){var a=i(330)("gtag","id=AW-825647155",(function(){})),s={pay:function(){a.send({event:"pay",id:"epFJCPX89HkQs8DZiQM"})},addToPlaylist:function(){a.send({event:"addToPlaylist",id:"OLaLCP328XkQs8DZiQM"})},like:function(){a.send({event:"like",id:"CXMTCIyX9XkQs8DZiQM"})},newPaymentPopupButton:function(){a.send({event:"newPaymentPopupButton",id:"pb4NCKHc838Qs8DZiQM"})},submitOrder:function(){a.send({event:"submitOrder",id:"QrWPCLrO1o8BELPA2YkD"})},appsSMS:function(){a.send({event:"appsSMS",id:"-42zCKze838Qs8DZiQM"})},play:function(){a.send({event:"play",id:"rGLkCJ3hhoABELPA2YkD"})},wizardCompleted:function(){a.send({event:"wizardCompleted",id:"4DeECJTb8IgBELPA2YkD"})},PlayPD:function(){a.send({event:"PlayPD",id:"dzvHCOvb8IgBELPA2YkD"})},PlayPremeire:function(){a.send({event:"PlayPremeire",id:"_SDkCKOS_4gBELPA2YkD"})},PlayDejaVu:function(){a.send({event:"PlayDejaVu",id:"7aaGCOvdhokBELPA2YkD"})},PlayStash:function(){a.send({event:"PlayStash",id:"6Uk4CLffhokBELPA2YkD"})}};"undefined"!=typeof Mu&&(Mu.gtag=s),t.exports=s},function(t,e,i,n){var a=i(19);t.exports=function(t,e,i){return a("https://"+Mu.settings.sandbox+"/iframe?type="+t+(e?"&"+e:""),"sandbox-iframe sandbox-iframe__"+t,i)}},function(t,e,i,n){var a;t.exports=(a=i(332),function(t){return""+a.render({size:"xs",label:t.text,withoutValue:!0,checked:!!t.checked})})},function(t,e,i,n){var a={render:i(333)};clientSide&&(a.controller=i(199)),t.exports=a},function(t,e,i,n){t.exports=function(t){var e="",i=[];t.checked&&i.push("deco-toggler_on"),t.class&&i.push(t.class),t.size&&i.push("d-toggler_size-"+t.size.toUpperCase()),t.disabled&&i.push("deco-toggler_disabled"),t.showOpposite&&i.push("show-opposite"),i=i.join(" ");var n=t.onText?t.onText:i18n("d-toggler","Вкл"),a=t.offText?t.offText:i18n("d-toggler","Выкл"),s=t.clickableValue?"clickable":"";if(t.showOpposite)var o=n,r=a;else o=t.checked?n:a,r=t.checked?a:n;var l=t.id?t.id:"toggle"+(Math.random()+"").slice(2);return e+='<div class="d-toggler deco-toggler '+__escape(i)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-toggler",!0))+'" ><div class="d-toggler__content"><input class="d-toggler__input" type="checkbox" id="'+__escape(l)+'" ',t.disabled&&(e+=" disabled"),e+=" "+(t.checked?"checked":"")+" />",t.label&&(e+='<label class="d-toggler__label deco-toggler-label" for="'+__escape(l)+'">'+__escape(t.label)+"</label>"),e+='<div class="d-toggler__view deco-toggler-view"><div class="d-toggler__bg deco-toggler-bg"></div><div class="d-toggler__btn deco-toggler-btn"></div><div class="d-toggler__border deco-toggler-border"></div></div> ',t.withoutValue||(e+=' <div class="d-toggler__value '+__escape(s)+'"> <span class="d-toggler__text d-toggler__text_selected deco-toggler-text">'+__escape(o)+'</span> <span class="d-toggler__text d-toggler__text_opposite deco-toggler-text">'+__escape(r)+"</span> </div> "),e+="</div></div>"}},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(306),s=i(177),o=i(313),r=i(191),l=i(315),c=i(316),function(t){var e="",i=a(t),n=new s(t);return e+='<div class="d-context-menu__content d-context-menu__content_album"><div class="d-context-menu__tab d-context-menu__tab_add">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+o.render({inline:!0,album:t.album,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+l.render({album:t.album,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+r.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+c({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">'+c({items:[{type:"mark-album-finished",icon:"mark-finished",text:i18n("d-context-menu","[feature/mfront-4169-1]Отметить всё прослушанным"),hidden:!i.isCanMarkFinished()},{type:"mark-album-unfinished",icon:"mark-unfinished",text:i18n("d-context-menu","[feature/mfront-4169-1]Отметить всё непрослушанным"),hidden:!i.isCanMarkUnfinished()},{type:"radio",icon:"radio",text:t.album&&"podcast"===t.album.type?i18n("d-context-menu","[feature/mfront-3789]Поток по подкасту"):t.album&&"fairy-tale"===t.album.type?i18n("d-context-menu","[feature/mfront-3881]Поток по сказке"):i18n("d-context-menu","[feature/mfront-3789]Поток по альбому"),disabled:!i.getTracksCount(),hidden:t.album&&"audiobook"===t.album.type},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled(),hidden:t.album.isShelfItem},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:!i.isShareEnabled()}]})+"</div></div>"})},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(306),s=i(177),o=i(336),r=i(313),l=i(191),c=i(315),d=i(316),function(t){var e="",i=a(t),n=new s(t);e+='<div class="d-context-menu__content d-context-menu__content_playlist"><div class="d-context-menu__tab d-context-menu__tab_add">'+d({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+r.render({inline:!0,playlist:t.playlist,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+d({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+c.render({playlist:t.playlist,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+l.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+d({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">';var u=[{type:"radio",icon:"radio",text:i18n("d-context-menu","[feature/mfront-3789]Поток по плейлисту"),disabled:!i.getTracksCount()},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled(),hidden:t.playlist.isShelfItem},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:!i.isShareEnabled()}],p=[{type:"delete",icon:"trash-wide",text:i18n("d-context-menu","Удалить плейлист")},{type:"collective",icon:"two-persons",text:i18n("d-context-menu","Добавить соавтора"),disabled:!i.isPublic()},{type:"private",toggler:!0,checked:!i.isPublic(),text:i18n("d-context-menu","Приватный плейлист")}];i.shouldHideCollective()&&p.splice(1,1);var h=i.isOwner()&&!i.isLikes()?[].concat(u,p):u;return e+=d({items:h})+"</div>",i.isOwner()&&!i.isLikes()&&(e+=o.render({text:i18n("d-context-menu","Добавить соавтора"),playlist:t.playlist})),e+="</div>"})},function(t,e,i,n){var a={render:i(337)};clientSide&&(a.controller=i(338)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return'<div class="d-collective-access" data-b="'+Mu.dotBlockRoot(t,"d-collective-access")+'">'+a.render({text:t.text||i18n("d-collective-access","Совместный доступ"),class:t.class||"",style:t.style||""})+"</div>"})},function(t,e,i,n){Mu.blocks.register("d-collective-access",function(){var t,e,n=i(339),a=i(25),s=function(){};return s.init=function(i){t=i.get("layout"),e=i.get("dataSrc"),this.domDelegate("click",(function(){Mu.blocks.forElem(this).show()}))},s.prototype.init=function(){this.data.playlist.authors=this.data.playlist.authors||[],this.$window=$(window),this.$cont=$(this.container),this.onResize=a.throttle(300,!1,this.onResize.bind(this)),this.$window.on("resize",this.onResize)},s.prototype.destroy=function(){this.$window.off("resize",this.onResize)},s.prototype.getPopup=function(){var e=this;return e.popup||(e.$popup=$(n(e.data)),e.$input=e.$popup.find(".d-input"),e.$content=e.$popup.find(".d-collective-access__authors-content"),e.$regenerate=e.$popup.find(".d-collective-access__authors-regenerate"),e.$copy=e.$popup.find(".d-collective-access__link-copy"),e.$users=e.$popup.find(".d-collective-access__user"),e.$ban=e.$popup.find(".d-collective-access__user-ban"),e.$unban=e.$popup.find(".d-collective-access__user-unban"),e.$authors=e.$popup.find(".d-collective-access__authors"),e.$extend=e.$popup.find(".d-collective-access__authors-extend"),e.$authorsToggleAccess=e.$popup.find(".d-collective-access__authors-all"),$("body").append(e.$popup),Mu.blocks.initPendingBlocks(e.$popup),e.popup=new(Mu.blocks.get("popup"))(e.$popup,{modal:!0,resize:!0,persistent:!1,position:{my:"center",at:"center",of:window}}),e.input=Mu.blocks.forElem(e.$input.get(0),"d-input"),e.popup.on("show",(function(){t.lockScroll(),e.onResize()})),e.popup.on("hide",(function(){t.unlockScroll()})),e.$popup.on("click",".popup__close",e.hide.bind(e)),e.$regenerate.on("click",e.showUrl.bind(e,!0)),e.$ban.add(e.$unban).on("click",e.onAccessClick.bind(e)),e.$authorsToggleAccess.on("click",e.onAccessAllClick.bind(e)),e.showUrl()),e.popup},s.prototype.show=function(){this.popup=this.popup||this.getPopup(),this.popup&&!this.popup.isOpen&&this.popup.show()},s.prototype.hide=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},s.prototype.onResize=function(){if(this.popup&&this.popup.isOpen){this.$content.css({maxHeight:"none"});var t=this.$window.height()-40,e=parseInt(this.$content.css("minHeight"))||0,i=t-(this.$popup.outerHeight()-this.$content.outerHeight());i>0&&i>e?this.$content.css({maxHeight:i+"px"}):this.$content.css({maxHeight:this.$content.css("minHeight")}),this.popup.position()}},s.prototype.onAccessClick=function(t){var i=this,n=$(t.target),a=n.is(".d-collective-access__user-ban"),s=n.closest(".d-collective-access__user").index();if(i.data.playlist.authors.length&&i.data.playlist.authors[s]){var o={action:a?"ban":"unban",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind,user:i.data.playlist.authors[s].uid};e.post("playlist-access",o,{nocache:!0}).then((function(t){t&&"ok"===t.status&&i.afterAccessChanged(a,s)}))}},s.prototype.onAccessAllClick=function(t){var i=this,n=$(t.target).is(".d-collective-access__authors-all_ban"),a={action:n?"ban-all":"unban-all",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind};e.post("playlist-access",a,{nocache:!0}).then((function(t){t&&"ok"===t.status&&i.afterAccessChanged(n)}))},s.prototype.afterAccessChanged=function(t,e){if(t=!!t,e=parseInt(e),!1===(e=!isNaN(e)&&e))this.data.playlist.authors=this.data.playlist.authors.map((function(e){return e.banned=t,e})),this.$users.toggleClass("d-collective-access__user_banned",t),this.$authors.toggleClass("d-collective-access__authors_banned",t);else{this.data.playlist.authors[e].banned=t,this.$users.eq(e).toggleClass("d-collective-access__user_banned",t);var i=this.data.playlist.authors.filter((function(t){return t.banned})).length===this.data.playlist.authors.length;this.$authors.toggleClass("d-collective-access__authors_banned",i)}t&&(this.$extend.addClass("d-collective-access__authors-extend_visible"),this.popup.position())},s.prototype.showUrl=function(t){var i=this,n={action:"token",uid:i.data.playlist.owner.uid,kind:i.data.playlist.kind};t&&(n.action="regenerate"),e.get("playlist-access",n,{nocache:!0}).then((function(e){if(e&&e.token){var n=document.location.protocol+"//"+document.location.host+"/users/"+i.data.playlist.owner.login+"/playlists/"+i.data.playlist.kind+"?token="+e.token;i.input.value(n),t&&i.$extend.addClass("d-collective-access__authors-extend_refreshed")}}))},s}())},function(t,e,i,n){t.exports=function(){var t=i(226),e=i(191),n=i(141),a=i(151),s=i(143),o=function(e){var i='<div class="d-collective-access__user';return e.user.banned&&(i+=" d-collective-access__user_banned"),i+='">'+t.render({user:e.user,size:"L",showAvatar:!0,showName:!0,showLogin:!0,class:"typo"})+'<div class="d-collective-access__user-actions">'+s.render({size:"M",icon:"trash-narrow",type:"flat",class:"d-collective-access__user-ban"})+s.render({size:"M",icon:"plus-big",type:"flat",class:"d-collective-access__user-unban"})+"</div></div>"};return function(t){var i='<div class="d-collective-access__popup"><div class="popup__close d-collective-access__close">'+n.render({icon:"cross-small"})+'</div><div class="d-collective-access__title typo-h2_bold">'+__escape(i18n("d-collective-access","Совместный доступ"))+'</div><div class="d-collective-access__description typo-secondary">'+__escape(i18n("d-collective-access","Пригласите друзей, чтобы они могли добавлять треки в плейлист.")+" ")+__escape(i18n("d-collective-access","Добавлять треки смогут все, у кого есть ссылка."))+'</div><div class="d-collective-access__action">',r={size:"M",type:"action",text:i18n("d-collective-access","Скопировать"),class:"d-collective-access__link-copy"};if(i+=e.render({input:{size:"M",readonly:!0,class:"d-collective-access__link-input"},button:r,successText:i18n("d-collective-access","Ссылка скопирована"),errorText:i18n("d-collective-access","Не удалось скопировать ссылку")})+"</div>",t.playlist.authors&&t.playlist.authors.length){var l=t.playlist.authors.filter((function(t){return t.banned})).length===t.playlist.authors.length;i+=function(t){var e='<div class="d-collective-access__authors';t.bannedAll&&(e+=" d-collective-access__authors_banned"),e+='"><div class="d-collective-access__authors-title typo-h3">'+__escape(i18n("d-collective-access","Соавторы"))+a.render({text:i18n("d-collective-access","Удалить всех"),style:"marked",class:"d-collective-access__authors-all d-collective-access__authors-all_ban typo"})+a.render({text:i18n("d-collective-access","Восстановить всех"),style:"marked",class:"d-collective-access__authors-all d-collective-access__authors-all_unban typo"})+'</div><div class="d-collective-access__authors-content"><div class="d-collective-access__authors-users">';for(var i,r=0;r<t.authors.length;r++)i=t.authors[r],e+=o({user:i,style:""});return e+='</div><div class="d-collective-access__authors-extend"><div class="d-collective-access__authors-advice typo-secondary">'+__escape(i18n("d-collective-access","Если вы заметили, что плейлист меняют посторонние люди, создайте новую ссылку. Старая перестанет работать, так что не забудьте заново отправить приглашение тем друзьям, кто ещё не успел к вам присоединиться."))+'</div><div class="d-collective-access__authors-actions">'+s.render({size:"M",text:i18n("d-collective-access","Создать"),class:"d-collective-access__authors-regenerate"})+'<div class="d-collective-access__authors-message">'+n.render({icon:"checkmark_green"})+'<span class="d-collective-access__authors-message-text typo-success">'+__escape(i18n("d-collective-access","Ссылка обновлена"))+"</span></div></div></div></div></div>"}({authors:t.playlist.authors,bannedAll:l})}return i+="</div>"}}()},function(t,e,i,n){var a,s,o;Mu.blocks.register("d-emojis",((o=function(){Mu.eventize(this)}).init=function(){},o.emojiSupported=function(){var t=document.createElement("canvas");if(!t.getContext||!t.getContext("2d")||"function"!=typeof t.getContext("2d").fillText)return!1;var e=t.getContext("2d");return e.textBaseline="top",e.font="32px Arial",e.fillText("😃",0,0),0!==e.getImageData(16,16,1,1).data[0]||0!==e.getImageData(16,28,1,1).data[0]||0!==e.getImageData(28,16,1,1).data[0]},o.renderPopup=function(){var t,e=i(341);t=$(e({})).appendTo(document.body),a=new(Mu.blocks.get("popup"))(t.get(0),{toggable:!0}),t.on("mousedown",(function(t){s&&s.fieldFocused()&&t.preventDefault()})),t.delegate(".d-emojis__emoji","click",(function(t){s.onEmojiClick(t.currentTarget)}))},o.prototype.init=function(){var t=$(this.container),e=t.closest("."+this.data.wrapper);this.$cont=t,this.$field=e.find("."+this.data.field),this.$field.get(0)&&(o.emojiSupported()?(e.addClass(this.data.wrapper+"_can-emoji"),this.$button=this.$cont.find(".d-emojis__button"),this.$button.on("mousedown",function(t){this.fieldFocused()&&t.preventDefault(),this.popupOpened()&&t.stopPropagation()}.bind(this)),this.$button.on("click",function(){this.togglePopup()}.bind(this)),this.$field.on("mousedown",function(t){this.popupOpened()&&t.stopPropagation()}.bind(this)),this.$field.on("blur",(function(){a&&a.hide()}))):this.$cont.hide())},o.prototype.togglePopup=function(){a||o.renderPopup(),s===this?a.toggle():(s=this,a.options.position={my:this.data.position&&this.data.position.my||"right top",at:this.data.position&&this.data.position.at||"right bottom",of:this.$button},a.show()),a.isOpen&&this.$field.focus()},o.prototype.onEmojiClick=function(t){let e=this.$field.val();const i=this.$field.get(0),n=this.$field.attr("maxlength"),a=t.textContent;let s=Math.min(i.selectionStart,i.selectionEnd),o=Math.max(i.selectionStart,i.selectionEnd);e=e.slice(0,s)+a+e.slice(o),n&&e.length>n||(this.$field.val(e),s+=a.length,o=s,i.setSelectionRange(s,o))},o.prototype.popupOpened=function(){return a&&a.isOpen&&s===this},o.prototype.fieldFocused=function(){return this.$field.is(":focus")},o))},function(t,e,i,n){var a,s;t.exports=(a=i(342),s=function(t){return t.split(",").map((function(t){return"&#x"+t+";"})).join("")},function(t){for(var e,i='<div class="d-emojis__popup popup"><div class="d-emojis__popup-content-wrapper"><div class="d-emojis__popup-content">',n=0;n<a.length;n++){e=a[n],i+="<div>";for(var o,r=0;r<e.length;r++)o=e[r],i+='<span class="d-emojis__emoji">'+s(o)+"</span>";i+="</div>"}return i+="</div></div></div>"})},function(t,e,i,n){t.exports=[["1f3a4","1f3a7","1f3bc","1f3b5","1f3b6","1f3b9","1f941","1f3b7","1f3ba","1f3b8","1f3bb","1f3ae","1f4bf","1f4fb","1f4ef","1f918","1f3ac","1f3a5","1f6b2","1f697","26a1","1f483","1f57a","1f46f"],["1f60a","1f600","1f601","1f602","1f603","1f604","1f605","1f606","1f607","1f608","1f609","1f62f","1f610","1f611","1f615","1f620","1f62c","1f621","1f622","1f634","1f62e","1f623","1f624","1f625","1f626","1f627","1f628","1f629","1f630","1f61f","1f631","1f632","1f633","1f635","1f636","1f637","1f61e","1f612","1f60d","1f61b","1f61c","1f61d","1f60b","1f617","1f619","1f618","1f61a","1f60e","1f62d","1f60c","1f616","1f614","1f62a","1f60f","1f613","1f62b","1f64b","1f64c","1f64d","1f645","1f646","1f647","1f64e","1f64f","1f63a","1f63c","1f638","1f639","1f63b","1f63d","1f63f","1f63e","1f640","1f648","1f649","1f64a","1f4a9","1f476","1f466","1f467","1f468","1f469","1f474","1f475","1f48f","1f491","1f46a","1f46b","1f46c","1f46d","1f464","1f465","1f46e","1f477","1f481","1f482","1f470","1f478","1f385","1f47c","1f471","1f472","1f473","1f486","1f487","1f485","1f47b","1f479","1f47a","1f47d","1f47e","1f47f","1f480","1f4aa","1f440","1f442","1f443","1f463","1f444","1f445","1f48b","2764","1f499","1f49a","1f49b","1f49c","1f493","1f494","1f495","1f496","1f497","1f498","1f49d","1f49e","1f49f","1f44d","1f44e","1f44c","270a","270c","270b","1f44a","261d","1f446","1f447","1f448","1f449","1f44b","1f44f","1f450"],["1f530","1f484","1f45e","1f45f","1f451","1f452","1f3a9","1f393","1f453","231a","1f454","1f455","1f456","1f457","1f458","1f459","1f460","1f461","1f462","1f45a","1f45c","1f4bc","1f392","1f45d","1f45b","1f4b0","1f4b3","1f4b2","1f4b5","1f4b4","1f4b6","1f4b7","1f4b8","1f4b1","1f4b9","1f52b","1f52a","1f4a3","1f489","1f48a","1f6ac","1f514","1f515","1f6aa","1f52c","1f52d","1f52e","1f526","1f50b","1f50c","1f4dc","1f4d7","1f4d8","1f4d9","1f4da","1f4d4","1f4d2","1f4d1","1f4d3","1f4d5","1f4d6","1f4f0","1f4db","1f383","1f384","1f380","1f381","1f382","1f388","1f386","1f387","1f389","1f38a","1f38d","1f38f","1f38c","1f390","1f38b","1f38e","1f4f1","1f4f2","1f4df","260e","1f4de","1f4e0","1f4e6","2709","1f4e8","1f4e9","1f4ea","1f4eb","1f4ed","1f4ec","1f4ee","1f4e4","1f4e5","1f4e2","1f4e3","1f4e1","1f4ac","1f4ad","2712","270f","1f4dd","1f4cf","1f4d0","1f4cd","1f4cc","1f4ce","2702","1f4ba","1f4bb","1f4bd","1f4be","1f4c6","1f4c5","1f4c7","1f4cb","1f4c1","1f4c2","1f4c3","1f4c4","1f4ca","1f4c8","1f4c9","26fa","1f3a1","1f3a2","1f3a0","1f3aa","1f3a8","1f4f7","1f4f9","1f3a6","1f3ad","1f3ab","1f3b2","1f3b0","1f0cf","1f3b4","1f004","1f3af","1f4fa","1f4c0","1f4fc","303d"],["1f415","1f436","1f429","1f408","1f431","1f400","1f401","1f42d","1f439","1f422","1f407","1f430","1f413","1f414","1f423","1f424","1f425","1f426","1f40f","1f411","1f410","1f43a","1f403","1f402","1f404","1f42e","1f434","1f417","1f416","1f437","1f43d","1f438","1f40d","1f43c","1f427","1f418","1f428","1f412","1f435","1f406","1f42f","1f43b","1f42b","1f42a","1f40a","1f433","1f40b","1f41f","1f420","1f421","1f419","1f41a","1f42c","1f40c","1f41b","1f41c","1f41d","1f41e","1f432","1f409","1f43e","1f378","1f37a","1f37b","1f377","1f379","1f376","2615","1f375","1f37c","1f374","1f368","1f367","1f366","1f369","1f370","1f36a","1f36b","1f36c","1f36d","1f36e","1f36f","1f373","1f354","1f35f","1f35d","1f355","1f356","1f357","1f364","1f363","1f371","1f35e","1f35c","1f359","1f35a","1f35b","1f372","1f365","1f362","1f361","1f358","1f360","1f34c","1f34e","1f34f","1f34a","1f34b","1f344","1f345","1f346","1f347","1f348","1f349","1f350","1f351","1f352","1f353","1f34d","1f330","1f331","1f332","1f333","1f334","1f335","1f337","1f338","1f339","1f340","1f341","1f342","1f343","1f33a","1f33b","1f33c","1f33d","1f33e","1f33f","2600","1f308","26c5","2601","1f301","1f302","2614","1f4a7","1f300","2744","26c4","1f319","1f31e","1f31d","1f31a","1f31b","1f31c","1f311","1f312","1f313","1f314","1f315","1f316","1f317","1f318","1f391","1f304","1f305","1f307","1f306","1f303","1f30c","1f309","1f30a","1f30b","1f30e","1f30f","1f30d","1f310"],["1f3e0","1f3e1","1f3e2","1f3e3","1f3e4","1f3e5","1f3e6","1f3e7","1f3e8","1f3e9","1f3ea","1f3eb","26ea","26f2","1f3ec","1f3ef","1f3f0","1f3ed","1f5fb","1f5fc","1f5fd","1f5fe","1f5ff","2693","1f3ee","1f488","1f527","1f528","1f529","1f6bf","1f6c1","1f6c0","1f6bd","1f6be","1f3bd","1f3a3","1f3b1","1f3b3","26be","26f3","1f3be","26bd","1f3bf","1f3c0","1f3c1","1f3c2","1f3c3","1f3c4","1f3c6","1f3c7","1f40e","1f3c8","1f3c9","1f3ca","1f682","1f683","1f684","1f685","1f686","1f687","24c2","1f688","1f68a","1f68b","1f68c","1f68d","1f68e","1f68f","1f690","1f691","1f692","1f693","1f694","1f695","1f696","1f698","1f699","1f69a","1f69b","1f69c","1f69d","1f69e","1f69f","1f6a0","1f6a1","1f6a2","1f6a3","1f681","2708","1f6c2","1f6c3","1f6c4","1f6c5","26f5","1f6b3","1f6b4","1f6b5","1f6b7","1f6b8","1f689","1f680","1f6a4","1f6b6","26fd","1f17f","1f6a5","1f6a6","1f6a7","1f6a8","2668","1f48c","1f48d","1f48e","1f490","1f492","1f1ef,1f1f5","1f1fa,1f1f8","1f1eb,1f1f7","1f1e9,1f1ea","1f1ee,1f1f9","1f1ec,1f1e7","1f1ea,1f1f8","1f1f7,1f1fa","1f1e8,1f1f3","1f1f0,1f1f7"],["0031,20e3","0032,20e3","0033,20e3","0034,20e3","0035,20e3","0036,20e3","0037,20e3","0038,20e3","0039,20e3","0030,20e3","1f51f","0023,20e3","1f51d","1f519","1f51b","1f51c","1f51a","23f3","231b","23f0","2648","2649","264a","264b","264c","264d","264e","264f","2650","2651","2652","2653","26ce","1f531","1f52f","1f6bb","1f6ae","1f6af","1f6b0","1f6b1","1f170","1f171","1f18e","1f17e","1f4ae","1f4af","1f520","1f521","1f522","1f523","1f524","27bf","1f4f6","1f4f3","1f4f4","1f4f5","1f6b9","1f6ba","1f6bc","267f","267b","1f6ad","1f6a9","26a0","1f201","1f51e","26d4","1f192","1f197","1f195","1f198","1f199","1f193","1f196","1f19a","1f232","1f233","1f234","1f235","1f236","1f237","1f238","1f239","1f202","1f23a","1f250","1f251","3299","00ae","00a9","2122","1f21a","1f22f","3297","2b55","274c","274e","2139","1f6ab","2705","2714","1f517","2734","2733","2795","2796","2716","2797","1f4a0","1f4a1","1f4a4","1f4a2","1f525","1f4a5","1f4a8","1f4a6","1f4ab","1f55b","1f567","1f550","1f55c","1f551","1f55d","1f552","1f55e","1f553","1f55f","1f554","1f560","1f555","1f561","1f556","1f562","1f557","1f563","1f558","1f564","1f559","1f565","1f55a","1f566","2195","2b06","2197","27a1","2198","2b07","2199","2b05","2196","2194","2934","2935","23ea","23eb","23ec","23e9","25c0","25b6","1f53d","1f53c","2747","2728","1f534","1f535","26aa","26ab","1f533","1f532","2b50","1f31f","1f320","25ab","25aa","25fd","25fe","25fb","25fc","2b1c","2b1b","1f538","1f539","1f536","1f537","1f53a","1f53b","2754","2753","2755","2757","203c","2049","3030","27b0","2660","2665","2663","2666","1f194","1f511","21a9","1f191","1f50d","1f512","1f513","21aa","1f510","2611","1f518","1f50e","1f516","1f50f","1f503","1f500","1f501","1f502","1f504","1f4e7","1f505","1f506","1f507","1f508","1f509","1f50a"]]},function(t,e,i,n){Mu.blocks.register("d-event",function(){var t,e,n,a,s=!0,o=i(344),r=i(347),l=function(){};return l.init=function(i){t=i.get("dataSrc"),e=i.get("blocks"),n=i.get("auth"),a=i.get("popups"),this.domDelegate("click",".d-event__remove, .d-event__cancel",(function(){e.forElem(this,"d-event").remove()})),this.domDelegate("click",".d-event__wizard",(function(){a.toggle("wizard"),e.forElem(this,"d-event").remove()}))},l.prototype.getTrackContext=function(){var t,e,i=this.data,n=r.getEventTexts(i);switch(i.type){case"similar-tracks-from-history":case"last-week-personal-popular-tracks":case"never-heard-from-library":case"well-forgotten-old-tracks":case"new-tracks-in-liked-playlist":case"user-birthday":t=i.type+":"+i.id,e=i.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}}));break;case"genre-top":case"recommended-similar-genre":e=i.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}})),t=i.type+":"+(i.genre||i.similarGenre)+":"+i.id;break;case"social-popular-tracks":e=i.socialTracks.map((function(t){return{album:(t=t.track).albums&&t.albums[0],track:t}})),t=i.type+":"+i.id;break;case"spike-tracks":e=i.tracks.map((function(t){return{album:(t=t.track).albums&&t.albums[0],track:t}})),t=i.type+":"+i.id;break;case"promotion":e=i.promo.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}})),t=i.type+":"+i.promo.promoId+":"+i.id;break;case"new-tracks-of-favorite-genre":e=i.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}})),t=i.type+":"+i.genre+":"+i.id;break;default:if(i.tracks&&i.tracks.length){e=i.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}})),t=i.type+":recomended:"+i.id;break}return null}return{id:t,entries:e,shortTitle:n.shortTitle,title:n.title,href:"/"}},l.prototype.remove=function(){var e=this,i=e.data.id,a=e.data.type,r=$(e.container);n.isLoggedIn()&&i&&t.deleteEvent(i),r.effect("fade",{},300,(function(){if(s&&"notification"!==a){var t=$(o(e.data));r.replaceWith(t),s=!1}else r.remove()}))},l}()),i(348)},function(t,e,i,n){var a;t.exports=(a=i(345),function(t){return'<div class="d-event d-event_removed" data-b="'+__escape(Mu.dotBlockRoot(t,"d-event",!0))+'">'+a({})+'<div class="d-event__title typo-h3_regular">'+__escape(i18n("d-event","Мы учли ваше пожелание"))+'</div><div class="d-event__description">'+__escape(i18n("d-event","Чем больше музыки вы слушаете, тем точнее становятся рекомендации."))+"<br/>"+i18n("d-event","Используйте %1 на треках, альбомах, исполнителях или жанрах, чтобы мы делали рекомендации точнее и интереснее.",'<span class="d-icon d-icon_heart-full"></span>')+"</div></div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(108),n=i(346);return function(i){var a="",s=function(){var t="";return i.id&&"notification"!==i.type?t+=__escape(i18n("d-event","Удалить событие из ленты рекомендаций")):t+=__escape(i18n("d-event","Закрыть")),t}();i.isWhite=i.promo&&i.promo.background&&n(i.promo.background);var o=e.theme("white").classes(!0);return a+=t.render({type:"flat",icon:"cross-medium",class:i.isWhite?"d-event__remove "+o:"d-event__remove",attrs:{title:s}})}}()},function(t,e,i,n){t.exports=function(t){t=t.replace("#","");var e=parseInt(t,16);return 3===t.length?.2126*(e>>8&15)+.7152*(e>>4&15)+.0722*(e>>0&15)<8:.2126*(e>>16&255)+.7152*(e>>8&255)+.0722*(e>>0&255)<128}},function(t,e,i,n){var a=i(181);t.exports={limit:function(t){return"track"!==t&&("artist"===t?3:4)},getEventTexts:function(t){var e,i;switch((t=t||{}).type){case"genre-top":case"recommended-similar-genre":return"all"===(e=t.genre||t.similarGenre||"")?{shortTitle:i18n("d-event","Самые популярные треки"),title:i18n("d-event","Самые популярные треки за неделю")}:{shortTitle:i=a(e,!0),title:i18n("d-event","Самые популярные треки жанра %1 за неделю",i)};case"new-tracks-of-favorite-genre":return"all"===(e=t.genre||"")?{shortTitle:i18n("d-event","Новые треки"),title:i18n("d-event","Новые треки")}:(i=a(e,!0),{shortTitle:i18n("d-event","Новые треки в жанре %1",i),title:i18n("d-event","Новые треки в жанре %1",i)});case"promotion":return{shortTitle:t.promo&&t.promo.title||"",title:t.promo&&t.promo.title||""};case"social-popular-tracks":return{shortTitle:i18n("d-event","Музыка друзей"),title:i18n("d-event","Любимые треки ваших друзей")};case"spike-tracks":return{shortTitle:i18n("d-event","Популярные запросы"),title:i18n("d-event","Ответы на растущие популярные запросы к Яндексу")};case"similar-tracks-from-history":return{shortTitle:i18n("d-event","Рекомендованные треки"),title:i18n("d-event","Рекомендованные треки")};case"last-week-personal-popular-tracks":return{shortTitle:i18n("d-event","Ваш личный чарт за неделю"),title:i18n("d-event","Ваш личный чарт за неделю")};case"never-heard-from-library":return{shortTitle:i18n("d-event","Вы добавили в коллекцию, но не послушали"),title:i18n("d-event","Вы добавили в коллекцию, но не послушали")};case"well-forgotten-old-tracks":return{shortTitle:i18n("d-event","Хорошо забытое старое"),title:i18n("d-event","Хорошо забытое старое")};case"new-tracks-in-liked-playlist":return{shortTitle:i18n("d-event","Новые треки"),title:i18n("d-event","Новые треки")};case"user-birthday":return{shortTitle:i18n("d-event","День рождения"),title:i18n("d-event","День рождения")};default:return{shortTitle:i18n("d-event","Рекомендованные треки"),title:i18n("d-event","Рекомендованные треки")}}},isLayoutType:function(t){return["new-albums","new-playlists","new-albums-of-liked-label","new-albums-of-favorite-label","new-albums-of-favorite-genre","new-tracks-in-liked-playlist","new-tracks-of-favorite-genre","recommended-albums","recommended-similar-artists","recommended-similar-genre","recommended-tracks-by-artist-from-history","recommended-artists-with-artists-from-history","recommended-genre-radio","recommended-popular-artists","recommended-popular-albums","suggest-recommended-artists","user-birthday","recent-albums","similar-tracks-from-history","last-week-personal-popular-artists","last-week-personal-popular-tracks","never-heard-from-library","well-forgotten-old-tracks","well-forgotten-old-artists","social-popular-tracks","genre-top"].includes(t.type)||"shared-item"===t.type&&"playlist"===t.shareType},isPromotionType:function(t){return"promotion"===t.type},showEventPromo:function(t){return["track","album","artist","playlist"].includes(t.promo.promotionType)||"tracks-video"===t.promo.promotionType||"ad"===t.promo.promotionType},showEventEditorial:function(t){return["tracks","albums","albums-for-unknown-user","new-albums-for-features","artists","user","nothing"].includes(t.promo.promotionType)},isAlbumType:function(t){return["recommended-albums","recommended-popular-albums","new-albums","new-albums-of-favorite-genre","new-albums-of-favorite-label","new-albums-of-liked-label","recent-albums"].includes(t.type)},isArtistType:function(t){return["suggest-recommended-artists","well-forgotten-old-artists","recommended-popular-artists"].includes(t.type)},isTrackType:function(t){return["similar-tracks-from-history","recommended-tracks-by-artist-from-history","last-week-personal-popular-tracks","well-forgotten-old-tracks","new-tracks-of-favorite-genre","new-tracks-in-liked-playlist","user-birthday"].includes(t.type)},classEvent:function(t){return["track","album","artist","playlist"].includes(t.promo.promotionType)?"":"tracks-video"===t.promo.promotionType?"d-event_promo-tracks-video":"ad"===t.promo.promotionType?"d-event_promo-ad":void 0},getUserData:function(t){return Object.assign({name:t.name||t.text||""},t)}}},function(t,e,i,n){Mu.blocks.register("d-event__playlist",function(){var t,e,i,n=function(){};return n.init=function(n){t=n.get("blocks"),e=n.get("sidebars"),i=n.get("froms"),this.domDelegate("click",(function(e){var i=t.forElem(this);0===$(e.target).closest("a").length&&i.onClick(e)}))},n.prototype.onClick=function(){this.triggerEvent({type:"playlist.click"})},n.prototype.setSelected=function(t){$(this.container).toggleClass("d-event__playlist_selected",t)},n.prototype.openSidebar=function(){var t={},n=this.data;t.from=i.getCardFrom(this.container,"playlist"),t.owner=n.owner.login,t.kind=n.kind;var a=this.closestParent("d-event");a&&(t.eventId=a.data.id),e.show("playlist",t)},n}())},function(t,e,i,n){var a;Mu.blocks.register("d-generic-intro",((a=function(){}).prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",".d-generic-intro__button",this.onButtonClick.bind(this))},a.prototype.onButtonClick=function(t){t.preventDefault(),t.stopPropagation(),this.triggerEvent({type:"d-generic-intro.click"})},a))},function(t,e,i,n){var a;Mu.blocks.register("d-hover",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$share=this.$cont.find(".d-share-popup"),this.$like=this.$cont.find(".d-like"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$cont.closest(".album").size()&&(this.type="album"),this.$cont.closest(".artist").size()&&(this.type="artist"),this.$cont.closest(".playlist").size()&&(this.type="playlist"),this.$share.size()&&(this.delegate("share.popup-showed",this.show),this.delegate("share.popup-hided",this.hide)),this.delegate("force-auth-tooltip.showed",this.show),this.delegate("force-auth-tooltip.hided",this.hide)},a.prototype.show=function(){this.type&&this.$cont.closest("."+this.type).addClass(this.type+"_active")},a.prototype.hide=function(){this.type&&this.$cont.closest("."+this.type).removeClass(this.type+"_active")},a.prototype.getOwner=function(){return this.$cont.closest("."+this.type).get(0)},a))},function(t,e,i,n){const a=i(73),s=i(153),o=i(14),r=i(352),l=i(353);Mu.blocks.register("d-lang-switcher",function(){let t;const e=function(){};return e.init=function(e){t=e.get("pages")},e.prototype.init=function(){this.$cont=$(this.container),t.on("loaded",this.rerenderSelect.bind(this))},e.prototype.rerenderSelect=function(){const t=$(l({items:this.getLinksList()}));Mu.blocks.initPendingBlocks(t),this.$cont.find(".d-select").replaceWith(t),this.$select=this.$cont.find(".d-select"),this.select=Mu.blocks.forElem(this.$select[0])},e.prototype.getLinksList=function(){const{sk:t}=o(),e=encodeURIComponent(window.location.href)||"",i=[];return Object.keys(this.data).forEach(n=>{const o=`https://yandex.${r()}/portal/set/lang/`,l=a().lang!==n&&`${o}?intl=${n}&retpath=${e}&sk=${t}`;i.push({href:l,target:"_self",icon:s.render({lang:n,class:"d-lang-switcher__icon",size:"S"}),title:this.data[n],selected:a().lang===n})}),i},e.prototype.destroy=function(){t.off("loaded",this.rerenderSelect.bind(this))},e}())},function(t,e,i,n){t.exports=function(){if("undefined"==typeof window)return null;var t=/(\w+)$/.exec(window.location.hostname);return t?t[1]:null}},function(t,e,i,n){var a;t.exports=(a=i(354),function(t){return""+a.render({size:"S",type:"links",popupClass:"d-lang-switcher__popup",groups:[{items:t.items}]})})},function(t,e,i,n){var a={render:i(168)};clientSide&&(a.controller=i(174)),t.exports=a},function(t,e,i,n){var a=i(324),s=i(356),o=i(362),r=i(95);Mu.blocks.register("d-like",function(){var t,e,i,n,l,c,d,u,p=function(){Mu.eventize(this)};return p.init=function(a){t=a.get("auth"),i=a.get("blocks"),e=a.get("fav"),n=a.get("metrika"),l=a.get("froms"),c=a.get("pages"),d=a.get("sidebars"),u=a.get("seq"),this.domDelegate("click",(function(t){i.forElem(this,"d-like").onClick(t)}))},p.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon"),this.$button=this.$cont.find(".d-button"),this.blockName=l.getBlockName(this.data),this.cardFrom=l.getCardFrom(this.container,this.blockName),this.blockFrom=l.getBlockFrom(this.container,this.blockName),this.on("like",this.repaint.bind(this)),this.on("unlike",this.repaint.bind(this));var t,e,i,a,s=this.$cont.closest(".bar"),o=this.$cont.closest(".d-track"),r=this.$cont.closest(".d-header"),c=this.$cont.closest(".d-hover"),d=this.$cont.closest(".playlist"),u=this.$cont.closest(".d-suggest"),p=this.$cont.closest(".d-slider"),h=this.$cont.closest(".album"),_=this.$cont.closest(".d-context-menu__popup");o.length>0&&(t=Mu.blocks.forElem(o.get(0),"d-track")),c.length>0&&(e=Mu.blocks.forElem(c.get(0),"d-hover")),i=e?this.$cont:this.$button.length>0?this.$button:this.$icon,a=s.length>0?s:e?$(".popup-holder"):d.length>0&&0===p.length?d.parent():u.length>0||p.length>0||h.length>0?$("body"):this.$cont.parent(),this.tooltip=Mu.blocks.get("d-tooltip").getTooltip(i,{container:a,appendable:_.length>0,type:"notice",theme:"black",side:o.length>0||r.length>0?"left":"right",withMinWidth:!0,agreeLabel:i18n("log-in","Войти"),content:i18n("d-like","[feature/like-login-popup]Войдите, чтобы отмечать и сохранять понравившееся"),onShow:function(i,a){n.count({authPopupShown:{like:1}}),a.popup.position(),e&&e.show(),t&&t.setActive(!0)},onHide:function(){e&&e.hide(),t&&t.setActive(!1)},onAgree:function(){n.count({authPopupButtonClick:{like:1}}),this.authAction("like_popup")}.bind(this)})},p.prototype.setData=function(t){this.data=$.extend(this.data,t)},p.prototype.repaint=function(t){var i=!1,n=this.$cont.hasClass("d-like_on")!==e.isFavorite(this.data);if(n){if(void 0!==this.data.count&&(i=this.data.count,t&&void 0!==t.count?this.data.count=t.count:e.isFavorite(this.data)?this.data.count+=1:this.data.count-=1,i=this.data.count-i),n||i){var a=Object.assign({},this.data),o=$(s(a));$(this.container).replaceWith(o),this.container=o.get(0),this.$cont=$(this.container)}i&&"spin"===this.data.theme&&this.animateCount(i)}},p.prototype.animateCount=function(t){var e=0;this.data.count<0&&(this.data.count=0);var i=a(this.data.count-t," "),n=a(this.data.count," ");i.length>n.length||"0"===n&&t<0?e=-1:(i.length<n.length||"0"===i&&t>0)&&(e=1);for(var s="",r="",l="",c=Math.max(n.length,i.length)-1;c>=0;c--)i[c]!==n[c]?(n[c]&&(r=n[c]+r),i[c]&&(s=i[c]+s)):l=n[c]+l;var d=o({before:s,after:r,hard:l,delta:t,shift:e}),u=this.$cont.find(".d-like__digits-spin-container");u.html(d).css("top"),u.addClass(t>0?"d-like__digits-spin_up":"d-like__digits-spin_down"),this.$cont.addClass("d-like_blink"),this.data&&!this.data.showZero&&("0"===n?this.$cont.addClass("d-like_zero"):"0"===i&&this.$cont.removeClass("d-like_zero"))},p.prototype.onClick=function(){t.isLoggedIn()?this.data.entry&&this.data.entry.track?this.toggleTrack():this.toggle():this.tooltip?$(".d-tooltip").is(":visible")||this.tooltip.toggle():this.authAction()},p.prototype.authAction=function(e){t.showAuthForm((function(){}),e||"like")},p.prototype.toggleTrack=function(t){var e=this.data.entry.track;(t=void 0!==t?!!t:!u.isLiked(e))&&r.like(),u[t?"like":"unlike"](e,this.blockFrom,this.cardFrom),this._triggerEvent(t)},p.prototype._triggerEvent=function(t){this.trigger(t?"like":"unlike",this.data&&this.data.entry||this.data),this.triggerEvent({type:t?"like":"unlike",data:this.data&&this.data.entry||this.data});var e=!!t,i=!!this.$cont.closest(".sidebar").length;if(e&&i){var n="track"===d.current.name?"d-track":d.current.name,a={target:{container:$(c.current.container).find("."+n+"_selected")[0]}};c.current.onLike&&c.current.onLike(a)}},p.prototype.toggle=function(t){var i=Object.assign({from:this.blockFrom},this.data);void 0!==t?(t=!!t,e.isFavorite(i)!==t&&e.toggle(i)):t=e.toggle(i),t&&r.like(),n.goal(t?"LIKE":"REMOVE",{likeFrom:this.cardFrom}),i.artist&&!i.count&&n.count({likeArtist:1}),this._triggerEvent(t)},p.prototype.isFavorite=function(){return this.data.entry&&this.data.entry.track?u.isLiked(this.data.entry.track):e.isFavorite(Object.assign({from:this.blockFrom},this.data))},p}())},function(t,e,i,n){var a,s,o;t.exports=(a=i(357),s=i(361),o=i(321),function(t){var e='<span class="d-like'+__escape(a.class(t))+'" data-b="'+Mu.dotBlockRoot(t,"d-like")+'">';return o(t),e+=s(t)+"</span>"})},function(t,e,i,n){var a=i(358),s=i(359),o=i(360),r=i(231);t.exports={class:function(t){var e="",i=a(t),n=s(t);return i&&(e+=" d-like_on"),t.className&&(e+=" "+t.className),t.theme&&(e+=" d-like_theme-"+t.theme),"hover"===t.theme&&(e+=" local-icon-theme-black"),"spin"===t.theme&&("0"!==t.count||t.showZero||(e+=" d-like_zero"),t.buttonish&&(e+=" deco-buttonish-like"),i&&(e+=" active"),e+=" d-like_size_"+this.size(t),e+=" d-like_position_"+this.position(t)),"track"===t.theme&&t.buttonish&&(e+=" deco-track-like","chart"===t.type?e+=" d-like__track-hover":n&&(e+=" like__track-hover-hidden")),e},icon:function(t){return a(t)?"heart-full":"heart"},iconPale:function(t){return a(t)?"heart-full-colorless":"heart"},size:function(t){return t.size||("metatag"===t.theme?"L":"M")},count:function(t){return parseInt(t.count,10)||0},text:function(t){var e=a(t),i="";if("text_like"===t.theme)i=i18n("d-like","Нравится");else if("text_add"===t.theme)i=e?i18n("d-like","Добавлено"):i18n("d-like","Добавить");else if("metatag"===t.theme)i=e?i18n("d-like","Вы подписаны"):i18n("d-like","Подписаться");else if("subscribe-podcast"===t.theme)i=e?i18n("d-like","Вы подписаны"):i18n("d-like","[feature/subscribe-podcast]Подписаться на подкаст");else if("countAndSubscribe"===t.theme){var n=this.count(t)>0?o(this.count(t)," "):"";i=e?n:(n?n+"<span class='d-like__devider'>&bull;</span>":"")+i18n("d-like","Подписаться")}return i},tooltipText:function(t){var e=a(t);return e&&t.tooltip&&t.tooltip.removeText?t.tooltip.removeText:e?this.getLikedText(t):t.tooltip&&t.tooltip.addText?t.tooltip.addText:this.getDefaultText(t)},buttonTitleText:function(t){var e=a(t);return e&&t.buttonTitle&&t.buttonTitle.removeText?t.buttonTitle.removeText:e?this.getLikedText(t):t.buttonTitle&&t.buttonTitle.addText?t.buttonTitle.addText:this.getDefaultText(t)},getLikedText:function(t){var e=r("myMusic"),i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот трек, а ещё он добавлен в раздел «%1»",e);return t.entry&&t.entry.track&&"podcast-episode"===t.entry.track.type&&(i=i18n("d-like","[feature/podcast-collection]Вам нравится этот выпуск, а ещё он добавлен в раздел «%1»",e)),t.playlist&&(i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот плейлист, а ещё он добавлен в раздел «%1»",e)),t.album&&(i="podcast"===t.album.type?i18n("d-like","[feature/subscribe-to-podcast]Вы подписаны на этот подкаст, а ещё он добавлен в раздел «%1»",e):"audiobook"===t.album.type?i18n("d-like","[feature/mfront-3881]Вам нравится эта аудиокнига, а ещё она добавлена в раздел «%1»",e):"fairy-tale"===t.album.type?i18n("d-like","[feature/mfront-3881]Вам нравится эта сказка, а ещё она добавлена в раздел «%1»",e):i18n("d-like","[feature/my-music-new-name]Вам нравится этот альбом, а ещё он добавлен в раздел «%1»",e)),t.artist&&(i=i18n("d-like","[feature/my-music-new-name]Вам нравится этот исполнитель, а ещё он добавлен в раздел «%1»",e)),t.label&&(i=t.isPublisher?i18n("d-like","[feature/mfront-2906]Вам нравятся релизы издателя, и мы учитываем это в рекомендациях"):i18n("d-like","[feature/mfront-2906]Вам нравятся релизы лейбла, и мы учитываем это в рекомендациях")),i},getDefaultText:function(t){var e=r("myMusic"),i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте трек в раздел «%1»",e);return t.entry&&t.entry.track&&"podcast-episode"===t.entry.track.type&&(i=i18n("d-like","[feature/podcast-collection]Сделайте рекомендации точнее и добавьте выпуск в раздел «%1»",e)),t.playlist&&(i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте плейлист в раздел «%1»",e)),t.album&&(i="podcast"===t.album.type?i18n("d-like","[feature/subscribe-to-podcast]Подпишитесь на подкаст, чтобы сделать рекомендации точнее и узнавать о новых выпусках"):"audiobook"===t.album.type?i18n("d-like","[feature/mfront-3881]Сделайте рекомендации точнее и добавьте аудиокнигу в раздел «%1»",e):"fairy-tale"===t.album.type?i18n("d-like","[feature/mfront-3881]Сделайте рекомендации точнее и добавьте сказку в раздел «%1»",e):i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте альбом в раздел «%1»",e)),t.artist&&(i=i18n("d-like","[feature/my-music-new-name]Сделайте рекомендации точнее и добавьте исполнителя в раздел «%1»",e)),t.label&&(i=t.isPublisher?i18n("d-like","[feature/mfront-2906]Отметьте любимого издателя сердечком — так мы лучше поймём, что вам нравится"):i18n("d-like","[feature/mfront-2906]Отметьте любимый лейбл сердечком — так мы лучше поймём, что вам нравится")),i},position:function(t){return t.position||"left"},showCount:function(t){return t.showZero||!!this.count(t)}}},function(t,e,i,n){t.exports=function(t){var e="undefined"!=typeof Mu&&Mu.libraryData||{};return t.entry&&e.defaultLibrary?e.defaultLibrary[t.entry.track.id]>0:t.album&&e.albums?e.albums[t.album.id]>0:t.playlist&&t.playlist.owner&&e.playlists?e.playlists[t.playlist.owner.uid+":"+t.playlist.kind]>0:t.artist&&e.artists?e.artists[t.artist.id]>0:t.user&&e.users?e.users[t.user.uid]>0:t.genre&&e.genres?e.genres[t.genre.genre]>0:t.metatag&&e.metatags?e.metatags[t.metatag.id]>0:!(!t.label||!e.labels)&&e.labels[t.label.id]>0}},function(t,e,i,n){t.exports=function(t){var e="undefined"!=typeof Mu&&Mu.libraryData||{};return t.entry&&e.defaultLibrary?e.defaultLibrary[t.entry.track.id]<0:t.album&&e.albums?e.albums[t.album.id]<0:t.playlist&&t.playlist.owner&&e.playlists?e.playlists[t.playlist.owner.uid+":"+t.playlist.kind]<0:t.artist&&e.artists?e.artists[t.artist.id]<0:t.user&&e.users?e.users[t.user.uid]<0:t.genre&&e.genres?e.genres[t.genre.genre]<0:t.metatag&&e.metatags?e.metatags[t.metatag.id]<0:!(!t.label||!e.labels)&&e.labels[t.label.id]<0}},function(t,e,i,n){t.exports=i(324)},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(357),a=i(323),s=i(326);return function(i){var o="";return i.theme?"player"==i.theme?o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i),noDeco:!0}):"count"==i.theme||"countTransparent"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.count(i)>0?a(n.count(i)," "):null}):"countAndSubscribe"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.text(i)}):"countFlat"==i.theme?o+=t.render({rounded:!0,type:"flat",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)},text:n.count(i)>0?a(n.count(i)," "):"0"}):s(i.theme,"text")?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),text:n.text(i),attrs:{title:n.buttonTitleText(i)}}):"subscribe-podcast"===i.theme?o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-bright"})+"<span>"+n.text(i)+"</span>":"metatag"==i.theme?o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)}}):"flat"==i.theme||"hover"==i.theme?o+=t.render({rounded:!0,type:"flat",icon:n.icon(i),class:"hover"===i.theme?"deco-button-hover":"",size:n.size(i),attrs:{title:n.buttonTitleText(i)}}):"track"==i.theme?o+='<span class="d-like__icon-wrapper deco-track-like-icon-wrapper">'+e.render({type:"flat",icon:n.icon(i),class:"d-like__icon deco-buttonish-like-icon-bright",title:n.buttonTitleText(i),size:n.size(i)})+e.render({type:"flat",icon:n.iconPale(i),class:"d-like__icon deco-buttonish-like-icon-pale",title:n.buttonTitleText(i),size:n.size(i)})+"</span>":"spin"==i.theme&&("left"==n.position(i)&&(o+='<span class="d-like__icon-wrapper deco-buttonish-like-icon-wrapper">'+e.render({icon:n.icon(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-bright"})+e.render({icon:n.iconPale(i),title:n.buttonTitleText(i),class:"d-like__icon deco-buttonish-like-icon-pale"})+"</span>"),!n.count(i)&&i.emptyText&&(o+='<span class="d-like__empty-text">'+__escape(i.emptyText)+"</span>"),o+='<span class="d-like__digits-spin-container deco-buttonish-like-stylable"><span class="d-like__digits-spin-hard">',n.showCount(i)&&(o+=a(n.count(i),"&nbsp;")),o+="</span></span>","right"==n.position(i)&&(o+=e.render({icon:n.icon(i),title:n.buttonTitleText(i)}))):o+=t.render({rounded:!0,type:"transparent",icon:n.icon(i),size:n.size(i),attrs:{title:n.buttonTitleText(i)}}),o}}()},function(t,e,i,n){t.exports=function(t){for(var e="",i=0;i<t.hard.length;i++)a=t.hard[i],e+="<span>"+__escape(a)+"</span>";e+='<span class="d-like__digits-spin-before-container">';for(var n=0;n<t.before.length;n++)e+='<span class="d-like__digits-spin-before">'+(" "===(a=t.before[n])?"&nbsp;":a)+"</span>";e+="</span>";for(var a,s=0;s<t.after.length;s++)a=t.after[s],e+='<span class="'+__escape(t.delta>0?"d-like__digits-spin-after_top":"d-like__digits-spin-after_bottom")+'">'+(" "===a?"&nbsp;":a)+"</span>";return e}},function(t,e,i,n){var a;Mu.blocks.register("d-links",((a=function(){}).prototype.init=function(){this.$cont=$(this.container),this.$links=this.$cont.find(".d-links__popup"),this.$toggle=this.$cont.find(".d-links__toggle"),this.$toggleIcon=this.$toggle.find(".d-icon"),"buttonish"===this.data.type?this.position={my:"center top",at:"center bottom+1"}:this.position={my:"center top",at:"center bottom+12"},this.position.of=this.$toggle[0],this.linksPopup=new(Mu.blocks.get("popup"))(this.$links,{position:this.position,fade:!0,toggable:!0}),this.$toggle.on("click",this.showLinks.bind(this)),this.events()},a.prototype.showLinks=function(){this.linksPopup.toggle()},a.prototype.events=function(){this.opened=!1,this.$toggle.on("click",function(){this.opened||(this.opened=!0,this.data.muted&&this.$toggle.toggleClass("deco-link_translucent",!1),this.$toggle.toggleClass("deco-link_no-hover-color",!0),this.$toggleIcon.removeClass("d-icon_rotate-upside-down"))}.bind(this)),this.linksPopup.on("hide",function(){this.data.muted&&this.$toggle.toggleClass("deco-link_translucent",!0),this.$toggle.toggleClass("deco-link_no-hover-color",!1),this.$toggleIcon.addClass("d-icon_rotate-upside-down"),this.opened=!1}.bind(this))},a))},function(t,e,i,n){var a;Mu.blocks.register("d-more",((a=function(){Mu.eventize(this)}).init=function(){this.domDelegate("click",".d-button",(function(){var t=Mu.blocks.forElem($(this).closest(".d-more")[0]);if(t){var e=t.data.target||t.container;t.data.container?$(t.data.container).append(t.data.html):$(e).replaceWith(t.data.html),t.trigger("shown")}}))},a))},function(t,e,i,n){var a,s;Mu.blocks.register("d-no-ads",((s=function(){}).init=function(t){a=t.get("metrika")},s.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",this.onClick.bind(this))},s.prototype.onClick=function(t){t.preventDefault();var e=this.data.metrika;e&&a.count({advDisable:e})},s))},function(t,e,i,n){const a=i(247),s=i(248);Mu.blocks.register("d-overhead",function(){let t,e,i,n,o;let r,l=!1;const c=function(){};return c.init=function(a){t=a.get("pages"),e=a.get("metrika"),i=a.get("auth"),n=a.get("layout"),o=a.get("dataSrc")},c.prototype.init=function(){r=this,this.$cont=$(this.container),this.$content=$(".d-overhead__content"),this.toggle=this.toggle.bind(this),this.delegate("ads-block.show",()=>{l&&this.$cont.show(),e.count({advBanner:"show"})}),this.delegate("ads-block.no-ads",t=>{e.count({advBanner:"bigBlock"===t.blockType?"no-ads.100x250":"no-ads.100x90"}),this.$cont.slideUp(300,()=>{this.triggerEvent({type:"d-overhead.brickClosed"})})}),t.on("loading",t=>{this.canBeShown(t).then(this.toggle)})},c.prototype.toggle=function(t){t?this.showBrick():this.$cont.hide()},c.prototype.canBeShown=function(t){return i.user.premium||!a(t)||"pc"!==ya.music.info.platform.type||sessionStorage&&sessionStorage.getItem("overhead-adv_closed")?(l=!1,Promise.resolve(!1)):s.shouldHideBrick(o).then(t=>(l=!t,!t))},c.prototype.showBrick=function(){this.hasContent=!0},c.hideBrick=function(){r&&r.$cont.hide()},c}())},function(t,e,i,n){var a=["artist","album","label","track","users","playlist","genre","tag","home","post","search","metatag","radio","main","autoplaylist","kids","non-music"],s=i(40),o=i(156),r=i(368),l=globalThis.__Mu_appLinkUtility,c=i(369);Mu.blocks.register("d-overhead-mobile",function(){var t,e,i,n,d=function(){};return d.init=function(a){t=a.get("pages"),e=a.get("blocks"),i=a.get("auth"),n=a.get("metrika")},d.prototype.init=function(e){var i=this;i.$pageRoot=$(".page-root"),i.$cont=$(i.container),i.$content=$(".d-overhead-mobile__content"),i.$cont.on("click",i.$link,(function(){o.isRussiaRegion()||(i.sendMetrikaData("tap"),s.send({placement:"mobBrick"}))})),i.canBeShown(e)?i.showBrick():i.hideBlock(),t.on("loaded",i.onLoaded.bind(i)),t.on("loading",i.onLoading.bind(i)),t.on("unloading",i.onUnloading.bind(i))},d.prototype.onLoaded=function(t){var i=this;i.$link=i.$cont.find(".d-overhead-mobile__wrapper-link"),i.canBeShown(t)?(i.showBrick(),o.isRussiaRegion()||i.getLink(t)):i.hideBlock(),e.initPendingBlocks(i.$cont[0]),i.delegate("ads-block.show",i.adsShow.bind(i,t));var a=!1;i.delegate("ads-block.no-ads",(function(){n.count({advBanner:"no-ads.500x180"}),a||(a=!0,i.$cont.hide())}))},d.prototype.onUnloading=function(){this.undelegateAll()},d.prototype.adsShow=function(t){this.canBeShown(t)&&this.showBrick(),n.count({advBannerMini:"show"})},d.prototype.onLoading=function(t){this.canBeShown(t)?(this.showBrick(),o.isRussiaRegion()||this.sendMetrikaData("show")):this.hideBlock()},d.prototype.sendMetrikaData=function(t){var e=r.data.text,i=r.data.style,a={},s={},o={};o[t]=1,a[i]=o,s[e]=o;var l={mobbrick:{info:{bgColor:a,text:s}}};n.count(l)},d.prototype.canBeShown=function(t){var e=Mu.settings.uatraits&&(Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch);return!(i.user.premium||!a.includes(t.name)||!e||!l.hasAppStore())},d.prototype.showBrick=function(){var t=c();this.$pageRoot.addClass("page-root_mini-brick"),this.$cont.show(),this.$content.replaceWith(t);var e=this.$cont.find(".d-overhead-mobile__content").outerHeight(!0);$(".page-root_mini-brick").css("padding-top",e)},d.prototype.hideBlock=function(){$(".page-root_mini-brick").css("padding-top",0),this.$pageRoot.removeClass("page-root_mini-brick"),this.$cont.hide()},d.prototype.getLink=function(t){var e=l.getLink({contextName:t.name,blockName:"d-overhead-mobile"},Object.assign({channel:"mobBrick"},t.query));this.$link.attr("href",e)},d}())},function(t,e,i,n){var a=i(25),s=i(156);t.exports={randomStyle:function(){var t=[{logoTheme:"white",brickBg:"linear-gradient(to right, #ff7828, #ff1b75)",bgMetrika:"red",theme:"black"},{logoTheme:"white",brickBg:"#007aff",bgMetrika:"lightBlue",theme:"black"},{logoTheme:"black",brickBg:"#f6f8f9",bgMetrika:"grey",theme:"white"},{logoTheme:"white",brickBg:"#1a334a",bgMetrika:"darkBlue",theme:"black"}],e=t[a.random(0,t.length)];return this.data=this.data||{},this.data.style=e.bgMetrika,e},randomText:function(){var t=[{text:i18n("d-overhead-mobile","Ваши плейлисты, рекомендации и офлайн-режим - всё внутри!"),txtMetrika:"text1"},{text:i18n("d-overhead-mobile","Любимые треки на телефоне без интернета"),txtMetrika:"text2"},{text:i18n("d-overhead-mobile","Получайте рекомендации и слушайте без интернета"),txtMetrika:"text3"}],e=t[a.random(0,t.length)];return this.data=this.data||{},this.data.text=e.txtMetrika,e},advClass:function(){return s.isRussiaRegion()?" d-overhead-mobile__content_adv-fixed":""}}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(156),n=i(368);return function(i){var a="";if(e.isRussiaRegion())a+='<div class="d-overhead-mobile__content d-overhead-mobile__content_adv'+n.advClass()+'">'+Mu.render("ads-block",{type:"topblock",nohide:!0,settings:{order:50,enabled:!0,ru:{blocks:["R-A-324074-1"],adblocks:["R-A-324074-1"]},uk:{blocks:["R-A-324074-1"],adblocks:["R-A-324074-1"]}}})+"</div>";else{var s=n.randomStyle();a+='<div class="d-overhead-mobile__content d-overhead-mobile__content_app local-theme-'+s.theme+'" style="background: '+s.brickBg+'"><a class="d-overhead-mobile__wrapper-link" href=""></a><div class="d-overhead-mobile__logo"></div><div class="d-overhead-mobile__text typo-h2"> '+n.randomText().text+" </div>"+t.render({size:"M",text:i18n("d-overhead-mobile","загрузить"),class:"d-overhead-mobile__download typo-caps",rounded:!0,type:"half-transparent"})+"</div>"}return a}}()},function(t,e,i,n){var a,s,o,r,l,c;Mu.blocks.register("d-playlist-authors",(r=i(371),l=i(25),(c=function(){}).init=function(t){a=t.get("auth"),s=t.get("layout"),o=t.get("library"),this.domDelegate("click",(function(){Mu.blocks.forElem(this).show()}))},c.prototype.init=function(){var t;if(this.data.playlist.authors=(this.data.playlist.authors||[]).map((function(e,i){return e.subscribed=o.isFavorite({user:e}),a.isLoggedIn()&&a.user.uid==e.uid&&(e.me=!0,t=i),e})),t){var e=this.data.playlist.authors.splice(t,1);this.data.playlist.authors=e.concat(this.data.playlist.authors)}this.$window=$(window),this.$cont=$(this.container),this.onResize=l.throttle(300,!1,this.onResize.bind(this)),this.$window.on("resize",this.onResize),this.getPopup()},c.prototype.destroy=function(){this.$window.off("resize",this.onResize)},c.prototype.getPopup=function(){var t=this;return t.popup||(t.$popup=$(r(t.data)),t.$authors=t.$popup.find(".d-playlist-authors__authors"),$("body").append(t.$popup),Mu.blocks.initPendingBlocks(t.$popup),t.popup=new(Mu.blocks.get("popup"))(t.$popup,{modal:!0,resize:!0,persistent:!1,position:{my:"center",at:"center",of:window}}),t.popup.on("show",(function(){s.lockScroll(),t.onResize()})),t.popup.on("hide",(function(){s.unlockScroll()})),t.$popup.on("click",".popup__close",t.hide.bind(t))),t.popup},c.prototype.onResize=function(){if(this.popup&&this.popup.isOpen){this.$authors.css({maxHeight:"none"});var t=this.$window.height()-40-(this.$popup.outerHeight()-this.$authors.outerHeight());t>0?this.$authors.css({maxHeight:t+"px"}):this.$authors.css({maxHeight:this.$authors.css("minHeight")}),this.popup.position()}},c.prototype.show=function(){this.popup=this.popup||this.getPopup(),this.popup&&!this.popup.isOpen&&this.popup.show()},c.prototype.hide=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},c))},function(t,e,i,n){var a,s,o;t.exports=(a=i(226),s=i(141),i(151),i(143),o=function(t){var e='<div class="d-playlist-authors__user';return t.user.subscribed&&(e+=" d-playlist-authors__user_subscribed"),e+='">'+a.render({user:t.user,size:"L",showAvatar:!0,showName:!0,showLogin:!0,class:"typo"}),t.user.me||(e+='<div class="d-playlist-authors__user-actions"></div>'),e+="</div>"},function(t){var e='<div class="d-playlist-authors__popup"><div class="popup__close d-playlist-authors__close">'+s.render({icon:"cross-small"})+'</div><div class="d-playlist-authors__title typo-h2_bold">'+__escape(i18n("d-playlist-authors","Авторы плейлиста"))+"</div>",i=(t.playlist.authors||[]).filter((function(t){return!t.banned}));return i.length&&(e+=function(t){for(var e,i='<div class="d-playlist-authors__authors">',n=0;n<t.authors.length;n++)e=t.authors[n],i+=o({user:e,style:""});return i+="</div>"}({authors:[t.playlist.owner].concat(i)})),e+="</div>"})},function(t,e,i,n){Mu.blocks.register("d-search",function(){let t;const e=function(){Mu.eventize(this)};return e.init=function(t){Pages=t.get("pages")},e.prototype.init=function(){t=$(document),this.$headKidsControlls=t.find(".head-kids__controlls"),this.mediaQuery=window.matchMedia("(max-width: 960px)"),this.$cont=$(this.container),this.$searchButtonContainer=this.$cont.find(".d-search__button__container"),this.$suggest=this.$cont.find(".d-suggest"),this.suggest=Mu.blocks.forElem(this.$suggest.get(0),"d-suggest"),this.openSuggest=this.openSuggest.bind(this),this.closeSuggest=this.closeSuggest.bind(this),this.onOutsideSearchClick=this.onOutsideSearchClick.bind(this),this.closeSuggestOnBlur=this.closeSuggestOnBlur.bind(this),this.closeSuggestOnNavigate=this.closeSuggestOnNavigate.bind(this),this.mediaChangeHandler=this.mediaChangeHandler.bind(this),this.onPageLoaded=this.onPageLoaded.bind(this),this.onPageLoading=this.onPageLoading.bind(this),this.onResize=this.onResize.bind(this),this.isOpen=!1,this.$searchButtonContainer.on("click",this.openSuggest),this.suggest.input.on("blur",this.closeSuggestOnBlur),t.on("mousedown",this.onOutsideSearchClick),$(window).on("resize",this.onResize),this.delegate("search-navigate",this.closeSuggestOnNavigate),this.delegate("search-delete-history",this.closeSuggest),Pages.on("loaded",this.onPageLoaded),Pages.on("loading",this.onPageLoading)},e.prototype.mediaChangeHandler=function(t){t.matches&&!this.$headKidsControlls.hasClass("head-kids__controlls_collapsed")&&this.$headKidsControlls.addClass("head-kids__controlls_collapsed"),!t.matches&&this.$headKidsControlls.hasClass("head-kids__controlls_collapsed")&&this.$headKidsControlls.removeClass("head-kids__controlls_collapsed")},e.prototype.onPageLoaded=function(e){"search"===e.name&&(e.data.result.misspell.corrected?this.suggest.input.value(e.data.result.misspell.result):this.suggest.input.value(e.data.query.text),$(window).width()>960&&(this.$cont.removeClass("d-search_closed"),this.$cont.addClass("d-search_opened"),this.isOpen=!0,Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").addClass("search_opened")))},e.prototype.onPageLoading=function(t){"search"!==t.name&&this.closeSuggest()},e.prototype.openSuggest=function(){this.mediaQuery.matches&&this.$headKidsControlls.addClass("head-kids__controlls_collapsed"),Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").addClass("search_opened"),this.$cont.removeClass("d-search_closed"),this.$cont.addClass("d-search_opened"),this.isOpen=!0,this.suggest.input.focus(),this.suggest.onFocus(),this.mediaChangeHandler(this.mediaQuery),this.mediaQuery.addListener(this.mediaChangeHandler)},e.prototype.closeSuggest=function(){this.suggest.popup.$cont.slideUp(100,()=>{Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").removeClass("search_opened"),this.suggest.popup.hide(),this.$headKidsControlls.removeClass("head-kids__controlls_collapsed"),this.$cont.removeClass("d-search_opened"),this.$cont.addClass("d-search_closed"),this.isOpen=!1,this.mediaQuery.removeListener(this.mediaChangeHandler)})},e.prototype.closeSuggestPopup=function(){this.suggest.popup.$cont.slideUp(100,()=>{this.suggest.popup.hide(),this.$headKidsControlls.removeClass("head-kids__controlls_collapsed"),this.mediaQuery.removeListener(this.mediaChangeHandler)})},e.prototype.closeSuggestOnNavigate=function(t){(!this.suggest.input.value()||$(window).width()<=960)&&this.closeSuggest()},e.prototype.closeSuggestOnBlur=function(t){this.suggest.popup.isOpen||this.suggest.input.value()?0===$(t.target).closest(".d-input__field").length&&this.closeSuggestPopup():this.closeSuggest()},e.prototype.onOutsideSearchClick=function(t){0===$(t.target).closest(".d-search").length&&0===$(t.target).closest(".d-addition__popup").length&&(!this.suggest.input.value()||$(window).width()<=960)?this.closeSuggest():0===$(t.target).closest(".d-suggest__item").length&&$(window).width()>960&&this.closeSuggestPopup()},e.prototype.onResize=function(){$(window).width()<=960&&this.closeSuggest(),Mu.experiments.WebPromocodeMain&&this.isOpen?(t.find(".head-kids").addClass("station"),"none"==t.find(".promocode-link__text").css("display")||"hidden"==t.find(".promocode-link__text").css("visibility")?t.find(".icon__wrapper").css("pointer-events","auto"):t.find(".icon__wrapper").css("pointer-events","none")):t.find(".head-kids").removeClass("station")},e}())},function(t,e,i,n){Mu.blocks.register("d-station",function(){const t=function(){};return t.init=function(){this.domDelegate("click",(function(t){t.stopPropagation(),Mu.blocks.forElem(this).processClick(t)}))},t.prototype.init=function(){this.$cont=$(this.container),this.$playButton=this.$cont.find(".d-station__play .button-play"),this.setPlaying=this.setPlaying.bind(this),this.delegate("button-play.click",function(t){var e=this.data.item&&this.data.item.data.data.station.id;if(t.target.item.id.tag===e.tag){var i=Mu.blocks.forElem(this.container,"page-kids");i&&i.hiliteStation(e)}}.bind(this))},t.prototype.processClick=function(){this.$cont.find(".d-station__play .button-play").eq(0).click()},t.prototype.setPlaying=function(t){t?this.$cont.addClass("d-station_playing"):this.$cont.removeClass("d-station_playing");var e=this.$cont.find(".d-station__play .button-play")[0];Mu.blocks.forElem(e).setPlaying(t)},t}())},function(t,e,i,n){var a=i(25),s=i(103),o=i(375),r=i(404),l=i(250);Mu.blocks.register("d-suggest",function(){var t,e,i,n,c,d,u,p,h,_,m,g="suggest-history",f="deco-pane_show-hover-pressed",y="d-suggest-item__buttons",v="d-suggest__item",b=function(){Mu.eventize(this)};return b.init=function(a){t=a.get("pages"),e=a.get("dataSrc"),i=Mu.Storage.create("localStorage"),n=a.get("auth"),c=a.get("navigation"),d=a.get("hiliter"),u=a.get("metrika"),p=a.get("blocks").get("payment-popup-controller")},b.prototype.init=function(){var e=this;$(document),e.data=e.data||{},e.data.lastValue="",e.$cont=$(e.container),e.$input=e.$cont.find(".d-suggest__input"),e.$popup=e.$cont.find(".d-suggest__popup"),e.input=Mu.blocks.forElem(e.$input.get(0),"d-input"),e.popup=e.getPopup(),e.currentItem=-1,h=$.cookie("yandexuid"),e.showResults=e.showResults.bind(e),e.onLoading=e.onLoading.bind(e),e.onPageLoaded=e.onPageLoaded.bind(e),e.onFocus=e.onFocus.bind(e),e.onKeyUp=a.throttle(300,!1,e.onKeyUp.bind(e)),e.onKeyDown=e.onKeyDown.bind(e),e.onDisabledItemClick=e.onDisabledItemClick.bind(e),e.showAllResultsPage=e.showAllResultsPage.bind(e),e.onItemClick=e.onItemClick.bind(e),e.onSuggestButtonClick=e.onSuggestButtonClick.bind(e),e.chooseHistoryItem=e.chooseHistoryItem.bind(e),e.itemMouseEnter=e.itemMouseEnter.bind(e),e.itemMouseLeave=e.itemMouseLeave.bind(e),e.outsidePopupClick=e.outsidePopupClick.bind(e),e.recountLikes=e.recountLikes.bind(e),e.metrikaDataOnButton=e.metrikaDataOnButton.bind(e),e.$cont.on("click",".suggest-button",e.onSuggestButtonClick),e.$popup.on("click","."+v,e.onItemClick),e.$cont.on("mouseenter","."+v,e.itemMouseEnter),e.$cont.on("mouseleave","."+v,e.itemMouseLeave),e.$cont.on("click",".d-suggest__tooltip .d-link",(function(){p.show({from:"suggest"})})),e.$cont.on("click",".d-suggest__addition",(function(t){e.metrikaDataOnButton(t,"suggest_add")})),e.input.on("focus",e.onFocus),e.input.on("keyup",e.onKeyUp),e.input.on("keydown",e.onKeyDown),e.delegate("like",e.recountLikes),e.delegate("unlike",e.recountLikes),e.delegate("button-play.click",(function(t){e.setPlaying(t,"click")})),e.delegate("button-play.changed",(function(t){e.setPlaying(t,"changed")})),t.on("loading",e.onLoading),t.on("loaded",e.onPageLoaded)},b.prototype.setPlaying=function(t,e){var i,n=$(t.target.container).closest("."+v);n.hasClass("d-suggest__item_playing")?i="suggest_pause_button":(this.$allItemsArray.removeClass("d-suggest__item_playing"),n.addClass("d-suggest__item_playing"),i="suggest_play_button"),t.state||this.$allItemsArray.removeClass("d-suggest__item_playing"),"click"===e&&this.metrikaDataOnButton(t,i)},b.prototype.onLoading=function(t){this.close(),"search"!==t.name&&this.input.value("")},b.prototype.onPageLoaded=function(t){"search"===t.name&&(t.data.result.misspell.corrected?this.input.value(t.data.result.misspell.result):this.input.value(t.data.query.text))},b.prototype.onFocus=function(){this.currentItem=-1,this.showResults()},b.prototype.onSuggestButtonClick=function(t){this.showAllResultsPage();var e={url:"/search?text="+encodeURIComponent(this.input.value())};this.metrikaDataOnButton(t,"suggest_search_button",e)},b.prototype.onItemClick=function(t){var e=this.itemData(t),i={},n=$(t.target).attr("href")||"/search?text="+encodeURIComponent(e.$target.text());$(t.target).closest(".d-suggest__history").size()?(this.chooseHistoryItem(t.target),e.$target.closest(".d-suggest__delete-history").size()||(i.url=n),this.metrikaDataOnItem(t,i),m=0):$(t.target).closest("."+y).size()?$(t.target).closest(".button_disabled").size()&&this.onDisabledItemClick(t):(i.url=n,this.metrikaDataOnItem(t,i),m=0,this.triggerEvent({type:"search-navigate"}))},b.prototype.onDisabledItemClick=function(t){var e=this.itemData(t),i=n&&n.isLoggedIn(),a=r({type:e.type,isLoggedIn:i});if(e.entity.results[e.indexEntityItem][e.type]&&e.entity.results[e.indexEntityItem][e.type].availableForPremiumUsers||e.entity.results[e.indexEntityItem].availableForPremiumUsers){var s=$(t.target).closest(".d-suggest-item__play");Mu.blocks.get("d-tooltip").show(s,{content:a,container:this.$cont,type:"alert",event:"click",side:"bottom",fade:!0,wide:!0,theme:"black",class:"d-suggest__tooltip",onShow:function(){$(t.currentTarget).addClass(f)},onHide:function(){$(t.currentTarget).find("."+y).removeClass("d-suggest-item__buttons_visible"),$(t.currentTarget).removeClass(f)}})}},b.prototype.onKeyDown=function(t){switch(t.which){case 40:t.preventDefault(),this.move("down");break;case 38:t.preventDefault(),this.move("up")}},b.prototype.onKeyUp=function(t){if(40!==t.keyCode&&38!==t.keyCode)switch(t.which){case 13:if(-1===this.currentItem){var e={url:"/search?text="+encodeURIComponent(this.input.value())};this.metrikaDataOnEnter("suggest_enter_button",e),this.showAllResultsPage()}else this.itemPressEnter();this.close();break;default:m=m||(new Date).getTime(),this.currentItem=-1,this.$subtext&&this.$subtext.html("&#171;"+__escape(this.input.value())+"&#187;"),this.showResults()}},b.prototype.outsidePopupClick=function(t){0===$(t.target).closest(".d-suggest").length&&0===$(t.target).closest(".d-suggest__addition").length&&this.popup.isOpen&&this.close()},b.prototype.itemMouseLeave=function(t){$(t.toElement).closest(".d-suggest__tooltip").size()||($(t.currentTarget).removeClass(f),$(t.currentTarget).find("."+y).removeClass("d-suggest-item__buttons_visible"))},b.prototype.itemMouseEnter=function(t){var e=$(t.currentTarget);this.currentItem=this.$allItemsArray.index(e),this.$allItemsArray.removeClass(f),e.addClass(f),e.find("."+y).addClass("d-suggest-item__buttons_visible")},b.prototype.move=function(t){switch(!this.$allItemsArray[this.currentItem]||$(this.$allItemsArray[this.currentItem]).removeClass(f),t){case"up":this.currentItem=this.currentItem<=-1?this.$allItemsArray.length-1:this.currentItem-1;break;case"down":this.currentItem=this.currentItem===this.$allItemsArray.length-1?-1:this.currentItem+1}$(this.$allItemsArray[this.currentItem]).addClass(f),-1!==this.currentItem&&this.scrollPosition()},b.prototype.scrollPosition=function(){var t=$(this.$allItemsArray[this.currentItem]),e=t.position().top+t.outerHeight(),i=this.$popuEntity.scrollTop();e>this.$popup.height()?this.$popuEntity.stop().animate({scrollTop:i+e-this.$popup.height()}):0!==this.currentItem?t.position().top<0&&this.$popuEntity.stop().animate({scrollTop:i-$(t).outerHeight()-e}):this.$popuEntity.stop().animate({scrollTop:0})},b.prototype.showHistory=function(){this.data={},this.data.history=this.getUserHistory();var t=this.data.history.requests;t&&t.length>0?this.show(this.data):this.close()},b.prototype.showResults=function(){var t=this,e=t.input.value().trim();e?t.data&&e===t.data.lastValue&&t.data.entities&&t.data.entities.length>0?t.show():t.findDataByText(e).then((function(i){return t.data.lastValue=e,i&&"ok"===i.status&&i.entities&&i.entities.length>0?(t.data.entities=i.entities,t.show(t.data),t.metrikaDataOnShowResults()):(t.data.entities=[],t.close()),delete t.deferPending,null}),(function(){})).catch(t=>console.log(t)):(t.data.lastValue="",t.data={},t.deferPending&&t.deferPending.reject(),t.showHistory(),m=(new Date).getTime(),t.metrikaDataOnShowResults())},b.prototype.itemPressEnter=function(){var t,e,i,n=this.$allItemsArray[this.currentItem],a=this.input.value().trim(),s=a&&a.length;if(n){i=this.itemData(null,n);var o=$(i.$target).find(".d-suggest-item__wrapper-link");o.size()&&(t=$(o).attr("href"))}if(this.$history&&this.$history.size())return this.chooseHistoryItem(n),e={url:t=this.input.value()?"/search?text="+encodeURIComponent(this.input.value()):null,type:"history",delete_history:0},t||$.extend(e,{delete_history:"clean_history"}),void this.metrikaDataOnEnter("suggest_enter_button",e);if(!n||$(n).closest(".d-suggest__all-results").size()){t="/search?text="+encodeURIComponent(this.input.value());try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}}else if($(n).closest(".d-suggest__item_all-results").size()){t="/search?text="+encodeURIComponent(this.input.value())+"&type="+i.type+"s";try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}}else if(i.type)try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}e={url:t,query:a,query_length:s},this.metrikaDataOnEnter("suggest_enter_button",e)},b.prototype.chooseHistoryItem=function(t){var e=$(t).closest("."+v),i=e.text();if(e.hasClass("d-suggest__delete-history")||e.parent().hasClass("d-suggest__delete-history"))this.deleteHistory();else{this.input.value(i);try{c.navigateTo("/search?text="+encodeURIComponent(this.input.value()),!0),this.triggerEvent({type:"search-navigate"})}catch(t){}}this.close()},b.prototype.findDataByText=function(t){var i=(t||"").trim();this.deferPending&&this.deferPending.reject();var n=new s;this.deferPending=n;var a=window.location.pathname.startsWith("/search");return i?e.post("suggest",{text:i,from:a?"musicserp":"suggest"}).then(n.resolve,n.reject).catch(t=>console.log(t)):n.reject(),this.deferPending.promise().catch((function(t){throw t}))},b.prototype.showAllResultsPage=function(){this.close(),this.data.history||(this.data.history=this.getUserHistory()),this.input.value().trim()&&this.saveEnquiry();try{c.navigateTo("/search?text="+encodeURIComponent(this.input.value())),this.triggerEvent({type:"search-navigate"})}catch(t){}},b.prototype.getUserHistory=function(){try{_=JSON.parse(i.getItem(g))||[]}catch(t){_=[]}var t={};return _.forEach((function(e){return e.uid===n.user.uid&&e.yuid===h?t=e:null})),t},b.prototype.deleteHistory=function(){this.data.history=this.getUserHistory(),_.splice(_.indexOf(this.data.history),1),i.setItem(g,JSON.stringify(_)),this.triggerEvent({type:"search-delete-history"}),this.close()},b.prototype.saveEnquiry=function(){var t=this,e=t.data.history&&t.data.history.requests||[];if(!t.input.value().trim())return!1;e.forEach((function(i,n){i===t.input.value().trim()&&e.splice(n,1)})),e.length>=10&&e.pop(),e.unshift($.trim(t.input.value()));var a={uid:n.user.uid,yuid:h,requests:e};0===Object.keys(_).length?(Object.assign(_,a),i.setItem(g,JSON.stringify([a]))):(0===Object.keys(t.data.history).length&&(Object.assign(t.data.history,a),_.push(t.data.history)),i.setItem(g,JSON.stringify(_)))},b.prototype.recountLikes=function(t){var e=$(t.target.container).closest("."+v),i=t.data.count||0;i?e.find(".d-suggest-item__likes").removeClass("d-suggest-item__likes-none"):e.find(".d-suggest-item__likes").addClass("d-suggest-item__likes-none"),this.$like=e.find(".d-suggest-item__likes-number"),this.$like.text(l(i));var n="like"===t.type?"suggest_like":"suggest_unlike";this.metrikaDataOnButton(t,n)},b.prototype.getPopup=function(){return this.popup||(this.popup=new(Mu.blocks.get("popup"))(this.$popup,{resize:!0,persistent:!0,toggable:!1,fade:!1,position:{my:"left top",at:"left bottom-3",of:this.$input}}),this.popup.position()),this.popup},b.prototype.show=function(t){var e=this;if(t){var i=$(o(t));Mu.blocks.initPendingBlocks(i),e.popup.hide(),e.popup.$cont.find(".d-suggest__popup-content").replaceWith(i),e.$popuEntity=e.$cont.find(".d-suggest__entities"),e.$allItemsArray=e.$popup.find("."+v),e.$items=e.$popup.find(".d-suggest__items"),e.$history=e.$popup.find(".d-suggest__history"),e.$subtext=e.popup.$cont.find(".d-suggest__all-results__subtext")}e.$popup.slideDown(100,(function(){e.popup.show(),d.hiliteAll()})),e.$subtext.html("&#171;"+__escape(e.input.value())+"&#187;")},b.prototype.close=function(){var t=this;t.popup.$cont.slideUp(100,(function(){t.popup.hide()}))},b.prototype.itemData=function(t,e){var i={};return i.$target=e||$(t.target.container||t.target).closest("."+v),i.indexEntity=this.$items&&this.$items.index(i.$target.closest(".d-suggest__items")),i.indexAllItem=this.$allItemsArray&&this.$allItemsArray.index(i.$target.closest("."+v)),i.indexEntityItem=i.indexEntity&&$(".d-suggest__items:nth-child("+(i.indexEntity+2)+") ."+v).index(i.$target),i.entity=this.data.entities&&this.data.entities[i.indexEntity],i.type=i.entity&&i.entity.type,i},b.prototype.metrikaDataOnButton=function(t,e,i){var n=this.itemData(t)||null,a=n.$target.find(".d-suggest-item__wrapper-link").attr("href"),s={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:n.indexAllItem+1||null,type:n.type||null,type_click_position:n.indexEntityItem+1||null,url:a,time_from_first_symbol:((new Date).getTime()-m)/1e3};i&&$.extend(s,i),this.sendMetrika(e,s)},b.prototype.metrikaDataOnEnter=function(t,e){var i={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:this.currentItem+1,time_from_first_symbol:((new Date).getTime()-m)/1e3};e&&$.extend(i,e),this.sendMetrika(t,i)},b.prototype.metrikaDataOnItem=function(t,e){var i,n=this.itemData(t),a={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:n.indexAllItem+1,type_click_position:-1===n.indexEntityItem?n.indexAllItem+1:n.indexEntityItem+1,time_from_first_symbol:((new Date).getTime()-m)/1e3};if($(t.target).closest(".d-suggest__all-results").size()||$(t.target).closest(".d-suggest__item_all-results").size())n.$target.closest(".d-suggest__history").size()||(i="suggest_more",a.type=n.type||"all");else{var s=n.$target.closest(".d-suggest__delete-history").size();i="suggest_link",a.type=n.type||"history",a.delete_history=s?"clean_history":0}e&&$.extend(a,e),this.sendMetrika(i,a)},b.prototype.metrikaDataOnShowResults=function(){var t,e=0,i=0,n=0,a=0,s=0,o=0;if(this.data.entities||this.data.history){var r;if(this.data.entities)for(r=0;r<this.data.entities.length;r++)switch(t=this.data.entities[r].results.length,this.data.entities[r].type){case"artist":e=t;break;case"album":n=t;break;case"track":i=t;break;case"podcast":s=t;break;case"podcast-episode":a=t;break;case"playlist":o=t}var l={query:this.input.value().trim(),query_length:this.input.value().trim().length,time_from_first_symbol:m?((new Date).getTime()-m)/1e3:0,artists:Math.min(3,e),all_artists:e>3?1:0,albums:Math.min(3,n),all_albums:n>3?1:0,tracks:Math.min(3,i),all_tracks:i>3?1:0,podcasts:Math.min(3,s),all_podcasts:s>3?1:0,"podcast-episodes":Math.min(3,a),"all_podcast-episodes":a>3?1:0,playlists:Math.min(3,o),all_playlists:o>3?1:0,history_count:this.data.history&&this.data.history.requests?this.data.history.requests.length:0};this.sendMetrika("suggest_shown",l)}},b.prototype.sendMetrika=function(t,e){var i=e;t&&((i={})[t]=e),u.count({suggest:i})},b}())},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(151),s=i(221),o=i(376),r=i(394),l=i(400),c=i(401),d=i(403),function(t){var e='<div class="d-suggest__popup-content deco-popup-suggest-menu">'+s.render({});if(!t.entities&&t.history)e+=d(t.history);else if(t.entities.length){var i='<span class="d-suggest__all-results__wrapper">'+__escape(i18n("d-suggest","[feature/suggest-update]Все результаты по"))+'<span class="d-suggest__all-results__subtext typo"></span></span>';e+='<div class="d-suggest__entities">'+a.render({content:i,href:"/search?text="+encodeURIComponent(t.lastValue),arrow:!0,class:"d-suggest__all-results typo deco-popup-suggest-menu__border_top d-suggest__item d-suggest__item_low",noHoverColor:!0,style:"muted"});for(var n,u=0;u<t.entities.length;u++)"album"===(n=t.entities[u]).type||"podcast"===n.type?e+=o({results:n.results,text:t.lastValue,type:n.type}):"artist"===n.type?e+=r({results:n.results,text:t.lastValue}):"track"===n.type||"podcast-episode"===n.type?e+=l({results:n.results,text:t.lastValue,type:n.type}):"playlist"===n.type&&(e+=c({results:n.results,text:t.lastValue}));e+="</div>"}return e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(377),e=i(378),n=(i(151),i(141)),a=i(318),s=i(379),o=i(389),r=i(293);i(267);return function(i){var l="",c=t.isPodcast(i.type);l+='<div class="d-suggest__items ',l+=c?"d-suggest__items_type_podcast":"d-suggest__items_type_album",l+='"><div class="d-suggest-items__title typo-caps">'+(c?i18n("d-suggest","[feature/mfront-4181]Подкасты и книги"):i18n("d-suggest","Альбомы"))+"</div>";for(var d,u=0;u<i.results.slice(0,3).length;u++){d=i.results.slice(0,3)[u],l+='<div class="d-suggest__item ',l+=c?"d-suggest__item_podcast":"d-suggest__item-album",l+='" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/album/'+__escape(d.album.id)+'"></a>'+o.render({album:d.album,size:"L",class:"d-suggest-item__img-cover"})+'<div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+__escape(d.album.title)+"</div>";var p=(d.album.userNewReleases||[]).length;l+='<div class="d-suggest-item__title-secondary typo-small typo-suggest-item '+__escape(c&&p?"deco_with-marker":"deco-typo-secondary")+'">',c?t.isAvailableForBookmate(d.album)?l+='<span class="d-suggest-item__with-option">'+__escape(i18n("d-suggest","[feature/mfront-4656]С Плюсом и опцией Букмейт"))+"</span>":p?l+=__escape(r(d.album.userNewReleases.length,i18n("d-suggest","[feature/new-episodes-counter]%s новый выпуск|%s новых выпуска|%s новых выпусков"))):(l+='<span class="d-suggest-item__likes',d.likesCount||(l+=" d-suggest-item__likes-none"),l+='"> '+n.render({icon:"heart",rotate:!1})+' <span class="d-suggest-item__likes-number"> '+e(d.likesCount)+" </span> </span>"):l+=" "+d.album.artists.map(t=>t.name).join(", "),l+='</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+s.render({type:"album",item:d.album})+"</div>",t.isMobile()||(l+='<div class="d-suggest-item__buttons-optional">'+a.render({album:d.album,theme:"flat",size:"S"})+Mu.render("d-addition",{album:d.album,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),l+="</div></div>"}return l+="</div>"}}()},function(t,e,i,n){const{needsUserToBuyOption:a}=i(301);t.exports={albumId:function(t){return t.albumId?t.albumId:t.track.albums&&t.track.albums[0]&&t.track.albums[0].id},getEntry:function(t){var e=this.albumId(t);return{track:t.track,album:e?{id:e}:null}},isPodcast:function(t){return t.includes("podcast")},isAvailableForBookmate:function(t){return a(t)},isMobile:function(){var t={};try{t=ya.music.info.platform}catch(t){}if("pc"!==t.type&&("ios"===t.os||"android"===t.os||"windows"===t.os))return!0},album:function(t,e){if(t){if(!e)return t[0];for(var i,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i?void 0:t[0]}},popupClasses:function(t){return["d-suggest__popup deco-popup-suggest-menu","d-suggest__popup_size-"+t["popup-size"]].join(" ")}}},function(t,e,i,n){t.exports=i(77)},function(t,e,i,n){var a={render:i(380)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(381),function(t){return'<span class="d-button-play__wrap" data-b='+__escape(Mu.dotBlockRoot(t,"d-button-play__wrap",!0))+">"+a.render(t)+"</span>"})},function(t,e,i,n){var a={render:i(382)};clientSide&&(a.controller=i(388)),t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(383),s=i(386),o=i(387),function(t){var e="";return t.theme?"withText"===t.theme?e+=a(Object.assign({icon:"radio"===t.type?"radio":"pp",contentBlockName:"button2__content"},t)):"withControls"===t.theme?e+=s(t):"withoutButton"===t.theme&&(e+=o(t)):e+=a(Object.assign({icon:"pp",contentBlockName:"button__content"},t)),e})},function(t,e,i,n){var a;t.exports=(a=i(384),function(t){return'<button class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+">"+Mu.render(t.contentBlockName,{icon:t.icon,attrs:a.getAttributesString(t),text:t.text},t.size)+"</button>"})},function(t,e,i,n){var a=i(385);t.exports={getClass:function(t){var e=["button-play"],i=this.getAttributes(t).disabled;t.theme?"withText"===t.theme?(e.push("button2","button2_rounded"),i&&e.push("button2_disabled"),t.size&&e.push("button2_size_"+t.size),t.icon&&e.push("button2_w-icon")):"withControls"===t.theme?(e.push("page-moana__map-play"),t.class&&i&&e.push(t.class+"_disabled")):"withoutButton"===t.theme&&e.push("button-play_full"):(e.push("button","button_round","button_action"),i&&e.push("button_disabled"),t.size&&e.push("button_size_"+t.size),t.icon&&e.push("button_ico"),t.checked&&e.push("button_checked"));var n=i?"deco-yate-button_disabled":"local-icon-theme-white";return e.push(n),t.class&&e.push(t.class),t.type&&e.push("button-play__type_"+t.type),e.join(" ")},getAttributes:function(t){var e=Object.assign({"data-b":Mu.dotBlockRoot(t,"button-play",!0),"data-idx":this.getIndex(t)},t.attrs||{}),i=this.isDisabled(t);return e.disabled=i,e.disabled||delete e.disabled,e},getAttributesString:function(t){var e=this.getAttributes(t);return Object.keys(e).reduce((function(t,i){return t+" "+i+'="'+e[i]+'"'}),"")},getIndex:function(t){return"playlist"===t.type?t.item.owner.uid+":"+t.item.kind:"day"===t.type?t.item.day:"radio"===t.type&&t.item&&t.item.id&&t.item.id.tag&&t.item.id.type?`${t.item.id.type}:${t.item.id.tag}`:t.item.id},isDisabled:function(t){return t.attrs&&t.attrs.disabled?t.attrs.disabled:a(t)?"disabled":""}}},function(t,e,i,n){const a=i(120);t.exports=function(t){return"album"===t.type&&!t.item.available||"track"===t.type&&!t.item.available||"artist"===t.type&&t.item.counts&&!t.item.counts.tracks||"playlist"===t.type&&(!t.item.trackCount||!t.item.available)||!a.canUseMusicInRegion()}},function(t,e,i,n){var a;t.exports=(a=i(384),function(t){var e='<div class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+'><div class="button-play_pp';return t.class&&(e+=" "+__escape(t.class)+"_pp"),e+='"></div><div class="button-play_next',t.class&&(e+=" "+__escape(t.class)+"_next"),e+='"></div><div class="button-play_prev',t.class&&(e+=" "+__escape(t.class)+"_prev"),e+='"></div></div>'})},function(t,e,i,n){var a;t.exports=(a=i(384),function(t){return'<div class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+"></div>"})},function(t,e,i,n){const a=i(37),s=i(284),o=i(285);Mu.blocks.register("button-play",function(){var t,e,i,n,r,l,c,d,u,p,h={playlistOfTheDay:{metrikaName:"SmartPlaylistDaily_start",firstMetrikaName:"PlayPD"},recentTracks:{metrikaName:"SmartPlaylistPremiere_start",firstMetrikaName:"PlayPremeire"},neverHeard:{metrikaName:"SmartPlaylistDejavu_start",firstMetrikaName:"PlayDejaVu"},missedLikes:{metrikaName:"SmartPlaylistMissed_start",firstMetrikaName:"PlayStash"},summerTop:{metrikaName:"SmartPlaylistRewind_start",firstMetrikaName:"PlayRewind"},family:{metrikaName:"SmartPlaylistFamily_start",firstMetrikaName:"PlayFamily"}},_=function(){};return _.init=function(a){t=a.get("seq"),e=a.get("froms"),i=a.get("dataSrc"),n=a.get("metrika"),r=a.get("auth"),l=a.get("sidebars"),c=a.get("pages"),d=a.get("blocks").get("force-auth-tooltip"),u=a.get("adapter"),p=a.get("player"),this.domDelegate("click",(function(t){Mu.blocks.forElem(this,"button-play").onClick(t)})),this.onFmStreamError=this.onFmStreamError.bind(this),p.on(ya.music.Player.playerEvents.FM_STREAM_ERROR,this.onFmStreamError)},_.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon").eq(0),this.type=this.data.type,this.item=this.data.item,this.tooltipAnchorSelector=this.data.tooltipAnchorSelector,this.data.tracks&&(this.item.tracks=this.data.tracks),this.data.trackIds&&(this.item.trackIds=this.data.trackIds)},_.prototype.setPlaying=function(t){this.$cont.toggleClass("button-play_playing",t),this.triggerEvent({type:"button-play.changed",state:t})},_.prototype.setDisabled=function(t){var e=this.$cont.is(".button2")?"button2_disabled":"button_disabled";this.$cont.toggleClass(e,t),this.$cont.prop("disabled",t)},_.prototype.toggle=function(t){switch(this.type){case"track":this.toggleTrack(t);break;case"playlist":this.togglePlaylist(t);break;case"album":this.toggleAlbum(t);break;case"artist":this.toggleArtist(t);break;case"generated":this.toggleGeneratedPlaylist(t);break;case"radio":this.toggleRadio(t);break;case"generative":this.toggleGenerative();break;default:throw new Error("unknown play item")}},_.prototype.decideSendClickToPlay=function(){if("idle"===t.getState())return!0;const e=this.getPlayingContext();switch(this.type){case"track":const i=t.getCurrent()&&t.getCurrent().id;return this.item.id!==i;case"playlist":const{playlist:n}=e;return!(n&&n.kind===this.item.kind);case"album":const{album:a}=e;return!a||a.id!==this.item.id;case"artist":const{artist:s}=e;return!s||s.id!==this.item.id;case"radio":const{id:{type:o,tag:r}={}}=this.item,{id:{type:l,tag:c}={}}=e;return!(o===l&&r===c);default:return!1}},_.prototype.onClick=function(t){t&&t.stopPropagation&&t.stopPropagation();if(this.decideSendClickToPlay()&&(u.setFlagValue("playOnUserInteraction",!0),a.startMark("click-to-play")),!this.data.disableAuthTooltip){var e=$(this.tooltipAnchorSelector||t.currentTarget);d.setTarget(e)}this.triggerEvent({type:"button-play.click"}),this.sendEventToPage(),n.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play(),Mu&&Mu.newgtag&&Mu.newgtag.sendProductStream()}catch(t){}this.toggle(t&&t.data)},_.prototype.sendEventToPage=function(){var t=!u.isPlaying(),e=!!this.$cont.closest(".sidebar").length;if(t&&e){var i="track"===l.current.name?"d-track":l.current.name,n={target:{container:$(c.current.container).find("."+i+"_selected")[0]}};c.current.onPlay&&c.current.onPlay(n)}},_.prototype.toggleAlbum=function(e){var n=this,a=this.item,s=this.getPlayingContext(),o=s.album||{};"idle"===t.getState()||o.id!==a.id?(s=this.getAlbumContext(a,e),a.volumes?n.playAlbum(s,a):i.get("album",{album:a.id}).then((function(t){return n.playAlbum(s,t),null})).catch(t=>console.log(t))):!t.getAdvert()&&t.togglePause()},_.prototype.toggleArtist=function(e){var i=this.item,n=this.getPlayingContext(),a=n.artist||{};"idle"===t.getState()||a.id!==i.id?(n=this.getArtistContext(i,e),i.trackIds?this.playLightlist(n,i):t.playArtist(n,{artistId:i.id})):!t.getAdvert()&&t.togglePause()},_.prototype.togglePlaylist=function(e){var n=this,a=this.getPlayingContext(),s=this.item;const o=s.resumeFrom;var r=a.playlist||{owner:{}},l={owner:s.owner.login,kinds:s.kind,light:!0};if("idle"===t.getState()||r.owner.uid!==s.owner.uid||r.kind!==s.kind||r.modified!==s.modified){a=this.getPlaylistContext(s,e),n.sendAutoplaylistMetrika(this.item.generatedPlaylistType);var c=function(t,e){e=Object.assign(e,{resumeFrom:o}),n.playLightlist(t,e)||n.setDisabled(!0)};s.trackIds?c(a,s):i.get("playlist",l,{nocache:!0}).then((function(t){return c(a,t.playlist),null})).catch(t=>console.log(t))}else!t.getAdvert()&&t.togglePause()},_.prototype.toggleGeneratedPlaylist=function(e){var i=this.item,n=this.getPlayingContext(),a=n.generated||{};if("idle"===t.getState()||a.id!==i.id){n=this.getGeneratedPlaylistContext(i,e);var s=i.data.tracks;0!==s.length&&null!=s.length||this.setDisabled(!0),t.playTracks(n,s)}else!t.getAdvert()&&t.togglePause()},_.prototype.toggleRadio=function(e){var i=this.item,n=this.getPlayingContext(),a=n.id||{};a.type!==i.id.type||a.tag!==i.id.tag?(n=this.getRadioContext(i,e),this.startRadioLoadIndicator(),t.playNewRadio(n)):t.togglePause()},_.prototype.toggleGenerative=function(e){if(!(this.item&&this.item.id&&this.item.id.tag))return;const n=this.item.id.tag,a=t.getConfig(),s=this.item&&this.item.radioId,o=a&&a.radioId;if(s&&o&&o===s&&!e){if(t.isPlaying())return void t.pause();if(t.isPaused())return void t.play()}i.get("station-stream",{stationId:"generative:"+n},{nocache:!0}).then(i=>{if(i&&i.stream&&i.stream.url){const n={title:i.data.title,radioId:i.stream.id,from:"web-radio_page-radio-main",stream:{type:"generative",tag:this.item.id.tag}},a={url:i.stream.url,radioId:i.stream.id,type:"generative",title:i.data.title};if(this.item.radioId=i.stream.id,e&&e.hasBeenPaused)return;t.playFmStream(n,a,!0)}})},_.prototype.onFmStreamError=function(e,i){if(!(this.item&&this.item.id&&this.item.id.tag&&t.isGenerative()))return;const n=t.getConfig(),a=this.item&&this.item.radioId,s=n&&n.radioId;a&&s&&s===a&&this.toggleGenerative(i)},_.prototype.startRadioLoadIndicator=function(){this.stopRadioLoadIndicator(),this.data.rotatable&&(this.$icon.addClass("d-icon_rotate-animation"),this._onFlowChangeForRadio=function(){this.stopRadioLoadIndicator()}.bind(this),this._onTimeoutForRadio=window.setTimeout(function(){this.stopRadioLoadIndicator()}.bind(this),5e3),t.on(Mu.PlayFlow.EVENT_CHANGE,this._onFlowChangeForRadio))},_.prototype.stopRadioLoadIndicator=function(){this._onFlowChangeForRadio&&(t.off(Mu.PlayFlow.EVENT_CHANGE,this._onFlowChangeForRadio),delete this._onFlowChangeForRadio),this._onTimeoutForRadio&&(window.clearTimeout(this._onTimeoutForRadio),delete this._onTimeoutForRadio),this.$icon.removeClass("d-icon_rotate-animation")},_.prototype.getAutoplaylistType=function(){var t=l.current&&l.current.data&&l.current.data.playlist&&l.current.data.playlist.generatedPlaylistType,e=c.current&&c.current.data&&c.current.data.playlist&&c.current.data.playlist.generatedPlaylistType;return this.item.generatedPlaylistType||t||e},_.prototype.isAutoplaylist=function(){var t=this.item;return this.getAutoplaylistType()&&(!t.madeFor||t.madeFor.userInfo&&r.user.uid==t.madeFor.userInfo.uid)},_.prototype.everPlayedAutoplaylist=function(){return l.current&&l.current.data&&l.current.data.playlist&&l.current.data.playlist.generatedPlaylistType?l.current.data.playlist.everPlayed:c.current&&c.current.data&&c.current.data.playlist&&c.current.data.playlist.generatedPlaylistType?c.current.data.playlist.everPlayed:this.item.everPlayed},_.prototype.sendAutoplaylistMetrika=function(t){if(r.user.uid&&this.isAutoplaylist()){var e=h[t];if(e&&(n.goal(e.metrikaName),!e.everPlayed&&!this.everPlayedAutoplaylist())){e.everPlayed=!0;var i=e.firstMetrikaName;if(i){n.goal(i);try{Mu&&Mu.gtag&&Mu.gtag[i]()}catch(t){}}}}},_.prototype.toggleTrack=function(e){var i=this.item;if(!i.error){var n={track:i,album:this.getAlbum()};if(t.isCurrent(n))!t.getAdvert()&&t.togglePause();else{var a=this.getTrackContext(n,e),o=-1,r=a.entries||a._entries;if(this.sendAutoplaylistMetrika(this.getAutoplaylistType()),s(i.type,"",t),Array.isArray(r))for(const[t,e]of r.entries())if(e.track&&e.track.id===i.id){o=t;break}a.artist&&!a.lazy?t.playArtist(a,{artistId:a.artist.id,entries:r},o):t.playTracks(a,r,o)}}},_.prototype.getTrackContext=function(t,e){var i=t.track,n=i.title,a=this.getAlbum(),s=null;try{s=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return s=s||{id:"track:"+i.id+(a&&a.id?":"+a.id:""),entries:[t],shortTitle:n,title:i18n("button-play","Трек «%1»",n),href:"/album/"+(a&&a.id)+"/track/"+i.id},s=this.fixContext(s,e)},_.prototype.getPlaylistContext=function(t,e){var i=t.title,n=null;try{n=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return n={id:"playlist:"+t.owner.login+":"+t.kind,shortTitle:n&&n.shortTitle||i,title:n&&n.title||i18n("button-play","Плейлист «%1»",i),href:n&&n.href||"/users/"+t.owner.login+"/playlists/"+t.kind,playlist:n&&n.playlist||t,from:n&&n.from,eventId:n&&n.eventId,blockId:n&&n.blockId,entityId:n&&n.entityId},n=this.fixContext(n,e)},_.prototype.getArtistContext=function(t,e){var i=null;try{i=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return i={id:"artist:"+t.id,shortTitle:t.name,title:i18n("button-play","Популярные треки исполнителя %1",t.name),href:"/artist/"+t.id,artist:t,from:i&&i.from,eventId:i&&i.eventId},i=this.fixContext(i,e)},_.prototype.getAlbumContext=function(t,e){var i=null;try{i=this.triggerEvent({type:"button-play.getContext"})}catch(t){}return i={id:"album:"+t.id,shortTitle:t.title,title:i18n("button-play","Альбом «%1»",t.title),href:"/album/"+t.id,album:t,from:i&&i.from,eventId:i&&i.eventId},i=this.fixContext(i,e)},_.prototype.getGeneratedPlaylistContext=function(t,e){var i={id:"generated:"+t.id,shortTitle:t.data.title,title:t.data.title,href:"/home",generated:t.data};return i=this.fixContext(i,e)},_.prototype.getRadioContext=function(t,i){var n={id:t.id,from:e.getRadioFrom(t.id)};return n=this.fixContext(n,i)},_.prototype.fixContext=function(t,i={}){const n=t||{};var a=this.data.fromName||this.data.type;if(n.from=i.from||n.from||e.getBlockFrom(this.container,a),i.eventId)n.eventId=i.eventId;else{var s=this.closestParent("event");s&&(n.eventId=s.data.id)}return n},_.prototype.getPlayingContext=function(){return t.context||{}},_.prototype.getAlbum=function(){var t=this.data.item,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},_.prototype.playLightlist=function(e,i){if(!i.trackIds||!i.tracks)return!1;var n=i.tracks,a=i.trackIds;Array.isArray(a)||(a=[a]);var s=a.map((function(t,e){return n[e]?n[e]:t.toString()})).filter((function(t){return t&&!t.error}));if(0===s.length||null==s.length)return!1;let r;const{resumeFrom:l}=i;if(l){const e=i.tracks,n=e[0];o(l,e,n,t,t=>r=t)}return t.playTracks(e,s,r),!0},_.prototype.playAlbum=function(e,i){var n="podcast"===i.type&&"asc"===i.dir,a=Array.prototype.concat.apply([],i.volumes);let r=n?a.length-1:null;const{resumeFrom:l}=i,c=a[r||0];s(i.type,i.genre,t),o(l,a,c,t,t=>r=t),t.playTracks(e,a,r)},_.prototype.destroy=function(){p.off(ya.music.Player.playerEvents.FM_STREAM_ERROR,this.onFmStreamError)},_}())},function(t,e,i,n){var a={render:i(390)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(391),s={album:i(392),track:i(393)},function(t){var e="",i=a.entityType(t);return e+='<div class="entity-cover '+__escape(a.classes(t))+'">'+s[i](t),t.shouldShowBookmateBadge&&(e+=' <div class="entity-cover__bookmate-badge"></div>'),e+="</div>"})},function(t,e,i,n){var a=i(72),s={L:40,Large:50,Huge:200,Giant:260},o={album:"Huge",track:"Large"};t.exports={classes:function(t){var e=["deco-entity-image-placeholder"];return t.class&&e.push(t.class),this.coverUri(t)||e.push("entity-cover_no-cover"),e.push("entity-cover_size_"+this.getSize(t)),e.join(" ")},entityType:function(t){return t.playlist?"playlist":t.album?"album":"track"},coverUri:function(t){var e=t[this.entityType(t)]||{};return e.coverUri||e.cover},trackAlbum:function(t){var e=parseInt(t.track.albumId,10),i=t.track.albums||[];return i.find((function(t){return t.id===e}))||i&&i[0]},trackAlbumCover:function(t){var e=this.trackAlbum(t);return e&&(e.coverUri||e.cover)},isLink:function(t){var e;return!!this.entityType("track")&&(e=this.trackAlbum(t),"player"===t.type&&e&&e.id)},getSize:function(t){var e=this.entityType(t);return t.size||o[e]},imgUrl:function(t,e){var i=s[this.getSize(t)];return e&&(i*=2),a(this.coverUri(t),i)}}},function(t,e,i,n){var a;t.exports=(a=i(391),function(t){var e="";return a.coverUri(t)?e+='<img class="entity-cover__image deco-pane" src="'+__escape(a.imgUrl(t))+'" srcset="'+__escape(a.imgUrl(t))+", "+__escape(a.imgUrl(t,!0))+' 2x"/>':e+='<img class="entity-cover__image entity-cover__image_no-cover" src="/blocks/entity-cover/album_no-cover.svg"/>',e})},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(391),o=i(392),function(t){var e="",i=s.trackAlbum(t),n=function(){var e="";return s.coverUri(t)?e+='<img class="entity-cover__image deco-pane" src="'+__escape(s.imgUrl(t))+'" srcset="'+__escape(s.imgUrl(t))+", "+__escape(s.imgUrl(t,!0))+' 2x"/>':s.trackAlbumCover(t)?e+=o(Object.assign({album:i},t)):e+='<img class="entity-cover__image entity-cover__image_no-cover" src="/blocks/entity-cover/track_no-cover.svg"/>',e}();return s.isLink(t)?e+=a.render({href:"/album/"+i.id,title:i18n("entity-cover","[feature/entity-placeholders]Из альбома «%1»",i.title),content:n}):e+=n,e})},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(377),i(378),s=i(395),i(151),o=i(318),r=i(397),l=i(381),function(t){for(var e,i='<div class="d-suggest__items d-suggest__items_type_artist"><div class="d-suggest-items__title typo-caps">'+i18n("d-suggest","Исполнители")+"</div>",n=0;n<t.results.slice(0,3).length;n++){e=t.results.slice(0,3)[n],i+='<div class="d-suggest__item d-suggest__item-artist" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/artist/'+__escape(e.artist.id)+'"></a><span class="d-suggest-item__img-cover">';var c=""+r.render({artist:e.artist});i+=s.render({content:c,class:"d-suggest-item__img-cover-artist"})+'</span><div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+e.artist.name+'</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+l.render({type:"artist",item:e.artist})+"</div>",a.isMobile()||(i+='<div class="d-suggest-item__buttons-optional">'+o.render({artist:e.artist,theme:"flat",count:e.artist.likesCount,size:"S"})+"</div>"),i+="</div></div>"}return i+="</div>"})},function(t,e,i,n){var a={render:i(396)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e="",i=t.class?t.class:"";return e+='<div class="d-cover__wrapper '+__escape(i)+'">'+t.content+"</div>"}},function(t,e,i,n){var a={render:i(398)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(399),function(t){var e="",i=function(){var e='<div class="artist-pics__pic-wrapper deco-entity-image-placeholder">';return s.isEmpty(t)?e+='<img src="/blocks/artist-pics/placeholder-artist.svg" class="artist-pics__pic artist-pics__pic_empty" />':e+='<img src="'+__escape(s.imgUrl(t))+'" srcset="'+__escape(s.imgUrl(t))+", "+__escape(s.imgUrl(t,!0))+' 2x" class="artist-pics__pic" />',e+="</div>"}();e+='<div class="artist-pics '+__escape(s.classes(t))+'">';var n=s.yandexPicsUrl(t);if(s.isYandex(t)){e+=a.render({content:i,href:n,target:"_blank",class:"artist-pics__pic-wrapper"});var o="&#169; "+i18n("artist-pics","[feature/mfront-4200]Яндекс Картинки");e+=a.render({content:o,href:n,target:"_blank",style:"muted",class:"artist-pics__desc"})}else e+=i;return e+="</div>"})},function(t,e,i,n){var a=i(72),s={L:40,Giant:200};t.exports={classes:function(t){var e=[];return t.class&&e.push(t.class),e.push("artist-pics_size_"+this.getSize(t)),e.push("artist-pics_type_"+this.getType(t)),e.join(" ")},isEmpty:function(t){return!this.isYandex(t)&&!this.getUri(t)},isYandex:function(t){return t.pics&&t.pics.items&&t.pics.items.length>2},imgUrl:function(t,e){var i,n=s[this.getSize(t)];return e&&(n*=2),i="&n=3&w="+n+"&h="+n+"&q=100",this.isYandex(t)?t.pics.items[0].thumb+i:a(this.getUri(t),n)},getCover:function(t){return t&&t.artist&&t.artist.cover||{}},getUri:function(t){var e=this.getCover(t);return t.ignoreCoverType!==e.type&&e.uri},getSize:function(t){return t.size||"L"},yandexPicsUrl:function(t){return this.isYandex(t)&&"//yandex.ru/images/search"+t.pics.query},getType:function(t){var e=this.getCover(t);return this.isEmpty(t)?"empty":this.isYandex(t)?"yandex":e.type||""}}},function(t,e,i,n){t.exports=function(){var t=i(377),e=(i(151),i(318)),n=i(379),a=i(389);i(267),i(267);return function(i){var s="",o=t.isPodcast(i.type);s+='<div class="d-suggest__items ',s+=o?" d-suggest__items_type_podcast-track ":"d-suggest__items_type_track",s+='"><div class="d-suggest-items__title typo-caps">'+(o?i18n("d-suggest","[feature/podcasts-in-suggest]Выпуски подкастов"):i18n("d-suggest","Треки"))+"</div>";for(var r,l=0;l<i.results.slice(0,3).length;l++)r=i.results.slice(0,3)[l],s+='<div class="d-suggest__item ',s+=o?" d-suggest__item-podcast-track ":"d-suggest__item-track",s+='" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/track/'+__escape(r.track.id)+'"></a>'+a.render({track:r.track,size:"L",class:"d-suggest-item__img-cover"})+'<div class="d-suggest-item__title typo typo-suggest-item ',o&&!t.isAvailableForBookmate(r.track)&&(s+="fixed-max-width"),s+='"><div class="d-suggest-item__title-main ',o&&!t.isAvailableForBookmate(r.track)&&(s+="line-clamp"),s+='">'+r.track.title+'</div><div class="d-suggest-item__title-secondary deco-typo-secondary typo-small typo-suggest-item"> ',o?t.isAvailableForBookmate(r.track)&&(s+='<span class="d-suggest-item__with-option">'+__escape(i18n("d-suggest","[feature/mfront-4656]С Плюсом и опцией Букмейт"))+"</span>"):s+=" "+r.track.artists.map(t=>t.name).join(", ")+" ",s+='</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons ',o&&!t.isAvailableForBookmate(r.track)&&(s+="use-space"),s+='"><div class="d-suggest-item__play d-suggest-item__play__hover">'+n.render({type:"track",item:r.track})+"</div>",t.isMobile()||(s+='<div class="d-suggest-item__buttons-optional">'+e.render({entry:t.getEntry(r),theme:"flat",size:"S"})+Mu.render("d-addition",{entry:r,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),s+="</div></div>";return s+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(377),s=i(378),i(402),i(151),o=i(141),r=i(318),l=i(381),function(t){var e="";e+='<div class="d-suggest__items d-suggest__items_type_playlist"><div class="d-suggest-items__title typo-caps">'+i18n("d-suggest","Плейлисты")+"</div>";for(var i,n=0;n<t.results.slice(0,3).length;n++)i=t.results.slice(0,3)[n],e+='<div class="d-suggest__item d-suggest__item-playlist" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/users/'+__escape(i.playlist.owner.login)+"/playlists/"+__escape(i.playlist.kind)+'"></a><span class="d-suggest-item__img-cover deco-link">',i.playlist.cover.type&&"pic"==i.playlist.cover.type?e+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.playlist.cover.uri}},["",40,!0]):i.playlist.cover.type&&"mosaic"==i.playlist.cover.type?e+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.playlist.cover.itemsUri[0]}},["",40,!0]):e+=Mu.render("playlist-cover__empty",i.playlist,["",40,!0]),e+='</span><div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+i.playlist.title+'</div><div class="d-suggest-item__title-secondary deco-typo-secondary typo-small typo-suggest-item"><span class="d-suggest-item__likes',i.playlist.likesCount||(e+=" d-suggest-item__likes-none"),e+='">'+o.render({icon:"heart",rotate:!1})+'<span class="d-suggest-item__likes-number">'+s(i.playlist.likesCount)+'</span></span></div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+l.render({type:"playlist",item:i.playlist})+"</div>",a.isMobile()||(e+='<div class="d-suggest-item__buttons-optional">'+r.render({playlist:i.playlist,theme:"flat",count:i.playlist.likesCount,size:"S"})+Mu.render("d-addition",{playlist:i.playlist,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),e+="</div></div>";return e+="</div>"})},function(t,e,i,n){t.exports=i(72)},function(t,e,i,n){t.exports=function(){var t=i(151);i(141);return function(e){var i='<div class="d-suggest__history">';if(e.requests){for(var n,a=0;a<e.requests.length;a++)n=e.requests[a],i+='<div class="d-suggest__item typo-suggest-item">'+__escape(n)+"</div>";i+=t.render({text:i18n("d-suggest","Очистить историю поиска"),arrow:!1,style:"marked",class:"d-suggest__item d-suggest__delete-history typo",asBlock:!0,noHoverColor:!0})}return i+="</div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){var e='<div class="d-suggest__link-subscription">';return"track"==t.type?e+=__escape(i18n("d-suggest","Трек доступен только подписчикам")):"album"==t.type&&(e+=__escape(i18n("d-suggest","Альбом доступен только подписчикам"))),e+="</br>",t.isLoggedIn?e+=a.render({text:i18n("d-suggest"," Оформить подписку"),style:"marked-yellow"}):e+=a.render({text:i18n("d-suggest","Войти или оформить подписку"),style:"marked-yellow"}),e+="</div>"})},function(t,e,i,n){const a=i(119);Mu.blocks.register("d-track",function(){var t,e,n,s,o,r,l,c,d,u,p=i(406),h=i(414);const _=i(415),m=i(422),g=i(426),f=i(427),y=i(428),v=i(429),b=i(407);var k=function(){};return k.init=function(i){t=i.get("sidebars"),e=i.get("navigation"),n=i.get("fav"),s=i.get("dislikes"),r=i.get("froms"),o=i.get("library"),l=i.get("blocks"),c=i.get("dataSrc"),d=i.get("playbackProgress"),u=i.get("seq"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target);0===i.closest(".d-track__actions").length&&0===i.closest(".d-track__context-menu").length&&0===i.closest("a").length&&(0!==i.closest(".d-track__found-by-lyrics").length?e.onFoundByLyricsClick(t):e.onClick(t))})),this.domDelegate("click",".d-track__delete",(function(t){Mu.blocks.forElem(this,"d-track").onDeleteClick(t)})),this.domDelegate("click",".d-track__add",(function(t){Mu.blocks.forElem(this,"d-track").onAddClick(t)})),this.domDelegate("dblclick",(function(t){Mu.blocks.forElem(this).onDblClick(t)})),n.on("liked",(function(t){var e=$(t.target).closest(".d-track");if(0!==e.length){var i=Mu.blocks.forElem(t.target);e.toggleClass("d-track_in-lib",o.isInPositiveLibrary(i.data)),e.removeClass("d-track__disliked")}})),s.on("disliked",(function(t){var e=$(t.target).closest(".d-track");if(0!==e.length){var i=Mu.blocks.forElem(t.target);e.toggleClass("d-track__disliked",o.isDisliked(i.data))}}))},k.prototype.init=function(){var t=this;t.$cont=$(t.container),t.$visibilityToggle=t.$cont.find(".visibility-toggle"),t.$contextMenu=t.$cont.find(".d-context-menu"),t.$dislike=t.$cont.find(".dislike"),t.$cont.closest(".sidebar__tracks").size()>0&&t.$cont.addClass("d-track__sidebar"),t.$contextMenu.size()&&(t.contextMenu=Mu.blocks.forElem(t.$contextMenu.get(0)),t.contextMenu&&(t.contextMenu.on("show",(function(){t.setActive(!0)})),t.contextMenu.on("hide",(function(){t.setActive(!1)})))),t.$dislike.size()&&t.initDislike(),t.delegate("button-play.changed",(function(e){t.setPlaying(e.state)})),t.$cont.toggleClass("d-track_in-lib",o.isInPositiveLibrary({entry:{track:t.data.track}})),t.subscribeToPlaybackProgressEvents(),u.on(Mu.PlayFlow.EVENT_CHANGE,this.onTrackChanged.bind(this))},k.prototype.destroy=function(){this.isSubscribedToPlaybackProgress&&(this.isSubscribeToProgressChanged&&d.off(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),d.off(Mu.PlaybackProgressSender.TRACK_CHANGED,this.onPlaybackProgressTrackChanged),d.off(Mu.PlaybackProgressSender.MARK_TRACK_FINISHED,this.onMarkFinished),d.off(Mu.PlaybackProgressSender.MARK_TRACK_UNFINISHED,this.onMarkUnfinished))},k.prototype.onClick=function(){if(a.canUseMusicInRegion()){var t=this.data.track;if(t.error&&!t.title||t.shelfType)return!1;this.triggerEvent({type:"track.click"})}},k.prototype.setActive=function(t){this.$cont.toggleClass("track_hover d-track_hover",t)},k.prototype.onFoundByLyricsClick=function(){this.triggerEvent({type:"track.click",foundByLyrics:!0})},k.prototype.setSelected=function(t){this.$cont.toggleClass("d-track_selected",t)},k.prototype.setPlaying=function(t){this.$cont.toggleClass("d-track_playing",t)},k.prototype.getAlbum=function(){var t=this.data.track,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},k.prototype.openSidebar=function(i,n,a,s){var o=this.data.track,l=a||this.getAlbum(),c=r.getCardFrom(this.container,"track"),d=o.realId||o.id,u=this.closestParent("event");if(u)var p=u.data.id;if(t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track===d||t.show("track",{track:d,album:l?l.id:-1,hideAlbum:!!a,from:c,eventId:p,foundByLyrics:s,poetryLoverMatches:o.poetryLoverMatches}),i){var h=/\?(.*)/.exec(e.getLastUrl());h=h&&h[0]?h[0]:"",e.pushState("/album/"+l.id+"/track/"+d+h,n)}},k.prototype.onDeleteClick=function(){this.triggerEvent({type:"track.delete",data:this.data.track})},k.prototype.onAddClick=function(){this.$cont.addClass("d-track_added"),this.triggerEvent({type:"track.add",data:this.data.track})},k.prototype.onDblClick=function(t){if(1!==$(t.target).closest(".d-track__play").length&&1!==$(t.target).closest(".d-track__actions").length&&1!==$(t.target).closest(".d-track__context-menu").length&&!this.$cont.hasClass("d-track_type_player")){var e=l.forElem(this.$cont.find(".button-play")[0]);e&&e.toggle()}},k.onChangeUgcTrackAttr=function(t,e){$(".d-track_ugc").each((function(){var i=Mu.blocks.forElem(this,"d-track");if(i&&i.data&&(i.data.track?i.data.track.id:i.data.id)===t)try{i.refreshAttr(e)}catch(t){}}))},k.prototype.refreshAttr=function(e,i){const n=this;let a=!1;const s={title:{".d-track__title":p},artist:{".d-track__artists":h},actions:{".d-track__actions":m},"info-column":{".d-track__info-column":_},info:{".d-track__info":g},meta:{".d-track__meta":f},cover:{".d-track__cover":y},"context-menu":{".d-context-menu":v},visibility:{visibility:null}};"string"==typeof e&&(e=[e]);const o=e.reduce((t,e)=>(Object.assign(t,s[e]),t),{});Object.keys(o).length>0&&(a=!0);const r=(t,e,i,a)=>{if("visibility"===t){if(!this.visibilityToggle){var s=this.$visibilityToggle.get(0);this.visibilityToggle=Mu.blocks.forElem(s,"visibility-toggle")}this.visibilityToggle&&this.visibilityToggle.updateData({track:i.track})}else{let s;const o=Function.mixin(this.data,{track:Object.assign(i.track,a)});s=".d-context-menu"===t?v.render(b.getContextMenuData(o)):e(o),this.$cont.find(t).replaceWith(s),".d-context-menu"===t&&(this.$contextMenu=this.$cont.find(".d-context-menu"),Mu.blocks.initPendingBlocks(this.$contextMenu.get(0)),this.contextMenu=Mu.blocks.forElem(this.$contextMenu.get(0)),this.contextMenu&&(this.contextMenu.on("show",(function(){n.setActive(!0)})),this.contextMenu.on("hide",(function(){n.setActive(!1)}))))}};a&&c.get("track",{track:this.data.track.id}).then(function(n){for(const t in o)r.call(this,t,o[t],n,i);this.triggerEvent({type:"track.changed",data:{track:n.track,changed:e}}),t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track===this.data.id&&t.current.updateTrack&&t.current.updateTrack(n.track,e)}.bind(this))},k.prototype.initDislike=function(){this.dislike=Mu.blocks.forElem(this.$dislike.get(0)),this.dislike&&(this.dislike.on("tooltip.show",function(){this.setActive(!0)}.bind(this)),this.dislike.on("tooltip.hide",function(){this.setActive(!1)}.bind(this)))},k.prototype.subscribeToPlaybackProgressEvents=function(){this.onProgressChanged=this.onProgressChanged.bind(this),d.isTrackSendingProgress(this.data.track)&&(d.on(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),this.isSubscribeToProgressChanged=!0),d.on(Mu.PlaybackProgressSender.TRACK_CHANGED,this.onPlaybackProgressTrackChanged.bind(this)),d.on(Mu.PlaybackProgressSender.MARK_TRACK_FINISHED,this.onMarkFinished.bind(this)),d.on(Mu.PlaybackProgressSender.MARK_TRACK_UNFINISHED,this.onMarkUnfinished.bind(this)),this.isSubscribedToPlaybackProgress=!0},k.prototype.onPlaybackProgressTrackChanged=function(t){if(!this.isSubscribeToProgressChanged){if(t.trackId!==this.data.track.id)return;return d.on(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),void(this.isSubscribeToProgressChanged=!0)}t.previosTrackId!==this.data.track.id&&(d.off(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),this.isSubscribeToProgressChanged=!1)},k.prototype.onProgressChanged=function(t){this.isShelfAudiobookAlbum()?this.onAlbumProgressChanged(t):this.data.track.id===t.trackId&&(this.data.track.streamProgress?this.data.track.streamProgress.endPositionSec=t.endPositionSec:this.data.track.streamProgress={endPositionSec:t.endPositionSec,everFinished:!1},this.updateTrackInfoColumn())},k.prototype.onAlbumProgressChanged=function(){const t=this.data.track&&this.data.track.albums&&this.data.track.albums[0]&&this.data.track.albums[0].id,e=u.getCurrent();if(t!==(e&&e.albums&&e.albums[0]&&e.albums[0].id))return;(this.entries?Promise.resolve():c.get("album",{album:t})).then(t=>{t&&t.volumes&&(this.entries=Array.prototype.concat.apply([],t.volumes))}).catch(()=>{}).then(()=>{if(!this.entries||!this.entries.length)return;const t=e.id;if(!this.entries.some(e=>e.id===t))return;const i=this.entries.findIndex(e=>e.id===t),n=this.entries.reduce((t,e,n)=>{if(n>i){return(e.durationMs||0)+t}return t},0),a=u.getDuration()-u.getPosition(),s=Math.round(a+n/1e3),o=this.entries.reduce((t,e)=>t+(e.durationMs||0),0),r=Math.round(o/1e3);this.data.track.albumStreamProgress={durationLeft:s,durationSec:r},this.updateTrackInfoColumn()})},k.prototype.onMarkFinished=function(t){this.data.track.id===t.trackId&&(this.data.track.streamProgress?(this.data.track.streamProgress.everFinished=!0,void 0!==t.endPositionSec&&(this.data.track.streamProgress.endPositionSec=t.endPositionSec)):this.data.track.streamProgress={endPositionSec:0,everFinished:!0},this.updateTrackInfoColumn())},k.prototype.onMarkUnfinished=function(t){this.data.track.id===t.trackId&&this.data.track.streamProgress&&(this.data.track.streamProgress.everFinished=!1,this.updateTrackInfoColumn())},k.prototype.updateTrackInfoColumn=function(){const t=_(this.data);this.$cont.find(".d-track__info-column").replaceWith(t)},k.prototype.isShelfAudiobookAlbum=function(){return this.data.track&&"album"===this.data.track.shelfType&&"audiobook"===this.data.track.type},k.prototype.onTrackChanged=function(){const t=this.data.track;if("album"!==t.shelfType||"recentlyPlayed"!==t.shelfSection||"podcast-episode"!==t.type)return;if("album"!==u.getSourceType())return;const e=u.getCurrent();if(e.id===t.id)return;if((t.albums&&t.albums[0]&&t.albums[0].id)!==(e.albums&&e.albums[0]&&e.albums[0].id))return;this.data.track.id=e.id;this.refreshAttr(["title","artist","actions","info-column","info","meta","cover","context-menu"],{shelfType:"album",shelfSection:"recentlyPlayed"}),this.isSubscribeToProgressChanged||this.subscribeToPlaybackProgressEvents()},k}())},function(t,e,i,n){var a,s;t.exports=(a=i(407),s=i(410),function(t){var e='<div class="d-track__name" '+a.linkTitle(t)+">";return t.isPageTrack?e+="<h1>"+s(t)+"</h1>":e+=s(t),e+="</div>"})},function(t,e,i,n){const a=i(124),s=i(309),o=i(14),r=i(73),l=i(359),c=i(408),d=i(409),u=i(99),p=i(293);t.exports={class:function(t){var e=" typo-track";return"light"===t.type&&(e=" typo-small"),"shelf-non-music"===t.type&&(e=" d-track__shelf-non-music"),t.nonSelectable||t.suggestSelectable||!this.showInfoColumn(t)||this.isRemoved(t)||(e+=" d-track_selectable"),t.suggestSelectable&&(e+=" d-track_suggest-selectable deco-pane_show-hover"),t.inlineMeta&&(e+=" d-track_inline-meta"),t.showBest&&t.track&&t.track.best&&(e+=" d-track_best"),(t.track&&t.track.error||t.track&&"error"===t.track.state)&&(e+=" d-track_error"),a(t.track&&t.track.id)&&(e+=" d-track_ugc",t.track.userInfo&&String(t.track.userInfo.uid)===String(o().uid)&&("private"!==t.track.desiredVisibility&&t.track.canPublish||(e+=" d-track_invisible"))),s(t.track&&t.track.id)&&(e+=" d-track_invisible"),this.showCover(t)&&(e+=" d-track_with-cover"),"chart"===t.type&&(e+=" d-track_with-chart"),"light"===t.type&&(e+=" d-track_light"),"player"===t.type&&(e+=" d-track_player"),t.drag&&(e+=" d-track_drag deco-pane"),t.className&&(e+=" "+t.className),this.isDisliked(t)&&(e+=" d-track__disliked"),t.track&&(!t.track.available&&t.track.availableForPremiumUsers||"no-rights"===t.track.error)&&(e+=" d-track__unavailable"),this.isEpisode(t)&&(e+=" d-track_podcast"),(Mu.settings.uatraits||{}).isMobile&&(e+=" d-track_mobile"),e},isDisliked:function(t){return t.track&&l({entry:{track:t.track}})},actionsClass:function(){return" d-track__actions"},titleClass:function(t){return this.isUgcError(t)||!t.track.available?"deco-typo-secondary":"deco-typo"},placeholderType:function(t){var e="track";return"chart"===t.type?e+="-chart":this.showCover(t)||(e+="-table"),e},title:function(t){return this.isRemoved(t)?i18n("d-track","[feature/mfront-3414]Трек недоступен"):this.isShelfAudiobookAlbum(t)?t.track&&t.track.albums&&t.track.albums[0]&&t.track.albums[0].title:this.isShelfPlaylist(t)?t.track.playlist&&t.track.playlist.title:t.track.title||(t.track.ugcTag?t.track.ugcTag.title:"")},fullTitle:function(t){var e=this.title(t);return t.track.version&&t.track.title&&!t.track.error&&t.track.available&&(e+=" "+t.track.version),e},albumId:function(t){return t.albumId?t.albumId:t.track.albums&&t.track.albums[0]&&t.track.albums[0].id},id:function(t){return t.track.realId?t.track.realId:t.track.id},setRootTitle:function(t){return!t.track.available&&t.track.availableForPremiumUsers||"no-rights"===t.track.error},linkTitle:function(t){return this.setRootTitle(t)?"":'title="'+__escape(this.fullTitle(t))+'"'},rootTitle:function(t){var e;return this.setRootTitle(t)?(e=!t.track.available&&t.track.availableForPremiumUsers?i18n("track","Трек доступен только платным пользователям"):"no-rights"===t.track.error?i18n("track","Правообладатель временно убрал трек из каталога"):this.title(t),'title="'+__escape(e)+'"'):""},artists:function(t){var e=t.track&&t.hideArtists&&this.shouldHideArtist(t.track,t.hideArtists);return t.track.ugcArtistName?[t.track.ugcArtistName]:!t.track.artists||e?[]:t.track.artists.filter(t=>!t.error&&!t.various&&(t.name||"").length>0)},isUgcError:function(t){return a(t.track.id)&&"error"===t.track.state&&t.track.userInfo&&t.track.userInfo.uid===o().uid},isAuthor:function(t){return t.track.userInfo&&String(t.track.userInfo.uid)===String(o().uid)},isUgcAuthor:function(t){return a(t.track.id)&&this.isAuthor(t)},actionIsAllowed:function(t,e){return t.actions||(t.actions=["like","dislike"]),0!==t.actions.length&&((!t.track.shelfType||"dislike"!==e)&&(("shelf-non-music"!==t.type||"like"!==e)&&("touch-like"===e?"touch"===t.type:"toggleVisibility"===e?s(t.track.id)||a(t.track.id)&&this.isAuthor(t):"remove"===e||"removeFromLibrary"===e?t.actions.includes(e):"share"===e?!this.isUgcAuthor(t)&&"touch"!==t.type:t.actions.includes(e)&&"touch"!==t.type&&(!t.track.error||"no-rights"===t.track.error))))},showCover:function(t){return"withCover"===t.type||"chart"===t.type||"player"===t.type||"touch"===t.type||"shelf-non-music"===t.type||!r().serverSide&&isNaN(parseInt(t.listIndex,10))&&"light"!==t.type&&this.isEpisode(t)},showInfoColumn:function(t){return"light"!==t.type&&"player"!==t.type&&"touch"!==t.type},twoColumns:function(t){return!this.showCover(t)&&!t.inlineMeta&&"light"!==t.type&&(t.showAlbum||t.showArtist)},album:function(t,e){if(t){if(!e)return t[0];for(var i,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i||t[0]}},href:function(t){return"/album/"+this.albumId(t)+"/track/"+this.id(t)},isRemoved:function(t){return t.track&&t.track.error&&!t.track.title},isEpisode:function(t){return t.track&&"podcast-episode"===t.track.type},sameArtists:function(t,e){return t.artists.every((function(t){return e.includes(t.id)}))},shouldHideArtist:function(t,e){return t.artists&&t.artists.length&&t.artists.length===e.length&&!t.artists[0].decomposed&&this.sameArtists(t,e)},shouldShowHyphen:function(t){return t.inlineMeta&&(t.showArtist&&this.artists(t).length>0||t.showAlbum||this.shouldShowPodcastName(t))},shouldShowArtist:function(t){return this.showCover(t)||t.showArtist||"light"===t.type||"player"===t.type},shouldShowAlbumName:function(t){return!this.showCover(t)&&t.showAlbum&&t.track.albums&&null!=t.track.albums[0]},shouldShowPodcastName:function(t){return!t.showReleaseDate&&this.isEpisode(t)&&t.track&&t.track.albums&&(t.showArtist||t.showAlbum||null!=t.type)},shouldShow2Lines:function(t){return"withCover"===t.type&&"podcast-episode"===t.track.type},shouldShowPlaybackProgress:function(t){return!(this.isShelfLikedSection(t)&&this.isShelfAudiobookAlbum(t)||this.isShelfPlaylist(t))&&(Mu.PlaybackProgressSender&&Mu.PlaybackProgressSender.isEnabled(t.track)&&!(t.hidePlaybackProgress||t.nonSelectable&&"shelf-non-music"!==t.type||u()))},formatReleaseDate:function(t){const{isToday:e,isYesterday:i}=this.isNewDate(t),n=new Date,a=new Date(t);if(e)return i18n("track","[feature/new-episodes-counter]Сегодня");if(i)return i18n("track","[feature/new-episodes-counter]Вчера");var s=n.getFullYear()-a.getFullYear();return c(t,"%d %B"+(0!==s?" %Y":""))},isNewDate:function(t){const e=new Date,i=new Date(t),n=d(e,i,!0);return{isToday:-1===n&&e.getDate()===i.getDate(),isYesterday:-2===n}},isNewPodcastDate:function(t){const{isToday:e,isYesterday:i}=this.isNewDate(t);return e||i},getLinkArgs:function(t){const e=[];return t.dirInTrackLink&&e.push("dir="+t.dirInTrackLink),t.activeTabInTrackLink&&e.push("activeTab="+t.activeTabInTrackLink),e.length>0?"?"+e.join("&"):""},isShelfAudiobookAlbum:function(t){return t.track&&"album"===t.track.shelfType&&"audiobook"===t.track.type},isShelfPlaylist:function(t){return t.track&&"playlist"===t.track.shelfType},isShelfLikedSection:function(t){return t.track&&"liked"===t.track.shelfSection},isListened:function(t){return!!this.shouldShowPlaybackProgress(t)&&(!!(this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationLeft&&t.track.albumStreamProgress.durationSec&&0===t.track.albumStreamProgress.durationLeft)||(!!(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationLeft&&t.track.playlist.durationMs&&0===t.track.playlist.durationLeft)||t.track.streamProgress&&t.track.streamProgress.everFinished))},isInProgress:function(t){return!!this.shouldShowPlaybackProgress(t)&&(!!(this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationLeft&&t.track.albumStreamProgress.durationSec&&t.track.albumStreamProgress.durationLeft<t.track.albumStreamProgress.durationSec&&t.track.albumStreamProgress.durationLeft>0)||(!!(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationLeft&&t.track.playlist.durationMs&&1e3*t.track.playlist.durationLeft<t.track.playlist.durationMs&&t.track.playlist.durationLeft>0)||t.track.streamProgress&&!t.track.streamProgress.everFinished&&t.track.streamProgress.endPositionSec>0))},getSecondsLeft:function(t){return this.isInProgress(t)?this.isShelfAudiobookAlbum(t)?t.track.albumStreamProgress.durationLeft:this.isShelfPlaylist(t)?t.track.playlist.durationLeft:Math.floor(t.track.durationMs/1e3-t.track.streamProgress.endPositionSec):0},getCircleProgressValue:function(t){return this.isShelfAudiobookAlbum(t)?(t.track.albumStreamProgress.durationSec-t.track.albumStreamProgress.durationLeft)/t.track.albumStreamProgress.durationSec:this.isShelfPlaylist(t)?(t.track.playlist.durationMs-1e3*t.track.playlist.durationLeft)/t.track.playlist.durationMs:1e3*t.track.streamProgress.endPositionSec/t.track.durationMs},getButtonPlayData:function(t){if(t.track&&("album"===t.track.shelfType||"playlist"===t.track.shelfType)){let e;if("album"===t.track.shelfType&&(e=t.track.albums&&t.track.albums[0]),"playlist"===t.track.shelfType&&(e=t.track.playlist),e)return e.resumeFrom={trackId:parseInt(t.track.id,10),startPositionSec:t.track.durationMs&&t.track.streamProgress&&t.track.streamProgress.endPositionSec?t.track.durationMs/1e3-t.track.streamProgress.endPositionSec:0},{type:t.track.shelfType,item:e}}return{type:"track",item:t.track}},getDurationMs:function(t){return this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationSec?1e3*t.track.albumStreamProgress.durationSec:this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationMs?t.track.playlist.durationMs:t.track.duration||t.track.durationMs||0},getContextMenuData:function(t){let e;switch(t.track.shelfType){case"album":e={album:Object.assign(t.track.albums[0],{isShelfItem:!0})};break;case"playlist":e={playlist:Object.assign(t.track.playlist,{isShelfItem:!0})};break;default:e={track:t.track}}"recentlyPlayed"===t.track.shelfSection&&"podcast-episode"===t.track.type&&(e={track:t.track});const i=Object.assign({class:"d-track__context-menu",type:"borderless",size:"M",canShowPlaybackProgressItems:this.shouldShowPlaybackProgress(t)},e);return t.track.shelfType&&(i.rootClass="d-context-menu__shelf"),i},getLikeData:function(t,e,i){let n={entry:e};return this.isShelfAudiobookAlbum(t)&&(n={album:e.track.albums[0]}),this.isShelfPlaylist(t)&&(n={playlist:e.track.playlist}),Object.assign({theme:"track",type:t.type,buttonish:!0,size:"S",tooltip:i18n("track","[feature/my-music-new-name]Удалить из «%1»",i),from:"track",class:"deco-track-like"},n)},getTrackTitleHref:function(t){if(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.owner&&t.track.playlist.kind)return`/users/${t.track.playlist.owner.login}/playlists/${t.track.playlist.kind}`;const e=this.albumId(t);return this.isShelfAudiobookAlbum(t)?"/album/"+e:`/album/${e}/track/${this.id(t)}${this.getLinkArgs(t)}`},getTimeLeftText(t){let e=Math.floor(t/60);if(t<1)return"";if(t<60)return p(t,i18n("Осталась %s секунда|Осталось %s секунды|Осталось %s секунд"));if(e<60)return p(e,i18n("Осталась %s минута|Осталось %s минуты|Осталось %s минут"));{const t=Math.floor(e/60);e%=60;let i=p(t,i18n("Остался %s час|Осталось %s часа|Осталось %s часов"));return e>0&&(i=i+" "+p(e,i18n("%s минута|%s минуты|%s минут"))),i}}}},function(t,e,i,n){t.exports=i(70)},function(t,e,i,n){t.exports=i(67)},function(t,e,i,n){var a,s;t.exports=(a=i(407),s=i(411),function(t){var e="",i=function(e){var i="";if("explicit"==t.track.contentWarning){const n="shelf-non-music"===t.type?"shelf-non-music":t.track&&t.track.type,a=s.render({type:n});i+=e?'<span class="explicit-wrap">'+a+"</span>":a}return i},n=function(){var e="";return t.track.version&&(e+='<span class="d-track__version deco-typo-secondary">'+__escape(t.track.version)+"</span>"),e},o=a.shouldShow2Lines(t);if(a.albumId(t)&&!t.track.error&&"OWN_REPLACED_TO_UGC"!==t.track.trackSource){var r="d-track__title deco-link deco-link_stronger";o&&(r+=" line-clamp"),e+=' <a href="'+__escape(a.getTrackTitleHref(t))+'" class="'+__escape(r)+'"> ',a.isShelfAudiobookAlbum(t)||a.isShelfPlaylist(t)?e+=" "+__escape(a.title(t))+" ":e+=" "+__escape(a.title(t))+(o?i(!0)+n():"")+" ",e+=" </a>"}else e+='<span class="d-track__title '+("OWN_REPLACED_TO_UGC"==t.track.trackSource?"deco-link_stronger":"")+" "+__escape(a.titleClass(t))+'">'+__escape(a.title(t))+"</span>";return e+=o?"":i()+n()})},function(t,e,i,n){var a={render:i(412)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(413),function(t){return'<span class="d-explicit-mark '+__escape(a.classes(t))+" "+(t&&t.isTouchTrackBar?"d-explicit-mark--touch-trackbar":"")+'" title="'+i18n("d-explicit-mark","[feature/mfront-3990-1]Сервис Яндекс&nbsp;Музыка может содержать информацию, не&nbsp;предназначенную для&nbsp;несовершеннолетних")+'"></span>'})},function(t,e,i,n){t.exports={classes(t){let e="";const i=157===Mu.settings.nativeRegion,n=t&&("podcast"===t.type||"audiobook"===t.type||"podcast-episode"===t.type);return"shelf-non-music"===t.type?e+="d-explicit-mark-18-border":i||n?e+="d-explicit-mark-18":(e+="d-explicit-mark-e",t&&t.large&&(e+=" d-explicit-mark--large")),e}}},function(t,e,i,n){var a;t.exports=(a=i(407),function(t){var e="",i=function(t,e,n,a,s){var o="";if(t.various||!t.id?(o+='<span class="'+__escape(e)+'">',t.name?o+=__escape(t.name):o+=__escape(t),o+="</span>"):o+='<a href="/artist/'+__escape(t.id)+'" title="'+__escape(t.name)+'" class="'+__escape(n)+'">'+__escape(t.name)+"</a>",t.decomposed)for(var r,l=0;l<t.decomposed.length;l++)r=t.decomposed[l],o+=i(r,e,n,l);return s&&a<s-1&&t.id&&(o+='<span class="'+__escape(e)+'">, </span>'),o};e+='<span class="d-track__artists">';for(var n,s=a.artists(t),o=0;o<s.length;o++){n=s[o];var r=t.inlineMeta||a.showCover(t)?"deco-typo-secondary":"",l=t.inlineMeta||a.showCover(t)?"deco-link deco-link_muted":"deco-link";e+=i(n,r,l,o,s.length)}return e+="</span>"})},function(t,e,i,n){t.exports=function(){i(267);const t=i(407),e=i(141),n=i(416),a=i(418),s=i(420);return function(i){var o="";t.shouldShowPlaybackProgress(i);const r=t.isListened(i),l=(t.isInProgress(i),t.getSecondsLeft(i));return o+='<div class="d-track__info-column"> ',i.track.poetryLoverMatches&&i.track.poetryLoverMatches.length?o+=' <div class="d-track__found-by-lyrics'+__escape(t.twoColumns(i)?" d-track__shy":"")+'"> '+s.render({title:i18n("d-track","[feature/mfront-3314-podprog]Показать текст"),text:i18n("d-track","[feature/mfront-3314-podprog]Найден по тексту")})+" </div> ":r?o+=' <div class="d-track__listened deco-typo-secondary"> '+e.render({icon:"checkmark-green-dark",class:"listened-icon"})+" "+__escape(i18n("d-track","[feature/mfront-3314-podprog]Прослушано"))+" </div> ":l>0?o+=' <div class="d-track__in-progress deco-typo-secondary"> '+n.render({progress:t.getCircleProgressValue(i)})+" "+t.getTimeLeftText(l)+" </div> ":i.showChartPosition&&i.track.chartPosition&&(o+=' <div class="d-track__chart-position'+__escape(t.twoColumns(i)?" d-track__shy":"")+'"> '+a.render({chartPosition:i.track.chartPosition})+" </div> "),o+="</div>"}}()},function(t,e,i,n){var a={render:i(417)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e="",i=2*Math.PI*6,n=.25*i,a=t.progress*i+" "+(1-t.progress)*i;return e+='<div class="d-circle-progress"> <svg width="14" height="14" viewBox="0 0 14 14"> <circle stroke="#DEDEDE" fill="none" r="'+__escape(6)+'" stroke-width="'+__escape(2)+'" cx="'+__escape(7)+'" cy="'+__escape(7)+'" /> <circle stroke="#FFDD60" fill="none" r="'+__escape(6)+'" stroke-width="'+__escape(2)+'" cx="'+__escape(7)+'" cy="'+__escape(7)+'" stroke-dashoffset="'+__escape(n)+'" stroke-dasharray="'+__escape(a)+'" /> </svg></div>'}},function(t,e,i,n){var a={render:i(419)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(420),function(t){return""+a.render({href:"/chart",title:i18n("d-chart-position","[feature/mfront-4342]Чарт Яндекс Музыки"),text:"#"+t.chartPosition+" "+i18n("d-chart-position","в чарте"),className:"d-chart-position"})})},function(t,e,i,n){var a={render:i(421)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e="";return t.href?e+='<a class="d-pill deco-link-pill '+__escape(t.className?t.className:"")+'" href="'+__escape(t.href)+'" title="'+__escape(t.title?t.title:t.text)+'">'+__escape(t.text)+"</a>":e+='<span class="d-pill deco-link-pill '+__escape(t.className?t.className:"")+'" title="'+__escape(t.title?t.title:t.text)+'">'+__escape(t.text)+"</span>",e}},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(a=i(407),i(423),i(424),s=i(425),o=i(143),r=i(231),l=i(318),c=function(t){return Mu.render("dislike",t)},d=function(t){return Mu.render("visibility-toggle",t)},u=function(t){return Mu.render("share_counters",t,[t.size])},function(t){var e="",i=function(t){return""+o.render({icon:"trash-wide",title:i18n("track","Удалить трек"),type:"flat",class:"d-track__delete d-track__hover-hidden",size:"S",attrs:{title:t||i18n("track","Удалить трек")}})};if(a.actionIsAllowed(t,"bigAdd"))e+='<div class="d-track__results"><span>'+__escape(i18n("track","Добавлен"))+'</span></div><div class="d-track__actions d-track__hover">'+o.render({size:"S",type:"action",class:"d-track__add",text:i18n("track","Добавить")})+"</div>";else if(a.actionIsAllowed(t,"counter"))e+='<div class="d-track__actions d-track__actions-counter"><span class="d-track__label d-track__hover">'+i18n("track","Проголосовать")+"</span>"+u({icon:"vote",link:s(t.shareLink,"ru"),title:t.shareTitle,description:t.shareDescription,hashTags:t.shareHashTags,class:" button_vote",popupType:"vote",shareLang:"ru",size:a.showCover(t)?"L":"M",theme:"flat"})+"</div>";else{e+='<div class="'+__escape(a.actionsClass(t))+'"> ';var n=r("myMusic","genitive"),p=a.albumId(t),h={track:t.track,album:p?{id:p}:null};a.actionIsAllowed(t,"touch-like")&&(e+=l.render({entry:h,theme:"flat",size:"S",tooltip:i18n("track","[feature/my-music-new-name]Удалить из «%1»",n)})),a.actionIsAllowed(t,"toggleVisibility")&&(e+=d({track:t.track,class:"d-track__hover"})),a.actionIsAllowed(t,"removeFromLibrary")?e+=i(i18n("track","[feature/my-music-new-name]Удалить из «%1» и всех плейлистов",n)):a.actionIsAllowed(t,"remove")&&(e+=i()),a.actionIsAllowed(t,"like")&&(e+=l.render(a.getLikeData(t,h,n))),a.actionIsAllowed(t,"dislike")&&(e+=c({entry:t,theme:"track",type:t.type,size:"S",class:"deco-track-dislike"})),e+="</div>"}return e})},function(t,e,i,n){t.exports=i(68)},function(t,e,i,n){t.exports=i(352)},function(t,e,i,n){t.exports=i(180)},function(t,e,i,n){var a,s,o;t.exports=(a=i(407),s=i(423),i(323),o=i(141),function(t){var e='<div class="d-track__info'+__escape(a.isUgcError(t)?"":" d-track__nohover")+__escape(t.track&&t.track.shelfType?" d-track__info-shelf":"")+'">';return a.isUgcError(t)?e+='<span class="deco-typo-fail">'+__escape(i18n("track","Ошибка"))+"</span>"+o.render({icon:"info"}):a.actionIsAllowed(t,"counter")||a.actionIsAllowed(t,"counter_like")||"shelf-non-music"===t.type||(e+='<span class="typo-track deco-typo-secondary">'+s(a.getDurationMs(t),t.track&&t.track.shelfType?"":"duration")+"</span>"),e+="</div>"})},function(t,e,i,n){t.exports=function(){const t=i(407),e=i(414);return function(i){var n="";const a=t.isEpisode(i)&&i.track.pubDate&&"shelf-non-music"!==i.type,s=(!i.inlineMeta&&i.showArtist,a&&t.formatReleaseDate(i.track.pubDate)),o=a&&t.isNewPodcastDate(i.track.pubDate);return n+='<div class="d-track__meta">',a&&!t.shouldShowPodcastName(i)&&(n+='<div class="d-track__date ',n+=o?"d-track__date_active":"deco-typo-secondary",n+='">'+__escape(s)+"</div>"),t.shouldShowHyphen(i)&&(n+="&nbsp;—&nbsp;"),t.shouldShowAlbumName(i)?n+='<a href="/album/'+__escape(i.track.albums[0].id)+'" title="'+__escape(i.track.albums[0].title)+'" class="deco-link">'+__escape(i.track.albums[0].title)+"</a>":t.shouldShowPodcastName(i)?(n+='<a href="/album/'+__escape(i.track.albums[0].id)+'" title="'+__escape(i.track.albums[0].title)+'" class="'+__escape(i.inlineMeta||t.showCover(i)?"deco-link deco-link_muted":"deco-link")+'">'+__escape(i.track.albums[0].title)+"</a>",a&&(n+='&nbsp;<div class="d-track__date d-track__date_with-name ',n+=o?"d-track__date_active":"deco-typo-secondary",n+='">'+__escape(s)+"</div>")):t.shouldShowArtist(i)&&(n+=e(i)),n+="</div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(389),e=i(407);return function(i){var n="";return e.isShelfPlaylist(i)?i.track.playlist.cover.type&&"pic"==i.track.playlist.cover.type?n+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.track.playlist.cover.uri}},["",40,!0]):i.track.playlist.cover.type&&"mosaic"==i.track.playlist.cover.type?(console.log("mosaic"),n+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.track.playlist.cover.itemsUri[0]}},["",40,!0])):n+=Mu.render("playlist-cover__empty",i.track.playlist,["",40,!0]):n+=t.render({type:i.type,track:i.track,class:"d-track__cover"}),n}}()},function(t,e,i,n){var a={render:i(430)};clientSide&&(a.controller=i(435)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(431);return function(i){var n="",a=e(i);return n+='<div class="d-context-menu ',i.rootClass&&(n+=i.rootClass),n+='" data-b="'+__escape(Mu.dotBlockRoot(i,"d-context-menu",!0))+'">'+t.render({size:i.size||"L",icon:"dots-horisontal",rounded:!0,class:"d-context-menu__opener "+(i.class||""),type:i.type||"transparent",disabled:a.isDisabled&&a.isDisabled(),not_handled:!0})+"</div>"}}()},function(t,e,i,n){var a=i(432),s=i(433),o=i(434);t.exports=function(t){return(t=t&&t.data||t).playlist?new o(t):t.album?new a(t):t.track?new s(t):void 0}},function(t,e,i,n){var a=i(177),s=function(t){this.data=Object.assign({},{album:{}},t&&t.data||t),this.shareHelper=new a(this.data)};s.prototype.getType=function(){return"album"},s.prototype.getLink=function(t){return this.shareHelper.getLink(t)},s.prototype.getEntity=function(){return this.data.album},s.prototype.isShareEnabled=function(){return!0},s.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},s.prototype.getTracks=function(){var t=[];return(this.data.album&&this.data.album.volumes||[]).forEach((function(e){t=t.concat(e)})),t},s.prototype.getTracksCount=function(){return this.data.album.trackCount?this.data.album.trackCount:this.getTracks().length},s.prototype.getAvailableTracksCount=function(){return this.getTracks().filter((function(t){return t&&!t.error})).length},s.prototype.isCanMarkFinished=function(){if(this.data.album&&this.data.album.isShelfItem)return!1;if(!(Mu.authData&&Mu.authData.user&&Mu.authData.user.uid&&this.data.canShowPlaybackProgressItems))return!1;if(!["podcast","fairy-tale","audiobook"].includes(this.data.album&&this.data.album.type))return!1;return!!this.getTracks().some(t=>!(t.streamProgress&&t.streamProgress.everFinished))},s.prototype.isCanMarkUnfinished=function(){if(this.data.album&&this.data.album.isShelfItem)return!1;if(!(Mu.authData&&Mu.authData.user&&Mu.authData.user.uid&&this.data.canShowPlaybackProgressItems))return!1;if(!["podcast","fairy-tale","audiobook"].includes(this.data.album&&this.data.album.type))return!1;return!this.getTracks().some(t=>!(t.streamProgress&&t.streamProgress.everFinished))},t.exports=s},function(t,e,i,n){var a=i(177),s=i(124),o=i(309),r=function(t){this.data=Object.assign({},{track:{}},t&&t.data||t),this.shareHelper=new a(this.data)};r.prototype.getType=function(){return"track"},r.prototype.getLink=function(t){return this.shareHelper.getLink(t)},r.prototype.getEntity=function(){return this.data.track},r.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},r.prototype.getTracks=function(){return[this.getEntity()]},r.prototype.getTracksCount=function(){return this.getTracks().length},r.prototype.getAvailableTracksCount=function(){return this.getEntity().error?0:1},r.prototype.isPrivateTrack=function(){var t=this.getEntity();return s(t.id)||o(t.id)},r.prototype.isPodcastEpisode=function(){return"podcast-episode"===this.getEntity().type},r.prototype.isCanMarkFinished=function(){const t=this.getEntity();return this.data.canShowPlaybackProgressItems&&!(t.streamProgress&&t.streamProgress.everFinished)},r.prototype.isCanMarkUnfinished=function(){const t=this.getEntity();return this.data.canShowPlaybackProgressItems&&t.streamProgress&&t.streamProgress.everFinished},t.exports=r},function(t,e,i,n){const a=i(177),s=i(14);var o=function(t){this.data=Object.assign({},{playlist:{}},t&&t.data||t),this.shareHelper=new a(this.data)};o.prototype.getType=function(){return"playlist"},o.prototype.getLink=function(t){return this.shareHelper.getLink(t)},o.prototype.getEntity=function(){return this.data.playlist},o.prototype.isOwner=function(t){t=t||s();var e=parseInt(t.uid,10);return!isNaN(e)&&e===parseInt(this.data.playlist.owner.uid,10)||!1},o.prototype.isPublic=function(){return"public"===this.data.playlist.visibility},o.prototype.shouldHideCollective=function(){return new Date(this.data.playlist.created)>new Date("2022-05-19T00:00:00+00:00")},o.prototype.isShareEnabled=function(){return(this.isPublic()||this.isLikes())&&this.getTracksCount()},o.prototype.isDisabled=function(){const t=this.data.playlist.visibility;return t?"private"===t&&!this.isOwner():this.data.playlist.doNotIndex&&!this.isOwner()},o.prototype.isPlayEnabled=function(){return this.getAvailableTracksCount()>0},o.prototype.isLikes=function(){return 3===parseInt(this.data.playlist.kind,10)},o.prototype.getTracksCount=function(){return this.data.playlist.trackCount?this.data.playlist.trackCount:this.data.playlist.tracks&&this.data.playlist.tracks.length||0},o.prototype.getAvailableTracksCount=function(){return(this.data&&this.data.playlist&&this.data.playlist.tracks||[]).filter((function(t){return t&&!t.error})).length},t.exports=o},function(t,e,i,n){Mu.blocks.register("d-context-menu",function(){const t="d-context-menu__item";let e,n,a,s,o,r,l;const c=i(431),d=i(177),u=i(436);var p=function(){Mu.eventize(this)};return p.init=function(t){e=t.get("seq"),n=t.get("froms"),a=t.get("adapter"),s=t.get("dataSrc"),o=t.get("blocks").get("iframe-config"),r=t.get("blocks").get("force-auth-tooltip"),l=t.get("playbackProgress"),this.domDelegate("click",(function(t){$(t.target).is(".d-context-menu__opener")&&Mu.blocks.forElem(this).toggle()}))},p.prototype.init=function(){this.helper=c(this),this.shareHelper=new d(this),this.$cont=$(this.container),this.$popup=this.$cont.find(".d-context-menu__popup"),this.$opener=this.$cont.find(".d-context-menu__opener"),Mu.blocks.initPendingBlocks(this.$cont),this.share.inited&&this.onShareLoaded()},p.prototype.initPopup=function(){const e=this,i=function(...i){const[n,a]=i;return function(s){const o=$(s.target).closest("."+t);o.size()&&!o.is(".deco-popup-menu__item_disabled")&&(n.apply(e,i),e.trigger("itemClick",e,o.get(0)),a&&e.hide())}};e.$copy=e.$popup.find(".d-copy"),e.$share=e.$popup.find(".d-share"),e.$like=e.$popup.find(".d-like"),e.$addition=e.$popup.find(".d-addition"),e.$toggler=e.$popup.find(".d-toggler"),e.$collectiveAccess=e.$popup.find(".d-collective-access"),e.$itemAdd=e.$popup.find(".d-context-menu__item_add"),e.$itemMain=e.$popup.find(".d-context-menu__item_main"),e.$itemShare=e.$popup.find(".d-context-menu__item_share"),e.$itemForth=e.$popup.find(".d-context-menu__item_forth"),e.$itemDelete=e.$popup.find(".d-context-menu__item_delete"),e.$itemHtml=e.$popup.find(".d-context-menu__item_html"),e.$itemRadio=e.$popup.find(".d-context-menu__item_radio"),e.$itemCollective=e.$popup.find(".d-context-menu__item_collective"),e.$markTrackFinished=e.$popup.find(".d-context-menu__item_mark-finished"),e.$markTrackUnfinished=e.$popup.find(".d-context-menu__item_mark-unfinished"),e.$markAlbumFinished=e.$popup.find(".d-context-menu__item_mark-album-finished"),e.$markAlbumUnfinished=e.$popup.find(".d-context-menu__item_mark-album-unfinished"),e.copy=Mu.blocks.forElem(e.$copy.get(0),"d-copy"),e.share=Mu.blocks.forElem(e.$share.get(0),"d-share"),e.like=Mu.blocks.forElem(e.$like.get(0),"d-like"),e.addition=Mu.blocks.forElem(e.$addition.get(0),"d-addition"),e.toggler=Mu.blocks.forElem(e.$toggler.get(0),"d-toggler"),e.collectiveAccess=Mu.blocks.forElem(e.$collectiveAccess.get(0),"d-collective-access"),e.onAddClick=i(e.toggleAddTab.bind(e,!0)),e.onMainClick=i(e.toggleMain.bind(e,!0)),e.onShareClick=i(e.toggleShare.bind(e,!0)),e.onForthClickHandler=i(e.onForthClick,!0,4),e.onDeleteClick=i(e.openDeletionTooltip),e.onHtmlClick=i(e.showIframe,!0),e.onRadioClick=i(e.playRadio,!0),e.onCollectiveClick=i(e.showCollectiveAccess,!0),e.onMarkTrackFinished=i(e.markTrackFinished,!0),e.onMarkTrackUnfinished=i(e.markTrackUnfinished,!0),e.onMarkAlbumFinished=i(e.markAlbumFinished,!0),e.onMarkAlbumUnfinished=i(e.markAlbumUnfinished,!0),e.$itemAdd.on("click",e.onAddClick),e.$itemMain.on("click",e.onMainClick),e.$itemShare.on("click",e.onShareClick),e.$itemForth.on("click",e.onForthClickHandler),e.$itemDelete.on("click",e.onDeleteClick),e.$itemHtml.on("click",e.onHtmlClick),e.$itemRadio.on("click",e.onRadioClick),e.$itemCollective.on("click",e.onCollectiveClick),e.$markTrackFinished.on("click",e.onMarkTrackFinished),e.$markTrackUnfinished.on("click",e.onMarkTrackUnfinished),e.$markAlbumFinished.on("click",e.onMarkAlbumFinished),e.$markAlbumUnfinished.on("click",e.onMarkAlbumUnfinished),e.on("toggleAccess",e.onToggleAccess.bind(e)),e.on("toggleAccessError",e.onToggleAccessError.bind(e)),e.copy&&e.copy.on("error",e.onCopyError.bind(e)),e.share&&(e.share.on("shared",e.hide.bind(e)),e.share.on("loaded",e.onShareLoaded.bind(e))),e.addition&&(e.addition.on("actionError",e.hide.bind(e)),e.addition.on("actionSuccess",e.hide.bind(e))),e.toggler&&(e.toggler.on("toggleOn",e.toggleAccess.bind(e,!1)),e.toggler.on("toggleOff",e.toggleAccess.bind(e,!0)),e.toggler.on("changed",(function(){e.toggler.toggleDisabled(!0)}))),e.like&&(e.like.on("like",e.hide.bind(e)),e.like.on("unlike",e.hide.bind(e)))},p.prototype.markTrackFinished=function(){const t=this.helper.getEntity();t&&l.markFinished(t.id)},p.prototype.markTrackUnfinished=function(){const t=this.helper.getEntity();t&&l.markUnfinished(t.id)},p.prototype.markAlbumFinished=function(){const t=this.helper.getEntity();t&&l.markAlbumProgress(t.id,"finished")},p.prototype.markAlbumUnfinished=function(){const t=this.helper.getEntity();t&&l.markAlbumProgress(t.id,"unfinished")},p.prototype.toggle=function(){const t=this.helper.isDisabled&&this.helper.isDisabled();this.popup&&this.popup.isOpen||t||(this.popup=this.getPopup()),this.initPopup(),this.popup&&this.popup.toggle()},p.prototype.hide=function(){this.popup&&this.popup.hide()},p.prototype.getPopup=function(){const t=this;t.$popup=$(u(this.data));const i=new(Mu.blocks.get("popup"))(t.$popup,t.getSettings());return i.on("beforeshow",(function(){t.updatePosition()})),i.on("show",(function(){t.trigger("show",t),t.$itemForth.toggleClass("d-context-menu__item_hidden",a.isRadio()||e.isGenerative()),i.position()})),i.on("hide",(function(){t.addition.hide(),t.trigger("hide",t),t.toggleMain(!0)})),t.$popup.removeClass("_hidden"),i},p.prototype.updatePosition=function(){const t=$(".bar"),e=$(window),i=this.$opener;this.popup.position();const n=i.offset().top-e.scrollTop(),a=n+i.height()/2,s=a>(e.outerHeight()-t.outerHeight())/2;s?this.$popup.css({"max-height":n-i.height()/2}):this.$popup.css({"max-height":e.outerHeight()-a-i.height()}),this.popup.setOptions(this.getSettings(s))},p.prototype.getSettings=function(t){const e={resize:!1,toggable:!0,modal:!1,appendable:!0,position:{my:"right top",at:"right top+45px",of:this.$cont}};return t&&(e.position.my="right bottom-45px"),e},p.prototype.getShareInfo=function(){const t=this;if(t.data.track){const e=t.data.track.albums&&t.data.track.albums[0];return{type:"track",id:t.data.track.id+(e.id?"/"+e.id:""),content:t.shareHelper.getCode()}}return t.data.album?{type:"album",id:t.data.album.id,content:t.shareHelper.getCode()}:t.data.playlist?{type:"playlist",id:t.data.playlist.owner.login+"/"+t.data.playlist.kind,content:t.shareHelper.getCode()}:void 0},p.prototype.showIframe=function(){const t=this.getShareInfo();o.show(t.type,t.id,t.content),this.hide()},p.prototype.playRadio=function(){const t=this;let i,a,s;switch(t.helper.getType()){case"track":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток трека «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={radio_type:t.helper.getType(),radio_tag:s.id};break;case"album":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток альбома «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={album:s.id,radio_type:t.helper.getType(),radio_tag:s.id};break;case"playlist":s=t.helper.getEntity(),i={shortTitle:s.title,title:i18n("d-context-menu","[feature/mfront-3789]Поток плейлиста «%1»",s.title),href:t.helper.getLink(!0),from:n.getBlockFrom(t.container,"radio")},a={radio_type:t.helper.getType(),radio_tag:s.owner.login+"_"+s.kind}}const o=$(".player-controls__btn_play");r.setTarget(o),i&&e.playRadio(i,a)},p.prototype.showCollectiveAccess=function(){this.popup=this.getPopup(),this.initPopup(),this.collectiveAccess&&this.collectiveAccess.show()},p.prototype.toggleMain=function(t){const e=void 0===t||!!t;this.toggleShare(!e),this.toggleAddTab(!e)},p.prototype.toggleAddTab=function(t){const e=this,i=void 0!==t?!!t:!e.$popup.hasClass("d-context-menu__popup_add");e.$popup.toggleClass("d-context-menu__popup_add",i);const n={};e.data.track&&e.data.track.id&&(n.trackId=e.data.track.id),i&&(e.addition.show(),e.addition.loadPlaylists(n)),e.updatePosition()},p.prototype.toggleShare=function(t){const e=void 0!==t?!!t:!this.$popup.hasClass("d-context-menu__popup_share");this.$popup.toggleClass("d-context-menu__popup_share",e),this.updatePosition()},p.prototype.toggleItemState=function(e,i){const n=parseInt(e,10),a=Number.isNaN(n)?$(e):this.$cont.find("."+t).eq(n);if(a.is("."+t)){const t=void 0!==i?!i:a.hasClass("deco-popup-menu__item_disabled");a.toggleClass("deco-popup-menu__item_disabled",t),a.closest(".deco-popup-menu__item").toggleClass("deco-popup-menu__item_disabled",t)}},p.prototype.toggleAccess=function(t){const e=this,i=void 0!==t?!!t:!e.isPublic();e.isPublic()!==t&&s.changePlaylist("set-visibility",{kind:e.data.playlist.kind,visibility:i?"public":"private"}).then((function(t){t&&t.playlist&&(e.data.playlist.visibility=t.playlist.visibility,e.trigger("toggleAccess",e.isPublic()))})).catch((function(t){e.trigger("toggleAccessError",t)}))},p.prototype.isPublic=function(){return"public"===this.data.playlist.visibility},p.prototype.onCopyError=function(){this.$copy.addClass(".d-context-menu__copy_error"),this.$copy.find(".d-link").hide(),this.$copy.find(".d-input").show().find("input").select()},p.prototype.onShareLoaded=function(){this.$share.find("li").addClass("deco-popup-menu__item"),this.$share.find(".d-share__item").addClass("deco-popup-menu__item"),this.$share.find(".d-share__item .deco-link").addClass("deco-link_freezed"),this.$share.find(".d-share__item a").removeAttr("title")},p.prototype.onForthClick=function(){this.addition.addToSeq()},p.prototype.openDeletionTooltip=function(){const t=this;var e=i18n("d-context-menu","[feature/mfront-4659]Содержимое плейлиста будет удалено навсегда, без возможности восстановления."),i=i18n("d-context-menu","Удалить плейлист?"),n=Mu.blocks.get("d-tooltip").show(t.$itemDelete,{type:"confirm",side:t.$cont.closest(".sidebar").size()?"bottom":"right",content:"<div>"+e+"</div><div>"+i+"</div>",container:$(document.body),class:"d-context-menu__tooltip-delete",onShow:function(){t.$itemDelete.addClass("deco-popup-menu__item_active")},onHide:function(){t.$itemDelete.removeClass("deco-popup-menu__item_active")},onAgree:function(){s.changePlaylist("delete",{kind:t.data.playlist.kind}).then((function(e){return t.trigger("delete",e)})).catch((function(){}))},onDisagree:function(){n.hide()}});t.on("itemClick",(function(e,i){!$(i).is(t.$itemDelete)&&n.popup.isOpen&&n.hide()})),t.toggler&&t.toggler.on("changed",(function(){n.popup.isOpen&&n.hide()}))},p.prototype.onToggleAccessError=function(){this.onToggleAccess(this.isPublic())},p.prototype.onToggleAccess=function(t){const e=this;e.toggleItemState(e.$itemShare,e.helper.isShareEnabled()),e.toggleItemState(e.$itemCollective,e.helper.isPublic()),e.toggler&&(e.toggler.toggleDisabled(!1),e.toggler.isChecked()===!!t&&e.toggler.toggle(!t,!0))},p}())},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(431),s=i(437),o=i(441),r=i(442),function(t){var e="",i=a(t);return e+='<div class="d-context-menu__popup _hidden deco-popup-menu">',"playlist"===i.getType()&&(e+=" "+r(t)),"album"===i.getType()&&(e+=" "+o(t)),"track"===i.getType()&&(e+=" "+s(t)),e+="</div>"})},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(431),s=i(177),o=i(313),r=i(191),l=i(315),c=i(438),function(t){var e="",i=a(t),n=new s(t);return e+='<div class="d-context-menu__content d-context-menu__content_track"><div class="d-context-menu__tab d-context-menu__tab_add">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+o.render({inline:!0,entry:t.track,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+l.render({track:t.track,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+r.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+c({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">'+c({items:[{type:"mark-finished",icon:"mark-finished",text:i18n("d-context-menu","[feature/mfront-3314-podprog]Отметить прослушанным"),hidden:!i.isCanMarkFinished()},{type:"mark-unfinished",icon:"mark-unfinished",text:i18n("d-context-menu","[feature/mfront-3314-podprog]Отметить непрослушанным"),hidden:!i.isCanMarkUnfinished()},{type:"radio",icon:"radio",text:i18n("d-context-menu","[feature/mfront-3789]Поток по треку"),disabled:!i.isPlayEnabled()||i.isPrivateTrack()},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled()},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:i.isPrivateTrack()},{block:"d-like",type:"subscribe",params:{album:t.track.albums[0],size:"L",theme:"subscribe-podcast"},hidden:!i.isPodcastEpisode()}]})+"</div></div>"})},function(t,e,i,n){var a;t.exports=(a=i(439),function(t){var e="";if(t.items&&t.items.length){e+='<ul class="d-context-menu__list '+__escape(t.type?"d-context-menu__list_"+t.type:"")+' deco-popup-menu__item-group">';for(var i,n=0;n<t.items.length;n++)(i=t.items[n]).hidden||(e+=" "+a(i)+" ");e+="</ul>"}return e})},function(t,e,i,n){var a,s,o;t.exports=(a=i(318),s=i(141),o=i(440),function(t){var e='<li class="d-context-menu__item deco-popup-menu__item ';return t.type&&(e+="d-context-menu__item_"+__escape(t.type)),e+=" ",t.disabled&&(e+="deco-popup-menu__item_disabled"),e+='"> ',"d-like"===t.block?e+=" "+a.render(t.params)+" ":(e+=" ",t.icon&&(e+=' <span class="d-context-menu__item-icon">'+s.render({icon:t.icon})+"</span> "),e+=" ",t.toggler?e+=" "+o(t)+" ":e+=' <span class="d-context-menu__item-title">'+__escape(t.text)+"</span> ",e+=" "),e+="</li>"})},function(t,e,i,n){var a;t.exports=(a=i(332),function(t){return""+a.render({size:"xs",label:t.text,withoutValue:!0,checked:!!t.checked})})},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(431),s=i(177),o=i(313),r=i(191),l=i(315),c=i(438),function(t){var e="",i=a(t),n=new s(t);return e+='<div class="d-context-menu__content d-context-menu__content_album"><div class="d-context-menu__tab d-context-menu__tab_add">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+o.render({inline:!0,album:t.album,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+c({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+l.render({album:t.album,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+r.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+c({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">'+c({items:[{type:"mark-album-finished",icon:"mark-finished",text:i18n("d-context-menu","[feature/mfront-4169-1]Отметить всё прослушанным"),hidden:!i.isCanMarkFinished()},{type:"mark-album-unfinished",icon:"mark-unfinished",text:i18n("d-context-menu","[feature/mfront-4169-1]Отметить всё непрослушанным"),hidden:!i.isCanMarkUnfinished()},{type:"radio",icon:"radio",text:t.album&&"podcast"===t.album.type?i18n("d-context-menu","[feature/mfront-3789]Поток по подкасту"):t.album&&"fairy-tale"===t.album.type?i18n("d-context-menu","[feature/mfront-3881]Поток по сказке"):i18n("d-context-menu","[feature/mfront-3789]Поток по альбому"),disabled:!i.getTracksCount(),hidden:t.album&&"audiobook"===t.album.type},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled(),hidden:t.album.isShelfItem},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:!i.isShareEnabled()}]})+"</div></div>"})},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(431),s=i(177),o=i(336),r=i(313),l=i(191),c=i(315),d=i(438),function(t){var e="",i=a(t),n=new s(t);e+='<div class="d-context-menu__content d-context-menu__content_playlist"><div class="d-context-menu__tab d-context-menu__tab_add">'+d({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Добавить в плейлист")}]})+'<div class="d-context-menu__tab-inner">'+r.render({inline:!0,playlist:t.playlist,hideSeq:!0})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_share">'+d({type:"top",items:[{type:"main",icon:"arrow-left",text:i18n("d-context-menu","Поделиться")}]})+'<div class="d-context-menu__tab-inner">'+c.render({playlist:t.playlist,direction:"vertical",withoutText:!1,centered:!1,rounded:!0})+l.render({class:"deco-popup-menu__item",input:{size:"M",readonly:!0,class:"deco-popup-menu__input",value:n.getLink()},link:{icon:"chainlink",text:i18n("d-context-menu","Скопировать ссылку"),style:"freezed"},successText:i18n("d-context-menu","Ссылка скопирована")})+d({items:[{type:"html",icon:"tag",text:i18n("d-context-menu","HTML-код")}]})+'</div></div><div class="d-context-menu__tab d-context-menu__tab_main">';var u=[{type:"radio",icon:"radio",text:i18n("d-context-menu","[feature/mfront-3789]Поток по плейлисту"),disabled:!i.getTracksCount()},{type:"forth",icon:"playlist-next",text:i18n("d-context-menu","Добавить в очередь"),disabled:!i.isPlayEnabled(),hidden:t.playlist.isShelfItem},{type:"add",icon:"plus-big",text:i18n("d-context-menu","Добавить в плейлист"),disabled:!i.getTracksCount()},{type:"share",icon:"share",text:i18n("d-context-menu","Поделиться"),disabled:!i.isShareEnabled()}],p=[{type:"delete",icon:"trash-wide",text:i18n("d-context-menu","Удалить плейлист")},{type:"collective",icon:"two-persons",text:i18n("d-context-menu","Добавить соавтора"),disabled:!i.isPublic()},{type:"private",toggler:!0,checked:!i.isPublic(),text:i18n("d-context-menu","Приватный плейлист")}];i.shouldHideCollective()&&p.splice(1,1);var h=i.isOwner()&&!i.isLikes()?[].concat(u,p):u;return e+=d({items:h})+"</div>",i.isOwner()&&!i.isLikes()&&(e+=o.render({text:i18n("d-context-menu","Добавить соавтора"),playlist:t.playlist})),e+="</div>"})},function(t,e,i,n){Mu.blocks.register("dislike",function(){var t,e,i,n,a,s,o=function(){Mu.eventize(this)};return o.init=function(o){t=o.get("auth"),i=o.get("blocks"),e=o.get("dislikes"),n=o.get("metrika"),a=o.get("froms"),s=o.get("seq"),this.domDelegate("click",(function(t){i.forElem(this,"dislike").onClick(t)}))},o.prototype.getDislikedText=function(t){return t.artist?i18n("dislike","[feature/forceauth-tooltip-text]Войдите, и мы запомним, что вам не нравится этот исполнитель"):t.entry&&t.entry.track&&"podcast-episode"===t.entry.track.type?i18n("dislike","[feature/mfront-3026]Войдите, и мы запомним, что вам не нравится этот выпуск"):i18n("dislike","[feature/like-login-popup]Войдите, и мы запомним, что вам не нравится этот трек")},o.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon"),this.$button=this.$cont.find(".d-button");var t=this.$cont.closest(".bar");this.tooltip=Mu.blocks.get("d-tooltip").getTooltip(this.$button.size()?this.$button:this.$icon,{container:t.size()?t:this.$cont.parent(),type:"notice",theme:"black",side:t.size()?"right":"left",withMinWidth:!0,agreeLabel:i18n("log-in","Войти"),content:this.getDislikedText(this.data),onShow:function(t,e){this.trigger("tooltip.show"),n.count({authPopupShown:{dislike:1}}),e.popup.position()}.bind(this),onHide:function(){this.trigger("tooltip.hide")}.bind(this),onAgree:function(){n.count({authPopupButtonClick:{dislike:1}}),this.authAction("dislike_popup")}.bind(this)})},o.prototype.setData=function(t){this.data=$.extend(this.data,t)},o.prototype.repaint=function(){var t=Mu.render(this.constructor.type,this.data);i.initPendingBlocks(t),$(this.container).replaceWith(t),this.container=t},o.prototype.onClick=function(){t.isLoggedIn()?this.data.track||this.data.entry&&this.data.entry.track?this.toggleTrack():this.toggle():this.tooltip?this.tooltip.toggle():this.authAction()},o.prototype.authAction=function(e){t.showAuthForm((function(){}),e||"dislike")},o.prototype.toggleTrack=function(){var t=a.getBlockName(this.data),e=a.getCardFrom(this.container,t),i=a.getBlockFrom(this.container,t),n=this.data.entry.track,o=s.isDisliked(n);s[o?"undislike":"dislike"](n,i,e)},o.prototype.toggle=function(){var t=a.getBlockName(this.data),i=a.getCardFrom(this.container,t),s=a.getBlockFrom(this.container,t),o=$.extend({from:s},this.data),r=e.toggle(o);n.goal(r?"DISLIKE":"REMOVE",{dislikeFrom:i})},o}())},function(t,e,i,n){var a=i(445);Mu.blocks.register("dont-pay-popup",function(){let t,e,i;const n=function(){};return n.init=function(n){t=n.get("dataSrc"),i=n.get("metrika"),e=Mu.blocks.get("popup")},n.prototype.init=function(){this.checked=!1,this.available=!1,this.pendingShow=!1,this.$cont=$(this.container),this.$cont.on("click",".dont-pay-popup__close",this.closePopup.bind(this)),this.$cont.on("click",".dont-pay-popup__activate",this.activatePromocode.bind(this)),$(document).on("dontPayPopupRequest",this.popupRequest.bind(this)),this.checkAvailability()},n.prototype.checkAvailability=function(){if(this.checked)return;if(this.checked=!0,!(Mu.authData&&Mu.authData.user&&Mu.authData.user.uid)||Mu.authData.user.havePlus)return;const e=Mu&&Mu.experiments&&Mu.experiments.WebDontPayPopup;e&&t.get("experiment",{key:"WebDontPayPopup",value:e},{nocache:!0}).then(e=>{if(e&&e.metadata&&e.metadata.type&&e.metadata.promocode)return this.code=e.metadata.promocode,this.experimentType=e.metadata.type,t.post("payment-validate-promo-code",{code:this.code},{nocache:!0});throw new Error("Invalid data")}).then(t=>{t.validForUser&&(this.available=!0,this.sendMetrika("Available"),this.pendingShow&&this.showPopup())}).catch(()=>{})},n.prototype.popupRequest=function(t,e){let i;this.eventCallback=e.callback;try{i=this.experimentType.split(",").map(t=>t.trim())}catch(t){this.callEventCallback()}if(!i||!Array.isArray(i))return void this.callEventCallback();const n=e.condition;i.includes(n)?(this.requestCondition=n,this.showPopup()):this.callEventCallback()},n.prototype.showPopup=function(){this.checked||(this.pendingShow=!0),this.available?(this.createPopup(),this.popup.show(),this.sendMetrika("Opened")):this.callEventCallback()},n.prototype.createPopup=function(){if(this.popup)return;const t=$(a());this.$cont.html(t),this.popup=new e(this.container,{resize:!0,persistent:!0,modal:!0,fixed:!0,overlayClass:"dont-pay-popup__overlay"})},n.prototype.closePopup=function(t){t.preventDefault(),t.stopPropagation(),this.popup.hide(),this.callEventCallback(),this.sendMetrika("Closed")},n.prototype.activatePromocode=function(e){e.preventDefault(),e.stopPropagation(),this.code&&(this.sendMetrika("Navigated"),t.post("payment-promo-code",{code:this.code},{nocache:!0}).then(t=>{t.success&&this.showSuccess()}))},n.prototype.showSuccess=function(){this.sendMetrika("Succeed");const t=this.requestCondition.split("_")[1];"close"!==t?"widget"===t&&window.top.location.reload():window.top.location.href="/home"},n.prototype.sendMetrika=function(t){const e={PopUp:{[t]:{page_type:"landing",_meta:{event:{version:1}}}}};i.count(e,"Widget")},n.prototype.callEventCallback=function(){this.eventCallback&&(this.eventCallback.call(),this.eventCallback=null)},n}())},function(t,e,i,n){t.exports=function(){const t=i(143);return function(e){return'<div class="dont-pay-popup__popup deco-popup"><div class="dont-pay-popup__close"></div><div class="dont-pay-popup__content local-theme-white"><div class="dont-pay-popup__content-main"><div class="dont-pay-popup__header">'+i18n("dont-pay-popup","[feature/mfront-4147]Дарим вам Плюс <br>просто так")+'</div><div class="dont-pay-popup__text">'+i18n("dont-pay-popup","[feature/mfront-4147]Без привязки карты, на 7 дней, <br>с рекомендациями от Моей волны, <br>фильмами и всем-всем")+"</div>"+t.render({size:"L",type:"action",text:i18n("dont-pay-popup","[feature/mfront-4147]Забираю, спасибо!"),type:"rainbow",class:"dont-pay-popup__activate"})+'</div><div class="dont-pay-popup__content-info">'+i18n("dont-pay-popup",'[feature/mfront-4337]Нажимая на кнопку «Забираю, спасибо!», пользователь соглашается с подключением подписки Яндекс Плюс на 7 дней бесплатно (условия: <a href="https://clck.ru/FMQND" target="_blank">clck.ru/FMQND</a>). Предложение до 31.07.22. Пользователь вправе отказаться от подключения подписки, закрыв коммуникацию. Подробнее: <a href="https://clck.ru/h7Zqu" target="_blank">https://clck.ru/h7Zqu</a>')+"</div></div></div>"}}()},function(t,e,i,n){var a,s;Mu.blocks.register("editorial",((s=function(){}).init=function(t){a=t.get("froms")},s.prototype.init=function(){this.$cont=$(this.container),this.delegate("button-play.getContext",this.getContext),this.data.adPixel&&((new Image).src=this.data.adPixel)},s.prototype.getContext=function(t){return t.stopBubble=!0,{id:"editorial-"+this.data.promoId,entries:this.data.tracks.map((function(t){return{album:t.albums[0],track:t}})),from:this.getFrom(),shortTitle:this.data.title,title:this.data.title,href:location.href}},s.prototype.setSelected=function(){},s.prototype.getFrom=function(){var t="promo"+(this.data.promoId?"_"+this.data.promoId:"");return a.getBlockFrom(this.container,t)},s))},function(t,e,i,n){const a=i(14);Mu.blocks.register("footer",function(){let t;const e=function(){};return e.init=function(e){t=e.get("pages")},e.prototype.init=function(){this.$cont=$(this.container),t.on("loaded",this.onUpdate.bind(this))},e.prototype.onUpdate=function(t){this.pageData=t.data,this.pageName=t.templateName,"page-playlist"===this.pageName&&this.isPlaylistOwner()?this.$cont.addClass("footer_padded"):this.$cont.removeClass("footer_padded")},e.prototype.isPlaylistOwner=function(){return this.pageData.playlist&&this.pageData.playlist.owner.login===a().login},e}())},function(t,e,i,n){const a=i(73);Mu.blocks.register("force-auth-tooltip",function(){const t=function(){};return t.init=function(){this.isMobile=a().uatraits.isMobile||a().uatraits.isTablet},t.show=function(t){if(!this._target)return;const e=t.onAgree||(()=>{}),i=t.content||i18n("force-auth-popup","[feature/mfront-2166]Войдите, чтобы послушать целиком");this.tooltip=Mu.blocks.get("d-tooltip").getTooltip(this._target,{type:"notice",side:this.isMobile?"bottom":"right",theme:"black",withMinWidth:!0,fade:!0,content:i,agreeLabel:i18n("force-auth-popup","[feature/hard-musicloginwall]Войти"),onAgree:e,onBeforeShow:this.onBeforeShow,onHide:this.onHide}),this.tooltip&&this.tooltip.show()},t.setTarget=function(t){this._target=t},t.onBeforeShow=function(t,e){e.triggerEvent({type:"force-auth-tooltip.showed"})},t.onHide=function(t,e){e.triggerEvent({type:"force-auth-tooltip.hided"})},t}())},function(t,e,i,n){var a=i(450);Mu.blocks.register("gdpr-popup",function(){var t,e,i,n,s,o,r,l=!1,c=function(){};return c.init=function(a){t=a.get("auth"),i=a.get("pages"),n=a.get("layout"),s=a.get("metrika"),e=a.get("dataSrc"),o=a.get("storage"),i.on("loaded",c.check)},c.check=function(){i.off("loaded",c.check);try{r=JSON.parse(o.getItem("gdpr-welcome"))||{}}catch(t){r={}}var n=t.user.uid;r.hasOwnProperty(n)&&(!r[n]||r[n]>Date.now())||e.get("gdpr-welcome").then((function(t){t.show?c.show(t):c.setData(t.expires)}))},c.show=function(t){c.showOverlay(),(c.popup=c.createPopup(t)).show(),Mu.blocks.initPendingBlocks(c.popup.$cont)},c.hide=function(){c.popup&&c.popup.isOpen&&(c.popup.hide(),c.hideOverlay())},c.showOverlay=function(){c.$overlay=$(Mu.render("overlay")),$(document.body).append(c.$overlay),c.$overlay.addClass("overlay_shown overlay_gdpr")},c.hideOverlay=function(){c.$overlay&&c.$overlay.remove()},c.createPopup=function(t){var e;if(c.popup)e=c.popup;else{var i=$(a(t));$(document.body).append(i),(e=new(Mu.blocks.get("popup"))(i,{resize:!0,persistent:!0,toggable:!0,modal:!1,position:{my:"center",at:"center",of:window}})).block=Mu.blocks.forElem(i[0]),e.on("show",n.lockScroll.bind(n)),e.on("hide",e.block.onHide)}return l||(l=!0,e.$cont.off(),Mu.blocks.initPendingBlocks(e.$cont[0]),e.block.initContent(t)),e},c.setData=function(e){r[t.user.uid]=e?Date.now()+864e5:0,o.setItem("gdpr-welcome",JSON.stringify(r))},c.prototype.init=function(){this.$cont=$(this.container),this.onButton=this.onButton.bind(this),this.onLink=this.onLink.bind(this)},c.prototype.initContent=function(){s.count({"gdpr-popup":"shown"}),e.post("gdpr-welcome-feedback"),c.setData(),this.$cont.on("click",".gdpr-popup__button",this.onButton),this.$cont.on("click",".gdpr-popup__description a",this.onLink)},c.prototype.onLink=function(){s.count({"gdpr-popup":"help"})},c.prototype.onButton=function(){s.count({"gdpr-popup":"button"}),c.hide()},c.prototype.onHide=function(){n.unlockScroll(),s.count({"gdpr-popup":"hidden"}),c.hide()},c}())},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(451),n=i(108),a=i(151);return function(i){var s="",o=""+a.render({text:i18n("gdpr-popup","[feature/mfront-4200]Яндекс Помощи"),href:"https://yandex.com/support/music-app-ios/data-collection-gdpr.html",class:"gdpr-popup__text",target:"_blank"}),r=""+a.render({text:i18n("gdpr-popup","[feature/gdpr-things]Политике использования cookie"),href:"https://yandex.com/legal/cookies_policy_eng/",target:"_blank"});return s+='<div class="gdpr-popup '+__escape(n.current().classes("local"))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"gdpr-popup",!0))+'">'+e.render({theme:n.current().get("logo"),type:"music",link:"none"})+'<h2 class="gdpr-popup__title typo typo-h2">'+__escape(i18n("gdpr-popup","[feature/gdpr-things]Прежде, чем начнём"))+'</h2><p class="gdpr-popup__description typo typo-main deco-typo-secondary deco-link-parent deco-link-parent_marked">'+i18n("gdpr-popup","[feature/mfront-3990-1]Должны предупредить: Яндекс&nbsp;Музыка собирает данные о пользователях. Эти данные, например, файлы cookie, помогают делать сервис более персональным и улучшают ваш опыт в Музыке. О том, какие данные собираются и как их обрабатывают, читайте в %1 и в %2",o,r)+"</p>"+t.render({type:"action",size:"L",text:i18n("gdpr-popup","[feature/gdpr-things]Хорошо"),rounded:!0,class:"gdpr-popup__button"})+"</div>"}}()},function(t,e,i,n){var a={render:i(452)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(223),function(t){var e="";const i="ru"===Mu.settings.tld?"https://ya.ru":"https://yandex."+Mu.settings.tld;return e+='<span class="d-logo d-logo__'+__escape(Mu.settings.lang),t.theme&&(e+=" d-logo__"+__escape(t.theme)+" d-logo__"+__escape(t.theme)+"__"+__escape(Mu.settings.lang)),t.type&&(e+=" d-logo__"+__escape(t.type)+" d-logo__"+__escape(t.type)+"__"+__escape(Mu.settings.lang)),t.class&&(e+=" "+__escape(t.class)),e+='">',"none"===t.link?e+=' <span class="d-logo__ya"></span> ':"self"===t.link?e+=' <a class="d-logo__ya" href="/"></a> ':e+=' <a class="d-logo__ya" href="'+__escape(i)+'" rel="noopener" target="_blank"></a> ',"none"===t.link?e+='<span class="d-logo__ya-sub" href="/"></span>':e+='<a class="d-logo__ya-sub" href="/"></a>',"plus"===t.type&&(e+=a.render({type:"rainbow",class:"d-logo__plus-badge",size:"L"})),e+="</span>"})},function(t,e,i,n){var a=i(120),s=i(454),o=i(460),r=i(463),l=i(156);Mu.blocks.register("head",function(){var t,e,i,n,c=["artist","album","label","track","users","playlist","mix","tag","genre","tag","home","main","post","index","search","radio","metatag"],d=function(t){var e=$(t);this.$cont=e,this.$form=e.find("form"),this.$user=e.find(".head__user"),this.$logo=e.find(".d-logo__ya"),this.$button=e.find(".head__suggest-button"),this.$nav=e.find(".head__nav"),Mu.eventize(this)};return d.init=function(){},d.prototype.init=function(s){e=s.get("auth"),i=s.get("metrika"),t=s.get("blocks"),n=s.get("pages"),DataSrc=s.get("dataSrc"),Storage=s.get("storage"),s.get("pages").on("loaded",this.onPageLoaded.bind(this)),this.onAuthInfo(e||{}),e.on("info",this.onAuthInfo.bind(this)),this.$button.on("click",function(t){this.trigger("buttonClick",t)}.bind(this)),this.$user.on("click",".head__user-button",(function(){i.count({head:{my:"button"}})})),this.$user.on("click",".head__user-tab",(function(){i.count({head:{my:"tab"}})})),this.multiAuth=new(Mu.blocks.get("multi-auth"))({toggle:".head__userpic"}),this.$user.on("click",".head__userpic",function(t){t.preventDefault(),this.multiAuth&&this.multiAuth.show()}.bind(this)),this.yandexPlusState=a,this.onLoaded=this.onLoaded.bind(this),n.on("loaded",this.onLoaded)},d.prototype.destroy=function(){n.off("loaded",this.onLoaded)},d.prototype.onLoaded=function(){this.suggestLogin(),e&&e.user&&e.user.uid&&e.user.plus&&e.user.plus.hasPlus&&l.isRussiaRegion()},d.prototype.suggestLogin=function(){var t=this,i=$.cookie("yandexuid");if(!(e.isLoggedIn()||t.suggestPopup&&!0===t.suggestPopup.closed)&&i&&c.includes(Mu.pages.current.name)){i&&$.ajax({type:"GET",url:Mu.settings.passportApi+"suggested_accounts",data:{popup:"yes",yu:i},dataType:"json",xhrFields:{withCredentials:!0},success:function(n){if(n&&n.accounts&&n.accounts.length>0){const s=n.accounts[0];s.name=s.display_name,s.avatarHash=s.avatar&&s.avatar.default;var a=$(r(s));Mu.blocks.initPendingBlocks(a),t.suggestPopup?t.suggestPopup.$cont.html(a.html()):($(".head").append(a),t.suggestPopup=new(Mu.blocks.get("popup"))(a,{toggable:!0,persistent:!0,notHideOnScroll:!0,resize:!0}),t.suggestPopup.$cont.on("click",".head__suggest-agree",(function(){e.showAuthForm((function(){}),"suggest"),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head__suggest-disagree",(function(){e.showAuthForm((function(){}),"suggest",{params:{mode:"adduser"}}),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head__suggest-close",(function(){var e=function(){t.suggestPopup.closed=!0,t.suggestPopup.hide()};$.ajax({type:"POST",url:Mu.settings.passportApi+"suggested_accounts/close",data:{yu:i},dataType:"json",xhrFields:{withCredentials:!0},error:e,success:e,cache:!1})}))),t.suggestPopup.show()}},cache:!1})}},d.prototype.onAuthInfo=function(e){(e=e.user||{}).login?(this.$user.html(s(e)),t.initPendingBlocks(this.$user),this.$nav.html(Mu.render("nav",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)):(this.$user.html(o(e)),this.$nav.html(Mu.render("nav",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)),i.count({logined:e.uid?"yes":"no"}),i.count({premium:e.premium?"yes":"no"})},d.prototype.onPageLoaded=function(t){"users"!==t.name&&"playlist"!==t.name||!e.isLoggedIn()||t.owner!==e.user.login?this.$user.find(".head__user-button").removeClass("current"):this.$user.find(".head__user-button").addClass("current")},d}())},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(226),s=i(455),o=i(119),r=i(231),function(t){var e='<a class="nav__tab nav__link typo-nav typo-nav_contrast hyperactive head__user-button" href="'+__escape("/users/"+t.login+"/playlists")+'"><span class="d-icon d-icon_heart"/>'+__escape(r("myMusic"))+"</a>";return o.canUseMusicInRegion()&&(e+=s.render({class:"head__plus-points"})),e+=a.render({user:t,size:"L",showAvatar:!0,class:"head__userpic",showPlusMarker:!0})})},function(t,e,i,n){var a={render:i(456)};clientSide&&(a.controller=i(457)),t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="plus-points '+__escape(t.class)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"plus-points",!0))+'"></div>'}},function(t,e,i,n){const a=i(458),s=i(459);Mu.blocks.register("plus-points",function(){let t,e;const i=function(){};return i.init=function(i){DataSrc=i.get("dataSrc"),Storage=Mu.Storage.create("localStorage"),t=i.get("auth"),e=i.get("metrika")},i.prototype.init=function(){this.$cont=$(this.container),t.isLoggedIn()&&this.renderWrapper()},i.prototype.renderWrapper=function(){const e=t.user&&t.user.MBError;this.$cont.html(s({hasPlus:a.hasPlus(),MBError:e}))},i.prototype.onClick=function(){e.count({head:{plusCashback:1}})},i}())},function(t,e,i,n){t.exports=i(120)},function(t,e,i,n){t.exports=function(){i(458);const t=i(151),e=i(73);return function(i){var n="",a='<span class="plus-points__text typo-main">'+__escape(i18n("plus-points","[feature/plus-points]плюс"))+"</span>";const s="https://plus.yandex."+e().tld;return n+=t.render({href:i.hasPlus?s+"#cashback":s,content:a,noHoverColor:!0,class:"plus-points__wrapper local-theme-black typo-default"})}}()},function(t,e,i,n){var a;t.exports=(a=i(461),function(t){return""+a.render({buttonType:"button",size:"L",class:"button_action",from:"button-header"})})},function(t,e,i,n){var a={render:i(462)};clientSide&&(a.controller=i(211)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(42),s=i(73),function(t){var e="",i=(t.class||"")+" log-in not-handled",n=(t.from?"music_"+t.from:t.msg)||"music",o=s().passport+"auth?origin="+n+"&retpath="+a("settings"),r=function(){return""+Mu.render(t.buttonType,{text:t.buttonText||i18n("log-in","[feature/dot-log-in]Войти"),href:t.noLink?"":o,attrs:{"data-from":t.from}},[t.size,i])};return"span"===t.type?e+='<span class="log-in" href="'+__escape(o)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"log-in",!0))+'">'+r()+"</span>":t.buttonType?e+=r():e+='<a class="log-in link link_major not-handled '+__escape(t.class||"")+'" href="'+__escape(o)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"log-in not-handled"))+'">'+(t.text||i18n("log-in","[feature/dot-log-in]войдите или зарегистрируйтесь"))+"</a>",e})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(151),a=i(226);return function(i){return'<div class="head__suggest-popup">'+e.render({icon:"cross-small",class:"popup__close head__suggest-close"})+'<div class="head__suggest-info">'+a.render({user:i,size:"Large",showAvatar:!0,showName:!0,class:"typo_bold"})+'<span class="head__suggest-question typo">'+__escape(", "+i18n("head","это вы?"))+'</span></div><div class="head__suggest-actions">'+t.render({size:"M",type:"action",text:i18n("head","Да, войти"),class:"head__suggest-agree"})+n.render({text:i18n("head","Другой аккаунт"),class:"head__suggest-disagree typo",style:"muted"})+"</div></div>"}}()},function(t,e,i,n){var a=i(120),s=i(465),o=i(468),r=i(469),l=i(156);Mu.blocks.register("head-kids",function(){var t,e,i,n,c=["artist","album","label","track","users","playlist","mix","tag","genre","tag","home","main","post","index","search","radio","metatag"],d=function(t){var e=$(t);this.$cont=e,this.$form=e.find("form"),this.$user=e.find(".head-kids__user"),this.$logo=e.find(".d-logo__ya"),this.$button=e.find(".head-kids__suggest-button"),this.$nav=e.find(".head-kids__nav"),Mu.eventize(this)};return d.init=function(){},d.prototype.init=function(s){e=s.get("auth"),i=s.get("metrika"),t=s.get("blocks"),n=s.get("pages"),DataSrc=s.get("dataSrc"),Storage=s.get("storage"),s.get("pages").on("loaded",this.onPageLoaded.bind(this)),this.onAuthInfo(e||{}),e.on("info",this.onAuthInfo.bind(this)),this.$button.on("click",function(t){this.trigger("buttonClick",t)}.bind(this)),this.$user.on("click",".head-kids__user-button",(function(){i.count({head:{my:"button"}})})),this.$user.on("click",".head-kids__user-tab",(function(){i.count({head:{my:"tab"}})})),this.$user.on("click",".head-kids__promocode-link",(function(){i.count("promocode_click")})),this.multiAuth=new(Mu.blocks.get("multi-auth"))({toggle:".head-kids__userpic"}),this.$user.on("click",".head-kids__userpic",function(t){t.preventDefault(),this.multiAuth&&this.multiAuth.show()}.bind(this)),this.yandexPlusState=a,this.onLoaded=this.onLoaded.bind(this),n.on("loaded",this.onLoaded)},d.prototype.destroy=function(){n.off("loaded",this.onLoaded)},d.prototype.onLoaded=function(){this.suggestLogin(),e&&e.user&&e.user.uid&&e.user.plus&&e.user.plus.hasPlus&&l.isRussiaRegion()},d.prototype.suggestLogin=function(){var t=this,i=$.cookie("yandexuid");if(!(e.isLoggedIn()||t.suggestPopup&&!0===t.suggestPopup.closed)&&i&&c.includes(Mu.pages.current.name)){i&&$.ajax({type:"GET",url:Mu.settings.passportApi+"suggested_accounts",data:{popup:"yes",yu:i},dataType:"json",xhrFields:{withCredentials:!0},success:function(n){if(n&&n.accounts&&n.accounts.length>0){const s=n.accounts[0];s.name=s.display_name,s.avatarHash=s.avatar&&s.avatar.default;var a=$(r(s));Mu.blocks.initPendingBlocks(a),t.suggestPopup?t.suggestPopup.$cont.html(a.html()):($(".head").append(a),t.suggestPopup=new(Mu.blocks.get("popup"))(a,{toggable:!0,appendable:!0,persistent:!0,notHideOnScroll:!0,resize:!0}),t.suggestPopup.$cont.on("click",".head-kids__suggest-agree",(function(){e.showAuthForm((function(){}),"suggest"),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head-kids__suggest-disagree",(function(){e.showAuthForm((function(){}),"suggest",{params:{mode:"adduser"}}),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head-kids__suggest-close",(function(){var e=function(){t.suggestPopup.closed=!0,t.suggestPopup.hide()};$.ajax({type:"POST",url:Mu.settings.passportApi+"suggested_accounts/close",data:{yu:i},dataType:"json",xhrFields:{withCredentials:!0},error:e,success:e,cache:!1})}))),t.suggestPopup.show()}},cache:!1})}},d.prototype.onAuthInfo=function(e){(e=e.user||{}).login?(this.$user.html(s(e)),t.initPendingBlocks(this.$user),this.$nav.html(Mu.render("nav-kids",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)):(this.$user.html(o(e)),this.$nav.html(Mu.render("nav-kids",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)),i.count({logined:e.uid?"yes":"no"}),i.count({premium:e.premium?"yes":"no"})},d.prototype.onPageLoaded=function(t){"users"!==t.name&&"playlist"!==t.name||!e.isLoggedIn()||t.owner!==e.user.login?this.$user.find(".head-kids__user-button").removeClass("current"):this.$user.find(".head-kids__user-button").addClass("current")},d}())},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(226),s=i(455),o=i(119),i(231),i(151),r=i(466),l=i(467),function(t){var e="";const i=l.getExperiments();return("shapka"===i.WebPromocodeMain||"all"===i.WebPromocodeMain)&&!t.havePlus&&(e+=r()),o.canUseMusicInRegion()&&(e+=s.render({class:"head-kids__plus-points"})),e+=a.render({user:t,size:"L",showAvatar:!0,class:"head-kids__userpic",showPlusMarker:!0})})},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(467),function(t){var e="",i=s.plusHost()+"/gift?serviceName=music&promoName=music_common",n='<div class="promocode-link__text">'+i18n("head-kids","[feature/mfront-4501]Активировать промокод")+'</div> <div title="'+i18n("head-kids","[feature/mfront-4501]Активировать промокод")+'" class="icon__wrapper"> <svg class="promocode-link__icon" width="24" height="24" fill-rule="evenodd" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)" fill="currentColor"><path d="m1.345 12.749.53.53-.53-.53Zm11.27-11.27-.53-.53.53.53Zm2.828 0-.53.53.53-.53Zm1.996 1.995.557.502a.75.75 0 0 0-.027-1.032l-.53.53Zm2.824 2.824.53-.53a.75.75 0 0 0-1.032-.027l.502.557Zm1.998 1.998-.53.53.53-.53Zm0 2.829.53.53-.53-.53Zm-11.27 11.27-.53-.53.53.53Zm-2.828 0-.53.53.53-.53ZM6.057 20.29l-.54-.52a.75.75 0 0 0 .01 1.05l.53-.53Zm-2.828-2.828-.53.53a.75.75 0 0 0 1.05.011l-.52-.54ZM.814 12.218a2.75 2.75 0 0 0 0 3.89l1.06-1.061a1.25 1.25 0 0 1 0-1.768l-1.06-1.06ZM12.084.948.814 12.218l1.06 1.061 11.271-11.27-1.06-1.06Zm3.89 0a2.75 2.75 0 0 0-3.89 0l1.061 1.06a1.25 1.25 0 0 1 1.768 0l1.06-1.06Zm1.995 1.996L15.973.948l-1.06 1.06 1.995 1.996 1.061-1.06Zm.073 2.751a1.25 1.25 0 0 1-.046-1.72L16.88 2.973a2.75 2.75 0 0 0 .1 3.784l1.061-1.06Zm1.72.046a1.25 1.25 0 0 1-1.72-.046l-1.06 1.06a2.75 2.75 0 0 0 3.783.1l-1.004-1.114Zm3.03 2.025-1.998-1.998-1.061 1.06 1.998 1.999 1.06-1.06Zm0 3.89a2.75 2.75 0 0 0 0-3.89l-1.061 1.06a1.25 1.25 0 0 1 0 1.769l1.06 1.06Zm-11.27 11.27 11.27-11.27-1.061-1.061-11.27 11.27 1.06 1.06Zm-3.89 0a2.75 2.75 0 0 0 3.89 0l-1.061-1.061a1.25 1.25 0 0 1-1.768 0l-1.06 1.06ZM5.526 20.82l2.106 2.105 1.06-1.06-2.105-2.106-1.06 1.06Zm-.028-2.8a1.25 1.25 0 0 1 .018 1.75l1.081 1.04a2.75 2.75 0 0 0-.038-3.851l-1.06 1.06Zm-1.75-.018a1.25 1.25 0 0 1 1.75.018l1.061-1.061a2.75 2.75 0 0 0-3.85-.038l1.04 1.081ZM.815 16.107l1.884 1.885L3.76 16.93l-1.884-1.884-1.06 1.06ZM10.046 13.647a1.5 1.5 0 1 1-2.121 2.121 1.5 1.5 0 0 1 2.121-2.12ZM12.875 10.819a1.5 1.5 0 1 1-2.122 2.121 1.5 1.5 0 0 1 2.122-2.121ZM15.703 7.99a1.5 1.5 0 1 1-2.121 2.122 1.5 1.5 0 0 1 2.121-2.122Z"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h24v24H0z"/></clipPath></defs></svg></div>';return e+='<div class="head-kids__promocode-link"> '+a.render({href:i,content:n,noHoverColor:!0})+"</div>"})},function(t,e,i,n){const a=i(73);t.exports={plusHost:()=>"https://plus.yandex."+a().tld,getExperiments:()=>Mu.experiments}},function(t,e,i,n){var a,s,o;t.exports=(a=i(461),s=i(466),o=i(467),function(t){var e="";const i=o.getExperiments();return("shapka"===i.WebPromocodeMain||"all"===i.WebPromocodeMain)&&(e+=s()),e+=a.render({buttonType:"button",size:"L",class:"head-kids__button_login button_action",from:"button-header"})})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(151),a=i(226);return function(i){return'<div class="head-kids__suggest-popup">'+e.render({icon:"cross-small",class:"popup__close head-kids__suggest-close"})+'<div class="head-kids__suggest-info">'+a.render({user:i,size:"Large",showAvatar:!0,showName:!0,class:"typo_bold"})+'<span class="head-kids__suggest-question typo">'+__escape(", "+i18n("head-kids","это вы?"))+'</span></div><div class="head-kids__suggest-actions">'+t.render({size:"M",type:"action",text:i18n("head-kids","Да, войти"),class:"head-kids__suggest-agree"})+n.render({text:i18n("head-kids","Другой аккаунт"),class:"head-kids__suggest-disagree typo",style:"muted"})+"</div></div>"}}()},function(t,e,i,n){var a;Mu.blocks.register("head-progress",((a=function(){this.progress=0,this.animateDelay=void 0,this.maxStep=.35}).prototype.init=function(){this.$cont=$(this.container)},a.prototype.startAnimate=function(){this.setProgress(0),this.toggle(!0),this.animate()},a.prototype.endAnimate=function(){var t=this;t.animateDelay&&(clearTimeout(t.animateDelay),t.animateDelay=void 0),t.animate(1),setTimeout((function(){t.toggle(!1),t.setProgress(0)}),700)},a.prototype.setProgress=function(t){this.$cont.css({width:100*t+"%"}),this.progress=t},a.prototype.toggle=function(t){return void 0===t?t=this.$cont.toggleClass("head-progress_on"):(t=!!t,this.$cont.toggleClass("head-progress_on",t)),t},a.prototype.animate=function(t){var e=this;e.animateDelay=setTimeout((function(){t=t||e.getRandom(e.progress,Math.min(e.progress+e.maxStep,1)),e.setProgress(t),1===e.progress?e.animateDelay=void 0:e.progress<.85&&e.animate()}),50)},a.prototype.getRandom=function(t,e){return Math.random()*(e-t)+t},a))},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("hq",((r=function(){}).init=function(t){o=t.get("auth"),a=t.get("metrika"),s=t.get("adapter")},r.prototype.init=function(){this.$cont=$(this.container),this.$btn=this.$cont.find(".hq__icon"),this.$btnIcon=this.$btn.find(".d-icon");var t=window.navigator&&window.navigator.userAgent||"";if(t.indexOf("Googlebot")>=0||t.indexOf("YandexBot")>=0||t.indexOf("bingbot")>=0||t.indexOf("Slurp")>=0)this.$cont.remove();else if(this.payment=Mu.blocks.forElem(this.$cont.find(".d-payment-show")[0]),this.$cont.on("click",this.toggle.bind(this)),this.delegate("d-payment-show.login",function(t){t.target&&t.target.data&&"HQ"===t.target.data.from&&!s.getHQ()&&this.toggle(t)}.bind(this)),o.on("info",this.onAuth.bind(this)),this.updateState(),!o.isLoggedIn()){var e=this.$cont.closest(".bar");this.tooltip=Mu.blocks.get("d-tooltip").getTooltip(this.$cont,{container:e.size()?e:this.$cont.parent(),type:"notice",theme:"black",side:"left",event:"click",agreeLabel:i18n("log-in","Войти"),content:i18n("hq","[feature/auth-notification]Войдите, чтобы послушать трек в высоком качестве"),onShow:function(t,e){a.count({authPopupShown:{switchHQ:1}}),e.popup.position()},onAgree:function(){a.count({authPopupButtonClick:{switchHQ:1}}),o.showAuthForm((function(){}),"HQ_popup")},doNotChangeDestinationElement:!0})}},r.prototype.onAuth=function(){this.payment&&this.payment.toggle(!(o.isPremium()||"on"===Mu.experiments.hq)),this.updateState()},r.prototype.toggle=function(){(o.isPremium()||"on"===Mu.experiments.hq)&&(s.toggleHQ(),this.updateState(),a.goal("HQ_SET",{"Включение высокого качества":1}))},r.prototype.updateState=function(){s.settingsReady().then(function(){this.state=s.getHQ()&&(o.isPremium()||"on"===Mu.experiments.hq),this.$btn.toggleClass("hq_active",!!this.state),this.$btnIcon.toggleClass("d-icon_hq",!this.state).toggleClass("d-icon_hq-gold",!!this.state),this.$btn.toggleClass("player-controls__btn_on",!!this.state),this.$btn.attr("title",this.state?i18n("hq","Отключить высокое качество"):i18n("hq","Включить высокое качество")),a.count({HQ_STATE:this.state})}.bind(this))},r))},function(t,e,i,n){Mu.blocks.register("iframe-config",function(){var t,e,i,n,a={heightMin:100,heightMax:240,widthMin:320,widthMax:1/0},s={heightMin:241,heightMax:1/0,widthMin:320,widthMax:1/0},o={track:{height:180,width:"100%"},playlist:{height:450,width:"100%"}},r=function(){this.id=null,this.type=null};return r.init=function(){i=$(window),n=Mu.Storage.create("localStorage")},r.show=function(n,a,s){e?e.update(n,a):(t=$(Mu.render("iframe-config",{})).appendTo($(document.body)),(e=Mu.blocks.forElem(t[0],"iframe-config")).update(n,a,s),i.on("keyup.iframe-config",(function(t){27===t.which&&r.hide()})),Mu.layout.lockScroll())},r.hide=function(){e&&(t.remove(),e=null,t=null,i.off("keyup.iframe-config"),Mu.layout.unlockScroll())},r.prototype.init=function(){this.$cont=$(this.container),this.$close=this.$cont.find(".popup__close"),this.$close.on("click",r.hide),this.$sizeWidth=this.$cont.find(".iframe-config__size-width input"),this.$sizeHeight=this.$cont.find(".iframe-config__size-height input"),this.$copyButton=this.$cont.find(".iframe-config__copy-button"),this.$copySuccess=this.$cont.find(".iframe-config__copy-success"),this.$preview=this.$cont.find(".iframe-config__preview"),this.$iframe=this.$cont.find(".iframe-config__iframe"),this.iframe=this.$iframe[0],this.$iframeResizer=this.$cont.find(".iframe-config__iframe-resizer"),this.$iframeResizerCorner=this.$cont.find(".iframe-config__iframe-resizer-corner"),this.$iframeCode=this.$cont.find(".iframe-config__html input"),this.$sizeWidth.on("change",this.onSizeChange.bind(this)),this.$sizeHeight.on("change",this.onSizeChange.bind(this)),this.$sizeWidth.on("keydown",this.onSizeKeydown.bind(this)),this.$sizeHeight.on("keydown",this.onSizeKeydown.bind(this)),this.$copyButton.on("click",this.onCopyClick.bind(this)),this.$iframeResizerCorner.on("mousedown",this.onStartResize.bind(this)),this.$cont.on("click",function(t){this._resizeStart||t.target!==this.$cont[0]||r.hide()}.bind(this)),this.$iframeCode.on("click",function(){this.$iframeCode[0].select()}.bind(this))},r.prototype.onStartResize=function(t){t.scrollTop=this.$cont.scrollTop(),this._resizeStart=t,this.$sizeWidth.val(this.$iframeResizer.width()),this.$sizeHeight.val(this.$iframeResizer.height()),this._resizeStart.width=this.$sizeWidth.val(),this._resizeStart.height=this.$sizeHeight.val(),i.on("mousemove.iframe-resize",this.onResize.bind(this)),i.on("mouseup.iframe-resize",function(){i.off(".iframe-resize"),this.$iframeResizer.addClass("iframe__update-class"),setTimeout(function(){this.$iframeResizer.removeClass("iframe__update-class"),this._resizeStart=null}.bind(this),1)}.bind(this))},r.prototype.onCopyClick=function(){this.$iframeCode[0].select(),document.execCommand("copy"),this.$copySuccess[0].style.opacity=1,setTimeout(function(){this.$copySuccess[0].style.opacity=0}.bind(this),3e3)},r.prototype.onResize=function(t){var e=+t.pageX-this._resizeStart.pageX,i=+t.pageY-this._resizeStart.pageY+(this.$cont.scrollTop()-this._resizeStart.scrollTop);this.$sizeWidth.val(+this._resizeStart.width+2*e),this.$sizeHeight.val(+this._resizeStart.height+i),this.onSizeChange(),t.preventDefault()},r.prototype.onSizeKeydown=function(t){var e=$(t.target);switch(t.which){case 38:e.val(+e.val()+(t.shiftKey?10:1)),this.onSizeChange();break;case 40:e.val(+e.val()-(t.shiftKey?10:1)),this.onSizeChange()}},r.prototype.onSizeChange=function(){var t="track"===this.type?a:s,e=this.$sizeWidth.val(),i=this.$sizeHeight.val();e<t.widthMin&&(e=t.widthMin),e>t.widthMax&&(e=t.widthMax),i<t.heightMin&&(i=t.heightMin),i>t.heightMax&&(i=t.heightMax),this.$sizeWidth.val(e),this.$sizeHeight.val(i),this.$iframeResizer.width(e),this.$iframeResizer.height(i),this.updateCodeInput(e,i),n.setItem("iframe-config-new-"+("track"===this.type?"track":"playlist"),JSON.stringify({width:e,height:i}))},r.prototype.updateCodeInput=function(t,e){var i='<iframe frameborder="0" style="border:none;width:'+t+(/(px|%)$/.test(t)?"":"px")+";height:"+e+(/(px|%)$/.test(e)?"":"px")+';" width="'+t+'" height="'+e+'" src="'+location.origin+"/iframe/#"+this.hash+'">'+(this.content||"")+"</iframe>";this.$iframeCode.val(i)},r.prototype.updateFrameSrc=function(){"/iframe/"!==this.iframe.contentWindow.location.pathname?this.iframe.contentWindow.location.href="/iframe/?page=music#"+this.hash:this.iframe.contentWindow.location.hash=this.hash},r.prototype.update=function(t,e,i){this.type&&this.$cont.removeClass("iframe-config_type-"+this.type),this.$cont.addClass("iframe-config_type-"+t),this.$copySuccess[0].style.opacity=0,this.type=t,this.id=e,this.content=i,this.hash=this.type+"/"+this.id,this.loading=!0;var a="",s="";if(!this.options){var r="iframe-config-new-"+("track"===this.type?"track":"playlist"),l=n.getItem(r);if(l)try{l=JSON.parse(l)}catch(t){l=o["track"===this.type?"track":"playlist"]}else l=o["track"===this.type?"track":"playlist"];n.setItem(r,JSON.stringify(l)),a=l.width||"100%",s=l.height||"100%"}this.$sizeWidth.val(a),this.$sizeHeight.val(s),this.$iframeResizer.width(a),this.$iframeResizer.height(s),this.updateCodeInput(a,s),this.updateFrameSrc(),this.loading=!1},r}())},function(t,e,i,n){var a,s;Mu.blocks.register("meta",(a=i(474),(s=function(){}).init=function(){},s.getMeta=function(t,e,i){return a.getMeta(t,e,i)},s))},function(t,e,i,n){var a=i(475),s=i(494),o=i(495),r=i(496),l=i(497),c=i(498),d=i(499),u=i(500),p=i(501),h=i(502),_=i(504);t.exports={getPageType:function(t){var e="unknown";switch(t.name){case"album":e=t.trackId?"album-track":"album";break;case"post":switch(t.data.promotionType||""){case"tracks-video":e="post-tracks-video";break;default:e="post"}break;default:e=t.name}return e},getMeta:function(t,e,i){(t=t||{}).name=t.name||"";var n="default";switch(t.data||t.name?n=this.getPageType(t):(t.data={},t.name=n,i={link:"/"}),n){case"album":return new s(t,e,i);case"album-track":return new o(t,e,i);case"artist":return new r(t,e,i);case"playlist":return new l(t,e,i);case"autoplaylist":return new c(t,e,i);case"users":return new d(t,e,i);case"search":return new u(t,e,i);case"non-music":return t&&(t.what="non-music"),new p(t,e,i);case"main":return new p(t,e,i);case"metatag":return new _(t,e,i);case"settings":case"pay":case"personal":case"personal-top2017":case"personal-top2018":case"tag":case"import":case"post":case"post-tracks-video":case"label":case"predictions":case"apartment":case"travel":case"moana":case"cobain":case"concert":case"radio":case"kids":return new h(t,e,i);default:return new a(t,e,i)}}}},function(t,e,i,n){const a=i(177),s=i(184),o=i(476),r=i(477),l=i(481),c=i(483),d=i(486),u=i(488),p=i(490),h=i(492),_=function(t,e,i){this.page=t||{},this.params=Object.assign({isFBCrawler:!1,isTelegram:!1,isServerSide:!1,nonce:""},e),this.shareHelper=new a(i||this.page)};_.prototype.getData=function(){return this.page&&this.page.data||{}},_.prototype.getType=function(){return this.page.name},_.prototype.getTitle=function(){return this.shareHelper.getTitle()},_.prototype.getDescription=function(){return i18n("meta","Открывайте новую музыку каждый день. Лента с персональными рекомендациями и музыкальными новинками, радио, подборки на любой вкус, удобное управление своей коллекцией. Миллионы композиций бесплатно и в хорошем качестве.")},_.prototype.getUrl=function(t){return this.shareHelper.getLink(t)},_.prototype.getTags=function(t){const e={meta:this};return t=t||["all"],t=Array.isArray(t)?t:[t],e.tags=t,h(e)},_.prototype.getTelegramTags=function(){return this.telegramMeta||(this.telegramMeta=new d(this)),this.telegramMeta.getTags()},_.prototype.getTwitterTags=function(){return this.twitterMeta||(this.twitterMeta=new u(this)),this.twitterMeta.getTags()},_.prototype.getTwitterIphoneTags=function(){return this.twitterMeta||(this.twitterMeta=new u(this)),this.twitterMeta.getIphoneTags()},_.prototype.getFacebookTags=function(){return this.facebookMeta||(this.facebookMeta=new p(this)),this.facebookMeta.getTags()},_.prototype.getFacebookTracksTags=function(){return this.facebookMeta||(this.facebookMeta=new p(this)),this.facebookMeta.getTracksTags()},_.prototype.getLightData=function(){return this.lightData||(this.lightData=new r(this)),JSON.stringify(this.lightData.getLightData())},_.prototype.getAppLinks=function(){return this.appLinks||(this.appLinks=new l(this)),this.appLinks.getTags()},_.prototype.getOgAudio=function(){return this.ogAudio||(this.ogAudio=new c(this)),this.ogAudio.getTags()},_.prototype.getOgUrl=function(){return this.getUrl()},_.prototype.getOgTitle=function(){return this.getTitle()},_.prototype.getOgDescription=function(){return this.getDescription()},_.prototype.getOgImage=function(){const t=this.getData().ogImage;return t?o.cover(t):s()+"/blocks/meta/i/og-image.png"},_.prototype.getOgType=function(){return"website"},t.exports=_},function(t,e,i,n){const a=i(177),s=i(72);t.exports={cover(t){let e=s(t||"",1e3,!0)||"";return 0===e.indexOf("//")&&(e="https:"+e),e},stripWiki:t=>(t||"").replace(/\[(.*?)\]\(.*?\)/gi,"$1"),getRange:(t,e,i)=>(t=Array.isArray(t)&&t.length>0?t:[]).slice(e,i),getArtistsText:t=>(t||[]).map((function(t){let{name:e}=t;if(t.decomposed&&t.decomposed.length>0){const i=t.decomposed.filter((function(t){return t.id})).map((function(t){return t.name})).join(", ");i&&(e+=", "+i)}return e})).join(", "),getLink:t=>new a(t).getLink(),hasPlaylistWord(t){const e=i18n("meta-helper","[feature/mfront-3672]Плейлист").toLowerCase();return t.toLowerCase().includes(e)}}},function(t,e,i,n){const a=i(73),s=i(180),o=i(184),r=i(127),l=i(478),c=i(476),d=i(480),u=function(t){this.meta=t};u.prototype.getLightData=function(){let t={};const e=this.meta.getData(),i=this.meta.getUrl();let n,a,s,d,u,p;switch(this.meta.getType()){case"album":a=this.meta.getAlbum(),t={"@type":"MusicAlbum",description:r(this.getLightDataDescription()),name:r(a.title),numTracks:this.meta.getTracksCount(),genre:a.genre,image:c.cover(a.coverUri),url:i},a.volumes&&a.volumes.length>0&&(t.track=a.volumes.map((function(t){return t.map((function(t){return{"@type":"MusicRecording",duration:l(t.durationMs||0),name:r(t.title),url:`${o()}/album/${a.id}/track/${t.id}`}}))})).reduce((function(t,e){return t.concat(e)})));break;case"album-track":n=this.meta.getTrack(),t={"@type":"MusicRecording",name:r(n.title),description:r(this.getLightDataDescription()),duration:l(n.durationMs||0),url:i};break;case"track":n=this.meta.getTrack(),t={"@type":"MusicRecording",name:r(n.title),description:r(this.getLightDataDescription()),duration:l(n.durationMs||0),url:`${o()}/track/${n.id}`};break;case"artist":s=this.meta.getArtist(),t={"@type":"MusicGroup",name:r(s.name),interactionCount:s.likesCount+" UserLikes",genre:s.genres&&s.genres[0],image:c.cover(s.cover&&s.cover.uri),url:i,description:r(this.getLightDataDescription())},s.links&&s.links.length>0&&(t.sameAs=[],s.enWikipediaLink&&t.sameAs.push(s.enWikipediaLink),s.links.forEach((function(e){e.href&&t.sameAs.push(e.href)})));break;case"playlist":d=this.meta.getPlaylist(),t={"@type":"MusicPlaylist",name:r(d.title),description:r(this.getLightDataDescription()),numTracks:d.trackCount,url:i,creator:{"@type":"Person",name:r(d.owner.name),url:`${o()}/users/${d.owner.login}/playlists`},track:d.tracks.map(function(t){return this.getLightDataByTrack(t)}.bind(this)).filter((function(t){return t}))};break;case"user":u=this.meta.getUser(),t={"@type":"Person",name:r(u.name),url:i},p=(e.profiles||[]).filter((function(t){return t.addresses&&t.addresses.length>0?t.addresses[0]:""})),p&&p.length&&(t.sameAs=p);break;case"label":t={"@type":"Organization",name:r(e.label&&e.label.name||""),legalName:r(e.label&&e.label.name||""),url:i},p=(e.label&&e.label.links||[]).filter((function(t){return t.href})),p&&p.length&&(t.sameAs=p);break;default:t={"@type":"Organization",name:i18n("meta","[feature/mfront-3990-1]Яндекс Музыка"),url:o(),logo:o()+"/blocks/meta/i/og-image.png"}}t["@context"]="http://schema.org";const h=this.getLightDataByAlbum();h&&(t.inAlbum=h);const _=this.getLightDataByArtist();_&&(t.byArtist=_);const m=this.getPotentialAction();return m&&(t.potentialAction=m),t},u.prototype.getLightDataByArtist=function(t){if(!t){let e,i,n;switch(this.meta.getType()){case"album":n=this.meta.getAlbum(),e=this.meta.getArtists(),t=e.length>0?e[0]:n.artists&&n.artists.length>0?n.artists[0]:null;break;case"album-track":i=this.meta.getTrack(),e=this.meta.getArtists(),t=e.length>0?e[0]:i.artists&&i.artists.length>0?i.artists[0]:null;break;case"track":e=this.meta.getArtists(),t=e.length>0?e[0]:null}}if(t)return{"@type":"MusicGroup",name:r(t.name),url:`${o()}/artist/${t.id}`}},u.prototype.getLightDataByAlbum=function(t,e){if(!["track","album","album-track"].includes(this.meta.getType()))return;let i;switch(this.meta.getType()){case"track":t=t||this.meta.getAlbum(),i=(e=e||this.meta.getArtists())[0];break;case"album":case"album-track":t=t||this.meta.getAlbum(),i=(e=e||this.meta.getArtists())[0]}if(!t||!i)return;const n={"@context":"http://schema.org","@type":"MusicAlbum",description:r(this.getLightDataDescription()),name:r(t.title),numTracks:t.trackCount,genre:t.genre,image:c.cover(t.coverUri),url:`${o()}/album/${t.id}`},a=this;n.track=[],(t.volumes||[]).forEach((function(e){return e.forEach((function(e){const i=a.getLightDataByTrack(e,t);i&&n.track.push(i)}))}));const l=this.getLightDataByArtist(i);l&&(n.byArtist=l);const d=this.getPotentialAction({type:"album",url:s(`${o()}/album/${t.id}`),appUrl:`${o()}/album/${t.id}`});return d&&(n.potentialAction=d),n},u.prototype.getLightDataByTrack=function(t,e){if(e||(e=t&&t.albums&&t.albums.length>0?t.albums[0]:null),t&&e)return{"@type":"MusicRecording",duration:l(t.durationMs||0),name:r(t.title),url:`${o()}/album/${e.id}/track/${t.id}`}},u.prototype.getLightDataDescription=function(){const t=[];let e,i,n;switch(this.meta.getType()){case"track":e=this.meta.getTrack(),t.push(e.title),i=this.meta.getArtists(),i.length>0&&(t.push(" - "),t.push(i.map((function(t){return t.name})).join(", "))),t.push(i18n("meta","[feature/mfront-3990-1] - трек на Яндекс Музыке"));break;case"album":case"album-track":e=this.meta.getData(),t.push(e.title),i=this.meta.getArtists(),i.length>0&&(t.push(" - "),t.push(i.map((function(t){return t.name})).join(", "))),t.push(i18n("meta","[feature/mfront-3990-1] - альбом на Яндекс Музыке"));break;case"artist":n=this.meta.getArtist(),t.push(n.name+i18n("meta","[feature/mfront-3990-1] - исполнитель на Яндекс Музыке"));break;case"playlist":t.push(c.hasPlaylistWord(this.meta.getPlaylist().title)?i18n("meta-light-data","[feature/mfront-3990-1]%1 — слушать онлайн бесплатно на Яндекс Музыке",this.meta.getPlaylist().title):i18n("meta-light-data","[feature/mfront-3990-1]Плейлист %1 — слушать онлайн бесплатно на Яндекс Музыке",this.meta.getPlaylist().title))}return t.join("")},u.prototype.getPotentialAction=function(t){const e=(t=t||{}).type||this.meta.getType();if(!["track","album","album-track","artist","playlist"].includes(e))return;const i=t.url||this.meta.getUrl(),n=t.appUrl||this.meta.getUrl(!0),{tld:s}=a(),o=d(s);return{"@type":"ListenAction",target:[{"@type":"EntryPoint",urlTemplate:i+"?play=1",inLanguage:o,actionPlatform:["http://schema.org/WindowsMobilePlatform","http://schema.org/DesktopWebPlatform","http://schema.org/AndroidPlatform","http://schema.org/IOSPlatform"]},{"@type":"EntryPoint",urlTemplate:"android-app://ru.yandex.music/yandexmusic"+n,actionPlatform:"http://schema.org/AndroidPlatform",inLanguage:o},{"@type":"EntryPoint",urlTemplate:"yandexmusic:/"+n,inLanguage:o,actionPlatform:"http://schema.org/IOSPlatform",actionApplication:{"@type":"SoftwareApplication","@id":"520797969",name:"Яндекс.Музыка",applicationCategory:"Music",operatingSystem:"iOS"}},{"@type":"EntryPoint",urlTemplate:"yandexmusic:/"+n,inLanguage:o,actionPlatform:"http://schema.org/WindowsMobilePlatform",actionApplication:{"@type":"SoftwareApplication","@id":"74d9272b-1863-49a5-a2a2-327a07753470",name:"Яндекс.Музыка",applicationCategory:"Music",operatingSystem:"Windows Phone 8"}}],expectsAcceptanceOf:{"@type":"Offer",eligibleRegion:[{"@type":"Country",name:"RU"},{"@type":"Country",name:"KZ"},{"@type":"Country",name:"UA"},{"@type":"Country",name:"BY"}],category:"free"}}},t.exports=u},function(t,e,i,n){var a=i(479);t.exports=function(t){t=parseInt(t)||Date.now();var e=a(t).utcOffset(0),i=e.format("ss"),n=e.format("mm"),s=e.format("HH"),o="PT";return s&&(o+=s+"H"),n&&(o+=n+"M"),i&&(o+=i+"S"),o}},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?t.exports=n():"function"==typeof define&&define.amd?define(n):i.moment=n()}(this,(function(){"use strict";var e,n;function a(){return e.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(r(t,e))return!1;return!0}function c(t){return void 0===t}function d(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function h(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _(t,e,i,n){return Te(t,e,i,n,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),i=n.call(e.parsedDateParts,(function(t){return null!=t})),a=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(a=a&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return a;t._isValid=a}return t._isValid}function f(t){var e=_(NaN);return null!=t?h(m(e),t):m(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,i=Object(this),n=i.length>>>0;for(e=0;e<n;e++)if(e in i&&t.call(this,i[e],e,i))return!0;return!1};var y=a.momentProperties=[],v=!1;function b(t,e){var i,n,a;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=m(e)),c(e._locale)||(t._locale=e._locale),y.length>0)for(i=0;i<y.length;i++)c(a=e[n=y[i]])||(t[n]=a);return t}function k(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,a.updateOffset(this),v=!1)}function w(t){return t instanceof k||null!=t&&null!=t._isAMomentObject}function x(t){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,e){var i=!0;return h((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,t),i){var n,s,o,l=[];for(s=0;s<arguments.length;s++){if(n="","object"==typeof arguments[s]){for(o in n+="\n["+s+"] ",arguments[0])r(arguments[0],o)&&(n+=o+": "+arguments[0][o]+", ");n=n.slice(0,-2)}else n=arguments[s];l.push(n)}x(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var T,S={};function $(t,e){null!=a.deprecationHandler&&a.deprecationHandler(t,e),S[t]||(x(e),S[t]=!0)}function L(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var i,n=h({},t);for(i in e)r(e,i)&&(o(t[i])&&o(e[i])?(n[i]={},h(n[i],t[i]),h(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)r(t,i)&&!r(e,i)&&o(t[i])&&(n[i]=h({},n[i]));return n}function C(t){null!=t&&this.set(t)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,T=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)r(t,e)&&i.push(e);return i};function D(t,e,i){var n=""+Math.abs(t),a=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var E=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},I={};function O(t,e,i,n){var a=n;"string"==typeof n&&(a=function(){return this[n]()}),t&&(I[t]=a),e&&(I[e[0]]=function(){return D(a.apply(this,arguments),e[1],e[2])}),i&&(I[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=R(e,t.localeData()),Y[e]=Y[e]||function(t){var e,i,n,a=t.match(E);for(e=0,i=a.length;e<i;e++)I[a[e]]?a[e]=I[a[e]]:a[e]=(n=a[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,s="";for(n=0;n<i;n++)s+=L(a[n])?a[n].call(e,t):a[n];return s}}(e),Y[e](t)):t.localeData().invalidDate()}function R(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(A.lastIndex=0;i>=0&&A.test(t);)t=t.replace(A,n),A.lastIndex=0,i-=1;return t}var N={};function z(t,e){var i=t.toLowerCase();N[i]=N[i+"s"]=N[e]=t}function H(t){return"string"==typeof t?N[t]||N[t.toLowerCase()]:void 0}function F(t){var e,i,n={};for(i in t)r(t,i)&&(e=H(i))&&(n[e]=t[i]);return n}var B={};function U(t,e){B[t]=e}function q(t){return t%4==0&&t%100!=0||t%400==0}function W(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function V(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=W(e)),i}function G(t,e){return function(i){return null!=i?(J(this,t,i),a.updateOffset(this,e),this):K(this,t)}}function K(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function J(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&q(t.year())&&1===t.month()&&29===t.date()?(i=V(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),wt(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}var X,Z=/\d/,Q=/\d\d/,tt=/\d{3}/,et=/\d{4}/,it=/[+-]?\d{6}/,nt=/\d\d?/,at=/\d\d\d\d?/,st=/\d\d\d\d\d\d?/,ot=/\d{1,3}/,rt=/\d{1,4}/,lt=/[+-]?\d{1,6}/,ct=/\d+/,dt=/[+-]?\d+/,ut=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ht=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function _t(t,e,i){X[t]=L(e)?e:function(t,n){return t&&i?i:e}}function mt(t,e){return r(X,t)?X[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,a){return e||i||n||a}))))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}X={};var ft={};function yt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),d(e)&&(n=function(t,i){i[e]=V(t)}),i=0;i<t.length;i++)ft[t[i]]=n}function vt(t,e){yt(t,(function(t,i,n,a){n._w=n._w||{},e(t,n._w,n,a)}))}function bt(t,e,i){null!=e&&r(ft,t)&&ft[t](e,i._a,i,t)}var kt;function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,n=(e%(i=12)+i)%i;return t+=(e-n)/12,1===n?q(t)?29:28:31-n%7%2}kt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},O("M",["MM",2],"Mo",(function(){return this.month()+1})),O("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),O("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),z("month","M"),U("month",8),_t("M",nt),_t("MM",nt,Q),_t("MMM",(function(t,e){return e.monthsShortRegex(t)})),_t("MMMM",(function(t,e){return e.monthsRegex(t)})),yt(["M","MM"],(function(t,e){e[1]=V(t)-1})),yt(["MMM","MMMM"],(function(t,e,i,n){var a=i._locale.monthsParse(t,n,i._strict);null!=a?e[1]=a:m(i).invalidMonth=t}));var xt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Tt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,St=ht,$t=ht;function Lt(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=_([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(a=kt.call(this._shortMonthsParse,o))?a:null:-1!==(a=kt.call(this._longMonthsParse,o))?a:null:"MMM"===e?-1!==(a=kt.call(this._shortMonthsParse,o))||-1!==(a=kt.call(this._longMonthsParse,o))?a:null:-1!==(a=kt.call(this._longMonthsParse,o))||-1!==(a=kt.call(this._shortMonthsParse,o))?a:null}function Pt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=V(e);else if(!d(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Ct(t){return null!=t?(Pt(this,t),a.updateOffset(this,!0),this):K(this,"Month")}function Dt(){function t(t,e){return e.length-t.length}var e,i,n=[],a=[],s=[];for(e=0;e<12;e++)i=_([2e3,e]),n.push(this.monthsShort(i,"")),a.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(t),a.sort(t),s.sort(t),e=0;e<12;e++)n[e]=gt(n[e]),a[e]=gt(a[e]);for(e=0;e<24;e++)s[e]=gt(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Et(t){return q(t)?366:365}O("Y",0,0,(function(){var t=this.year();return t<=9999?D(t,4):"+"+t})),O(0,["YY",2],0,(function(){return this.year()%100})),O(0,["YYYY",4],0,"year"),O(0,["YYYYY",5],0,"year"),O(0,["YYYYYY",6,!0],0,"year"),z("year","y"),U("year",1),_t("Y",dt),_t("YY",nt,Q),_t("YYYY",rt,et),_t("YYYYY",lt,it),_t("YYYYYY",lt,it),yt(["YYYYY","YYYYYY"],0),yt("YYYY",(function(t,e){e[0]=2===t.length?a.parseTwoDigitYear(t):V(t)})),yt("YY",(function(t,e){e[0]=a.parseTwoDigitYear(t)})),yt("Y",(function(t,e){e[0]=parseInt(t,10)})),a.parseTwoDigitYear=function(t){return V(t)+(V(t)>68?1900:2e3)};var At=G("FullYear",!0);function Yt(t,e,i,n,a,s,o){var r;return t<100&&t>=0?(r=new Date(t+400,e,i,n,a,s,o),isFinite(r.getFullYear())&&r.setFullYear(t)):r=new Date(t,e,i,n,a,s,o),r}function It(t){var e,i;return t<100&&t>=0?((i=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ot(t,e,i){var n=7+e-i;return-((7+It(t,0,n).getUTCDay()-e)%7)+n-1}function jt(t,e,i,n,a){var s,o,r=1+7*(e-1)+(7+i-n)%7+Ot(t,n,a);return r<=0?o=Et(s=t-1)+r:r>Et(t)?(s=t+1,o=r-Et(t)):(s=t,o=r),{year:s,dayOfYear:o}}function Rt(t,e,i){var n,a,s=Ot(t.year(),e,i),o=Math.floor((t.dayOfYear()-s-1)/7)+1;return o<1?n=o+Nt(a=t.year()-1,e,i):o>Nt(t.year(),e,i)?(n=o-Nt(t.year(),e,i),a=t.year()+1):(a=t.year(),n=o),{week:n,year:a}}function Nt(t,e,i){var n=Ot(t,e,i),a=Ot(t+1,e,i);return(Et(t)-n+a)/7}O("w",["ww",2],"wo","week"),O("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),U("week",5),U("isoWeek",5),_t("w",nt),_t("ww",nt,Q),_t("W",nt),_t("WW",nt,Q),vt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=V(t)}));function zt(t,e){return t.slice(e,7).concat(t.slice(0,e))}O("d",0,"do","day"),O("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),O("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),O("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),O("e",0,0,"weekday"),O("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),_t("d",nt),_t("e",nt),_t("E",nt),_t("dd",(function(t,e){return e.weekdaysMinRegex(t)})),_t("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),_t("dddd",(function(t,e){return e.weekdaysRegex(t)})),vt(["dd","ddd","dddd"],(function(t,e,i,n){var a=i._locale.weekdaysParse(t,n,i._strict);null!=a?e.d=a:m(i).invalidWeekday=t})),vt(["d","e","E"],(function(t,e,i,n){e[n]=V(t)}));var Ht="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Bt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ut=ht,qt=ht,Wt=ht;function Vt(t,e,i){var n,a,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=_([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(a=kt.call(this._weekdaysParse,o))?a:null:"ddd"===e?-1!==(a=kt.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=kt.call(this._minWeekdaysParse,o))?a:null:"dddd"===e?-1!==(a=kt.call(this._weekdaysParse,o))||-1!==(a=kt.call(this._shortWeekdaysParse,o))||-1!==(a=kt.call(this._minWeekdaysParse,o))?a:null:"ddd"===e?-1!==(a=kt.call(this._shortWeekdaysParse,o))||-1!==(a=kt.call(this._weekdaysParse,o))||-1!==(a=kt.call(this._minWeekdaysParse,o))?a:null:-1!==(a=kt.call(this._minWeekdaysParse,o))||-1!==(a=kt.call(this._weekdaysParse,o))||-1!==(a=kt.call(this._shortWeekdaysParse,o))?a:null}function Gt(){function t(t,e){return e.length-t.length}var e,i,n,a,s,o=[],r=[],l=[],c=[];for(e=0;e<7;e++)i=_([2e3,1]).day(e),n=gt(this.weekdaysMin(i,"")),a=gt(this.weekdaysShort(i,"")),s=gt(this.weekdays(i,"")),o.push(n),r.push(a),l.push(s),c.push(n),c.push(a),c.push(s);o.sort(t),r.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Jt(t,e){O(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Xt(t,e){return e._meridiemParse}O("H",["HH",2],0,"hour"),O("h",["hh",2],0,Kt),O("k",["kk",2],0,(function(){return this.hours()||24})),O("hmm",0,0,(function(){return""+Kt.apply(this)+D(this.minutes(),2)})),O("hmmss",0,0,(function(){return""+Kt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),O("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),O("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),z("hour","h"),U("hour",13),_t("a",Xt),_t("A",Xt),_t("H",nt),_t("h",nt),_t("k",nt),_t("HH",nt,Q),_t("hh",nt,Q),_t("kk",nt,Q),_t("hmm",at),_t("hmmss",st),_t("Hmm",at),_t("Hmmss",st),yt(["H","HH"],3),yt(["k","kk"],(function(t,e,i){var n=V(t);e[3]=24===n?0:n})),yt(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),yt(["h","hh"],(function(t,e,i){e[3]=V(t),m(i).bigHour=!0})),yt("hmm",(function(t,e,i){var n=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n)),m(i).bigHour=!0})),yt("hmmss",(function(t,e,i){var n=t.length-4,a=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n,2)),e[5]=V(t.substr(a)),m(i).bigHour=!0})),yt("Hmm",(function(t,e,i){var n=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n))})),yt("Hmmss",(function(t,e,i){var n=t.length-4,a=t.length-2;e[3]=V(t.substr(0,n)),e[4]=V(t.substr(n,2)),e[5]=V(t.substr(a))}));var Zt=G("Hours",!0);var Qt,te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xt,monthsShort:Mt,week:{dow:0,doy:6},weekdays:Ht,weekdaysMin:Bt,weekdaysShort:Ft,meridiemParse:/[ap]\.?m?\.?/i},ee={},ie={};function ne(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}function ae(t){return t?t.toLowerCase().replace("_","-"):t}function se(e){var n=null;if(void 0===ee[e]&&void 0!==t&&t&&t.exports)try{n=Qt._abbr,i("./locale/"+e),oe(n)}catch(t){ee[e]=null}return ee[e]}function oe(t,e){var i;return t&&((i=c(e)?le(t):re(t,e))?Qt=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function re(t,e){if(null!==e){var i,n=te;if(e.abbr=t,null!=ee[t])$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])n=ee[e.parentLocale]._config;else{if(null==(i=se(e.parentLocale)))return ie[e.parentLocale]||(ie[e.parentLocale]=[]),ie[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ee[t]=new C(P(n,e)),ie[t]&&ie[t].forEach((function(t){re(t.name,t.config)})),oe(t),ee[t]}return delete ee[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!s(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,i,n,a,s=0;s<t.length;){for(e=(a=ae(t[s]).split("-")).length,i=(i=ae(t[s+1]))?i.split("-"):null;e>0;){if(n=se(a.slice(0,e).join("-")))return n;if(i&&i.length>=e&&ne(a,i)>=e-1)break;e--}s++}return Qt}(t)}function ce(t){var e,i=t._a;return i&&-2===m(t).overflow&&(e=i[1]<0||i[1]>11?1:i[2]<1||i[2]>wt(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,m(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}var de=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ue=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,he=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_e=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((-?\d+)/i,ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ye(t){var e,i,n,a,s,o,r=t._i,l=de.exec(r)||ue.exec(r);if(l){for(m(t).iso=!0,e=0,i=he.length;e<i;e++)if(he[e][1].exec(l[1])){a=he[e][0],n=!1!==he[e][2];break}if(null==a)return void(t._isValid=!1);if(l[3]){for(e=0,i=_e.length;e<i;e++)if(_e[e][1].exec(l[3])){s=(l[2]||" ")+_e[e][0];break}if(null==s)return void(t._isValid=!1)}if(!n&&null!=s)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=a+(s||"")+(o||""),xe(t)}else t._isValid=!1}function ve(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function be(t){var e,i,n,a,s,o,r,l,c=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(i=c[4],n=c[3],a=c[2],s=c[5],o=c[6],r=c[7],l=[ve(i),Mt.indexOf(n),parseInt(a,10),parseInt(s,10),parseInt(o,10)],r&&l.push(parseInt(r,10)),e=l,!function(t,e,i){return!t||Ft.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(i).weekdayMismatch=!0,i._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,i){if(t)return fe[t];if(e)return 0;var n=parseInt(i,10),a=n%100;return 60*((n-a)/100)+a}(c[8],c[9],c[10]),t._d=It.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function ke(t,e,i){return null!=t?t:null!=e?e:i}function we(t){var e,i,n,s,o,r=[];if(!t._d){for(n=function(t){var e=new Date(a.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,i,n,a,s,o,r,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(s=1,o=4,i=ke(e.GG,t._a[0],Rt(Se(),1,4).year),n=ke(e.W,1),((a=ke(e.E,1))<1||a>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,c=Rt(Se(),s,o),i=ke(e.gg,t._a[0],c.year),n=ke(e.w,c.week),null!=e.d?((a=e.d)<0||a>6)&&(l=!0):null!=e.e?(a=e.e+s,(e.e<0||e.e>6)&&(l=!0)):a=s);n<1||n>Nt(i,s,o)?m(t)._overflowWeeks=!0:null!=l?m(t)._overflowWeekday=!0:(r=jt(i,n,a,s,o),t._a[0]=r.year,t._dayOfYear=r.dayOfYear)}(t),null!=t._dayOfYear&&(o=ke(t._a[0],n[0]),(t._dayOfYear>Et(o)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),i=It(o,0,t._dayOfYear),t._a[1]=i.getUTCMonth(),t._a[2]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=n[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?It:Yt).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(m(t).weekdayMismatch=!0)}}function xe(t){if(t._f!==a.ISO_8601)if(t._f!==a.RFC_2822){t._a=[],m(t).empty=!0;var e,i,n,s,o,r,l=""+t._i,c=l.length,d=0;for(n=R(t._f,t._locale).match(E)||[],e=0;e<n.length;e++)s=n[e],(i=(l.match(mt(s,t))||[])[0])&&((o=l.substr(0,l.indexOf(i))).length>0&&m(t).unusedInput.push(o),l=l.slice(l.indexOf(i)+i.length),d+=i.length),I[s]?(i?m(t).empty=!1:m(t).unusedTokens.push(s),bt(s,i,t)):t._strict&&!i&&m(t).unusedTokens.push(s);m(t).charsLeftOver=c-d,l.length>0&&m(t).unusedInput.push(l),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,i){var n;if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(r=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(r,t._a[0])),we(t),ce(t)}else be(t);else ye(t)}function Me(t){var e=t._i,i=t._f;return t._locale=t._locale||le(t._l),null===e||void 0===i&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new k(ce(e)):(u(e)?t._d=e:s(i)?function(t){var e,i,n,a,s,o,r=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)s=0,o=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[a],xe(e),g(e)&&(o=!0),s+=m(e).charsLeftOver,s+=10*m(e).unusedTokens.length,m(e).score=s,r?s<n&&(n=s,i=e):(null==n||s<n||o)&&(n=s,i=e,o&&(r=!0));h(t,i||e)}(t):i?xe(t):function(t){var e=t._i;c(e)?t._d=new Date(a.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(ye(t),!1===t._isValid&&(delete t._isValid,be(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:a.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):s(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),we(t)):o(e)?function(t){if(!t._d){var e=F(t._i),i=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),we(t)}}(t):d(e)?t._d=new Date(e):a.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function Te(t,e,i,n,a){var r,c={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(o(t)&&l(t)||s(t)&&0===t.length)&&(t=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=a,c._l=i,c._i=t,c._f=e,c._strict=n,(r=new k(ce(Me(c))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Se(t,e,i,n){return Te(t,e,i,n,!1)}a.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var $e=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()})),Le=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()}));function Pe(t,e){var i,n;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return Se();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function De(t){var e=F(t),i=e.year||0,n=e.quarter||0,a=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,l=e.hour||0,c=e.minute||0,d=e.second||0,u=e.millisecond||0;this._isValid=function(t){var e,i,n=!1;for(e in t)if(r(t,e)&&(-1===kt.call(Ce,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<Ce.length;++i)if(t[Ce[i]]){if(n)return!1;parseFloat(t[Ce[i]])!==V(t[Ce[i]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*d+6e4*c+1e3*l*60*60,this._days=+o+7*s,this._months=+a+3*n+12*i,this._data={},this._locale=le(),this._bubble()}function Ee(t){return t instanceof De}function Ae(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ye(t,e){O(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+D(~~(t/60),2)+e+D(~~t%60,2)}))}Ye("Z",":"),Ye("ZZ",""),_t("Z",pt),_t("ZZ",pt),yt(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=Oe(pt,t)}));var Ie=/([\+\-]|\d\d)/gi;function Oe(t,e){var i,n,a=(e||"").match(t);return null===a?null:0===(n=60*(i=((a[a.length-1]||[])+"").match(Ie)||["-",0,0])[1]+V(i[2]))?0:"+"===i[0]?n:-n}function je(t,e){var i,n;return e._isUTC?(i=e.clone(),n=(w(t)||u(t)?t.valueOf():Se(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),a.updateOffset(i,!1),i):Se(t).local()}function Re(t){return-Math.round(t._d.getTimezoneOffset())}function Ne(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}a.updateOffset=function(){};var ze=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,He=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fe(t,e){var i,n,a,s=t,o=null;return Ee(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:d(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(o=ze.exec(t))?(i="-"===o[1]?-1:1,s={y:0,d:V(o[2])*i,h:V(o[3])*i,m:V(o[4])*i,s:V(o[5])*i,ms:V(Ae(1e3*o[6]))*i}):(o=He.exec(t))?(i="-"===o[1]?-1:1,s={y:Be(o[2],i),M:Be(o[3],i),w:Be(o[4],i),d:Be(o[5],i),h:Be(o[6],i),m:Be(o[7],i),s:Be(o[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=je(e,t),t.isBefore(e)?i=Ue(t,e):((i=Ue(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Se(s.from),Se(s.to)),(s={}).ms=a.milliseconds,s.M=a.months),n=new De(s),Ee(t)&&r(t,"_locale")&&(n._locale=t._locale),Ee(t)&&r(t,"_isValid")&&(n._isValid=t._isValid),n}function Be(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Ue(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function qe(t,e){return function(i,n){var a;return null===n||isNaN(+n)||($(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=i,i=n,n=a),We(this,Fe(i,n),t),this}}function We(t,e,i,n){var s=e._milliseconds,o=Ae(e._days),r=Ae(e._months);t.isValid()&&(n=null==n||n,r&&Pt(t,K(t,"Month")+r*i),o&&J(t,"Date",K(t,"Date")+o*i),s&&t._d.setTime(t._d.valueOf()+s*i),n&&a.updateOffset(t,o||r))}Fe.fn=De.prototype,Fe.invalid=function(){return Fe(NaN)};var Ve=qe(1,"add"),Ge=qe(-1,"subtract");function Ke(t){return"string"==typeof t||t instanceof String}function Je(t){return w(t)||u(t)||Ke(t)||d(t)||function(t){var e=s(t),i=!1;e&&(i=0===t.filter((function(e){return!d(e)&&Ke(t)})).length);return e&&i}(t)||function(t){var e,i,n=o(t)&&!l(t),a=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<s.length;e+=1)i=s[e],a=a||r(t,i);return n&&a}(t)||null==t}function Xe(t){var e,i=o(t)&&!l(t),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<a.length;e+=1)n=n||r(t,a[e]);return i&&n}function Ze(t,e){if(t.date()<e.date())return-Ze(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ti=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function ei(){return this._locale}function ii(t,e){return(t%e+e)%e}function ni(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-126227808e5:new Date(t,e,i).valueOf()}function ai(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-126227808e5:Date.UTC(t,e,i)}function si(t,e){return e.erasAbbrRegex(t)}function oi(){var t,e,i=[],n=[],a=[],s=[],o=this.eras();for(t=0,e=o.length;t<e;++t)n.push(gt(o[t].name)),i.push(gt(o[t].abbr)),a.push(gt(o[t].narrow)),s.push(gt(o[t].name)),s.push(gt(o[t].abbr)),s.push(gt(o[t].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function ri(t,e){O(0,[t,t.length],0,e)}function li(t,e,i,n,a){var s;return null==t?Rt(this,n,a).year:(e>(s=Nt(t,n,a))&&(e=s),ci.call(this,t,e,i,n,a))}function ci(t,e,i,n,a){var s=jt(t,e,i,n,a),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}O("N",0,0,"eraAbbr"),O("NN",0,0,"eraAbbr"),O("NNN",0,0,"eraAbbr"),O("NNNN",0,0,"eraName"),O("NNNNN",0,0,"eraNarrow"),O("y",["y",1],"yo","eraYear"),O("y",["yy",2],0,"eraYear"),O("y",["yyy",3],0,"eraYear"),O("y",["yyyy",4],0,"eraYear"),_t("N",si),_t("NN",si),_t("NNN",si),_t("NNNN",(function(t,e){return e.erasNameRegex(t)})),_t("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),yt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,i,n){var a=i._locale.erasParse(t,n,i._strict);a?m(i).era=a:m(i).invalidEra=t})),_t("y",ct),_t("yy",ct),_t("yyy",ct),_t("yyyy",ct),_t("yo",(function(t,e){return e._eraYearOrdinalRegex||ct})),yt(["y","yy","yyy","yyyy"],0),yt(["yo"],(function(t,e,i,n){var a;i._locale._eraYearOrdinalRegex&&(a=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[0]=i._locale.eraYearOrdinalParse(t,a):e[0]=parseInt(t,10)})),O(0,["gg",2],0,(function(){return this.weekYear()%100})),O(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ri("gggg","weekYear"),ri("ggggg","weekYear"),ri("GGGG","isoWeekYear"),ri("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),_t("G",dt),_t("g",dt),_t("GG",nt,Q),_t("gg",nt,Q),_t("GGGG",rt,et),_t("gggg",rt,et),_t("GGGGG",lt,it),_t("ggggg",lt,it),vt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=V(t)})),vt(["gg","GG"],(function(t,e,i,n){e[n]=a.parseTwoDigitYear(t)})),O("Q",0,"Qo","quarter"),z("quarter","Q"),U("quarter",7),_t("Q",Z),yt("Q",(function(t,e){e[1]=3*(V(t)-1)})),O("D",["DD",2],"Do","date"),z("date","D"),U("date",9),_t("D",nt),_t("DD",nt,Q),_t("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),yt(["D","DD"],2),yt("Do",(function(t,e){e[2]=V(t.match(nt)[0])}));var di=G("Date",!0);O("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),U("dayOfYear",4),_t("DDD",ot),_t("DDDD",tt),yt(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=V(t)})),O("m",["mm",2],0,"minute"),z("minute","m"),U("minute",14),_t("m",nt),_t("mm",nt,Q),yt(["m","mm"],4);var ui=G("Minutes",!1);O("s",["ss",2],0,"second"),z("second","s"),U("second",15),_t("s",nt),_t("ss",nt,Q),yt(["s","ss"],5);var pi,hi,_i=G("Seconds",!1);for(O("S",0,0,(function(){return~~(this.millisecond()/100)})),O(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),O(0,["SSS",3],0,"millisecond"),O(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),O(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),O(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),O(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),O(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),O(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),z("millisecond","ms"),U("millisecond",16),_t("S",ot,Z),_t("SS",ot,Q),_t("SSS",ot,tt),pi="SSSS";pi.length<=9;pi+="S")_t(pi,ct);function mi(t,e){e[6]=V(1e3*("0."+t))}for(pi="S";pi.length<=9;pi+="S")yt(pi,mi);hi=G("Milliseconds",!1),O("z",0,0,"zoneAbbr"),O("zz",0,0,"zoneName");var gi=k.prototype;function fi(t){return t}gi.add=Ve,gi.calendar=function(t,e){1===arguments.length&&(arguments[0]?Je(arguments[0])?(t=arguments[0],e=void 0):Xe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||Se(),n=je(i,this).startOf("day"),s=a.calendarFormat(this,n)||"sameElse",o=e&&(L(e[s])?e[s].call(this,i):e[s]);return this.format(o||this.localeData().calendar(s,this,Se(i)))},gi.clone=function(){return new k(this)},gi.diff=function(t,e,i){var n,a,s;if(!this.isValid())return NaN;if(!(n=je(t,this)).isValid())return NaN;switch(a=6e4*(n.utcOffset()-this.utcOffset()),e=H(e)){case"year":s=Ze(this,n)/12;break;case"month":s=Ze(this,n);break;case"quarter":s=Ze(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return i?s:W(s)},gi.endOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ai:ni,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-ii(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-ii(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-ii(e,1e3)-1}return this._d.setTime(e),a.updateOffset(this,!0),this},gi.format=function(t){t||(t=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var e=j(this,t);return this.localeData().postformat(e)},gi.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Se(t).isValid())?Fe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gi.fromNow=function(t){return this.from(Se(),t)},gi.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Se(t).isValid())?Fe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gi.toNow=function(t){return this.to(Se(),t)},gi.get=function(t){return L(this[t=H(t)])?this[t]():this},gi.invalidAt=function(){return m(this).overflow},gi.isAfter=function(t,e){var i=w(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},gi.isBefore=function(t,e){var i=w(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},gi.isBetween=function(t,e,i,n){var a=w(t)?t:Se(t),s=w(e)?e:Se(e);return!!(this.isValid()&&a.isValid()&&s.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(a,i):!this.isBefore(a,i))&&(")"===n[1]?this.isBefore(s,i):!this.isAfter(s,i)))},gi.isSame=function(t,e){var i,n=w(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=H(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},gi.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},gi.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},gi.isValid=function(){return g(this)},gi.lang=ti,gi.locale=Qe,gi.localeData=ei,gi.max=Le,gi.min=$e,gi.parsingFlags=function(){return h({},m(this))},gi.set=function(t,e){if("object"==typeof t){var i,n=function(t){var e,i=[];for(e in t)r(t,e)&&i.push({unit:e,priority:B[e]});return i.sort((function(t,e){return t.priority-e.priority})),i}(t=F(t));for(i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(L(this[t=H(t)]))return this[t](e);return this},gi.startOf=function(t){var e,i;if(void 0===(t=H(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?ai:ni,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ii(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=ii(e,6e4);break;case"second":e=this._d.valueOf(),e-=ii(e,1e3)}return this._d.setTime(e),a.updateOffset(this,!0),this},gi.subtract=Ge,gi.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},gi.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},gi.toDate=function(){return new Date(this.valueOf())},gi.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?j(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(i,"Z")):j(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,i,n="moment",a="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",i=a+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gi.toJSON=function(){return this.isValid()?this.toISOString():null},gi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gi.unix=function(){return Math.floor(this.valueOf()/1e3)},gi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gi.eraName=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].name;if(n[t].until<=i&&i<=n[t].since)return n[t].name}return""},gi.eraNarrow=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].narrow;if(n[t].until<=i&&i<=n[t].since)return n[t].narrow}return""},gi.eraAbbr=function(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].abbr;if(n[t].until<=i&&i<=n[t].since)return n[t].abbr}return""},gi.eraYear=function(){var t,e,i,n,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=s[t].since<=s[t].until?1:-1,n=this.clone().startOf("day").valueOf(),s[t].since<=n&&n<=s[t].until||s[t].until<=n&&n<=s[t].since)return(this.year()-a(s[t].since).year())*i+s[t].offset;return this.year()},gi.year=At,gi.isLeapYear=function(){return q(this.year())},gi.weekYear=function(t){return li.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gi.isoWeekYear=function(t){return li.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},gi.quarter=gi.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},gi.month=Ct,gi.daysInMonth=function(){return wt(this.year(),this.month())},gi.week=gi.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},gi.isoWeek=gi.isoWeeks=function(t){var e=Rt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},gi.weeksInYear=function(){var t=this.localeData()._week;return Nt(this.year(),t.dow,t.doy)},gi.weeksInWeekYear=function(){var t=this.localeData()._week;return Nt(this.weekYear(),t.dow,t.doy)},gi.isoWeeksInYear=function(){return Nt(this.year(),1,4)},gi.isoWeeksInISOWeekYear=function(){return Nt(this.isoWeekYear(),1,4)},gi.date=di,gi.day=gi.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},gi.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},gi.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},gi.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},gi.hour=gi.hours=Zt,gi.minute=gi.minutes=ui,gi.second=gi.seconds=_i,gi.millisecond=gi.milliseconds=hi,gi.utcOffset=function(t,e,i){var n,s=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Oe(pt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(n=Re(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),s!==t&&(!e||this._changeInProgress?We(this,Fe(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Re(this)},gi.utc=function(t){return this.utcOffset(0,t)},gi.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Re(this),"m")),this},gi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Oe(ut,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},gi.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)},gi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gi.isLocal=function(){return!!this.isValid()&&!this._isUTC},gi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gi.isUtc=Ne,gi.isUTC=Ne,gi.zoneAbbr=function(){return this._isUTC?"UTC":""},gi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gi.dates=M("dates accessor is deprecated. Use date instead.",di),gi.months=M("months accessor is deprecated. Use month instead",Ct),gi.years=M("years accessor is deprecated. Use year instead",At),gi.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),gi.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=Me(e))._a?(t=e._isUTC?_(e._a):Se(e._a),this._isDSTShifted=this.isValid()&&function(t,e,i){var n,a=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;n<a;n++)(i&&t[n]!==e[n]||!i&&V(t[n])!==V(e[n]))&&o++;return o+s}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var yi=C.prototype;function vi(t,e,i,n){var a=le(),s=_().set(n,e);return a[i](s,t)}function bi(t,e,i){if(d(t)&&(e=t,t=void 0),t=t||"",null!=e)return vi(t,e,i,"month");var n,a=[];for(n=0;n<12;n++)a[n]=vi(t,n,i,"month");return a}function ki(t,e,i,n){"boolean"==typeof t?(d(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,d(e)&&(i=e,e=void 0),e=e||"");var a,s=le(),o=t?s._week.dow:0,r=[];if(null!=i)return vi(e,(i+o)%7,n,"day");for(a=0;a<7;a++)r[a]=vi(e,(a+o)%7,n,"day");return r}yi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return L(n)?n.call(e,i):n},yi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(E).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},yi.invalidDate=function(){return this._invalidDate},yi.ordinal=function(t){return this._ordinal.replace("%d",t)},yi.preparse=fi,yi.postformat=fi,yi.relativeTime=function(t,e,i,n){var a=this._relativeTime[i];return L(a)?a(t,e,i,n):a.replace(/%d/i,t)},yi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return L(i)?i(e):i.replace(/%s/i,e)},yi.set=function(t){var e,i;for(i in t)r(t,i)&&(L(e=t[i])?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yi.eras=function(t,e){var i,n,s,o=this._eras||le("en")._eras;for(i=0,n=o.length;i<n;++i){switch(typeof o[i].since){case"string":s=a(o[i].since).startOf("day"),o[i].since=s.valueOf()}switch(typeof o[i].until){case"undefined":o[i].until=1/0;break;case"string":s=a(o[i].until).startOf("day").valueOf(),o[i].until=s.valueOf()}}return o},yi.erasParse=function(t,e,i){var n,a,s,o,r,l=this.eras();for(t=t.toUpperCase(),n=0,a=l.length;n<a;++n)if(s=l[n].name.toUpperCase(),o=l[n].abbr.toUpperCase(),r=l[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[n];break;case"NNNN":if(s===t)return l[n];break;case"NNNNN":if(r===t)return l[n]}else if([s,o,r].indexOf(t)>=0)return l[n]},yi.erasConvertYear=function(t,e){var i=t.since<=t.until?1:-1;return void 0===e?a(t.since).year():a(t.since).year()+(e-t.offset)*i},yi.erasAbbrRegex=function(t){return r(this,"_erasAbbrRegex")||oi.call(this),t?this._erasAbbrRegex:this._erasRegex},yi.erasNameRegex=function(t){return r(this,"_erasNameRegex")||oi.call(this),t?this._erasNameRegex:this._erasRegex},yi.erasNarrowRegex=function(t){return r(this,"_erasNarrowRegex")||oi.call(this),t?this._erasNarrowRegex:this._erasRegex},yi.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Tt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},yi.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Tt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yi.monthsParse=function(t,e,i){var n,a,s;if(this._monthsParseExact)return Lt.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=_([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},yi.monthsRegex=function(t){return this._monthsParseExact?(r(this,"_monthsRegex")||Dt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(r(this,"_monthsRegex")||(this._monthsRegex=$t),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yi.monthsShortRegex=function(t){return this._monthsParseExact?(r(this,"_monthsRegex")||Dt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(r(this,"_monthsShortRegex")||(this._monthsShortRegex=St),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yi.week=function(t){return Rt(t,this._week.dow,this._week.doy).week},yi.firstDayOfYear=function(){return this._week.doy},yi.firstDayOfWeek=function(){return this._week.dow},yi.weekdays=function(t,e){var i=s(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?zt(i,this._week.dow):t?i[t.day()]:i},yi.weekdaysMin=function(t){return!0===t?zt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},yi.weekdaysShort=function(t){return!0===t?zt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},yi.weekdaysParse=function(t,e,i){var n,a,s;if(this._weekdaysParseExact)return Vt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=_([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},yi.weekdaysRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(r(this,"_weekdaysRegex")||(this._weekdaysRegex=Ut),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Wt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},oe("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===V(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),a.lang=M("moment.lang is deprecated. Use moment.locale instead.",oe),a.langData=M("moment.langData is deprecated. Use moment.localeData instead.",le);var wi=Math.abs;function xi(t,e,i,n){var a=Fe(e,i);return t._milliseconds+=n*a._milliseconds,t._days+=n*a._days,t._months+=n*a._months,t._bubble()}function Mi(t){return t<0?Math.floor(t):Math.ceil(t)}function Ti(t){return 4800*t/146097}function Si(t){return 146097*t/4800}function $i(t){return function(){return this.as(t)}}var Li=$i("ms"),Pi=$i("s"),Ci=$i("m"),Di=$i("h"),Ei=$i("d"),Ai=$i("w"),Yi=$i("M"),Ii=$i("Q"),Oi=$i("y");function ji(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ri=ji("milliseconds"),Ni=ji("seconds"),zi=ji("minutes"),Hi=ji("hours"),Fi=ji("days"),Bi=ji("months"),Ui=ji("years");var qi=Math.round,Wi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vi(t,e,i,n,a){return a.relativeTime(e||1,!!i,t,n)}var Gi=Math.abs;function Ki(t){return(t>0)-(t<0)||+t}function Ji(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n,a,s,o,r,l=Gi(this._milliseconds)/1e3,c=Gi(this._days),d=Gi(this._months),u=this.asSeconds();return u?(t=W(l/60),e=W(t/60),l%=60,t%=60,i=W(d/12),d%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",a=u<0?"-":"",s=Ki(this._months)!==Ki(u)?"-":"",o=Ki(this._days)!==Ki(u)?"-":"",r=Ki(this._milliseconds)!==Ki(u)?"-":"",a+"P"+(i?s+i+"Y":"")+(d?s+d+"M":"")+(c?o+c+"D":"")+(e||t||l?"T":"")+(e?r+e+"H":"")+(t?r+t+"M":"")+(l?r+n+"S":"")):"P0D"}var Xi=De.prototype;return Xi.isValid=function(){return this._isValid},Xi.abs=function(){var t=this._data;return this._milliseconds=wi(this._milliseconds),this._days=wi(this._days),this._months=wi(this._months),t.milliseconds=wi(t.milliseconds),t.seconds=wi(t.seconds),t.minutes=wi(t.minutes),t.hours=wi(t.hours),t.months=wi(t.months),t.years=wi(t.years),this},Xi.add=function(t,e){return xi(this,t,e,1)},Xi.subtract=function(t,e){return xi(this,t,e,-1)},Xi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=H(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+Ti(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Si(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Xi.asMilliseconds=Li,Xi.asSeconds=Pi,Xi.asMinutes=Ci,Xi.asHours=Di,Xi.asDays=Ei,Xi.asWeeks=Ai,Xi.asMonths=Yi,Xi.asQuarters=Ii,Xi.asYears=Oi,Xi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*V(this._months/12):NaN},Xi._bubble=function(){var t,e,i,n,a,s=this._milliseconds,o=this._days,r=this._months,l=this._data;return s>=0&&o>=0&&r>=0||s<=0&&o<=0&&r<=0||(s+=864e5*Mi(Si(r)+o),o=0,r=0),l.milliseconds=s%1e3,t=W(s/1e3),l.seconds=t%60,e=W(t/60),l.minutes=e%60,i=W(e/60),l.hours=i%24,o+=W(i/24),r+=a=W(Ti(o)),o-=Mi(Si(a)),n=W(r/12),r%=12,l.days=o,l.months=r,l.years=n,this},Xi.clone=function(){return Fe(this)},Xi.get=function(t){return t=H(t),this.isValid()?this[t+"s"]():NaN},Xi.milliseconds=Ri,Xi.seconds=Ni,Xi.minutes=zi,Xi.hours=Hi,Xi.days=Fi,Xi.weeks=function(){return W(this.days()/7)},Xi.months=Bi,Xi.years=Ui,Xi.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,n,a=!1,s=Wi;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(a=t),"object"==typeof e&&(s=Object.assign({},Wi,e),null!=e.s&&null==e.ss&&(s.ss=e.s-1)),n=function(t,e,i,n){var a=Fe(t).abs(),s=qi(a.as("s")),o=qi(a.as("m")),r=qi(a.as("h")),l=qi(a.as("d")),c=qi(a.as("M")),d=qi(a.as("w")),u=qi(a.as("y")),p=s<=i.ss&&["s",s]||s<i.s&&["ss",s]||o<=1&&["m"]||o<i.m&&["mm",o]||r<=1&&["h"]||r<i.h&&["hh",r]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(p=p||d<=1&&["w"]||d<i.w&&["ww",d]),(p=p||c<=1&&["M"]||c<i.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=e,p[3]=+t>0,p[4]=n,Vi.apply(null,p)}(this,!a,s,i=this.localeData()),a&&(n=i.pastFuture(+this,n)),i.postformat(n)},Xi.toISOString=Ji,Xi.toString=Ji,Xi.toJSON=Ji,Xi.locale=Qe,Xi.localeData=ei,Xi.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ji),Xi.lang=ti,O("X",0,0,"unix"),O("x",0,0,"valueOf"),_t("x",dt),_t("X",/[+-]?\d+(\.\d{1,3})?/),yt("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t))})),yt("x",(function(t,e,i){i._d=new Date(V(t))})),
//! moment.js
a.version="2.29.1",e=Se,a.fn=gi,a.min=function(){var t=[].slice.call(arguments,0);return Pe("isBefore",t)},a.max=function(){var t=[].slice.call(arguments,0);return Pe("isAfter",t)},a.now=function(){return Date.now?Date.now():+new Date},a.utc=_,a.unix=function(t){return Se(1e3*t)},a.months=function(t,e){return bi(t,e,"months")},a.isDate=u,a.locale=oe,a.invalid=f,a.duration=Fe,a.isMoment=w,a.weekdays=function(t,e,i){return ki(t,e,i,"weekdays")},a.parseZone=function(){return Se.apply(null,arguments).parseZone()},a.localeData=le,a.isDuration=Ee,a.monthsShort=function(t,e){return bi(t,e,"monthsShort")},a.weekdaysMin=function(t,e,i){return ki(t,e,i,"weekdaysMin")},a.defineLocale=re,a.updateLocale=function(t,e){if(null!=e){var i,n,a=te;null!=ee[t]&&null!=ee[t].parentLocale?ee[t].set(P(ee[t]._config,e)):(null!=(n=se(t))&&(a=n._config),e=P(a,e),null==n&&(e.abbr=t),(i=new C(e)).parentLocale=ee[t],ee[t]=i),oe(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?(ee[t]=ee[t].parentLocale,t===oe()&&oe(t)):null!=ee[t]&&delete ee[t]);return ee[t]},a.locales=function(){return T(ee)},a.weekdaysShort=function(t,e,i){return ki(t,e,i,"weekdaysShort")},a.normalizeUnits=H,a.relativeTimeRounding=function(t){return void 0===t?qi:"function"==typeof t&&(qi=t,!0)},a.relativeTimeThreshold=function(t,e){return void 0!==Wi[t]&&(void 0===e?Wi[t]:(Wi[t]=e,"s"===t&&(Wi.ss=e-1),!0))},a.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},a.prototype=gi,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},a}))},function(t,e,i,n){t.exports=function(t){var e={ua:"uk",by:"be"};return e[t]?e[t]:t}},function(t,e,i,n){var a=i(482),s=function(t){this.meta=t};s.prototype.getTags=function(){var t=this.meta.getType();if(["album","album-track","artist","playlist"].indexOf(t)<0)return"";switch(t){case"album":return a({ogUrl:this.meta.getOgUrl(),album:this.meta.getAlbum()});case"album-track":return a({ogUrl:this.meta.getOgUrl(),album:this.meta.getAlbum(),track:this.meta.getTrack()});case"artist":return a({ogUrl:this.meta.getOgUrl(),artist:this.meta.getArtist()});case"playlist":return a({ogUrl:this.meta.getOgUrl(),playlist:this.meta.getPlaylist()})}},t.exports=s},function(t,e,i,n){t.exports=function(t){var e='<meta property="al:ios:app_store_id" content="520797969" /><meta property="al:ios:app_name" content="'+__escape(i18n("meta-app-links","[feature/mfront-3990-1]Яндекс Музыка"))+'" />';return t.album?t.track?e+='<meta property="al:ios:url" content="yandexmusic://album/'+__escape(t.album.id)+"/track/"+__escape(t.track.id)+'" />':e+='<meta property="al:ios:url" content="yandexmusic://album/'+__escape(t.album.id)+'" />':t.artist?e+='<meta property="al:ios:url" content="yandexmusic://artist/'+__escape(t.artist.id)+'" />':t.playlist&&(e+='<meta property="al:ios:url" content="yandexmusic://users/'+__escape(t.playlist.owner.login)+"/playlists/"+__escape(t.playlist.kind)+'" />'),e+='<meta property="al:web:url" content="'+t.ogUrl+'" />'}},function(t,e,i,n){var a=i(484),s=function(t){this.meta=t};s.prototype.getTags=function(){const t=["track","album-track"],e=[...t,"artist","album","playlist"],i=this.meta.getType();if("VIDEO_ALLOWED"!==(this.meta.getTrackPreviewFlag&&this.meta.getTrackPreviewFlag())||!e.includes(i))return"";if(t.includes(i)){let t;return t=this.meta.params.isFBCrawler?"facebook":this.meta.params.isTelegram?"telegram":"common",a({track:this.meta.getTrack(),provider:t})}return a({ogUrl:this.meta.getOgUrl()})},t.exports=s},function(t,e,i,n){var a,s;t.exports=(a=i(73),s=i(485),function(t){var e="";return t.track&&t.provider?e+='<meta property="og:restrictions:country:allowed" content="RU" /><meta property="og:restrictions:country:allowed" content="UA" /><meta property="og:restrictions:country:allowed" content="BY" /><meta property="og:restrictions:country:allowed" content="KZ" /><meta property="og:audio" content="https://music.yandex.'+__escape(a().tld)+"/api/v2.1/handlers/track/"+__escape(t.track.id)+"/"+__escape(t.provider)+'/preview" /><meta property="music:preview_url:url" content="https://music.yandex.'+__escape(a().tld)+"/api/v2.1/handlers/track/"+__escape(t.track.id)+"/"+__escape(t.provider)+'/preview" /><meta property="music:preview_url:secure_url" content="https://music.yandex.'+__escape(a().tld)+"/api/v2.1/handlers/track/"+__escape(t.track.id)+"/"+__escape(t.provider)+'/preview" /><meta property="music:preview_url:type" content="audio/mpeg" /><meta property="og:audio:type" content="audio/vnd.facebook.bridge" />':t.ogUrl&&(e+='<meta property="og:audio" content="'+s(t.ogUrl,"play","1")+'" />'),e})},function(t,e,i,n){t.exports=i(76)},function(t,e,i,n){var a=i(487),s=function(t){this.meta=t};s.prototype.getTags=function(){if(!this.meta.params.isTelegram)return a({card:!0});switch(this.meta.getType()){case"album":return a({album:this.meta.getAlbum()});case"album-track":case"track":return a({album:this.meta.getAlbum(),track:this.meta.getTrack()});case"artist":return a({artist:this.meta.getArtist()});case"playlist":return a({playlist:this.meta.getPlaylist()});default:return""}},t.exports=s},function(t,e,i,n){var a;t.exports=(a=i(73),function(t){var e="";return t.card?e+='<meta name="twitter:card" content="summary_large_image" />':t.album?(e+='<meta name="twitter:card" content="audio" /><meta name="twitter:audio:partner" content="@yandexmusic" /><meta name="twitter:player:width" content="600" />',t.track?e+='<meta name="twitter:player:height" content="100" /><meta name="twitter:player" content="https://music.yandex.'+__escape(a().tld)+"/iframe/?sid=telegram#track/"+__escape(t.track.id)+"/"+__escape(t.album.id)+'/hide/cover/autoplay" />':e+='<meta name="twitter:player:height" content="600" /><meta name="twitter:player" content="https://music.yandex.'+__escape(a().tld)+"/iframe/?sid=telegram#album/"+__escape(t.album.id)+'/hide/cover/title/autoplay" />'):t.artist?e+='<meta name="twitter:card" content="audio" /><meta name="twitter:audio:partner" content="@yandexmusic" /><meta name="twitter:player:width" content="600" /><meta name="twitter:player:height" content="600" /><meta name="twitter:player" content="https://music.yandex.'+__escape(a().tld)+"/iframe/?sid=telegram#artist/"+__escape(t.artist.id)+'/hide/cover/title/autoplay" />':t.playlist&&(e+='<meta name="twitter:card" content="audio" /><meta name="twitter:audio:partner" content="@yandexmusic" /><meta name="twitter:player:width" content="600" /><meta name="twitter:player:height" content="600" /><meta name="twitter:player" content="https://music.yandex.'+__escape(a().tld)+"/iframe/?sid=telegram#playlist/"+__escape(t.playlist.owner.login)+"/"+__escape(t.playlist.kind)+'/hide/cover/title/autoplay" />'),e})},function(t,e,i,n){var a=i(489),s=function(t){this.meta=t};s.prototype.getTags=function(){switch(this.meta.getType()){case"album":case"album-track":return a({title:this.meta.getTitle(!0)});case"artist":return a({title:this.meta.getArtist().name});case"playlist":return a({title:this.meta.getPlaylist().title});case"predictions":default:return a({title:this.meta.getTitle()})}},s.prototype.getIphoneTags=function(){var t=this.meta.getType();if(["album","album-track","artist","playlist"].indexOf(t)<0)return"";switch(t){case"album":return a({album:this.meta.getAlbum()});case"album-track":return a({album:this.meta.getAlbum(),track:this.meta.getTrack()});case"artist":return a({artist:this.meta.getArtist()});case"playlist":return a({playlist:this.meta.getPlaylist()})}},t.exports=s},function(t,e,i,n){t.exports=function(){i(476);return function(t){var e="";return t.title?e+='<meta name="twitter:site" content="@yandexmusic"/><meta name="twitter:title" content="'+__escape(t.title)+'"/>':t.album?(e+='<meta name="twitter:app:country" content="RU" /><meta name="twitter:app:name:iphone" content="Яндекс Музыка" /><meta name="twitter:app:id:iphone" content="520797969" />',t.track?e+='<meta name="twitter:app:url:iphone" content="yandexmusic://album/'+__escape(t.album.id)+"/track/"+__escape(t.track.id)+'" />':e+='<meta name="twitter:app:url:iphone" content="yandexmusic://album/'+__escape(t.album.id)+'" />'):t.artist?e+='<meta name="twitter:app:country" content="RU" /><meta name="twitter:app:name:iphone" content="Яндекс Музыка" /><meta name="twitter:app:id:iphone" content="520797969" /><meta name="twitter:app:url:iphone" content="yandexmusic://artist/'+__escape(t.artist.id)+'" />':t.playlist&&(e+='<meta name="twitter:app:country" content="RU" /><meta name="twitter:app:name:iphone" content="Яндекс Музыка" /><meta name="twitter:app:id:iphone" content="520797969" /><meta name="twitter:app:url:iphone" content="yandexmusic://users/'+__escape(t.playlist.owner.login)+"/playlists/"+__escape(t.playlist.kind)+'" />'),e}}()},function(t,e,i,n){var a=i(491),s=function(t){this.meta=t};s.prototype.getTags=function(){var t;switch(this.meta.getType()){case"album":return a({appId:!0,artists:this.meta.getArtists()});case"album-track":return a({appId:!0,artists:this.meta.getArtists(),albums:[this.meta.getAlbum()],durations:[this.meta.getTrack().durationMs]});case"track":return t=this.meta.getTrack(),a({appId:!0,artists:this.meta.getArtists(),albums:t.albums||[],durations:[t.durationMs]});case"playlist":return a({appId:!0,creators:[this.meta.getPlaylist().owner]});default:return a({appId:!0})}},s.prototype.getTracksTags=function(){var t,e;switch(this.meta.getType()){case"album":return e=((t=this.meta.getAlbum()).volumes||[]).map((function(t){return t.filter((function(t){return t.albums&&t.albums.length}))})).reduce((function(t,e){return t.concat(e)})),a({album:t,tracks:e});case"playlist":return e=(this.meta.getPlaylist().tracks||[]).filter((function(t){return t.albums&&t.albums.length})),a({tracks:e});default:return""}},t.exports=s},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(476),s=function(t){return'<meta property="music:musician" content="'+a.getLink({artist:t.artist})+'"/>'},o=function(t){return'<meta property="music:song" content="'+a.getLink({track:t.track,albumId:t.album&&t.album.id})+'"/>'},r=function(t){return'<meta property="music:album" content="'+a.getLink({album:t.album})+'"/>'},l=function(t){return'<meta property="music:creator" content="'+a.getLink({user:t.creator})+'" />'},c=function(t){return'<meta property="music:duration" content="'+__escape(Math.round((t.duration||0)/1e3))+'"/>'},function(t){var e="";if(t.appId&&(e+='<meta property="fb:app_id" content="117328825040925"/>'),t.albums)for(var i,n=0;n<t.albums.length;n++)i=t.albums[n],e+=r({album:i});if(t.tracks)for(var a,d=0;d<t.tracks.length;d++)a=t.tracks[d],e+=o({track:a,album:t.album||a.albums[0]});if(t.artists)for(var u,p=0;p<t.artists.length;p++)u=t.artists[p],e+=s({artist:u});if(t.creators)for(var h,_=0;_<t.creators.length;_++)h=t.creators[_],e+=l({creator:h});if(t.durations)for(var m,g=0;g<t.durations.length;g++)m=t.durations[g],e+=c({duration:m});return e})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_,m,g,f;t.exports=(a=i(73),s=i(485),o=i(425),r=i(493),l=function(t){var e="",i=a().lang;if(e+='<meta http-equiv="Content-language" content="'+__escape(i)+'"/>',t.ogUrl&&t.possibleLangs&&Array.isArray(t.possibleLangs))for(var n,s=0;s<t.possibleLangs.length;s++)(n=t.possibleLangs[s])!==i&&(e+='<link rel="alternate" hreflang="'+__escape(n)+'" type="text/html" href="'+o(t.ogUrl,n)+'" />');return e},c=function(t){return"<title>"+__escape(t.title?t.title:i18n("meta","[feature/mfront-3990-1]Яндекс Музыка"))+"</title>"},d=function(t){var e="";return t.description&&(e+='<meta name="description" content="'+__escape(t.description)+'"/>'),e},u=function(t){var e="";if(t.ogImage){var i=s(t.ogImage,"webp","false");e+='<link rel="image_src" href="'+i+'" /><meta property="og:image" content="'+i+'" />'}return e},p=function(t){var e="";return t.ogTitle&&(e+='<meta property="og:title" content="'+__escape(t.ogTitle)+'" />'),e},h=function(t){var e="";return t.ogDescription&&(e+='<meta property="og:description" content="'+__escape(t.ogDescription)+'" />'),e},_=function(t){var e="";return t.ogType&&(e+='<meta property="og:type" content="'+__escape(t.ogType)+'" />'),e},m=function(t){var e="";return t.ogUrl&&(e+='<meta property="og:url" content="'+o(t.ogUrl)+'" />'),e},g=function(t){return'<link rel="alternate" type="application/json+oembed" href="'+t.href+'" title="'+__escape(t.title)+'" />'},f=function(t){var e="";return t.lightData&&(e+='<script class="light-data" type="application/ld+json" nonce="'+__escape(t.nonce||"")+'" >'+t.lightData+"<\/script>"),e},function(t){var e="",n=i(474),a=t.meta||n.getMeta(t.page,t.params,t.shareData),s=a.getData(),o=a.getType(),y=t.tags&&Array.isArray(t.tags)?t.tags:t.tag?[t.tag]:["all"];if(t.value)"title"===t.value?e+=__escape(a.getTitle()):"description"===t.value?e+=__escape(a.getDescription()):"url"===t.value?e+=a.getUrl():"ogTitle"===t.value?e+=__escape(a.getOgTitle()):"ogDescription"===t.value?e+=__escape(a.getOgDescription()):"ogUrl"===t.value?e+=a.getOgUrl():"ogImage"===t.value?e+=a.getOgImage():"ogType"===t.value&&(e+=__escape(a.getOgType()));else for(var v,b=0;b<y.length;b++){var k="all"===(v=y[b]);if("langs"===v&&(e+=l({ogUrl:a.getOgUrl(),possibleLangs:a.page.possibleLangs})),("title"===v||k)&&(e+=c({title:a.getTitle()})),("description"===v||k)&&(e+=d({description:a.getDescription()})),("ogImage"===v||k)&&(e+=u({ogImage:a.getOgImage()})),("ogTitle"===v||k)&&(e+=p({ogTitle:a.getOgTitle()})),("ogDescription"===v||k)&&(e+=h({ogDescription:a.getOgDescription()})),("ogAudio"===v||k)&&(e+=a.getOgAudio()),("ogType"===v||k)&&(e+=_({ogType:a.getOgType()})),("ogUrl"===v||k)&&(e+=m({ogUrl:a.getOgUrl()})),("ogSiteName"===v||k)&&(e+='<meta property="og:site_name" content="'+__escape(i18n("meta","[feature/mfront-3990-1]Яндекс Музыка"))+'" />'),("ogLocale"===v||k)&&(e+='<meta property="og:locale" content="ru_RU" />'),("facebook"===v||k)&&(e+=a.getFacebookTags()),("facebookTracks"===v||k&&a.params.isFBCrawler)&&(e+=a.getFacebookTracksTags()),("telegram"===v||k)&&(e+=a.getTelegramTags()),("twitter"===v||k)&&(e+=a.getTwitterTags()),("twitterIphone"===v||k)&&(e+=a.getTwitterIphoneTags()),"oembed"===v||k)if("track"===o){var w=r()+"/handlers/oembed-json.jsx?track="+a.getTrack().id;e+=g({href:w,title:a.getTrack().title})}else"album"===o?(w=r()+"/handlers/oembed-json.jsx?album="+s.id,e+=g({href:w,title:s.title})):"album-track"===o?(w=r()+"/handlers/oembed-json.jsx?album="+s.id+"&track="+a.getTrack().id,e+=g({href:w,title:a.getTrack().title})):"playlist"===o&&(w=r()+"/handlers/oembed-json.jsx?kind="+a.getPlaylist().kind+"&owner="+a.getPlaylist().owner.login,e+=g({href:w,title:a.getPlaylist().title}));("appLinks"===v||k)&&(e+=a.getAppLinks()),("noindex"===v||k&&s.doNotIndex)&&(e+='<meta name="robots" content="noindex" />'),("lightData"===v||k)&&(e+=f({lightData:a.getLightData(),nonce:a.params.nonce}))}return e})},function(t,e,i,n){t.exports=i(184)},function(t,e,i,n){const a=i(78),s=i(476),o=i(475),r=["audiobooksinenglish","fiction"],l=["audiobook","fairy-tale"],c=({type:t,genre:e})=>l.includes(t)||r.includes(e),d=function(t,e,i){o.call(this,t,e,i||{album:t.data})};(d.prototype=Object.create(o.prototype)).getTracksCount=function(){return this.page.data.trackCount||0},d.prototype.getAlbum=function(){return this.getData()},d.prototype.getArtists=function(){return(this.page.data.artists||[]).filter((function(t){return t&&!t.various}))},d.prototype.getTitle=function(){const t=s.getArtistsText(this.getArtists());return c(this.page.data)?t?i18n("meta","[feature/mfront-3990-1]%1 — аудиокнига, читает: %2. Слушать книгу онлайн на Яндекс Музыке",this.page.data.title,t):i18n("meta","[feature/mfront-3990-1]%1 — аудиокнига. Слушать книгу онлайн на Яндекс Музыке",this.page.data.title):"podcast"===this.page.data.type?i18n("meta","[feature/mfront-3990-1]Подкаст %1. Слушать все выпуски онлайн бесплатно на Яндекс Музыке",this.page.data.title):t?i18n("meta","[feature/mfront-3990-1]%1 альбом %2 слушать онлайн бесплатно на Яндекс Музыке в хорошем качестве",t,this.page.data.title):i18n("meta","[feature/mfront-3990-1]Альбом %1 слушать онлайн бесплатно на Яндекс Музыке в хорошем качестве",this.page.data.title)},d.prototype.getDescription=function(){const t=s.getArtistsText(this.getArtists());return c(this.page.data)?t?i18n("meta","[feature/mfront-3990-1]%1 — аудиокнига, читает: %2. Слушать книгу онлайн на Яндекс Музыке",this.page.data.title,t):i18n("meta","[feature/mfront-3990-1]%1 — аудиокнига. Слушать книгу онлайн на Яндекс Музыке",this.page.data.title):"podcast"===this.page.data.type?i18n("meta","[feature/mfront-3990-1]Подкаст %1. Слушать все выпуски онлайн бесплатно на Яндекс Музыке",this.page.data.title):t?i18n("meta","[feature/mfront-3990-1]%1 альбом %2 слушать онлайн бесплатно в хорошем качестве на Яндекс Музыке",t,this.page.data.title):i18n("meta","[feature/mfront-3990-1]Альбом %1 слушать онлайн бесплатно в хорошем качестве на Яндекс Музыке",this.page.data.title)},d.prototype.getOgTitle=function(){return this.getTitle()},d.prototype.getOgDescription=function(){return this.page.data.premiere&&this.page.data.premiere.description?a(this.page.data.premiere.description):i18n("meta","[feature/mfront-3990-1]Слушайте на Яндекс Музыке")},d.prototype.getOgType=function(){return"music.album"},t.exports=d},function(t,e,i,n){const a=i(126),s=i(476),o=i(494),r=function(t,e,i){o.call(this,t,e,i||{track:this.getTrack(t)})};(r.prototype=Object.create(o.prototype)).getType=function(){return"album-track"},r.prototype.getTrack=function(t){t=t||this.page;const{trackId:e}=t;let i=null;return t.data.volumes.find((function(t){return i=t.find((function(t){return t.id.toString()===e.toString()})),i})),i},r.prototype.getTrackPreviewFlag=function(){const{trackSharingFlag:t}=this.page.data;return t},r.prototype.getTitle=function(){const t=[this.getTrack().title||this.page.data.title,s.getArtistsText(this.getArtists())||null].join(" ").trim();return i18n("meta","[feature/mfront-3990-1]%1 слушать онлайн на Яндекс Музыке",t)},r.prototype.getDescription=function(){const t=[this.getTrack().title||this.page.data.title,s.getArtistsText(this.getArtists())||null].join(" ").trim();return i18n("meta","[feature/mfront-3990-1]%1 слушать онлайн бесплатно на Яндекс Музыке в хорошем качестве",t)},r.prototype.getOgImage=function(){const t=this.getTrack();return t.ogImage?s.cover(t.ogImage):""},r.prototype.getOgType=function(){return"music.song"},r.prototype.getOgDescription=function(){const t=[i18n("meta","[feature/mfront-3990-1]Слушайте на Яндекс Музыке")],e=this.page.data.lyric&&this.page.data.lyric.length&&this.page.data.lyric[0]||{};return e.lyrics&&(t.push(": "),t.push(a(e.lyrics))),t.join("")},t.exports=r},function(t,e,i,n){var a=i(476),s=i(475),o=function(t,e,i){s.call(this,t,e,i||{artist:t.data})};(o.prototype=Object.create(s.prototype)).getArtist=function(){return this.getData().artist||{}},o.prototype.getTitle=function(){var t=this.getArtist();if(0===Object.keys(t).length)return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка");switch(t.what){case"tracks":return i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн все песни на Яндекс Музыке",t.name);case"albums":return i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн, дискография на Яндекс Музыке",t.name);case"concerts":return i18n("meta","%1 — ближайшие концерты, билеты, расписание",t.name);case"similar":return i18n("meta","[feature/mfront-3789]%1 — похожие исполнители, поток похожих песен",t.name);default:return i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн бесплатно на Яндекс Музыке в хорошем качестве",t.name||"")}},o.prototype.getDescription=function(){var t,e,i,n,s,o,r=[],l=this.getData(),c=this.getArtist();switch(r.push(c.name),this.page.what){case"tracks":t=a.getRange(l.tracks,0,3),i=a.getRange(l.tracks,3).length,t.length&&(r.push(": "),r.push(t.map((function(t){return t.title})).join(", "))),i&&(r.push(" "),r.push(i18n("meta","и другие песни"))),r.push(".");break;case"albums":e=a.getRange(l.albums,0,3),n=a.getRange(l.albums,3).length,e.length&&(r.push(": "),r.push(i18n("meta","все альбомы, включая ")),r.push(e.map((function(t){return"«"+t.title+"»"})).join(", "))),n&&(r.push(" "),r.push(i18n("meta","и другие"))),r.push(".");break;case"concerts":t=a.getRange(l.tracks,0,3),i=a.getRange(l.tracks,3).length,r.push(c.name),r.push(": "),r.push(i18n("meta","выбирайте концерт в своём городе. Подписывайтесь на новые события. Покупайте билеты."));break;case"similar":s=a.getRange(l.artists,0,3),o=a.getRange(l.artists,3).length,r.push(c.name),s.length&&(r.push(" "),r.push(i18n("meta","и похожие")),r.push(": "),r.push(s.map((function(t){return t.name})).join(", "))),o&&(r.push(" "),r.push(i18n("meta","и другие"))),r.push(".");break;default:r=[i18n("meta","[feature/mfront-3990-1]%1 слушать лучшее онлайн бесплатно в хорошем качестве на Яндекс Музыке. Дискография %1 — все популярные треки и альбомы, плейлисты лучших песен, концерты, клипы и видео",c.name||"")]}return r.join("")},o.prototype.getOgTitle=function(){var t=this.getArtist();return t.what?this.getTitle():t.name},o.prototype.getOgType=function(){return"music.musician"},o.prototype.getOgImage=function(){return a.cover(this.getArtist().ogImage)},t.exports=o},function(t,e,i,n){const a=i(73),s=i(184),o=i(476),r=i(475),l=function(t,e,i){r.call(this,t,e,i||{playlist:t.data.playlist})};(l.prototype=Object.create(r.prototype)).getPlaylist=function(){return this.getData().playlist||{}},l.prototype.getTitle=function(){const t=this.getPlaylist().title;return o.hasPlaylistWord(t)?i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн бесплатно на Яндекс Музыке",t):i18n("meta","[feature/mfront-3990-1]Плейлист %1 — слушать онлайн бесплатно на Яндекс Музыке",t)},l.prototype.getDescription=function(){const t=this.getPlaylist().title;return o.hasPlaylistWord(t)?i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн бесплатно на Яндекс Музыке. Подборки плейлистов популярных треков и песен на Яндекс Музыке",t):i18n("meta","[feature/mfront-3990-1]Плейлист %1 — слушать онлайн бесплатно на Яндекс Музыке. Подборки плейлистов популярных треков и песен на Яндекс Музыке",t)},l.prototype.getOgTitle=function(){let t="";const e=this.getPlaylist();if(e.ogTitle)t=e.ogTitle;else if("playlistOfTheDay"===e.generatedPlaylistType){const i=e.madeFor.caseForms&&e.madeFor.caseForms.genitive||e.madeFor.userInfo.login;t=i18n("meta","[feature/mfront-3990-1]#Плейлистдня для %1 на Яндекс Музыке",i)}else t=e.title;return t},l.prototype.getOgDescription=function(){const t=[],e=this.getPlaylist();return e.ogDescription?t.push(o.stripWiki(e.ogDescription)):"playlistOfTheDay"===e.generatedPlaylistType?t.push(i18n("meta","[feature/og-playlistoftheday]Послушай его или получи свой персональный плейлист")):e.description?t.push(o.stripWiki(e.description)):t.push(i18n("meta","[feature/mfront-3990-1]Слушайте на Яндекс Музыке")),t.join("")},l.prototype.getOgImage=function(){const t=this.getPlaylist(),{cover:e}=t,{ogImage:i}=t;return i?o.cover(i):"playlistOfTheDay"===t.generatedPlaylistType?s()+"/pages/autoplaylist/i/og/daily.png":e&&e.uri?o.cover(e.uri):e&&"pic"===e.type?`https://${a().avatars}${e.dir}1000x1000?${e.version}`:e&&e.itemsUri&&e.itemsUri[0]?o.cover(e.itemsUri[0]):void 0},l.prototype.getOgType=function(){return"music.playlist"},t.exports=l},function(t,e,i,n){const a=i(184),s=i(476),o=i(475),r=function(t,e,i){o.call(this,t,e,i||{autoplaylist:t.data})};(r.prototype=Object.create(o.prototype)).getTitle=function(){const t=this.getData(),{title:e}=t.autoplaylist.data;if(e){return s.hasPlaylistWord(e)?i18n("meta","[feature/mfront-3990-1]%1 — слушать онлайн бесплатно на Яндекс Музыке",e):i18n("meta","[feature/mfront-3990-1]Плейлист %1 — слушать онлайн бесплатно на Яндекс Музыке",e)}return o.prototype.getTitle.apply(this)},r.prototype.getOgTitle=function(){const t=this.getData(),e=t.autoplaylist.data.ogData;if(e&&e.title)return e.title;const{title:i}=t.autoplaylist.data,{urlPart:n}=t;if(n)switch(n){case"daily":return i18n("meta","[feature/mfront-3990-1]Плейлист дня на Яндекс Музыке");case"rewind":return i18n("meta","[feature/mfront-3990-1]#Летняяперемотка на Яндекс Музыке");case"family":return i18n("meta","[feature/family-playlist]Плейлист семьи на #ЯндексМузыке");case"origin":return i18n("meta","[feature/mfront-3990-1]Слушайте мой #ПлейлистсАлисой на Яндекс Музыке");default:return i18n("meta","[feature/mfront-3990-1]Плейлист %1 на Яндекс Музыке",i)}return o.prototype.getOgTitle.apply(this)},r.prototype.getOgDescription=function(){const t=this.getData(),e=t.autoplaylist.data.ogData;if(e&&e.description)return e.description;const{urlPart:i}=t;switch(i){case"rewind":return i18n("meta","[hotfix/rewind]Послушай моё лето и поделись своим!");case"family":return i18n("meta","[feature/family-playlist]Послушай плейлист моей семьи и попробуй получить свой!");case"origin":return i18n("meta","[feature/playlist-origin]Алиса собрала и прокомментировала шотами плейлист для меня!");default:return i18n("meta","[feature/og-playlistoftheday]Послушай его или получи свой персональный плейлист")}},r.prototype.getOgImage=function(){const t=this.getData(),e=t.autoplaylist.data.ogData;if(e&&e.image&&e.image.uri)return s.cover(e.image.uri);const{urlPart:i}=t;return i?`${a()}/pages/autoplaylist/i/og/${i}.png`:o.prototype.getOgImage.apply(this)},r.prototype.getOgUrl=function(){const t=this.getData(),{urlPart:e}=t;return e?`${a()}/playlist/${e}`:o.prototype.getOgUrl.apply(this)},r.prototype.getOgType=function(){return"music.playlist"},t.exports=r},function(t,e,i,n){var a=i(475),s=function(t,e,i){a.call(this,t,e,i||{user:t.data.owner,what:t.data.what})};(s.prototype=Object.create(a.prototype)).getType=function(){return"user"},s.prototype.getUser=function(){return this.getData().owner||{}},s.prototype.getTitle=function(){var t=this.getData(),e=this.getUser(),i=t.what?t.what:"playlists";const n=t.auth.user.name===e.name;switch(i){case"tracks":return n?i18n("meta","[feature/mfront-3990-1]%1: Мои треки на Яндекс Музыке",e.name):i18n("meta","[feature/mfront-3990-1]%1: Треки на Яндекс Музыке",e.name);case"albums":return n?i18n("meta","[feature/mfront-3990-1]%1: Мои альбомы на Яндекс Музыке",e.name):i18n("meta","[feature/mfront-3990-1]%1: Альбомы на Яндекс Музыке",e.name);case"artists":return n?i18n("meta","[feature/mfront-3990-1]%1: Мои исполнители на Яндекс Музыке",e.name):i18n("meta","[feature/mfront-3990-1]%1: Исполнители на Яндекс Музыке",e.name);case"playlists":return n?i18n("meta","[feature/mfront-3990-1]%1: Мои плейлисты на Яндекс Музыке",e.name):i18n("meta","[feature/mfront-3990-1]%1: Плейлисты на Яндекс Музыке",e.name);case"history":return i18n("meta","[feature/mfront-3990-1]%1: История прослушиваний на Яндекс Музыке",e.name);case"podcasts":return n?i18n("meta","[feature/mfront-3990-1]%1: Мои подкасты на Яндекс Музыке",e.name):i18n("meta","[feature/mfront-3990-1]%1: Подкасты на Яндекс Музыке",e.name);default:return i18n("meta","[feature/mfront-3990-1]%1 на Яндекс Музыке",e.name)}},s.prototype.getOgTitle=function(){return this.getUser().name},s.prototype.getOgType=function(){return"profile"},s.prototype.getOgImage=function(){var t=this.getData(),e=t.info&&t.info.image||"";return e&&0===e.indexOf("//")&&(e="https:"+e),e},t.exports=s},function(t,e,i,n){const a=i(69),s=i(475),o=function(t,e,i){s.call(this,t,e,i)};(o.prototype=Object.create(s.prototype)).getTitle=function(){const t=[],{query:e}=this.page,{counts:i}=this.page.data.result;switch(e.text?t.push(e.text):t.push(i18n("meta","[feature/mfront-3990-1]Яндекс Музыка")),e.type){case"albums":t.push(a(i.albums,i18n("meta",": нашёлся %s альбом|: нашлось %s альбома|: нашлось %s альбомов|")));break;case"podcasts":t.push(a(i.podcasts,i18n("meta","[feature/podcasts-in-search]: нашёлся %s подкаст|: нашлось %s подкаста|: нашлось %s подкастов|")));break;case"artists":t.push(a(i.artists,i18n("meta",": нашёлся %s исполнитель|: нашлось %s исполнителя|: нашлось %s исполнителей|")));break;case"tracks":t.push(a(i.tracks,i18n("meta",": нашёлся %s трек|: нашлось %s трека|: нашлось %s треков|")));break;case"podcast_episodes":t.push(a(i.podcast_episodes,i18n("meta","[feature/podcasts-in-search]: нашёлся %s выпуск|: нашлось %s выпуска|: нашлось %s выпусков|")));break;case"playlists":t.push(a(i.playlists,i18n("meta",": нашёлся %s плейлист|: нашлось %s плейлиста|: нашлось %s плейлистов|")));break;default:i.albums+i.artists+i.tracks+i.playlists+i.videos&&t.push(i18n("meta",": песни, альбомы, плейлисты"))}return t.join("")},o.prototype.getOgTitle=function(){return""},o.prototype.getOgDescription=function(){return""},o.prototype.getOgUrl=function(){return""},t.exports=o},function(t,e,i,n){const a=i(184),s=i(73),o=i(475),r=function(t,e,i){o.call(this,t,e,i)};(r.prototype=Object.create(o.prototype)).getTitle=function(){let t;if("com"===s().tld)switch(this.page.what){case"home":return"Yandex Music: We bring the music and podcasts to you!";case"new-releases":return"New releases";case"new-playlists":return"Playlists with new releases";case"chart":return t={tracks:"Yandex Music chart",albums:"Top 100 albums",podcasts:"Top 100 podcasts",caterogy:this.page.data.chart.title},this.page.podcastsCategory?t.caterogy||"Yandex Music charts":t[this.page.chartType]||"Yandex Music charts";case"genres":return"Mixes";case"non-music":return this.page.chartType?"Top 100 podcasts":"Podcasts and books";default:return"Yandex Music"}else switch(this.page.what){case"home":return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — собираем музыку и подкасты для вас");case"new-releases":return i18n("meta","Новые релизы");case"new-playlists":return i18n("meta","Плейлисты с новинками");case"chart":return t={tracks:i18n("meta","[feature/mfront-3990-1]Чарт Яндекс Музыки"),albums:i18n("meta","[feature/mfront-3990-1]Чарт альбомов на Яндекс Музыке"),podcasts:i18n("meta","[feature/mfront-3990-1]Чарт подкастов на Яндекс Музыке"),caterogy:this.page.data.chart.title},this.page.podcastsCategory?t.caterogy||i18n("meta","[feature/mfront-3990-1]Чарт Яндекс Музыки"):t[this.page.chartType]||i18n("meta","[feature/mfront-3990-1]Чарт Яндекс Музыки");case"genres":return i18n("meta","Музыкальные подборки");case"non-music":return this.page.chartType?i18n("meta","[feature/mfront-3990-1]Чарт подкастов на Яндекс Музыке"):this.page.editorialType&&this.page.editorialId||this.page.compilationId?this.page.data.title+i18n("meta","[feature/mfront-3990-1] — Слушать аудиокниги и подкасты онлайн на Яндекс Музыке"):i18n("meta","[feature/mfront-3737]Подкасты и книги");default:return o.prototype.getTitle.apply(this)}},r.prototype.getDescription=function(){let t;if("com"===s().tld)switch(this.page.what){case"home":return"Tune in to Yandex Music and get personal recommendations, mixes for any occasion, podcasts about everything under the sun, and new music from all around the world.";case"new-releases":return"Listen to new tracks, albums, and compilations";case"new-playlists":return"New music, collected for you by the Yandex Music editorial team";case"chart":return t={tracks:"Tracks popular on Yandex Music right now",albums:"The most popular albums on Yandex Music",podcasts:"The most popular podcast on Yandex Music",caterogy:this.page.data.chart.description},this.page.podcastsCategory?t.caterogy||"The most popular podcasts on Yandex Music":t[this.page.chartType]||"The most popular tracks, albums and podcasts";case"genres":return"Playlists for different moods and activities";case"non-music":return"Enjoy non-music content!";default:return"Discover something new every day!"}else switch(this.page.what){case"home":return i18n("meta","[feature/mfront-3990-1]Персональные рекомендации, подборки на любой случай, подкасты обо всём на свете и музыкальные новинки — с Яндекс Музыкой всегда есть что послушать!");case"new-releases":return i18n("meta","Слушайте новые треки, альбомы и сборники");case"new-playlists":return i18n("meta","[feature/mfront-3990-1]Новая музыка, собранная для вас редакцией Яндекс Музыки");case"chart":return t={tracks:i18n("meta","[feature/mfront-3083]Треки, популярные прямо сейчас"),albums:i18n("meta","[feature/mfront-3083]Самое популярное прямо сейчас"),podcasts:i18n("meta","[feature/mfront-3083]Самое популярное прямо сейчас"),caterogy:this.page.data.chart.description},this.page.podcastsCategory?t.caterogy||i18n("meta","[feature/mfront-3083]Самое популярное прямо сейчас"):t[this.page.chartType]||i18n("meta","[feature/mfront-3083]Самое популярное прямо сейчас");case"genres":return i18n("meta","Плейлисты по жанрам, под настроение или для разных занятий");case"non-music":return i18n("meta","[feature/main-non-music]Слушайте не только музыку!");default:return i18n("meta","Открывайте новое каждый день!")}},r.prototype.getOgTitle=function(){return this.getTitle()},r.prototype.getOgDescription=function(){return this.getDescription()},r.prototype.getOgUrl=function(){const t=this.page.what||"home";return"chart"===t&&this.page.chartType?`${a()}/${t}/${this.page.chartType}`:this.page.podcastsCategory?`${a()}/${t}/podcasts/category/${this.page.podcastsCategory}`:`${a()}/${t}`},r.prototype.getOgImage=function(){let t=this.params.isFBCrawler?"_fb":"";switch(t="com"===s().tld?"_com":t,this.page.what){case"new-releases":return`${a()}/pages/main/i/og/releases${t}.png`;case"new-playlists":return`${a()}/pages/main/i/og/playlists${t}.png`;case"chart":if("tracks"===this.page.chartType)return`${a()}/pages/main/i/og/chart${t}.png`;if(this.page.podcastsCategory)return`${a()}/pages/main/i/og/chart_podcasts${t}.png`;var e=this.page.chartType?"_"+this.page.chartType:"s";return`${a()}/pages/main/i/og/chart/chart${e}${t}.png`;case"genres":return`${a()}/pages/main/i/og/moods${t}.png`;default:return`${a()}/pages/main/i/og/home${t}.png`}},t.exports=r},function(t,e,i,n){const a=i(78),s=i(70),o=i(73),r=i(184),l=i(503),c=i(475),d=function(t,e,i){let n;switch(t.name){case"concert":n={concert:t.data};break;case"radio":n={radio:t.data};break;default:n=i}c.call(this,t,e,n)};(d.prototype=Object.create(c.prototype)).getTitle=function(){const t=this.getData();switch(this.getType()){case"settings":return i18n("meta","[feature/mfront-3990-1]Настройки — Яндекс Музыка");case"pay":return i18n("meta","[feature/mfront-3990-1]Подписка на Яндекс Музыку");case"personal":return i18n("meta","Ваш летний фестиваль");case"personal-top2017":return i18n("meta","[feature/mfront-4560]Яндекс Музыка накрывает");case"personal-top2018":return i18n("meta","[feature/mfront-4560]Яндекс Музыка зажигает");case"tag":return t.title?`${t.title} — ${i18n("meta","[feature/mfront-3990-1]Яндекс Музыка")}`:c.prototype.getTitle.apply(this);case"import":return`${i18n("meta","Импорт музыкальных коллекций")} - ${i18n("meta","[feature/mfront-3990-1]Яндекс Музыка")}`;case"label":return t.label&&t.label.name?l(t)?i18n("meta","[feature/mfront-3990-1]Издатель %1 на Яндекс Музыке",t.label.name):i18n("meta","[feature/mfront-3990-1]Лейбл %1 на Яндекс Музыке",t.label.name):c.prototype.getTitle.apply(this);case"predictions":return i18n("meta","[feature/mfront-789-cards5]Музыкальные предсказания");case"post":case"apartment":return t.title||c.prototype.getTitle.apply(this);case"travel":return i18n("meta","Музыка в дорогу");case"moana":return i18n("meta","Музыкальная карта мира Disney");case"cobain":return i18n("meta","Включите «Нирвану» погромче!");case"concert":return t.concertTitle?i18n("meta","%1 — купить билеты на концерт в %2, выбрать места",t.concertTitle,t.cityCaseForms&&t.cityCaseForms.prepositionalCase):c.prototype.getTitle.apply(this);case"radio":switch(t.activeTab){case"genre":return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — потоки по жанрам");case"epoch":return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — потоки по эпохам");case"mood":return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — потоки по настроению");case"activity":return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — потоки для разных занятий");default:return i18n("meta","[feature/mfront-3990-1]Яндекс Музыка — потоки на любой вкус")}case"kids":return t.editorialType&&t.editorialId?t.title+i18n("meta","[feature/mfront-3990-1] — Слушать аудиосказки и подкасты онлайн на Яндекс Музыке"):i18n("meta","[feature/mfront-3142]Детям");default:return c.prototype.getTitle.apply(this)}},d.prototype.getDescription=function(){const t=this.getData();switch(this.getType()){case"pay":case"pay-plus":return i18n("meta","Оформите подписку по выгодной цене и пользуйтесь приложением на любом устройстве без ограничений!");case"description":case"label":return t.description?a(t.description):i18n("meta","[feature/mfront-3990-1]Слушайте на Яндекс Музыке");case"radio":return"neuromusic"===t.activeTab||this.page&&"neuromusic"===this.page.department?i18n("meta","[feature/mfront-3946]Это Нейромузыка. Создана умным алгоритмом, подстраивается под вас"):c.prototype.getDescription.apply(this);default:return c.prototype.getDescription.apply(this)}},d.prototype.getOgTitle=function(){const t=this.getData();switch(this.getType()){case"personal":return i18n("meta","Афиша моего летнего фестиваля. Посмотри свою");case"personal-top2017":return t.sharingUser&&t.og&&0!==t.og.minutes?i18n("meta","[feature/mfront-4560]#МузыкаНакрывает"):i18n("meta","[feature/mfront-4560]Яндекс Музыка — цифра года #МузыкаНакрывает");case"personal-top2018":return i18n("meta","[feature/mfront-4560]Яндекс Музыка — цифра года #МузыкаЗажигает");case"tag":return t.tag.name||c.prototype.getOgTitle.apply(this);case"predictions":return t.prediction&&t.prediction.ogTitle?t.prediction.ogTitle:i18n("meta","Моё предсказание от музыкальной обезьяны");case"travel":case"concert":return this.getTitle();case"moana":return i18n("meta","Путешествие по музыкальной карте мира от Disney!");case"settings":case"post":case"label":return"";default:return c.prototype.getOgTitle.apply(this)}},d.prototype.getOgDescription=function(){const t=this.getData();switch(this.getType()){case"personal":return i18n("meta","[feature/mfront-3990-1]Получи обратный билет в лето на Яндекс Музыке");case"personal-top2017":return t.sharingUser&&t.og&&0!==t.og.minutes?i18n("meta","[feature/mfront-4560]Узнайте, что вам приготовила Яндекс Музыка"):i18n("meta","[feature/mfront-4560]Узнайте, сколько музыки вы наслушали в 2017 году");case"personal-top2018":return i18n("meta","[feature/mfront-4560]Узнайте, сколько музыки вы наслушали в 2018 году");case"tag":return t.tag.ogDescription||c.prototype.getOgDescription.apply(this);case"predictions":return t.prediction?t.prediction.ogDescription||i18n("meta","[feature/mfront-3990-1]Яндекс Музыка заглянула в моё будущее и увидела там эту песню. Узнайте, что ждёт вас в год Обезьяны!"):i18n("meta","Узнайте, что Новый год готовит вам!");case"apartment":return t.description||"";case"travel":return t.finished?i18n("meta","Чемодан собран — плейлист подобран! #яндексмузыка #музыкавдорогу"):i18n("meta","[feature/mfront-3990-1]Собирайте чемоданы — о плейлисте в дорогу позаботится Яндекс Музыка! #яндексмузыка #музыкавдорогу");case"moana":return i18n("meta","В честь выхода мультфильма «Моана» предлагаем проплыть по всем континентам, где разворачивались события легендарных фильмов: «Король лев», «Холодное сердце», «Золушка» и еще раз вспомнить, как звучат любимые саундтреки.");case"concert":return i18n("meta","%1, концерт в %2, 📅%3, 🕗%4, 📍%5 — расписание.",t.concertTitle,t.cityCaseForms&&t.cityCaseForms.prepositionalCase,s(t.datetime,"%d.%m.%Y"),s(t.datetime,"%H:%M"),t.place);case"cobain":return i18n("meta","[feature/new-kurt-og]Перемотайте на свою любимую песню");case"settings":case"post":case"label":return"";default:return c.prototype.getOgDescription.apply(this)}},d.prototype.getOgUrl=function(){const t=this.getData();switch(this.getType()){case"personal":return t.sharingUser?`${r()}/personal/${t.sharingUser}`:t.og&&t.og.refId?`${r()}/personal/ref/${t.og.refId}`:r()+"/personal";case"personal-top2017":return t.sharingUser?`${r()}/personal/top2017/${t.sharingUser}`:r()+"/personal/top2017";case"personal-top2018":return t.sharingUser?`${r()}/personal/top2018/${t.sharingUser}`:r()+"/personal/top2018";case"tag":return`${r()}/tag/${encodeURIComponent(this.page.tag)}`;case"post":return`${r()}/post/${t.promoId}`;case"label":return`${r()}/label/${t.label&&t.label.id||""}`;case"predictions":return t.prediction&&t.prediction.id?`${r()}/cards/${t.prediction.id}`:r()+"/cards";case"apartment":return r()+"/timemachine";case"cobain":var e;return e=t.bonus?"?i=b":t.imageNumber>=0&&t.imageNumber<t.imageCount?"?i="+t.imageNumber:"",`${r()}/kurt${e}`;default:return c.prototype.getOgUrl.apply(this)}},d.prototype.getOgImage=function(){const t=this.getData();let e;switch(this.getType()){case"pay":return r()+"/pages/main/i/og/home.png";case"personal":return t.og&&t.og.imageUrl||"";case"personal-top2017":return t.sharingUser?t.og&&t.og.imageUrl||"":r()+"/pages/personal-top2017/og-landing.png";case"personal-top2018":return t.ogImage||"";case"tag":return t.tag.ogImage||c.prototype.getOgImage.apply(this);case"post-tracks-video":return t.image||"";case"predictions":return t.prediction&&t.prediction.ogImage?t.prediction.ogImage:r()+"/blocks/common/predictions.png";case"apartment":return`${r()}/pages/apartment/i/seo/s${t.imageNumber?t.imageNumber:1}.png`;case"travel":return`${r()}/pages/travel/i/share${t.finished?"-result":""}.png`;case"moana":return r()+"/pages/moana/pics/moana-share.jpg";case"cobain":return e="uk"===o().lang?"_uk":"",t.imageNumber>=0&&t.imageNumber<t.imageCount?`${r()}/pages/cobain/i/og/p${t.imageNumber}${e}.png`:`${r()}/pages/cobain/i/og/${t.bonus?"b":"m"}${e}.png`;case"concert":return((t.images||[])[0]||"").replace("%%","960x500");case"import":case"post":case"label":return"";default:return c.prototype.getOgImage.apply(this)}},d.prototype.getQuery=function(){return Mu.location?Mu.location.query:location.query},t.exports=d},function(t,e,i,n){t.exports=function(t){return t.albums&&t.albums.length&&t.albums[0]&&"podcast"===t.albums[0].type}},function(t,e,i,n){var a=i(476),s=i(475),o=function(t,e,i){var n=t.data.tagData||{};s.call(this,t,e,i||{metatag:{id:t.tag,name:n.title&&n.title.fullTitle||"",href:n.href||""},tab:t.tab})};(o.prototype=Object.create(s.prototype)).getTitle=function(t){var e=[],i=this.getData(),n=i.tagData&&i.tagData.title&&i.tagData.title.fullTitle||"";return n?(e.push(n),t||e.push(i18n("meta","[feature/mfront-3789]: поток жанра, популярные треки и исполнители, новые альбомы и подборки плейлистов")),e.join("")):s.prototype.getTitle.apply(this)},o.prototype.getDescription=function(){var t=[],e=this.getData().tagData||{},i=e&&e.artists||[],n=a.getRange(i,0,3),o=a.getRange(i,3).length;return t.push(i18n("meta","Жанр %1",e.title&&e.title.fullTitle||"")),n.length&&(t.push(": "),t.push(a.getArtistsText(n))),o&&t.push(" "+i18n("meta","и другие")),t.push(". "),t.push(s.prototype.getDescription.apply(this)),t.join("")},o.prototype.getOgTitle=function(){return this.getTitle(!0)},o.prototype.getOgDescription=function(){return i18n("meta","[feature/mfront-3990-1]Слушайте на Яндекс Музыке")},t.exports=o},function(t,e,i,n){},function(t,e,i,n){var a;Mu.blocks.register("more",((a=function(){}).init=function(t){this.domDelegate("click",".button",(function(){var t=Mu.blocks.forElem($(this).closest(".more")[0]);if(t){var e=t.data.target||t.container;$(e).replaceWith(t.data.html)}}))},a))},function(t,e,i,n){Mu.blocks.register("nav",function(){var t,e,i,n,a,s,o=function(t){this.$dom=$(t)};return o.init=function(o){t=o.get("auth"),e=o.get("layout"),i=o.get("navigation"),n=Mu.Storage.create("localStorage"),a=o.get("pages"),s=o.get("dataSrc")},o.prototype.init=function(){var e=this;e.$cont=$(e.container),e.data&&e.data["subnav-node"]&&(this.$subnav=e.$dom.closest(".head").find(e.data["subnav-node"]),this.$subnav.addClass("nav__subnav"),this.openedSubnav="",this.$dom.find(".nav__tab_switch").on("click",this.onToggleSubnav.bind(this))),t.isLoggedIn()&&s.get("playlist-notification",{},{nocache:!0}).then((function(t){t.notify&&(e.$cont.find(".playlist-notification__point").addClass("playlist-notification__point_ready"),e.$cont.find(".nav__tab").has(".playlist-notification__point").addClass("nav__tab_is-notified"))})),a.on("loaded",this.onPageLoaded.bind(this))},o.prototype.onPageLoaded=function(e){var i=e.name;"users"!==i&&"playlist"!==i||!t.isLoggedIn()||e.owner!==t.user.login||(i="my"),this.$dom.find(".current").removeClass("current");var n=this.$dom.find(".nav__tab[data-name='"+e.what+"']");n.length||e.chartType||(n=this.$dom.find(".nav__tab[data-name='"+i+"']")),n.addClass("current"),this.currentSubItem=null,"404"!==i&&this.showSubnavByName(e.name)},o.prototype.onToggleSubnav=function(t){var e=$(t.target),s=e.data("name");if(!e.hasClass("nav__tab_disabled")&&"radio"!==s)if(e.hasClass("nav__tab_opened"))this.hideSubnav();else if(s===a.current.name)this.showSubnavByName(s);else{this.hideSubnav();var o=n.getItem("nav_"+s)||"";i.navigateTo("/"+s+"/"+o,!0)}},o.prototype.showSubnavByName=function(t){if("genre"===t){this.openedSubnav=t;var e=$(this.container).find(".nav__tab[data-name="+t+"]"),i={currentItem:this.getCurrentSubItem()};i.currentItem&&n.setItem("nav_"+t,i.currentItem),i.items=Mu.genres.structure,this.showSubnav(Mu.render("nav__genres",i),e)}else this.hideSubnav()},o.prototype.getCurrentSubItem=function(){return this.currentSubItem&&this.currentSubItem[this.openedSubnav]},o.prototype.showSubnav=function(t,i){if(this.$subnav){var n=!1;this.$subnav.html(t).slideDown({duration:300,step:function(){n||(e.moveSidebar(),e.moveBranding()),n=!n},complete:function(){e.moveSidebar(),e.moveBranding()}}),i.addClass("nav__tab_opened"),$(document).on("keydown",this._onKeydown=this.onKeydown.bind(this))}},o.prototype.hideSubnav=function(){this.$subnav&&(this.$subnav.html("").hide(),this.$dom.find(".nav__tab_opened").removeClass("nav__tab_opened"),this.openedSubnav="",this._onKeydown&&($(document).off("keydown",this._onKeydown),delete this._onKeydown),e.moveSidebar(),e.moveBranding())},o.prototype.onKeydown=function(t){27===t.keyCode&&this.keydownClosedPopup!==t.originalEvent&&this.hideSubnav(),delete this.keydownClosedPopup},o}())},function(t,e,i,n){const a="main",s="settings",o="import",r="search",l="playlist",c="metatag",d="label",u="tag",p="my",h="users",_="album",m="non-music",g="kids",f="radio",y="genre",v="artist",b="audiobook",k="podcast",w="fairy-tale";Mu.blocks.register("nav-kids",function(){let t,e,i,n,x,M,T="nav-kids__tab_opened";const S=function(t){this.$dom=$(t)};return S.init=function(a){t=a.get("auth"),e=a.get("layout"),i=a.get("navigation"),n=Mu.Storage.create("localStorage"),x=a.get("pages"),M=a.get("dataSrc")},S.prototype.init=function(){this.$cont=$(this.container),this.data&&this.data["subnav-node"]&&(this.$subnav=this.$dom.closest(".head").find(this.data["subnav-node"]),this.$subnav.addClass("nav-kids__subnav"),this.openedSubnav="",this.$dom.find(".nav-kids__tab_switch").on("click",this.onToggleSubnav.bind(this))),t.isLoggedIn()&&M.get("playlist-notification",{},{nocache:!0}).then(function(t){t.notify&&(this.$cont.find(".playlist-notification__point").addClass("playlist-notification__point_ready"),this.$cont.find(".nav-kids__tab").has(".playlist-notification__point").addClass("nav-kids__tab_is-notified"))}.bind(this)),x.on("loaded",this.onPageLoaded.bind(this))},S.prototype.onPageLoaded=function(e){let{name:i}=e;const n=e.data.type,f=!!e.data.childContent,y=t.isLoggedIn()&&e.owner===t.user.login;i===h&&e.what===m&&"audiobooks"===e.nonMusicSubPage&&(t.isLoggedIn()&&e.owner===t.user.login?e.what=p:e.what=""),i!==h&&i!==l||!y||(i=p),i===p&&e.what===g&&(e.what=p),i===h&&e.what===g&&(e.what=""),i===a&&"podcasts"===e.chartType&&(e.what=m),i===a&&e.podcastsCategory&&(i=m),i!==v&&i!==s&&i!==o&&i!==r&&i!==l&&i!==c&&i!==d&&i!==u&&i!==_||(e.what=a),i!==_||n!==b&&n!==k||f||(e.what=m),i!==_||n!==b&&n!==k&&n!==w||!f||(e.what=g),this.$dom.find(".current").removeClass("current");let x=this.$dom.find(".nav-kids__tab[data-name='"+e.what+"']");x.length||e.chartType||(x=this.$dom.find(".nav-kids__tab[data-name='"+i+"']")),x.addClass("current"),this.currentSubItem=null,"404"!==i&&this.showSubnavByName(e.name)},S.prototype.onToggleSubnav=function(t){const e=$(t.target),a=e.data("name");if(!e.hasClass("nav-kids__tab_disabled")&&a!==f)if(e.hasClass(T))this.hideSubnav();else if(a===x.current.name)this.showSubnavByName(a);else{this.hideSubnav();const t=n.getItem("nav-kids_"+a)||"";i.navigateTo("/"+a+"/"+t,!0)}},S.prototype.showSubnavByName=function(t){if(t!==y)return void this.hideSubnav();this.openedSubnav=t;const e=$(this.container).find(".nav-kids__tab[data-name="+t+"]"),i={currentItem:this.getCurrentSubItem()};i.currentItem&&n.setItem("nav-kids_"+t,i.currentItem),i.items=Mu.genres.structure,this.showSubnav(Mu.render("nav-kids__genres",i),e)},S.prototype.getCurrentSubItem=function(){return this.currentSubItem&&this.currentSubItem[this.openedSubnav]},S.prototype.showSubnav=function(t,i){if(!this.$subnav)return;let n=!1;this.$subnav.html(t).slideDown({duration:300,step:function(){n||(e.moveSidebar(),e.moveBranding()),n=!n},complete:function(){e.moveSidebar(),e.moveBranding()}}),i.addClass(T),$(document).on("keydown",this._onKeydown=this.onKeydown.bind(this))},S.prototype.hideSubnav=function(){this.$subnav&&(this.$subnav.html("").hide(),this.$dom.find("."+T).removeClass(T),this.openedSubnav="",this._onKeydown&&($(document).off("keydown",this._onKeydown),delete this._onKeydown),e.moveSidebar(),e.moveBranding())},S.prototype.onKeydown=function(t){27===t.keyCode&&this.keydownClosedPopup!==t.originalEvent&&this.hideSubnav(),delete this.keydownClosedPopup},S}())},function(t,e,i,n){var a=i(231);Mu.blocks.register("notify",function(){var t,e=function(t){this.$dom=$(t),this.messages=[],e.instance=this;var i=this;this.$dom.on("click",".notify__close",(function(t){var e=$(t.target.parentNode);i.removeMessage(e)}))};e.init=function(e){t=e.get("auth")},e.prototype.init=function(){this.$cont=$(this.container)},e.prototype.addMessage=function(t,e){var i=$('<div class="notify__message deco-tooltip_notify">');for(i.html(t),e||$('<div class="notify__close d-icon d-icon_cross-medium local-icon-theme-black">').appendTo(i);this.messages.length>=3;)this.removeMessage(this.messages[0]);this.messages.push(i),this.$dom.prepend(i);var n=this;if(setTimeout((function(){i.toggleClass("notify_shown",!0)}),1),!e){var a=2e3+3e3*t.split(/<br\s*\/?>/g).length;setTimeout((function(){n.removeMessage(i)}),a)}},e.prototype.removeMessage=function(t){for(var e=0;e<this.messages.length;e++)if(t[0]===this.messages[e][0]){t.remove(),this.messages.splice(e,1);break}};var i=!1;return e.show=function(e,n){var s,o,r,l,c=this.instance;if(c)switch(e){case"playError":c.addMessage(i18n("notify","[feature/radio-5-10-20]Произошла ошибка при попытке воспроизведения трека. Проверьте ваше подключение к сети и повторите попытку. Если ошибка повторится, обратитесь в <a href='https://feedback2.yandex.ru/music/problems/player/' target='_blank'>службу поддержки</a>"));break;case"playerLocked":c.addMessage(i18n("notify","[feature/radio-5-10-20]Воспроизведение начнётся сразу после рекламы"));break;case"enableHQ":c.addMessage(i18n("notify","Режим высокого качества включен"));break;case"disableHQ":c.addMessage(i18n("notify","[feature/mfront-3026]Режим высокого качества выключен"));break;case"enableRepeat":c.addMessage(i18n("notify","Повтор списка воспроизведения включен"));break;case"enableRepeatTrack":c.addMessage(i18n("notify","Повтор трека включен"));break;case"disableRepeat":c.addMessage(i18n("notify","[feature/mfront-3026]Повтор выключен"));break;case"enableShuffle":c.addMessage(i18n("notify","Случайный порядок"));break;case"disableShuffle":c.addMessage(i18n("notify","Воспроизведение подряд"));break;case"enableEqualizer":c.addMessage(i18n("notify","Эквалайзер включен"));break;case"disableEqualizer":c.addMessage(i18n("notify","[feature/mfront-3026]Эквалайзер выключен"));break;case"adblock":if(t.isPremium())c.addMessage(i18n("notify","[feature/mfront-3990-1]Вероятно, у вас включен блокировщик рекламы.<br />Платные пользователи Яндекс&nbsp;Музыки не видят рекламы.<br />Однако блокировщики рекламы про это не знают<br />и могут вызывать критичные неполадки в работе сайта.<br />Рекомендуется отключить блокировщик и обновить страницу"));else{const t=window.navigator.userAgent.toLowerCase().includes("firefox"),e=!(window.RequestFileSystem||window.webkitRequestFileSystem);if(t&&e){c.addMessage(i18n("notify","[feature/mfront-3018]Похоже, в режиме приватного просмотра по умолчанию включился блокировщик рекламы.<br />Вместе с рекламой он может скрывать обложки альбомов и мешать работе сайта.<br />Рекомендуем добавить наш сайт в список исключений или выйти из приватного режима."));break}c.addMessage(i18n("notify","[feature/radio-5-10-20]Вероятно, у вас включен блокировщик рекламы.<br />Это может приводить к критичным неполадкам в работе сайта.<br />Рекомендуется отключить блокировщик и обновить страницу"))}break;case"playerFailed":if(i)return;i=!0,c.addMessage(i18n("notify",'К сожалению, ваш браузер не поддерживает воспроизведение звука. <br>Попробуйте <a target="_blank" href="https://browsers.yandex.ru/">обновить браузер</a>, включить или установить <a target="_blank" href="http://get.adobe.com/flashplayer/">Adobe Flash Player</a><br>Подробнее о причинах отсутствия звука читайте на специальной странице: <a target="_blank" href="https://feedback2.yandex.ru/music/problems/player/">https://feedback2.yandex.ru/music/problems/player/</a>'),!0);break;case"authRequired":c.addMessage(i18n("notify","[feature/podcast-collection]Пожалуйста, <span class='log-in link'>войдите или зарегистрируйтесь</span>"));break;case"addedToLib":case"removedFromLib":var d=a("myMusic","genitive"),u=Mu.experiments&&"on"===Mu.experiments.WebPodcastsShelf;s={track:[i18n("notify",'[feature/my-music-new-name]Трек добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Трек удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"kids-track":[i18n("notify",'[feature/my-music-new-name]Трек добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Трек удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"audiobook-track":[u?i18n("notify",'[feature/mfront-4282]Глава добавлена на «<a href="{href}">Мою полку</a>»'):i18n("notify",'[feature/my-music-new-name]Трек добавлен в раздел «<a href="{href}">{section}</a>» %1',d),u?i18n("notify",'[feature/mfront-4282]Глава удалена из «<a href="{href}">Моей полки</a>»'):i18n("notify",'[feature/my-music-new-name]Трек удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"fairy-tale":[i18n("notify",'[feature/mfront-3881]Сказка добавлена в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/mfront-3881]Сказка удалена из раздела «<a href="{href}">{section}</a>» %1',d)],episode:[u?i18n("notify",'[feature/mfront-4282]Выпуск добавлен на «<a href="{href}">Мою полку</a>»'):i18n("notify","[feature/podcast-collection]Выпуск добавлен в раздел «<a href='{href}'>{section}</a>» %1",d),u?i18n("notify",'[feature/mfront-4282]Выпуск удалён из «<a href="{href}">Моей полки</a>»'):i18n("notify","[feature/podcast-collection]Выпуск удалён из раздела «<a href='{href}'>{section}</a>» %1",d)],"kids-episode":[i18n("notify","[feature/podcast-collection]Выпуск добавлен в раздел «<a href='{href}'>{section}</a>» %1",d),i18n("notify","[feature/podcast-collection]Выпуск удалён из раздела «<a href='{href}'>{section}</a>» %1",d)],album:[i18n("notify",'[feature/my-music-new-name]Альбом добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Альбом удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"kids-album":[i18n("notify",'[feature/my-music-new-name]Альбом добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Альбом удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"kids-audiobook":[i18n("notify",'[feature/mfront-3881]Книга добавлена в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/mfront-3881]Книга удалена из раздела «<a href="{href}">{section}</a>» %1',d)],audiobook:[u?i18n("notify",'[feature/mfront-4282]Книга добавлена на «<a href="{href}">Мою полку</a>»'):i18n("notify",'[feature/mfront-3881]Книга добавлена в раздел «<a href="{href}">{section}</a>» %1',d),u?i18n("notify",'[feature/mfront-4282]Книга удалена из «<a href="{href}">Моей полки</a>»'):i18n("notify",'[feature/mfront-3881]Книга удалена из раздела «<a href="{href}">{section}</a>» %1',d)],podcast:[i18n("notify",'[feature/my-music-new-name]Подкаст добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Подкаст удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"kids-podcast":[i18n("notify",'[feature/my-music-new-name]Подкаст добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Подкаст удалён из раздела «<a href="{href}">{section}</a>» %1',d)],playlist:[i18n("notify",'[feature/my-music-new-name]Плейлист добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Плейлист удалён из раздела «<a href="{href}">{section}</a>» %1',d)],"kids-playlist":[i18n("notify",'[feature/my-music-new-name]Плейлист добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Плейлист удалён из раздела «<a href="{href}">{section}</a>» %1',d)],artist:[i18n("notify",'[feature/my-music-new-name]Исполнитель добавлен в раздел «<a href="{href}">{section}</a>» %1',d),i18n("notify",'[feature/my-music-new-name]Исполнитель удалён из раздела «<a href="{href}">{section}</a>» %1',d)]}[n.what];var p={track:i18n("notify","Треки"),"kids-track":i18n("notify","[feature/mfront-3281]Детям"),"fairy-tale":i18n("notify","[feature/mfront-3281]Детям"),album:i18n("notify","Альбомы"),"kids-album":i18n("notify","[feature/mfront-3281]Детям"),podcast:i18n("notify","[feature/mfront-3881]Подкасты и книги"),"kids-audiobook":i18n("notify","[feature/mfront-3281]Детям"),audiobook:i18n("notify","[feature/mfront-3881]Подкасты и книги"),"audiobook-track":i18n("notify","[feature/mfront-3881]Подкасты и книги"),"kids-podcast":i18n("notify","[feature/mfront-3281]Детям"),episode:i18n("notify","[feature/mfront-3881]Подкасты и книги"),"kids-episode":i18n("notify","[feature/mfront-3281]Детям"),playlist:i18n("notify","Плейлисты"),"kids-playlist":i18n("notify","[feature/mfront-3281]Детям"),artist:i18n("notify","Исполнители")}[n.what];let h;switch(r=encodeURI(t.user.login),o="",l="",n.what){case"episode":case"audiobook":case"audiobook-track":h="podcasts";break;case"kids-track":case"kids-episode":case"kids-album":case"kids-podcast":case"kids-playlist":case"kids-audiobook":case"fairy-tale":h="kids";break;default:h=n.what+"s"}u&&["audiobook-track","audiobook","episode"].includes(n.what)&&(h="podcasts/shelf/saved"),l="/users/"+r+"/"+h,o=(o="addedToLib"===e?s[0]:s[1]).replace("{section}",p).replace("{href}",l),c.addMessage(o);break;case"addedDislike":case"removedDislike":s={track:[i18n("notify","[feature/mfront-3789]Трек больше не будет появляться в ваших рекомендациях"),i18n("notify","[feature/mfront-3789]Теперь трек сможет появляться в ваших рекомендациях")],"kids-track":[i18n("notify","[feature/mfront-3789]Трек больше не будет появляться в ваших рекомендациях"),i18n("notify","[feature/mfront-3789]Теперь трек сможет появляться в ваших рекомендациях")],album:["",""],"kids-album":["",""],playlist:["",""],"kids-playlist":["",""],artist:[i18n("notify","[feature/mfront-3789]Исполнитель больше не будет появляться в ваших рекомендациях"),i18n("notify","[feature/mfront-3789]Теперь исполнитель сможет появляться в ваших рекомендациях")],episode:[i18n("notify","[feature/mfront-3789]Выпуск больше не будет появляться в ваших рекомендациях"),i18n("notify","[feature/mfront-3789]Теперь выпуск сможет появляться в ваших рекомендациях")],"kids-episode":[i18n("notify","[feature/mfront-3789]Выпуск больше не будет появляться в ваших рекомендациях"),i18n("notify","[feature/mfront-3789]Теперь выпуск сможет появляться в ваших рекомендациях")]}[n.what],o="addedDislike"===e?s[0]:s[1],c.addMessage(o);break;case"addedToDefaultLib":case"removedFromDefaultLib":l="/users/"+(r=encodeURI(t.user.login))+"/playlists/3",o=(o="addedToDefaultLib"===e?i18n("notify",'[feature/mfront-4015]Треки добавлены в плейлист «<a href="{href}">Мне нравится</a>»'):i18n("notify",'[feature/mfront-4015]Треки удалены из плейлиста «<a href="{href}">Мне нравится</a>»')).replace("{href}",l),c.addMessage(o);break;case"addedToPlaylist":l="/users/"+encodeURI(n.target.owner.login)+"/playlists/"+encodeURI(n.target.kind),o=(o="podcast"===n.type?n.count>1?i18n("notify",'[feature/mfront-3026]Выпуски добавлены в плейлист «<a href="{href}">{title}</a>»'):i18n("notify",'[feature/mfront-3026]Выпуск добавлен в плейлист «<a href="{href}">{title}</a>»'):n.count>1?i18n("notify",'Треки добавлены в плейлист «<a href="{href}">{title}</a>»'):i18n("notify",'Трек добавлен в плейлист «<a href="{href}">{title}</a>»')).replace("{href}",l).replace("{title}",n.target.title.htmlEscape()),c.addMessage(o);break;case"removedFromPlaylist":l="/users/"+encodeURI(n.target.owner.login)+"/playlists/"+encodeURI(n.target.kind),o=(o=n.count>1?i18n("notify",'Треки удалены из плейлиста «<a href="{href}">{title}</a>»'):i18n("notify",'Трек удалён из плейлиста «<a href="{href}">{title}</a>»')).replace("{href}",l).replace("{title}",n.target.title.htmlEscape()),c.addMessage(o);break;case"badPictureUpload":c.addMessage(i18n("notify","Не удалось загрузить обложку"));break;case"settingsChanged":c.addMessage(i18n("notify","Изменения вступят в силу после перезагрузки страницы"));break;case"trackAddedToSeq":c.addMessage(i18n("notify","Трек добавлен в очередь прослушивания"));break;case"episodeAddedToSeq":c.addMessage(i18n("notify","[feature/mfront-3026]Выпуск добавлен в очередь прослушивания"));break;case"albumAddedToSeq":c.addMessage(i18n("notify","Альбом добавлен в очередь прослушивания"));break;case"podcastAddedToSeq":c.addMessage(i18n("notify","[feature/mfront-3026]Подкаст добавлен в очередь прослушивания"));break;case"audiobookAddedToSeq":c.addMessage(i18n("notify","[feature/mfront-3881]Книга добавлена в очередь прослушивания"));break;case"fairytaleAddedToSeq":c.addMessage(i18n("notify","[feature/mfront-3881]Сказка добавлена в очередь прослушивания"));break;case"playlistAddedToSeq":c.addMessage(i18n("notify","Плейлист добавлен в очередь прослушивания"));break;case"emailInvalid":c.addMessage(i18n("notify","Не похоже на адрес электронной почты"));break;case"emailSaved":c.addMessage(i18n("notify","Почта добавлена. Спасибо!"));break;case"emailSaveFailed":c.addMessage(i18n("notify","Не получилось добавить почту. Попробуйте снова"));break;case"singleQueueUnavailable":c.addMessage(i18n("notify","[feature/radio-5-10-20]Что-то пошло не так<br />Не удалось загрузить очередь. Попробуйте позже"));break;case"musicStoppedOnThisDevice":c.addMessage(i18n("notify","[feature/multistreaming-2]Поставили на паузу, так как вы начали слушать музыку на другом устройстве"));break;case"castDisconnected":o=(o=i18n("notify","[feature/mfront-3415]Трансляция на {device} прервалась")).replace("{device}",n.device),c.addMessage(o);break;default:c.addMessage(e.htmlEscape())}},e.hide=function(t){var e=this.instance;e&&(t?e.removeMessage($(t)):e.messages&&e.messages.length&&[].concat(e.messages).forEach((function(t){e.removeMessage(t)})))},e}())},function(t,e,i,n){const a=i(259);Mu.blocks.register("payment-popup-annoyer",function(){let t,e,i;let n;const s=function(){};return s.init=function(n){t=n.get("auth"),e=n.get("blocks").get("payment-popup-controller"),i=Mu.Storage.create("localStorage")},s.prototype.init=function(){this.userExpireDate=this.getUserExpireDate(),this.canShowPopup()&&(this.show(),this.modifyUserData())},s.prototype.show=function(){this.deactivated||e.show({showOnLoaded:!0,from:"autoPaywall",showToNotLoggedIn:!0})},s.prototype.canShowPopup=function(){const t=/^\/kids$/.test(window.location.pathname),e=Mu.experiments.WebOptionsKids,i=Mu.authData.user.hasOptions,n=i&&i.find(t=>"kids"===t),s=t&&e&&"default"!==e&&!n,o=(window.location.search?window.location.search.substring(1):"").replace(/&amp;/g,"&").split("&").some(t=>["from=serp","mob=0","offer=0"].includes(t)),r=window.location.pathname.startsWith("/radio");return!(s||r||"/pay"===window.location.pathname||document.referrer.includes("//passport.yandex.")||o||Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch||a()||Mu.authData.user.MBError||this.userExpireDate&&!(this.userExpireDate<=Date.now()))},s.prototype.modifyUserData=function(){n[t.user.uid]=Date.now()+2592e5,i.setItem("paywall-onloaded",JSON.stringify(n))},s.prototype.getUserExpireDate=function(){let e;try{n=JSON.parse(i.getItem("paywall-onloaded"))||{},e=n[t.user.uid]}catch(t){n={}}return e},s}())},function(t,e,i,n){var a,s;Mu.blocks.register("pictures-slider",(a="pictures-slider__item_selected",(s=function(){Mu.eventize(this)}).init=function(){this.domDelegate("click",".pictures-slider__button_right",(function(){Mu.blocks.forElem(this,"pictures-slider").moveThrottled(1)})),this.domDelegate("click",".pictures-slider__button_left",(function(){Mu.blocks.forElem(this,"pictures-slider").moveThrottled(-1)})),this.domDelegate("mouseenter","."+a,(function(){Mu.blocks.forElem(this,"pictures-slider").onHover()})),this.domDelegate("mouseleave","."+a,(function(){Mu.blocks.forElem(this,"pictures-slider").onLeave()}))},s.prototype.init=function(){var t,e,i,n=this;n.$cont=$(n.container),n.$items=n.$cont.find(".pictures-slider__item"),n.itemWidth=n.$items.eq(0).outerWidth(!0),n.data.items=n.data.items||[],n.loop=!!n.data.loop||!1,n.length=n.data.items.length,n.index=n.data&&n.data.index||0,n.moving=!1,n.moveThrottled=(t=n.move.bind(n),e=200,function(){var n=arguments;i||(t.apply(null,n),i=setTimeout((function(){i=null}),e))}),n.$cont.on("click","."+a,(function(){n.moveThrottled(1)}))},s.prototype.move=function(t){if(-1===t||1===t){var e=this.index+t;this.loop&&e<0&&(e=this.length-1),this.loop&&e>=this.length&&(e=0),e>=0&&e<this.length&&(this.setSelected(this.index,!1),this.setSelected(e,!0),this.index=e,this.$cont.toggleClass("pictures-slider_first",0===this.index),this.$cont.toggleClass("pictures-slider_last",this.index===this.length-1),this.trigger("move",t,this.index,this.length))}},s.prototype.setSelected=function(t,e){this.$items.eq(t).toggleClass(a,!!e)},s.prototype.getTransform=function(t){var e=t*this.itemWidth+this.itemWidth/2,i=0===t?"":"translate(-"+e+"px, 0)";return{"-webkit-transform":i,"-moz-transform":i,"-ms-transform":i,transform:i}},s.prototype.onHover=function(){var t=$(document);t.bind("DOMMouseScroll.pictures-slider",this.onScroll.bind(this)),t.bind("mousewheel.pictures-slider",this.onScroll.bind(this))},s.prototype.onLeave=function(){$(document).unbind(".pictures-slider")},s.prototype.onScroll=function(t){var e=(t=t.originalEvent?t.originalEvent:t).detail?t.detail:-1*t.wheelDelta,i=e>0?1:-1;if(!(!this.length||!this.loop&&i>0&&this.index+1>=this.length||!this.loop&&i<0&&!this.index)){var n=this.$cont.offset(),a=this.$cont.width(),s=this.$cont.height();t.pageX<n.left||t.pageX>n.left+a||t.pageY<n.top||t.pageY>n.top+s||(t.preventDefault&&t.preventDefault(),Math.abs(e)>3&&this.moveThrottled(i))}},s))},function(t,e,i,n){var a=i(513);const s=i(37);var o=i(514);const r=i(119),l=clientSide&&i(519),c=clientSide&&i(520);Mu.blocks.register("player-controls",function(){var t,e,i,n,d,u,p,h;let _,m,g;var f="player-controls__btn_hidden",y="player-controls__btn_disabled";var v=function(){};return v.init=function(a){t=ya.music.Player.repeatTypes,e=a.get("seq"),i=a.get("popups"),n=a.get("auth"),d=a.get("blocks").get("notify"),m=a.get("blocks").get("player-progress"),u=a.get("metrika"),p=a.get("blocks").get("force-auth-tooltip"),h=a.get("adapter"),_=a.get("dataSrc"),g=a.get("blocks")},v.prototype.init=function(){this.disableHiglight=!0,this.$cont=$(this.container),this.$body=$(document.body),["play","prev","next","shuffle","repeat","seq","settings"].forEach(function(t){this["$"+t]=this.$cont.find(".player-controls__btn_"+t)}.bind(this)),this.$shuffleIcon=this.$shuffle.find(".d-icon"),this.$repeatIcon=this.$repeat.find(".d-icon"),this.$seqControls=this.$cont.find(".player-controls__seq-controls"),this.$trackContainer=this.$cont.find(".player-controls__track-container"),this.$shot=this.$cont.find(".player-controls__shot"),this.$stream=this.$cont.find(".player-controls__stream"),this.$trackControls=this.$cont.find(".player-controls__track-controls"),this.$hq=this.$cont.find(".hq__icon"),this.$speedControls=this.$cont.find(".player-controls__speed-controls"),this.$bar=$(".bar"),this.radioSettings=Mu.blocks.forElem(this.$cont.find(".radio-settings")[0]),this.radioSettings.setOptions({position:{my:"left bottom",at:"left top-6",of:this.$settings[0]}}),n.isLoggedIn()&&n.isPremium()&&l&&l.castInit({Seq:e,Notify:d,Progress:m,Metrika:u,DataSrc:_,Blocks:g,Auth:n}),this.$settings.on("click",this.onSettingsClick.bind(this)),this.radioSettings.on("hide",this.onRadioSettingsClose.bind(this)),this.$seq.on("click",this.onSeqClick.bind(this)),i.on("unloaded",this.onPopupClose.bind(this)),this.$play.on("click",this.onPlayClick.bind(this)),this.$prev.on("click",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("click",this.onPrevNextUpDown.bind(this,1)),this.$shuffle.on("click",e.toggleShuffle.bind(e)),this.$repeat.on("click",e.toggleRepeat.bind(e)),this.$trackContainer.on("click",".player-controls__btn_dislike",this.onDislikeClick.bind(this)),this.$prev.on("mousedown",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("mousedown",this.onPrevNextUpDown.bind(this,1)),this.$prev.on("mouseout",this.onPrevNextUpDown.bind(this,0)),this.$next.on("mouseout",this.onPrevNextUpDown.bind(this,0));var t=this.onStateChange.bind(this);e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t),e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.togglePlayButton.bind(this)),e.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,t),e.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,t),e.on(Mu.PlayFlow.EVENT_SHOW_SHOT,t),e.on(Mu.PlayFlow.EVENT_HIDE_SHOT,t);var a=this.onTrackChange.bind(this);e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,a),e.on(Mu.PlayFlow.EVENT_EMPTY,a),e.on(Mu.PlayFlow.EVENT_SOURCE,this.onSourceChange.bind(this)),e.on(Mu.PlayFlow.EVENT_CONTROLS,this.onControlsChange.bind(this)),e.on(Mu.PlayFlow.EVENT_PROGRESS,this.updateBtnPrev.bind(this)),e.onReady(this.onSeqReady.bind(this)),this.onSourceChange(e.getSourceType()),this.onTrackChange()},v.prototype.sendButtonPress=function(t){var e="playing"===t,i="paused"===t;!this.lastState&&i||(e||i)&&this.lastState!==t&&(this.lastState=t,u.count({buttonPressed:e?"unpaused":"paused"}))},v.prototype.onSeqReady=function(){if("flash"!==e.getType()){var t=$(a());this.$speedControls.html(t),Mu.blocks.forElem(t[0])}e.on(Mu.PlayFlow.EVENT_STATE,this.sendButtonPress.bind(this))},v.prototype.onStateChange=function(){const t=e.isPlaying(),i=e.getCurrent(),n=e.getAdvert(),a=e.getShot(),s=e.isEmpty()&&!n,o=e.isGenerative();this.$play.toggleClass("player-controls__btn_pause",t&&!s),this.$body.toggleClass("body_show-pause",t&&!n&&!s),this.$play.attr("title",!s&&i?(t?i18n("player-controls","Пауза"):i18n("player-controls","Играть"))+" [P]":""),this.onControlsChange(e.getControls()),this.$seq.toggleClass(y,!!n),this.$settings.toggleClass(y,!!n||!r.canUseMusicInRegion()),this.$trackContainer.toggleClass("player-controls__track-container_hidden-track",!!n||!!a||o),this.$shuffle.toggleClass(f,!!n),this.$repeat.toggleClass(f,!!n),this.$hq.toggleClass(f,!!n),this.$speedControls.find(".player-controls__btn").toggleClass(f,!!n)},v.prototype.onSourceChange=function(t){const e="fm_stream"===t,i="radio"===t;this.$cont.toggleClass("player-controls_radio",i),this.$cont.toggleClass("player-controls_stream",e),this.$bar.toggleClass("bar__stream",e),t?(this.radioSettings.isOpen()||this.radioSettings.onChangeSettings(),this.$settings.toggleClass(f,this.radioSettings.isEmpty())):this.$settings.addClass(f),this.highlightSeq(),this.radioSettings.isOpen()||this.radioSettings.onChangeSettings();var n=i?i18n("player-controls","История воспроизведения"):i18n("player-controls","Очередь прослушивания");this.$seq.attr("title",n),this.toggleStream()},v.prototype.onPlayClick=function(){if(r.canUseMusicInRegion()){"idle"===e.getState()&&(s.startMark("click-to-play"),h.setFlagValue("playOnUserInteraction",!0)),p.setTarget(this.$play),u.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play(),Mu&&Mu.newgtag&&Mu.newgtag.sendProductStream()}catch(t){}e.getConfig()&&"generative"===e.getConfig().type&&e.isPaused()?e.play():e.togglePause()}},v.getTitle=function(t,e){return t?(Array.isArray(t.artists)&&(i=t.artists.map((function(t){return t.name})).join(", ")),(i?i+" — ":"")+t.title+" ("+e+")"):e;var i},v.prototype.onControlsChange=function(i){this.$dislike=this.$trackControls.find(".player-controls__btn_dislike"),["dislike","shuffle","repeat"].forEach(function(t){this["$"+t].toggleClass(f,null===i[t])}.bind(this)),this.$dislike.toggleClass(y,!1===i.dislike);var n=e.getShuffle();this.$shuffle.toggleClass("player-controls__btn_on",n),this.$shuffleIcon.toggleClass("d-icon_shuffle",!n).toggleClass("d-icon_shuffle-gold",n);var a=e.getRepeat();this.$repeat.toggleClass("player-controls__btn_on",!!a).toggleClass("player-controls__btn_repeat_state1",a===t.ALL).toggleClass("player-controls__btn_repeat_state2",a===t.ONE),this.$repeatIcon.toggleClass("d-icon_repeat",!a).toggleClass("d-icon_repeat-gold",a===t.ALL).toggleClass("d-icon_repeat-one-gold",a===t.ONE);var s=e.getAdvert(),o=e.getShot(),r=e.isGenerative();this.$trackContainer.toggleClass("player-controls__track-container_hidden-track",!!s||!!o||r),this.updateBtnPrev(),this.updateBtnNext(),this.toggleShot(),this.toggleStream()},v.prototype.toggleShot=function(){var t=e.getShot();this.$shot.toggleClass(f,!t),t&&this.$shot.text(t.shots[0].shotData.shotType.title)},v.prototype.toggleStream=function(){this.$stream.toggleClass(f,!e.isGenerative()),e.isGenerative()&&e.getConfig()&&e.getConfig().title&&this.$stream.text(e.getConfig().title)},v.prototype.updateBtnPrev=function(){var t=e.getPrevTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty(),s=e.getPosition(!0)<=5,o=e.getCurrent()&&e.getPosition(!0)>0;a||n||!t||i&&!s?a||n||!i&&!o?(this.$prev.attr("title",""),this.$prev.addClass(y)):(this.$prev.attr("title",i18n("player-controls","Перемотка назад")),this.$prev.removeClass(y)):(this.$prev.attr("title",v.getTitle(t,i18n("player-controls","Назад")+" [K]")),this.$prev.removeClass(y))},v.prototype.updateBtnNext=function(){var t=e.getNextTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty();a||n||!t?a||n||!i?(this.$next.attr("title",""),this.$next.addClass(y)):(this.$next.attr("title",i18n("player-controls","Перемотка вперёд [зажать]")),this.$next.removeClass(y)):(this.$next.attr("title",v.getTitle(t,i18n("player-controls","Вперёд")+" [L]")),this.$next.removeClass(y)),r.canUseMusicInRegion()||(this.$next.attr("title",""),this.$next.addClass(y))},v.prototype.onTrackChange=function(t){this.$cont.toggleClass("player-controls_empty",!t||!r.canUseMusicInRegion()),t||this.$trackContainer.empty(),this.togglePlayButton();var i=t&&(t.title||t.ugcTag)?{track:t,album:t.albums&&t.albums[0]}:null;if("flash"!==e.getType()){const t=["podcast-episode","audiobook"];i&&i.track&&t.includes(i.track.type)?(e.getShuffle()&&e.setShuffle(!1),e.getRepeat()&&e.setRepeat(!1),!this.$cont.hasClass("player-controls_podcast")&&this.$cont.addClass("player-controls_podcast")):(1!==e.getSpeed()&&e.setSpeed(1),this.$cont.hasClass("player-controls_podcast")&&this.$cont.removeClass("player-controls_podcast"))}if(this.lastTrack!==t){this.lastTrack=t,this.onStateChange();var n=this;n.animateDelay&&clearTimeout(n.animateDelay),n.animateDelay=setTimeout((function(){if(n.animateDelay=null,i&&n.currentEntry!==i){n.currentEntry=i;var t=o(i),e=n.$trackContainer.find(".player-controls__track");e.length?e.animate({opacity:0},{duration:80,complete:n.initTrack.bind(n,t)}):n.initTrack(t)}}),100)}},v.prototype.togglePlayButton=function(){this.$play.toggleClass(y,e.isEmpty()||!r.canUseMusicInRegion())},v.prototype.initTrack=function(t){var e=$(t);this.$trackContainer.html(e),e.addClass("player-controls__track_shown"),Mu.blocks.forElem(this.$trackContainer.find(".d-like")[0]),Mu.blocks.forElem(this.$trackContainer.find(".share")[0]),this.initTrackHoverActions(e),n.isLoggedIn()&&n.isPremium()&&l||$("#cast-button").hide()},v.prototype.initTrackHoverActions=function(t){var e=$(t),i=e.find(".track_type_player"),n=e.find(".player-controls__wrapper");i.on("mouseenter",(function(){e.addClass("player-controls__track_hover")})),n.on("mouseleave",(function(){e.removeClass("player-controls__track_hover")}))},v.prototype.onPrevNextUpDown=function(t,i){if(r.canUseMusicInRegion()){if("mousedown"===i.type&&$(window).one("mouseup",this.onPrevNextUpDown.bind(this,0)),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),"mousedown"===i.type){if(!e.canNavigate()||!e.isPlaying()||e.getDuration()<=0||0!==i.button)return;var n=this;this.scrollTimeout=setTimeout((function(){n.scrollTimeout=null,n.scrollTimer=setInterval(n.onPrevNextScroll.bind(n,t),15)}),500)}else this.hasScrolled||0===t||(-1===t&&(e.getPosition()>5||!e.getPrevTrack())?(e.setPosition(0),c&&c.connected&&(c.seek(0),c.logger("web","mousedown change time 0"))):(h.setFlagValue("playOnUserInteraction",!0),s.startMark("click-to-play"),e[t>0?"next":"prev"]()));t&&(this.hasScrolled=!1)}},v.prototype.onPrevNextScroll=function(t){var i=e.getPosition();i+=.2*t,e.setPosition(i),this.hasScrolled=!0},v.prototype.onDislikeClick=function(){n.isLoggedIn()||d.show("authRequired")},v.prototype.onSeqClick=function(){if(!e.isRadio()||n.isLoggedIn()){var t=i.toggle("sequence");t&&u.count({"sequence-popup":"current"}),this.$seq.toggleClass("player-controls__btn_checked",t)}else n.showAuthForm(function(){n.isLoggedIn()&&this.onSeqClick()}.bind(this),"player-radio-seq")},v.prototype.onSettingsClick=function(){if(r.canUseMusicInRegion()){var t=this;t.radioSettings.toggle().then((function(e){t.$settings.toggleClass("player-controls__btn_checked",e)}))}},v.prototype.onPopupClose=function(t){"sequence"===t.name&&this.$seq.removeClass("player-controls__btn_checked")},v.prototype.onRadioSettingsClose=function(){this.$settings.removeClass("player-controls__btn_checked")},v.prototype.highlightSeq=function(){var t=this;t.disableHiglight||(t.$seq.addClass("player-controls__btn_pulse"),setTimeout((function(){t.$seq.removeClass("player-controls__btn_pulse")}),600)),t.disableHiglight=!1},v}())},function(t,e,i,n){t.exports=function(t){return'<div class="speed" data-b="'+__escape(Mu.dotBlockRoot(t,"speed",!0))+'"> <div class="player-controls__btn deco-player-controls__button player-controls__btn_speed" title="'+__escape(i18n("speed","[feature/speed-no-music-tracks]Поменять cкорость воспроизведения"))+'"> <div class="d-icon playback__control"></div> </div></div>'}},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(s=i(318),o=i(515),r=i(313),l=i(517),c=function(t){return Mu.render("track_type_player",t)},d=function(t){return Mu.render("dislike",t)},u={},function(t){var e='<div class="player-controls__track"><div class="player-controls__wrapper">'+c(t)+'<div class="player-controls__track-controls">'+s.render({entry:{track:t.track},className:"player-controls__btn deco-player-controls__button",theme:"player"})+r.render({entry:{track:t.track},style:"pure",hideSeq:!0,topmost:!0,button:{size:"S",attrs:{title:i18n("player-controls","[feature/add-player-plus-title]Добавить в плейлист")}},popup:{fixed:!0,position:{my:"center bottom",at:"center top"}},class:"player-controls__btn deco-player-controls__button player-controls__btn_add"});return a=t.track&&t.track.error||t.track&&"disk"===t.track.prefix||t.track&&(!t.track.albums||!t.track.albums.length)||t.track&&(!t.track.albums||!t.track.albums[0].id),u={track:t.track,tooltip:{text:i18n("player-controls","Поделиться треком")},fixed:!0,class:"player-controls__btn deco-player-controls__button player-controls__btn_share"+(a?" player-controls__btn_disabled":""),offset:2,btnSize:"S",theme:"flat"},t&&t.album&&t.album.id&&(u.albumId=t.album.id),e+=o.render(u)+d({entry:{track:t.track},class:"player-controls__btn deco-player-controls__button",theme:"player",size:"XL",track:!0})+'</div><div class="player-controls__btn-cast"> '+l.render()+" </div></div></div>"})},function(t,e,i,n){var a={render:i(516)};clientSide&&(a.controller=i(186)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=function(t){var e="";return t.disabled&&t.tooltip&&t.tooltip.disabledText?e+=__escape(t.tooltip.disabledText):t.tooltip&&t.tooltip.text?e+=__escape(t.tooltip.text):t.text||(e+=__escape(i18n("d-share-popup","Поделиться"))),e};return function(i){var n="",a=i.disabled||i.track&&i.track.error||i.track&&"disk"===i.track.prefix||i.track&&(!i.track.albums||!i.track.albums.length)||i.track&&(!i.track.albums||!i.track.albums[0].id),s=function(){var t="share-container d-share-popup__button not-handled";return i.class&&(t+=" "+__escape(i.class)),i.theme&&(t+=" share_"+__escape(i.theme)),i.theme&&"hover"===i.theme&&(t+=" deco-button-hover"),t}(),o=function(){var t="";return"flat"===i.theme||"hover"===i.theme?t+="flat":"transparent"===i.theme?t+=__escape(i.theme):t+="action",t}();return n+='<div class="d-share-popup d-share-popup_btn',i.popupType&&(n+=" d-share-popup_"+__escape(i.popupType)),n+='" data-b="'+__escape(Mu.dotBlockRoot&&Mu.dotBlockRoot(i,"d-share-popup"))+'">'+t.render({size:i.btnSize,class:s,disabled:a,text:i.text||"",rounded:"square"!=i.type,icon:"share",not_handled:!0,type:o,attrs:{title:e(i)}})+"</div>"}}()},function(t,e,i,n){var a={render:i(518)};t.exports=a},function(t,e,i,n){t.exports=function(t){return'<google-cast-launcher id="cast-button" title="'+__escape(i18n("cast-button","[feature/mfront-3415]Трансляция на устройства с поддержкой Google Cast"))+'"></google-cast-launcher><span class="cast-device">'+i18n("Играет на Chromecast")+"</span>"}},function(t,e,i,n){const a=i(520);let s=!1,o=!1,r=!1,l=!1,c=!1,d=!1,u=0;const p={pause:null,play:null},h=function(){};h._setDeviceText=t=>{const e=h._getDeviceElement();if(t.length){const i=new IntersectionObserver((i,n)=>{i.forEach(i=>{if(!i.isIntersecting)return;n.unobserve(i.target);let a=i18n("player-controls","[feature/mfront-3415]Играет на {device}");a=a.replace("{device}",t),e.text(a)})});e&&e[0]&&i.observe(e[0])}},h._getDeviceElement=()=>$(".cast-device"),h._getPlayElement=()=>$(".bar .player-controls__btn_play:not(.audio-advert__button)"),h._getPlayerElement=()=>$(".bar"),h._getVolumeElement=()=>$(".volume__btn"),h._showHideText=()=>h._getPlayerElement().toggleClass("bar_casting"),h._getPoster=t=>t?"https://"+t.replace("%%","400x400"):"https://music.yandex.ru/blocks/entity-cover/track_no-cover.svg",h.castInit=function(t){a.loadScript();const{Seq:e,Notify:i,Metrika:n,Blocks:_}=t;this.blocks=t,e.on(Mu.PlayFlow.EVENT_TRACK_PLAY,()=>this.onTrackPlay()),e.on(Mu.PlayFlow.EVENT_SHOW_PLAY,()=>this.onTrackPlay()),e.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,()=>this.onTrackPause()),e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,t=>this.onTrackChange(t)),e.on(Mu.PlayFlow.EVENT_EMPTY,t=>this.onTrackChange(t)),e.on(Mu.Adapter.EVENT_PROGRESS,t=>this.onTimeUpdate(t)),e.on(Mu.Adapter.EVENT_CHANGE_REPEAT,()=>this.onChangeRepeat()),a.on("available",()=>{n.goal("chromecast",{event:"show"})}),a.on("connect",()=>{r=!1,document.cookie="chromecast="+a.device,n.goal("chromecast",{event:"connect"}),this._showHideText(),c=!0,this.castTrack(),window.castPlayer=a,$("body").on("keydown",this.onKeyboard.bind(this))}),a.on("disconnect",()=>{r||(r=!0,i.show("castDisconnected",{device:a.device})),document.cookie="chromecast=''",h._getPlayerElement().hasClass("bar_casting")&&h._showHideText(),e.mute(!1),e.next(),u=0,delete window.castPlayer,$("body").off("keydown",this.onKeyboard.bind(this))}),a.on("statechange",()=>{switch(l=!1,a.state){case"ended":this._setDeviceText(a.device),o&&(o=!1,setTimeout(()=>{a.play()},1e3));break;case"buffering":e.isPlaying()&&(s=!0,e.setPosition(e.getPosition()),e.trigger(Mu.PlayFlow.EVENT_SHOW_PAUSE)),a.title!==this.currentTrackTitle&&a.disconnect();break;case"playing":s&&(s=!1,e.trigger(Mu.PlayFlow.EVENT_SHOW_PLAY)),o=!0}}),a.on("error",()=>{window.chrome&&window.chrome.cast&&(n.goal("chromecast",{event:"error"}),h._getPlayerElement().hasClass("bar_casting")&&h._showHideText())}),a.on("pause",()=>{e.isPlaying()&&!1===p.pause&&(p.pause=!0,e.togglePause(),a.logger("mobile","pause"))}),a.on("playing",()=>{e.isPlaying()||p.play||(p.play=!0,e.togglePause(),a.logger("mobile","play"))}),a.on("timeupdate",()=>{const t=e.getPosition(),i=a.time;if(Math.abs(i-t)>1){if(c&&0===i&&t>0)return void(c=!1);c&&(c=!1),e.setPosition(i),a.logger("web","change time like chromecast"),a.logger("web",i),!d&&e.isPlaying()&&i<=3&&(this._getPlayElement().click(),a.logger("web","isPlaying and pause"),d=!0),this.isWakeUp&&a.duration-i<2&&(this.isWakeUp=!1,e.next(),a.logger("web","wake up?"))}this.lastTime=Date.now()}),a.on("currentTime",()=>{const t=Date.now();t>this.lastTime+4e3&&(setTimeout(()=>{e.isPlaying()||e.togglePause()},1e3),this.isWakeUp=!0,a.time&&e.setPosition(a._player.currentTime),this.lastTime=t),this.isLastTrack&&a.duration<a.time+2&&(e.togglePause(),a.logger("web","last track in queue"))}),a.on("volumechange",()=>{const t=_.forElem($(".volume__slider")[0]);a.webChangedVolume?a.webChangedVolume=!1:(a.phoneChangedVolume=!0,t.setPosition(a.volumeLevel),a.logger("mobile","volume change"))}),a.on("mediaIsEmpty",()=>{a.connected&&e.isPlaying()&&(a.duration-a.time>20?(a.recast(),a.logger("web","try to recast track")):(e.next(),a.logger("web","chromecast will go sleep, media is empty, click next track")))}),a.on("mediaLoaded",()=>{a.connected&&(e.getNextTrack()?this.isLastTrack=!1:this.isLastTrack=!0,e.isPlaying()||(e.togglePause(),a.logger("web","mediaLoaded and play")))})},h.castTrack=function(){const{Seq:t,DataSrc:e,Progress:i,Auth:n}=this.blocks,s=t.getCurrent()&&t.getCurrent().id;a.logger("web","cast track"),a.logger("web",a),s&&e.get("track",{track:s,withDownload:!0},{nocache:!0}).then(e=>{const{trackUrlMp3:o,track:r,isUgcTrack:l,downloadData:c}=e;if(d=!1,l){const e=this._getPoster(r.coverUri);$.ajax({url:c,dataType:"json",method:"GET",data:{format:"json",...n.user},success:function(i){const{host:n,path:o,s:l,ts:c}=i,d=`https://${n}/get-mp3/${l}/${c}${o}?track-id=${s}&play=false`;a.cast(d,{poster:e,title:r.title,volumeLevel:t.getVolume()>0?t.getVolume():a.volumeLevel,isSingleRepeat:1===t.getRepeat(),time:t.getPosition()})}})}else{const{coverUri:e,artists:i,title:n,albums:s}=r;this.currentTrackTitle=n,a.cast(o,{poster:this._getPoster(e),title:n,artist:i.map(t=>t.name).join(", "),albumName:s[0].title,volumeLevel:t.getVolume()>0?t.getVolume():a.volumeLevel,isSingleRepeat:1===t.getRepeat(),time:t.getPosition()})}this._setDeviceText(a.device),$(i.EVENT_CLASS).on(i.EVENT_PROGRESS,this.onProgressChange.bind(this))})},h.onTrackChange=function(t){t&&a&&a.connected&&this.castTrack()},h.onProgressChange=function(t,e){a&&a.connected&&a.seek(e)},h.onTrackPlay=function(t={}){const{Seq:e}=this.blocks;if(a&&a.connected){if(e.mute(!0),p.play)return void(p.play=!1);t.mediaLoaded||a.seek(e.getPosition(!0)),this.lastTime=Date.now(),"ended"===a.state||"paused"===a.state?setTimeout(()=>{e.isPlaying()&&a.play()},2e3):a.play()}},h.onTrackPause=function(){a&&a.connected&&(p.pause?p.pause=!1:s||(a.pause(),p.play=!1))},h.onTimeUpdate=function(t){const{Seq:e}=this.blocks;if(a&&a.connected){const i=t.position,n=a.time;t.position>5&&(p.pause=!1,p.play=!1),Math.abs(i-n)>1&&e.isPlaying()&&!l&&(l=!0,this.onTrackPlay(),a.play(),a.logger("web","play"))}},h.onChangeRepeat=function(){const{Seq:t}=this.blocks;a&&a.connected&&(1===t.getRepeat()?a.turnOnOrOffRepeat(!0):a.turnOnOrOffRepeat(!1))},h.onKeyboard=function(t){const{Blocks:e}=this.blocks,i=e.forElem($(".volume__slider")[0]);if(189===t.which||187===t.which){t.preventDefault();const e=187===t.which?1:-1;let n=a.volumeLevel+.1*e;n<0&&(n=0),a.volume(n),i.setPosition(n),a.logger("web","hotkey, set position: "+n)}48===t.which&&(a.muted?a.muted&&u>0&&setTimeout(()=>{a.logger("web","hotkey 0, we set volume: "+(u>0?u:.1)),a.logger("web",a),u>0?i.setPosition(u):i.setPosition(.1)},200):(u=a.volumeLevel,a.logger("web","hotkey 0, we saved volume: "+u)),this._getVolumeElement().click())},t.exports=h},function(t,e,i,n){const a=new(i(521))({receiver:"F3514B38"});t.exports=a},function(t,e,i,n){t.exports=class{constructor(t={}){t.joinpolicies&&["tab_and_origin_scoped","origin_scoped","page_scoped"].includes(t.joinpolicy)||(t.joinpolicy="tab_and_origin_scoped"),t.receiver||(t.receiver="CC1AD845"),this._events={},this._player=null,this._controller=null,this.receiver=t.receiver,this.joinpolicy=t.joinpolicy,this.available=!1,this.resetVariables()}loadScript(){if(window.chrome&&!window.chrome.cast){const t=document.createElement("script");t.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.append(t),document.cookie="chromecast=''"}this._init()}_getBrowserText(){const t=navigator.userAgent.toLowerCase();return t.includes("firefox")?"Firefox: Casting is not supported in this browser.":t.includes("opr/")?"Opera: Please enable casting, click here: https://bit.ly/2G1PMhD":t.includes("iron safari")?"Iron Safari: Please enable casting, click here: https://bit.ly/2G1PMhD":"this browser"}_init(t=0){if(!(window.chrome&&window.chrome.cast&&window.chrome.cast.isAvailable&&window.cast))return t++>20?this.trigger("error","Casting is not supported in "+this._getBrowserText()):setTimeout(this._init.bind(this),250,t);cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:this.receiver,autoJoinPolicy:this.joinpolicy}),this._context=cast.framework.CastContext.getInstance(),this._player=new cast.framework.RemotePlayer,this._controller=new cast.framework.RemotePlayerController(this._player);const e=cast.framework.RemotePlayerEventType,i=cast.framework.CastContextEventType;this._controller.addEventListener(e.IS_CONNECTED_CHANGED,()=>this._isConnectedChanged()),this._controller.addEventListener(e.IS_MEDIA_LOADED_CHANGED,()=>this._isMediaLoadedChanged()),this._controller.addEventListener(e.IS_MUTED_CHANGED,()=>this._isMutedChanged()),this._controller.addEventListener(e.IS_PAUSED_CHANGED,()=>this._isPausedChanged()),this._controller.addEventListener(e.CURRENT_TIME_CHANGED,()=>this._currentTimeChanged()),this._controller.addEventListener(e.DURATION_CHANGED,()=>this._durationChanged()),this._controller.addEventListener(e.VOLUME_LEVEL_CHANGED,()=>this._volumeLevelChanged()),this._controller.addEventListener(e.PLAYER_STATE_CHANGED,()=>this._playerStateChanged()),this._controller.addEventListener(e.ANY_CHANGE,t=>this._onPlayerEvent(t)),this._controller.addEventListener(e.STATUS_TEXT_CHANGED,t=>this._onStatusTextChange(t)),this._controller.addEventListener(e.PLAYER_STATE_CHANGED,t=>this._onPlayerStateChange(t)),this._controller.addEventListener(e.TITLE_CHANGED,t=>this._onTitleTextChange(t)),this._context.addEventListener(i.SESSION_STATE_CHANGED,t=>this._onSessionStateChange(t)),this.available=!0,this.trigger("available")}_getQueueData(){return new chrome.cast.media.QueueData(1,"","",this.isSingleRepeat?chrome.cast.media.RepeatMode.SINGLE:chrome.cast.media.RepeatMode.OFF)}_isMediaLoadedChanged(){this._player.isMediaLoaded&&setTimeout(()=>{this._player.mediaInfo&&(this.device=cast.framework.CastContext.getInstance().getCurrentSession().getCastDevice().friendlyName||this.device,this.src=this._player.mediaInfo.contentId,this.title=this._player.title||null,this.artist=this._player.artist||null,this.albumName=this._player.albumName||null,this.poster=this._player.imageUrl||null,this.muted=this._player.isMuted,this.volumeLevel=Number(this._player.volumeLevel.toFixed(4)),this.paused=this._player.isPaused,this.time=Math.round(this._player.currentTime,1),this.timePretty=this._controller.getFormattedTime(this.time),this.duration=this._player.duration,this.durationPretty=this._controller.getFormattedTime(this._player.duration),this.progress=this._controller.getSeekPosition(this.time,this._player.duration),this.state=this._player.playerState.toLowerCase(),this.trigger("mediaLoaded"))})}_isConnectedChanged(){this.connected=this._player.isConnected,this.connected&&(this.device=cast.framework.CastContext.getInstance().getCurrentSession().getCastDevice().friendlyName||this.device),this.state=this.connected?"connected":"disconnected",this.trigger("statechange"),this.trigger(this.connected?"connect":"disconnect"),this.logger("chromecast",cast.framework.VERSION,"cast framework version")}_currentTimeChanged(){const t=this.time;this.time=Math.round(this._player.currentTime,1),this.duration=this._player.duration,this.progress=this._controller.getSeekPosition(this.time,this.duration),this.timePretty=this._controller.getFormattedTime(this.time),this.durationPretty=this._controller.getFormattedTime(this.duration),this.trigger("currentTime"),t===this.time||this._player.isPaused||this.trigger("timeupdate")}_durationChanged(){this.duration=this._player.duration}_onPlayerEvent(t){const{field:e,value:i}=t;let n;n="object"==typeof i?{value:i}:`"${i}"`,this.logger("chromecast",n,e),"queueData"===e&&"undefined"===i&&setTimeout(()=>{this.isIdle()&&this.isDefaultStatusText()&&!this._player.isMediaLoaded&&this.trigger("mediaIsEmpty")},5e3),"playerState"===e&&"PAUSED"===i&&this.trigger("pause")}_onSessionStateChange(t){this.logger("sessionState",t.sessionState)}_onPlayerStateChange(t){this.logger("Player state",t)}_onStatusTextChange(t){this.logger("StatusText",t)}_onTitleTextChange(t){this.logger("TitleText",t),"titleChanged"!==t.type||""!==t.value||this._player.isMediaLoaded||setTimeout(()=>{this.isIdle()&&this.isDefaultStatusText()&&!this._player.isMediaLoaded&&this.trigger("mediaIsEmpty")},5e3)}_volumeLevelChanged(){this.volumeLevel=Number(this._player.volumeLevel.toFixed(4)),this.logger("chromecast",this.volumeLevel,"change volume:"),this._player.isMediaLoaded&&this.trigger("volumechange")}_isMutedChanged(){var t=this.muted;this.muted=this._player.isMuted,t!=this.muted&&this.trigger(this.muted?"mute":"unmute")}_isPausedChanged(){this.paused=this._player.isPaused,this.paused&&this.trigger("pause")}_playerStateChanged(){if(this.connected=this._player.isConnected,this.connected)switch(this.device=cast.framework.CastContext.getInstance().getCurrentSession().getCastDevice().friendlyName||this.device,this.state=this._player.playerState.toLowerCase(),this.state){case"idle":return this.state="ended",this.trigger("statechange"),this.trigger("end"),this;case"buffering":return this.time=Math.round(this._player.currentTime,1),this.duration=this._player.duration,this.progress=this._controller.getSeekPosition(this.time,this.duration),this.timePretty=this._controller.getFormattedTime(this.time),this.durationPretty=this._controller.getFormattedTime(this.duration),this.trigger("statechange"),this.trigger("buffering"),this;case"playing":return setTimeout(()=>{this.trigger("statechange"),this.trigger("playing")}),this}}removeListeners(){this._controller&&this._controller.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,this._onPlayerEvent)}on(t,e){return this._events[t]||(this._events[t]=[]),this._events[t].push(e),this}off(t){return t?this._events[t]&&(this._events[t]=[]):this._events={},this}trigger(t){const e=Array.prototype.slice.call(arguments,1);for(let i in this._events[t])this._events[t][i].apply(this,e);if("error"===t)return this;for(let e in this._events.event)this._events.event[e].apply(this,[t]);return this}cast(t,e={}){if(!t)return this.trigger("error");for(let t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);if(!cast.framework.CastContext.getInstance().getCurrentSession())return this.trigger("error");const i=new chrome.cast.media.MediaInfo(t,"audio/mpeg");i.metadata=new chrome.cast.media.MusicTrackMediaMetadata,i.metadata.images=[new chrome.cast.Image(this.poster)],i.metadata.title=this.title,i.metadata.artist=this.artist,i.metadata.albumName=this.albumName,this.mediaInfo=i;const n=new chrome.cast.media.LoadRequest(i);return n.currentTime=this.time,n.autoplay=!this.paused,n.queueData=this._getQueueData(),cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(n).then(()=>(this.device=cast.framework.CastContext.getInstance().getCurrentSession().getCastDevice().friendlyName||this.device,this.time>0&&this.seek(this.time),this),t=>this.trigger("error",t)),this}recast(t){this.isSingleRepeat=t;const e=new chrome.cast.media.LoadRequest(this.mediaInfo);return e.currentTime=this.time,e.autoplay=!this.paused,e.queueData=this._getQueueData(),this.logger("web","recast track"),cast.framework.CastContext.getInstance().getCurrentSession().loadMedia(e).then(()=>(this.device=cast.framework.CastContext.getInstance().getCurrentSession().getCastDevice().friendlyName||this.device,this.seek(this.time),this),t=>this.trigger("error",t)),this}seek(t){return this._player.currentTime=t,this._controller.seek(),this.logger("web","set time/progress in seconds "+t),this}volume(t){return this._player.volumeLevel=t,this.volumeLevel=t,this.logger("web","set volume in chromecast library: "+t),this._controller.setVolumeLevel(),this}play(){return this.paused&&this._player.isPaused&&"PAUSED"===this._player.playerState&&(this._controller.playOrPause(),this.logger("web","play")),this}pause(){return this.paused||(this._controller.playOrPause(),this.logger("web","pause")),this}mute(){return this.muted||this._controller.muteOrUnmute(),this}unmute(){return this.muted&&this._controller.muteOrUnmute(),this}turnOnOrOffRepeat(t){if(this.logger("turnOnOrOffRepeat",!0),t||!t&&this.isSingleRepeat)return this.recast(t),this}disconnect(){return cast.framework.CastContext.getInstance().endCurrentSession(!0),this._controller.stop(),this.resetVariables(),this.trigger("disconnect"),this.removeListeners(),this}getPlayerState(){return this._player.playerState}isDefaultStatusText(){return"Yandex.Music"===this._player.statusText}isIdle(t){return t?"IDLE"===t:"IDLE"===this._player.playerState}isDefaultStateCast(){return this.isIdle()&&this.isDefaultStatusText()}logger(t,e,i){if(t&&sessionStorage.getItem("__castPlayer"))switch(t){case"web":console.log("%c WEB: ","color: yellow; font-style: italic; background-color: grey; padding: 2px;",e);break;case"mobile":console.log("%c MOBILE OR REMOTE: ","color: blue; font-style: italic; background-color: white; padding: 2px;",e);break;case"chromecast":console.log("Chromecast: %c"+i,"color: black; font-style: italic; background-color: yellow; padding: 2px;",e);break;default:console.info(t+": ",e)}}resetVariables(){this.connected=!1,this.device="Chromecast",this.src="",this.title="",this.poster="",this.artist="",this.albumName="",this.paused=!1,this.muted=!1,this.volumeLevel=1,this.time=0,this.timePretty="00:00:00",this.duration=0,this.durationPretty="00:00:00",this.progress=0,this.state="disconnected"}}},function(t,e,i,n){var a=i(100),s=i(523),o=i(260);Mu.blocks.register("player-progress",function(){var t,e,i=function(t){var e=$(t);this.dom=t,this.progress=e.find(".progress__line")[0],this.progressLineStaticBackground=e.find(".progress__line_static-background"),this.progressBranding=e.find(".progress__line__branding")[0],this.fillPercent=0,this.cancelNextUpdate=!1};i.prototype.getWidth=function(){return this.dom.offsetWidth},i.prototype.updateFill=function(t){if(this.fillPercent=Math.max(0,Math.min(1,this.fillPercent)),t){if(i.setTransformWithoutAnimation(this.progress,`scaleX(${this.fillPercent})`),null!=this.progressBranding){const t=`translateX(${this.getBrandingTranslatePercent(this.fillPercent)}%)`;i.setTransformWithoutAnimation(this.progressBranding,t)}}else this.cancelNextUpdate||(this.progress.style.transform=`scaleX(${this.fillPercent})`,null!=this.progressBranding&&(this.progressBranding.style.transform=`translateX(${this.getBrandingTranslatePercent(this.fillPercent)}%)`));this.cancelNextUpdate=!1,this.progressLineStaticBackground&&this.progressLineStaticBackground.css({transform:`scaleX(${1/this.fillPercent})`})},i.setTransformWithoutAnimation=function(t,e){t&&($(t).addClass("progress__notransition"),t.style.transform=e,t.offsetHeight,$(t).removeClass("progress__notransition"))},i.prototype.stopAnimation=function(){this.cancelNextUpdate=!0;const t=window.getComputedStyle(this.progress).getPropertyValue("transform");if(i.setTransformWithoutAnimation(this.progress,t),this.progressBranding){const t=window.getComputedStyle(this.progressBranding).getPropertyValue("transform");i.setTransformWithoutAnimation(this.progressBranding,t)}},i.prototype.getBrandingTranslatePercent=function(t){let i;if("venom"!==e)i=100*(t-1);else{const e=this.progressBranding.offsetWidth;i=100*((e-62)*t/e-1)}return i};var n=function(t){var e=$(t);this.$dom=e,this.playProgress=new i(e.find(".progress__progress")[0]),this.loadProgress=new i(e.find(".progress__progress_muted")[0]),this.progressTextContainer=e.find(".progress__text"),this.$left=e.find(".progress__left"),this.$right=e.find(".progress__right"),this.$slash=e.find(".progress__slash"),this.fillPercent=0,this.changing=!1,this.userPos=-1,this.lastPosition=0,this.curr={left:"0:00",right:""},$(window).on("resize",function(){this.playProgress.updateFill(),this.loadProgress.updateFill()}.bind(this)),e.on("mousedown",this.onMouseDown.bind(this)),a()||this.setupTimeTooltip()};return n.EVENT_CLASS=".player-progress",n.EVENT_PROGRESS="progress-user",n.prototype.setupTimeTooltip=function(){this.cursorTooltip=Mu.blocks.get("d-tooltip").getTooltip(this.$dom,{class:"progress-bar-time-tooltip",isSmall:!0,side:"top"}),this.cursorTooltip&&this.$dom.on({mousemove:this.onMouseMove.bind(this),mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)})},n.prototype.init=function(i){var n=this;(t=i.get("seq")).on(Mu.PlayFlow.EVENT_PROGRESS,this.onTimeUpdate.bind(this));var a=this.onSeqChange.bind(this);t.on(Mu.PlayFlow.EVENT_SHOW_TRACK,a),t.on(Mu.PlayFlow.EVENT_EMPTY,a),t.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,this.onPause.bind(this)),t.on(Mu.PlayFlow.EVENT_TRACK_PLAY,(function(){n.$slash.show(),n.changeCursorIfNeeded()})),t.on(Mu.PlayFlow.EVENT_CHANGE,this.checkGenerativeStream.bind(this)),i.get("layout").on("resize",this.calculateOffsetLeft.bind(this)),this.calculateOffsetLeft(),this.onSeqChange(),e=o()},n.prototype.onPause=function(){this.playProgress.stopAnimation()},n.prototype.changeCursorIfNeeded=function(){t.isIdle()?this.$dom.addClass("progress__default__cursor"):this.$dom.removeClass("progress__default__cursor")},n.prototype.shouldStopProgress=function(){return t.isIdle()||t.isEmpty()&&!t.getAdvert()},n.prototype.onSeqChange=function(){this.shouldStopProgress()&&this.stop(),this.changeCursorIfNeeded(),this.checkGenerativeStream()},n.prototype.getPosX=function(t){var e=t.pageX;return a()&&(e-=t.currentTarget.offsetLeft),e},n.prototype.onMouseEnter=function(e){this.shouldStopProgress()||this.isTargetBrandingElement(e)||t.isGenerative()||this.cursorTooltip.show()},n.prototype.onMouseLeave=function(){this.cursorTooltip.hide()},n.prototype.onMouseMove=function(i){if(this.cursorTooltip.isOpen()||(this.onMouseEnter(i),this.cursorTooltip.isOpen()))if(this.cursorTooltip.isOpen()&&this.isTargetBrandingElement(i))this.onMouseLeave();else{var n="venom"===e?62:0,a=this.getPosX(i)-this.offsetLeft,o=this.playProgress.getWidth()-n,r=t.getDuration()*(a-n)/o,l=a-this.cursorTooltip.$cont.outerWidth()/2,c=s(r<0?0:r);this.cursorTooltip.updateContent({content:c}),this.cursorTooltip.$cont.css("left",l)}},n.prototype.isTargetBrandingElement=function(t){var i=this.getPosX(t);if("venom"===e&&i-this.offsetLeft-62<=0)return!0;return["moving-slider","paused-slider","bubble","garage","d-icon_cross-small","venom__head","venom__half-head"].some((function(e){return $(t.target).hasClass(e)}))},n.prototype.onMouseDown=function(e){if(this.calculateOffsetLeft(),!this.isTargetBrandingElement(e)){var i=this;if(t.canNavigate()){i.changing=!0,i.$dom.addClass("progress_drag");var n=this.getPosX(e);Mu.dnd(e,{onMove:function(t){i.onUserPosChange(i.getPosX(t),{move:!0})},onEnd:function(e,n){i.changing=!1,n||(i.updateWindow&&clearTimeout(i.updateWindow.timer),i.updateWindow={left:i.userPos,right:i.userPos>t.getPosition(!0)?t.getDuration(!0):i.userPos+1,timer:setTimeout((function(){i.updateWindow=null}),1e3)},t.setPosition(i.userPos,!0)),i.$dom.removeClass("progress_drag")}}),i.onUserPosChange(n)}}},n.prototype.onUserPosChange=function(i,n={}){var a="venom"===e?62:0,o=this.playProgress;o.fillPercent=(i-this.offsetLeft-a)/(this.playProgress.getWidth()-a),o.fillPercent<0?o.fillPercent=0:o.fillPercent>1&&(o.fillPercent=1);var r=t.getDuration()||0;this.userPos=o.fillPercent*r,this.lastPosition=this.userPos,!n.move&&this.$dom.trigger("progress-user",[this.userPos]);var l=s(this.userPos);l!==this.curr.left&&(this.curr.left=l,this.$left.text(r?l:"")),this.userPos<=0&&(o.fillPercent=0),this.playProgress.updateFill(!0)},n.prototype.onTimeUpdate=function(e){if(!t.getCurrent())return;var i=s(e.duration);this.curr.right=i;const n=e.duration===1/0;if(this.$right.text(e.duration&&!n?i:""),this.progressTextContainer.attr({"data-duration":e.duration}),!this.changing){var a=s(e.position);this.curr.left=a,this.$left.text(e.duration?a:""),e.position&&this.progressTextContainer.attr({"data-played-time":e.position.toFixed(2)});let t=!1;(!this.updateWindow||this.updateWindow.left<=e.position&&e.position<=this.updateWindow.right)&&(this.playProgress.fillPercent=e.duration?e.position/e.duration:0,t=this.lastPosition>=0&&Math.abs(e.position-this.lastPosition)>=1.5,this.lastPosition=e.position),this.loadProgress.fillPercent=e.duration?e.loaded/e.duration:0,this.playProgress.updateFill(t),this.loadProgress.updateFill()}},n.prototype.stop=function(){this.playProgress.fillPercent=0,this.loadProgress.fillPercent=0,this.playProgress.updateFill(!0),this.loadProgress.updateFill(),this.$left.text(""),this.$right.text("")},n.prototype.calculateOffsetLeft=function(){this.offsetLeft=this.$dom.offset().left},n.prototype.checkGenerativeStream=function(){t.isGenerative()&&(this.$dom.toggleClass("progress__default__cursor",t.isGenerative()),this.$left.text(""),this.$right.text(""),(t.isPlaying()||t.isPaused())&&(this.playProgress.cancelNextUpdate=!1,this.playProgress.fillPercent=1,this.playProgress.updateFill(!0)))},n}())},function(t,e,i,n){t.exports=function(t){if(void 0===t)return"";t=Math.floor(t);var e=Math.floor(t/60),i=t-60*e;return i<10&&(i="0"+i),e+":"+i}},function(t,e,i,n){var a,s,o;Mu.blocks.register("playlist",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);0===$(t.target).closest("a").length&&e&&e.onClick(t)}))},o.prototype.init=function(){this.$cont=$(this.container),this.$info=this.$cont.find(".playlist__info"),this.$counter=this.$cont.find(".auto-playlist__counter"),this.$cover=this.$cont.find(".auto-playlist__cover"),this.auto=this.data.auto,Mu.blocks.forElem(this.$cont.closest(".d-slider").get(0)),this.delegate("button-play.click",this.updateAutoPlaylistCounter)},o.prototype.onClick=function(){this.triggerEvent({type:"playlist.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("playlist_selected",t)},o.prototype.openSidebar=function(){var t={},e=this.playlist();if(e.owner){t.from=s.getCardFrom(this.container,"playlist"),t.owner=e.owner.login,t.kind=e.kind;var i=this.closestParent("event");i&&(t.eventId=i.data.id),a.show("playlist",t)}},o.prototype.hasNotification=function(){return this.auto&&this.auto.notification},o.prototype.playlist=function(){return this.data.playlist||this.data},o.prototype.prepareUpdatedData=function(t){var e=$.extend(!0,{},this.data),i=e.playlist.playCounter;return i.value=t.playCounter.value+1,i.description=t.playCounter.descriptionNext||t.playCounter.description,e},o.prototype.updateAutoPlaylistCounter=function(){var t=this.playlist();if("playlistOfTheDay"===t.generatedPlaylistType&&t.playCounter&&!t.playCounter.updated){var e=this.prepareUpdatedData(t).playlist,i=Mu.render("playlist-cover__counter",e);this.$counter.html(i),Mu.blocks.get("playlist-cover").initTooltip(this.$counter,e)}},o))},function(t,e,i,n){var a;Mu.blocks.register("playlist-cover",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$counter=this.$cont.find(".auto-playlist__counter"),a.initTooltip(this.$counter,this.data)},a.initTooltip=function(t,e){var i=e.playCounter&&e.playCounter.description;i&&Mu.blocks.get("d-tooltip").getTooltip(t,{container:"body",type:"alert",event:"hover",side:"right",theme:"black",content:i,fade:!0})},a))},function(t,e,i,n){Mu.blocks.register("plus-kids-popup-annoyer",function(){let t,e,i,n;const a=function(){};return a.init=function(a){t=a.get("auth"),e=a.get("blocks").get("plus-kids-popup"),i=Mu.Storage.create("localStorage"),n=a.get("navigation")},a.prototype.init=function(){n.on("navigateByLink",t=>this.renderPopup.call(this,t.url)),this.renderPopup(window.location.pathname)},a.prototype.renderPopup=function(t){this.canShowPopup(t)&&this.show()},a.prototype.show=function(){this.deactivated||e.show({lastUrl:n.getLastUrl(),showOnLoaded:!0,from:"autoPaywall",showToNotLoggedIn:!0})},a.prototype.canShowPopup=function(t){const e=/^\/kids$/.test(t),i=Mu.experiments.WebOptionsKids,n=Mu.authData.user,a=n.uid,s=$.cookie("skip_paywall"),o=n.hasOptions,r=o&&o.find(t=>"kids"===t);return!("skip_paywall"===i&&s==a)&&(e&&i&&"default"!==i&&!r)},a}())},function(t,e,i,n){const a=i(119),s=i(528);Mu.blocks.register("plus-points",function(){let t,e;const i=function(){};return i.init=function(i){DataSrc=i.get("dataSrc"),Storage=Mu.Storage.create("localStorage"),t=i.get("auth"),e=i.get("metrika")},i.prototype.init=function(){this.$cont=$(this.container),t.isLoggedIn()&&this.renderWrapper()},i.prototype.renderWrapper=function(){const e=t.user&&t.user.MBError;this.$cont.html(s({hasPlus:a.hasPlus(),MBError:e}))},i.prototype.onClick=function(){e.count({head:{plusCashback:1}})},i}())},function(t,e,i,n){t.exports=function(){i(119);const t=i(151),e=i(73);return function(i){var n="",a='<span class="plus-points__text typo-main">'+__escape(i18n("plus-points","[feature/plus-points]плюс"))+"</span>";const s="https://plus.yandex."+e().tld;return n+=t.render({href:i.hasPlus?s+"#cashback":s,content:a,noHoverColor:!0,class:"plus-points__wrapper local-theme-black typo-default"})}}()},function(t,e,i,n){Mu.blocks.register("promo",function(){var t,e,i,n=function(){};return n.init=function(n){t=n.get("blocks"),e=n.get("sidebars"),i=n.get("froms"),this.domDelegate("click",(function(e){var i=t.forElem(this);0===$(e.target).closest("a").length&&i.onClick(e)}))},n.prototype.init=function(){this.$cont=$(this.container),this.delegate("button-play.getContext",(function(t){return t.stopBubble=!0,null})),this.data.adPixel&&((new Image).src=this.data.adPixel)},n.prototype.onClick=function(){this.triggerEvent({type:"promo.click"})},n.prototype.openSidebar=function(){var t=this.data,i=this.getFrom(),n=this.closestParent("event");if(n)var a=n.data.id;switch(t.promotionType){case"album":e.show("album",{album:t.album.id,from:i,eventId:a});break;case"artist":e.show("artist",{artist:t.artist.id,from:i,eventId:a});break;case"track":e.show("track",{track:t.track.id,album:t.album?t.album.id:-1,hideAlbum:!1,from:i,eventId:a});break;case"playlist":var s=t.playlist.playlist;e.show("playlist",{owner:s.owner.login,kind:s.kind,from:i,eventId:a})}},n.prototype.setSelected=function(){},n.prototype.getFrom=function(){var t="promo"+(this.data.promoId?"_"+this.data.promoId:"");return i.getBlockFrom(this.container,t)},n}()),i(530)},function(t,e,i,n){Mu.blocks.register("promo_video",function(){var t,e,i=function(){};return i.init=function(i){e=i.get("seq"),i.get("blocks"),t=i.get("metrika"),this.domDelegate("click",".promo__mask",(function(t){Mu.blocks.forElem(this,"promo_video").onPlay(t)}))},i.prototype.init=function(t){this.data.adPixel&&((new Image).src=this.data.adPixel),this.videoIsLoaded=!1},i.prototype.onClick=function(t){},i.prototype.onPlay=function(i){if(!this.videoIsLoaded){e.pause();var n=$(this.data.videoCode),a=$(this.container),s=a.find(".promo__media"),o=$(Mu.render("promo__stub"));a.find(".promo__cover").replaceWith(o),s.toggleClass("promo__media_expanded",!0),n.toggleClass("_hidden",!0),n.on("load",(function(){o.remove(),n.toggleClass("_hidden",!1)})),s.append(n),t.goal("editorialVideoWatcher"),this.videoIsLoaded=!0}},i}())},function(t,e,i,n){Mu.blocks.register("radio",function(){var t,e,i=function(){};return i.init=function(i){t=i.get("seq"),e=i.get("froms"),this.domDelegate("click",".radio__play_btn",(function(t){var e=Mu.blocks.forElem(this,"radio");e&&e.onPlayClick(t)}))},i.prototype.onPlayClick=function(){var i=this.data.id,n=yr.externals.genreName(i,!0),a={shortTitle:n,title:i18n("radio","[feature/mfront-3789]Поток жанра %1",n),href:"/genre/"+i},s=e.getBlockFrom(this.container,"radio"),o={genre:this.data.id,radio_type:"genre",radio_tag:this.data.id};a.from=s,t.playRadio(a,o)},i}())},function(t,e,i,n){Mu.blocks.register("radio-settings",function(){var t,e,i={genre:i18n("radio-settings","жанра"),replica:i18n("radio-settings","реплика:"),mood:i18n("radio-settings","настроения"),activity:i18n("radio-settings","для занятий:"),epoch:i18n("radio-settings","эпохи")},n=function(){this.position=null,this.popup=null,this.options={},this.$cont=null,this.data={isRadio:!1},Mu.eventize(this)};return n.init=function(i){t=i.get("seq"),e=i.get("blocks")},n.prototype.init=function(){this.$cont=$(this.container),this.popup=null,this.onToggle=this.onToggle.bind(this),this.onClose=this.onClose.bind(this)},n.prototype.isEmpty=function(){return!!t.isRadio()&&(this.restoreSettings(),!this.data.restrictions)},n.prototype.onClick=function(){this.toggle()},n.prototype.setOptions=function(t){this.options=t},n.prototype.isOpen=function(){return!(!this.popup||!this.popup.isOpen)&&this.popup.isOpen()},n.prototype.onToggle=function(){this.setShown(this.popup.isOpen()),this.popup.isOpen()||this.onClose()},n.prototype.onClose=function(){this.trigger("hide")},n.prototype.toggle=function(){return this.popup&&this.popup.isOpen||this.onChangeSettings(),Promise.resolve(this.popup.toggle())},n.prototype.onChangeSettings=function(){this.destroyPopup(),this.renderPopup()},n.prototype.renderPopup=function(){var t,i={settings:this.data.settings,station:Object.assign({},this.data.station,this.data.context&&this.data.context.station),restrictions:this.data.restrictions,position:this.options.position||"",showIcon:!1};t=$(Mu.render("settings-stream",i)),this.popup=e.forElem(t[0]),this.popup.on("toggle",this.onToggle),this.popup.on("settings-stream.change",this.onRadioSettingChange.bind(this))},n.prototype.destroyPopup=function(){this.popup&&(this.popup.off("toggle",this.onToggle),this.popup.destroy(),this.popup=null)},n.prototype.setShown=function(t){this.$cont.toggleClass("settings_shown",!!t)},n.prototype.onRadioSettingChange=function(e){var i=e.param,n=e.value;i&&n&&t.setOption(i,n)},n.prototype.restoreSettings=function(){if(t.isRadio()){var e=this.data,n=t.getConfig(),a=t.getInfo(),s=t.getSettings(),o=t.getRestrictions();e.context=t.context,delete e.radio_type,delete e.radio_tag,delete e.restrictions,e.radio_type=n.type,e.radio_tag=n.tag,e.radioName=a.name,e.station=a,e.radioType=i[n.type],e.settings={},s&&(e.settings.moodEnergy=s.moodEnergy,e.settings.diversity=s.diversity,e.settings.language=s.language||"any",e.restrictions=o)}},n}())},function(t,e,i,n){const a=i(119);var s;Mu.blocks.register("radio-station",((s=function(){}).init=function(){const t=t=>$(t.target).parents(".d-tooltip").length>0;this.domDelegate("click",".jsClickable",(function(e){t(e)||(e.stopPropagation(),Mu.blocks.forElem(this,"radio-station").processClick(e))})),this.domDelegate("click",".radio-station__more-button",(function(t){t.stopPropagation(),Mu.blocks.forElem(this,"radio-station").toggleSubs(t)})),this.domDelegate("click",".radio-station__subs-item",(function(e){t(e)||(e.stopPropagation(),Mu.blocks.forElem(this).processClick(e))}))},s.prototype.init=function(){this.$cont=$(this.container),this.$children=$(".radio-station__subs",this.container),this.$childrenItems=$(".radio-station__subs-items",this.container),this.$moreButton=$(".radio-station__more-button",this.container),this.delegate("button-play.click",function(t){var e=this.data.station&&this.data.station.id||this.data.id;if(t.target.item.id.tag===e.tag){var i=Mu.blocks.forElem(this.container,"page-radio");i&&i.hiliteStation(this.data.id||this.data.station.id)}}.bind(this)),this.$childrenItems.addClass("collapsed")},s.prototype.processClick=function(t){t.stopPropagation(),this.data&&"page"===this.data.theme||!a.canUseMusicInRegion()||this.$cont.find(".radio__play").eq(0).click()},s.prototype.toggleSubs=function(t){var e;t.stopPropagation(),$(".radio-station_withSubs").not(this.$cont).each((function(){(e=Mu.blocks.forElem(this,"radio-station")).$cont.removeClass("radio-station_withSubs").addClass("deco-entity"),e.$children.addClass("radio-station__subs-animable"),e.$moreButton.removeClass("active")})),this.$children.length>0&&(this.$moreButton.hasClass("active")?this.$childrenItems.addClass("collapsed"):(this.$childrenItems.removeClass("scrollable"),this.$childrenItems.removeClass("collapsed")),this.$cont.hasClass("radio-station_withSubs")?this.$children.addClass("radio-station__subs-animable"):this.subsFitOnScreen()?this.$children.removeClass("radio-station__subs_upward"):(this.$children.addClass("radio-station__subs_upward"),this.subsShouldBeSrollable()?this.$childrenItems.addClass("scrollable"):this.$childrenItems.removeClass("scrollable")),this.$cont.toggleClass("radio-station_withSubs"),this.$cont.toggleClass("deco-entity"),this.$moreButton.toggleClass("active"))},s.prototype.subsFitOnScreen=function(){var t=this.offset||this.$cont.offset(),e=this.childrenHeight||this.$children.outerHeight();return this.offset=t,this.childrenHeight=e,window.innerHeight+window.pageYOffset-t.top-e-96>=0},s.prototype.subsShouldBeSrollable=function(){var t="none"===$(".d-overhead").css("display")?0:$(".d-overhead").height()||0;return(this.childrenUpwardOffset||this.$children.offset().top)-t<Math.max(window.pageYOffset,70)},s.prototype.setPlaying=function(t,e){if(t?this.$cont.addClass("radio-station_playing"):this.$cont.removeClass("radio-station_playing"),e||!t){const e=this.$cont.find(".radio__play")[0];if(e){const i=Mu.blocks.forElem(e);i&&i.setPlaying(t)}}},s.prototype.refresh=function(){var t=$(Mu.render("radio-station",this.data))[0];this.$cont.replaceWith(t),this.container=t,this.init();var e=Mu.blocks.forElem(this.container,"page-radio");(e||(e=Mu.blocks.forElem(this.container,"page-radio-station")))&&e.hiliteStation(),this.offset=null,this.childrenHeight=null},s))},function(t,e,i,n){const a=i(535),s=i(537),o=i(538),r=i(119);Mu.blocks.register("rup",function(){let t,e,i,n;const l=function(){};return l.init=function(a){t=a.get("dataSrc"),e=a.get("seq"),i=a.get("popups"),n=a.get("sidebars")},l.prototype.init=function(){this.playButtonClickCounter=0;const t=Mu.authData.user.havePlus;this.$container=$(this.container),this.$content=this.$container.find(".rup__content"),this.$button=this.$container.find(".rup__content-button"),this.$description=this.$container.find(".rup__content-description"),this.$settings=this.$container.find(".rup__content-settings"),this.$settingsButton=this.$container.find(".rup__content-settings-button"),this.$audioAnimation=this.$container.find(".audio-animation"),this.$offerWrapper=this.$container.find(".rup__offer-wrapper"),this.audioAnimation=Mu.blocks.forElem(this.$audioAnimation.get(0),"audio-animation"),this.onStateChange=this.onStateChange.bind(this),this.onTrackChange=this.onTrackChange.bind(this),this.onSettingsClick=this.onSettingsClick.bind(this),this.onSidebarChange=this.onSidebarChange.bind(this),e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.onStateChange),e.on(Mu.PlayFlow.EVENT_SOURCE,this.onStateChange),e.on(Mu.PlayFlow.EVENT_TRACK_PLAY,this.onTrackChange),n.on("loaded",this.onSidebarChange),n.on("unloaded",this.onSidebarChange),n.on("sidebars.hideAll",this.onSidebarChange),!t&&"on"===Mu.experiments.WebMyVibeFreemium&&Mu.experiments.WebMyVibeFreemium||this.$content.on("click",this.onContentClick.bind(this)),this.$settingsButton.on("click",this.onSettingsClick.bind(this)),this.getData(),this.onStateChange(),this.onSidebarChange(),e.isPlaying()&&this.onTrackChange()},l.prototype.getData=function(){if(!Mu.authData.user.havePlus&&"on"===Mu.experiments.WebMyVibeFreemium)return t.get("payment-products",{},{nocache:!0}).then(t=>{this.data={},s.sortByTrialDuration(t.products);const e=t.products,i=t.products&&t.products[0];this.data.product=i,this.data.products=e,this.data.offersBatchId=t.offersBatchId,this.data.allProducts=t.allProducts,i&&(this.renderOffer(i),this.insertMbform(),this.addOnOfferClick())});t.get("wizard-status",{},{nocache:!0}).then(e=>(this.data={isWizardPassed:e.isWizardPassed},this.data.isWizardPassed?(this.checkPlusAvailability(),t.get("stations-dashboard",{limit:5},{nocache:!0})):Promise.reject(new Error("Wizard is not passed")))).then(t=>{const e=t.stations.find(t=>"user"===t.station.id.type);this.data.station=e.station,this.waitingForPlaying&&this.onContentClick()}).catch(()=>{})},l.prototype.renderOffer=function(t){this.$content.append(o({product:t}))},l.prototype.insertMbform=function(){const t=$(document.body),e=a.render({product:this.data.product,offersBatchId:this.data.offersBatchId,products:this.data.products,allProducts:this.data.allProducts});this.$mbformWrapper=$(e),t.append(e),Mu.blocks.initPendingBlocks(t)},l.prototype.removeMbForm=function(){$(".mbform-wrapper").remove()},l.prototype.onOfferButtonClick=function(){Mu.blocks.forElem(this.$mbformWrapper[0]).onPaymentClick()},l.prototype.addOnOfferClick=function(){$(".rup__content_disable").on("click",this.onOfferButtonClick.bind(this))},l.prototype.removeOnOfferClick=function(){$(".rup__content_disable").off("click",this.onOfferButtonClick.bind(this))},l.prototype.checkPlusAvailability=function(){!r.canUseMusicInRegion()&&this.$button&&this.$button.addClass("rup__content-button-disabled")},l.prototype.onContentClick=function(){if(this.isMyWave()){if(e.isPlaying())return void e.togglePause(!0);if(e.getPosition()>0)return e.markInteractivePlayStart(),void e.togglePause(!1)}if(this.data&&!this.data.isWizardPassed)return void i.toggle("wizard",{callbackFunction:this.onWizzardPassed.bind(this)});if(!r.canUseMusicInRegion())return;if(!this.data||!this.data.station)return void(this.waitingForPlaying=!0);const t=this.getRupRadioConfig(),n={shortTitle:t.name,title:t.name,from:"web-home-rup_main-radio-main",id:{type:t.type,tag:t.tag}},a={radio_type:t.type,radio_tag:t.tag};e.playRadio(n,a)},l.prototype.getRupRadioConfig=function(){return{type:this.data.station.id.type,tag:this.data.station.id.tag,name:this.data.station.name}},l.prototype.onStateChange=function(){const t=e.isPlaying();this.setViewState(this.isMyWave()&&t)},l.prototype.onTrackChange=function(){this.isMyWave()&&this.setViewParams()},l.prototype.onSettingsClick=function(t){t.stopPropagation(),n.show("rup")},l.prototype.onSidebarChange=function(){const t=Boolean(Mu.sidebars.current&&"rup"===Mu.sidebars.current.name),e=Mu.blocks.forElem(this.$settingsButton[0],"d-button");e&&e.toggleDisabled(t)},l.prototype.onWizzardPassed=function(){this.playButtonClickCounter-=1,this.waitingForPlaying=!0,this.getData()},l.prototype.setViewState=function(t){t&&this.playButtonClickCounter<3&&(this.playButtonClickCounter+=1),this.$button.toggleClass("rup__content-button-playing",t),(t||!t&&this.playButtonClickCounter<3)&&this.$description.toggleClass("rup__content-description-hidden",t),this.$settings.toggleClass("rup__content-settings-hidden",!t)},l.prototype.setViewParams=function(){e.getCurrent().trackParameters},l.prototype.isMyWave=function(){const t=e.getConfig();return e.isRadio()&&t&&"user"===t.type},l.prototype.destroy=function(){e.off(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.onStateChange),e.off(Mu.PlayFlow.EVENT_SOURCE,this.onStateChange),n.off("loaded",this.onSidebarChange),n.off("unloaded",this.onSidebarChange),n.off("sidebars.hideAll",this.onSidebarChange);Mu.authData.user.havePlus||"on"!==Mu.experiments.WebMyVibeFreemium||(this.removeOnOfferClick(),this.removeMbForm())},l}())},function(t,e,i,n){const a={render:i(536)};clientSide&&(a.controller=i(216)),t.exports=a},function(t,e,i,n){t.exports=function(){const t=i(291);return function(e){return'<div class="mbform-wrapper" data-b="'+__escape(Mu.dotBlockRoot(e,"mbform-wrapper",!0))+'"> '+t.render(e.mbformConfig||{placeholderType:"page",iframeSrc:Mu.settings.mbformUrl,theme:"white",metrikaConfig:{from:"music"},widgetServiceName:"music"})+"</div>"}}()},function(t,e,i,n){t.exports={sortByTrialDuration:function(t){t&&(t.forEach(t=>{const e=t.trialPeriodDuration||"",i=e.match(/\d+/g),n=i&&i[0],a=({D:864e5,M:2629746e3,Y:31556952e3}[e.slice(-1)]||31556952e3)*n;t.trial=a}),t.sort((t,e)=>e.trial-t.trial))}}},function(t,e,i,n){t.exports=function(t){var e="";return t.product&&t.product.buttonText&&(e+='<div class="rup__offer"><button class="rup__offer-button">'+t.product.buttonText+'</button><div class="rup__offer-disclaimer">'+t.product.buttonAdditionalText+"</div></div>"),e}},function(t,e,i,n){Mu.blocks.register("rup-stations",function(){let t;const e=function(){};return e.init=function(e){t=e.get("seq")},e.prototype.init=function(){this.$cont=$(this.container),this.$item=this.$cont.find(".rup-stations__item"),this.$itemArrow=this.$cont.find(".rup-stations__item-arrow"),this.onItemClick=this.onItemClick.bind(this),this.onItemArrowClick=this.onItemArrowClick.bind(this),this.setStationFromSeq=this.setStationFromSeq.bind(this),this.$item.on("click",this.onItemClick),this.$itemArrow.on("click",this.onItemArrowClick),t.on(Mu.PlayFlow.EVENT_SOURCE,this.setStationFromSeq),this.setStationFromSeq()},e.prototype.setStationFromSeq=function(){if(t.isRadio()){const e=t.getConfig();this.setActiveStation(e.tag,e.type)}else this.removeActiveStation()},e.prototype.onItemClick=function(t){const e=$(t.currentTarget);e.parent().hasClass("rup-stations__item-children")&&(this.onBodyClick(),t.stopPropagation());const[i,n]=e.attr("data-id").split(","),a=e.text();this.playStation(i,n,a),this.setActiveStation(i,n)},e.prototype.playStation=function(e,i,n){const a=t.getConfig();if(a.tag===e&&a.type===i)return;const s={shortTitle:n,title:n,from:"web-home-rup_main-radio-main"},o={radio_type:i,radio_tag:e};t.playRadio(s,o)},e.prototype.setActiveStation=function(t,e){this.removeActiveStation();const i=this.$cont.find(`.rup-stations__item[data-id='${t},${e}']`),n=i.text();if(i.length>0){if(i.parent().hasClass("rup-stations__item-children")){const a=i.parent().parent();a.addClass("rup-stations__item-active");const[s,o]=a.attr("data-id").split(",");if(s!==t||o!==e){const t=a.find(".rup-stations__item-substation-name");t.text(n),a.hasClass("expanded")||t.toggleClass("_hidden",!1)}}i.find(".rup-stations__item-children").length>0&&i.addClass("rup-stations__item-active-parent"),i.addClass("rup-stations__item-active")}},e.prototype.removeActiveStation=function(){this.$cont.find(".rup-stations__item-active").removeClass("rup-stations__item-active"),this.$cont.find(".rup-stations__item-active-parent").removeClass("rup-stations__item-active-parent"),this.$cont.find(".rup-stations__item-substation-name").toggleClass("_hidden",!0),this.$cont.find(".rup-stations__item-substation-name").text("")},e.prototype.onItemArrowClick=function(t){const e=$(t.currentTarget).parent();if(e.hasClass("expanded"))return this.toggleItems(e,!1),void t.stopPropagation();$("body").trigger("click"),$("body").one("click",this.onBodyClick.bind(this)),this.toggleItems(e),t.stopPropagation()},e.prototype.toggleItems=function(t,e){if(t.toggleClass("expanded",e),t.find(".rup-stations__item-arrow").toggleClass("active",e),t.find(".rup-stations__item-substation-name").toggleClass("_hidden",e),1===t.length&&t.hasClass("expanded")){const e=t.find(".rup-stations__item-children"),i=t.parent();i[0].getBoundingClientRect().height-(t[0].getBoundingClientRect().top-i[0].getBoundingClientRect().top)<=e.outerHeight()&&e.addClass("rup-stations__item-children-up")}},e.prototype.onBodyClick=function(){this.toggleItems(this.$item,!1)},e.prototype.destroy=function(){this.$item.off("click",this.onItemClick),this.$itemArrow.off("click",this.onItemArrowClick),t.off(Mu.PlayFlow.EVENT_SOURCE,this.setStationFromSeq)},e}())},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("scrolling-side-navigation",(s=(a="scrolling-side-navigation")+"__item",o=a+"__nav-item",(r=function(){}).init=function(){},r.prototype.init=function(){this.animated=!1,this.scroll={scrolling:!1,scrollCheckTimer:null,resetTimer:null,reset:function(){this.scrolling=!1}},this.wrapper=this.container,this.$cont=$(this.container),this.nav={parent:this.$cont.find(".scrolling-side-navigation__nav")[0]},this.nav.elem=this.nav.parent.lastElementChild.cloneNode(!1),this.nav.parent.innerHTML="",this.items={elem:this.$cont.find("."+s),active:0,oldActive:0,callbacks:[]};for(var t=0;t<this.items.elem.length;t++)this.items.elem[t].addEventListener("transitionend",this.endAnimation.bind(this),!0),this.setClass(this.items.elem[t],[s,"fade"]),this.items.callbacks[t]=new Function(this.items.elem[t].getAttribute("data-callback")),this.nav.parent.appendChild(this.nav.elem.cloneNode(!1)),this.nav.parent.lastElementChild.addEventListener("click",this.click.bind(this,t),!0);this.nav={elem:this.$cont.find("."+o)},this.wrapper.addEventListener("mousewheel",this.mouseWheel.bind(this),!0),this.wrapper.addEventListener("DOMMouseScroll",this.mouseWheel.bind(this),!0),setTimeout(this.showElement.bind(this,0))},r.prototype.endAnimation=function(){this.items.active!==this.items.oldActive&&this.animated&&this.setClass(this.items.elem[this.items.oldActive],[s,"fade"]),this.animated=!1},r.prototype.setActive=function(t){this.items.active===t||this.animated||(this.showElement(t),this.hideElement(this.items.active),this.items.oldActive=this.items.active,this.items.active=t)},r.prototype.showElement=function(t){this.animated=!0,this.setClass(this.items.elem[t],[s,"fade","animated","show"]),this.setClass(this.nav.elem[t],[o,"scrolling-side-navigation__nav-item-active"]),this.items.callbacks[t]()},r.prototype.hideElement=function(t){this.setClass(this.items.elem[t],[s,"fade","animated","hide"]),this.setClass(this.nav.elem[t],[o])},r.prototype.click=function(t){this.setActive(t)},r.prototype.mouseWheel=function(t){var e,i=((t=t||event).wheelDelta?t.wheelDelta/-120:t.detail/3)||0;t.preventDefault(),this.scroll.scrollCheckTimer=this.setTimer(this.scroll.reset.bind(this.scroll),150,this.scroll.scrollCheckTimer),this.animated||this.scroll.scrolling||!i||(this.scroll.scrolling=!0,this.scroll.resetTimer=this.setTimer(this.scroll.reset.bind(this.scroll),2e3,this.scroll.resetTimer),e=Math.abs(i)/i,this.setActive(this.chooseSlide(e)))},r.prototype.chooseSlide=function(t){var e=this.items.active+t,i=this.items.elem.length;return e<0?e=i-1:e>=i&&(e=0),e},r.prototype.setClass=function(t,e){t.className=e.join(" ")},r.prototype.setTimer=function(t,e,i){return i&&clearTimeout(i),setTimeout(t,e)},r))},function(t,e,i,n){Mu.blocks.register("serp-hint",function(){var t,e,i=function(){this.state=0};return i.init=function(i){t=i.get("pages"),e=i.get("navigation")},i.prototype.init=function(){this.$cont=$(this.container),this.$content=this.$cont.find(".serp-hint__content"),this.onLoaded=this.onLoaded.bind(this),this.onUnloading=this.onUnloading.bind(this),this.$cont.on("click",".serp-hint__remove",this.onCloseClick.bind(this)),t.on("loaded",this.onLoaded.bind(this)),t.on("loading",this.onLoading.bind(this)),t.on("unloading",this.onUnloading.bind(this))},i.prototype.toggle=function(t){var e=!t;this.$cont.toggleClass("_hidden",e),this.state=e?0:2},i.prototype.showOnReady=function(e){var i=$(Mu.render("serp-hint__content",e));this.data=e,this.$content.replaceWith(i),this.$content=i,this.state=1,t.loading||this.onLoaded()},i.prototype.onCloseClick=function(){this.onUnloading()},i.prototype.onLoaded=function(){1===this.state&&this.toggle(!0)},i.prototype.onUnloading=function(){2===this.state&&this.toggle(!1)},i.prototype.onLoading=function(){1===this.state&&t.loading&&"404"===t.loading.name&&(e.navigateTo("/search?text="+this.data.suggest),this.state=2)},i}())},function(t,e,i,n){var a,s,o;i(543),i(545),Mu.blocks.register("share",(s=i(544),(o=function(){}).inherit(s),o.init=function(t){s.init.call(o,t),a=t.get("blocks").get("iframe-config")},o.prototype.initPopup=function(){this.popup||(s.prototype.initPopup.call(this),this.$input=this.$popupDom.find(".share__input"),this.$footer=this.$popupDom.find(".share__footer"),this.$popupDom.on("click",".share__button-code",this.onShareConfig.bind(this)),document.queryCommandSupported("copy")||this.$popupDom.on("click",".share__button-link",this.onButtonClick.bind(this,"share__link")),this.$input.on("mouseup",function(){this.$input.select()}.bind(this)),this.$infoContainer=this.$footer.find(".jsInfo"))},o.prototype.onVoteClick=function(){this.isDisabled||s.prototype.onVoteClick.call(this)},o.prototype.onPopupClose=function(){s.prototype.onPopupClose.call(this),this.currentTarget&&this.toggleFooter(this.currentTarget,null,!1)},o.prototype.onButtonClick=function(t,e){var i=e.currentTarget;this.toggleFooter(i,t),this.popup.show(),this.currentTarget!==i&&this.toggleButton(this.currentTarget,!1),this.currentTarget=i},o.prototype.toggleButton=function(t,e){var i=$(t);return e=void 0===e?!i.hasClass("button_checked"):e,i.toggleClass("button_checked",e),e},o.prototype.toggleFooter=function(t,e,i){if(i=this.toggleButton(t,i),"share__code"===e){this.$footer.addClass("share__footer_setup");var n=this.getShareInfo();this.$input.val(a.buildConfig(n.type,n.id,n.content).code)}else e&&(this.$footer.removeClass("share__footer_setup"),this.$input.val(Mu.render(e,this.data)));return i&&(this.$input.focus(),this.$input.select()),this.$footer.toggleClass("_hidden",!i),i},o.prototype.getShareInfo=function(){if(this.data.track){var t=this.data.track.albums;return t=(t=t&&t[0])&&t.id,{type:"track",id:this.data.track.id+(t?"/"+t:""),content:Mu.render("share__code",this.data)}}return this.data.album?{type:"album",id:this.data.album.id,content:Mu.render("share__code",this.data)}:this.data.playlist?{type:"playlist",id:this.data.playlist.owner.login+"/"+this.data.playlist.kind,content:Mu.render("share__code",this.data)}:void 0},o.prototype.onShareConfig=function(){var t=this.getShareInfo();a.show(t.type,t.id,t.content),this.toggle()},o))},function(t,e,i,n){var a,s,o;Mu.blocks.register("share_counters",(a=i(544),s={},(o=function(){}).inherit(a),o.init=function(t){a.init.call(o,t)},o.startWatcher=function(t){s[t.blockId]=t,o.retries=10,o.intervalId||(o.intervalId=setInterval((function(){o.retries--;var t=0;for(var e in s)if(s.hasOwnProperty(e)){var i=s[e];i.onCountersRetry(),t+=i.pendingCounters,0!=o.retries&&0!=i.pendingCounters||(i.onCountersLoaded(),delete s[e])}0!=o.retries&&0!=t||(clearInterval(o.intervalId),o.intervalId=null)}),500))},o.prototype.init=function(){a.prototype.init.call(this),this.blockId=this.$cont.attr("data-b"),this.$label=this.$cont.find(".button__label").toggleClass("_hidden",!0),this.counter=0,this.sharedProviders=[],this.initPopup()},o.prototype.initPopup=function(){this.popup||(this.data=$.extend({noLink:!0,permanent:!0,shareParams:{theme:{services:"vkontakte,odnoklassniki",counter:!0,lang:this.data.shareLang||Mu.settings.lang||"ru",limit:5,size:"m",bare:!1},hooks:{onready:this.onReady.bind(this),onshare:this.onShare.bind(this)}}},this.data),a.prototype.initPopup.call(this))},o.prototype.onReady=function(){o.startWatcher(this)},o.prototype.onShare=function(t){-1==this.sharedProviders.indexOf(t)&&(this.sharedProviders.push(t),setTimeout(function(){this.counter++,this.updateCounter(),this.triggerEvent({type:"share.shared"})}.bind(this),1e3))},o.prototype.onCountersLoaded=function(){this.popup&&(0==this.counter&&this.data.initValue&&(this.counter=this.data.initValue),this.updateCounter(),this.$label.toggleClass("_hidden",!1),this.triggerEvent({type:"share.loaded",count:this.counter}))},o.prototype.onCountersRetry=function(){if(this.$popupDom){var t=this.$popupDom.find(".ya-share2__counter:not(.ya-share2__counter_loaded)");this.pendingCounters=t.length,t.each(function(t,e){var i=parseInt(e.innerText);isNaN(i)||(this.counter+=i,this.pendingCounters--,$(e).toggleClass("ya-share2__counter_loaded",!0))}.bind(this))}else this.pendingCounters=0},o.prototype.updateCounter=function(t){isNaN(t)||(this.counter=t),this.$label.text(this.counter)},o.prototype.getCounter=function(){return this.counter},o.prototype.setOpen=function(t){a.prototype.setOpen.call(this,t),this.sharedProviders.length&&(this.$cont.hasClass("d-button")?this.$cont.toggleClass("active",!0):this.$cont.toggleClass("button_checked",!0))},o))},function(t,e,i,n){var a,s,o,r,l=function(){};l.init=function(t){a=$(window),s=t.get("blocks"),o=t.get("auth"),r=t.get("metrika"),this.domDelegate("click",(function(t){var e=s.forElem(this,"share-container");return e||(e=s.forElem(this)),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e&&"inline"!==e.data.type&&!e.$dButton.is(".disabled")&&e.onVoteClick(),!1})),l.$shareHolder||(l.$shareHolder=$("<div class='share__holder'/>").appendTo(document.body))},l.prototype.init=function(){this.$cont=$(this.container),this.$dButton=this.$cont.find(".d-button"),this.offset=void 0===this.data.offset?12:this.data.offset,this.data.isLoggedIn=o.isLoggedIn(),this.isDisabled=this.$cont.hasClass("button_disabled")},l.prototype.initPopup=function(){this.popup||(this.$track=this.$cont.closest(".d-track"),this.$popupDom=$(Mu.render("share__popup",this.data)).appendTo(l.$shareHolder),this.$popupTail=this.$popupDom.find(".share__tail-wrapper"),this.$yaShare=this.$popupDom.find(".share__yashare"),this.track=Mu.blocks.forElem(this.$track.get(0),"d-track"),this.popup=new(Mu.blocks.get("popup"))(this.$popupDom[0],{position:{my:"center top",at:"center bottom",of:this.$dButton.length?this.$dButton:this.$cont},fixed:!!this.data.fixed,toggable:!0}),this.popup.on("hide",this.onPopupClose.bind(this)),this.popup.on("show",this.onPopupShow.bind(this)),s.initPendingBlocks(this.$popupDom[0]))},l.prototype.onVoteClick=function(){this.isDisabled||(this.initPopup(),this.toggle())},l.prototype.onPopupShow=function(){this.setOpen(!0);var t,e=this.popup.getOffset();t=this.$dButton.length?this.$dButton.offset().top-a.scrollTop():this.$cont.offset().top-a.scrollTop();var i,n,s=e.top,o=e.left;this.$dButton.length?(i=this.$dButton.outerWidth(),n=this.$dButton.offset().left):(i=this.$cont.outerWidth(),n=this.$cont.offset().left),this.position=t<s?1:0,this.$popupDom.toggleClass("share__popup_top",0===this.position),this.$popupDom.toggleClass("share__popup_bottom",1===this.position),this.$popupDom.css({top:s+(0===this.position?-1:1)*this.offset}),this.$popupTail.removeAttr("style"),this.$popupTail.css({left:n-o+Math.ceil(i/2)}),"hover"!==this.data.theme||this.data.track||r.goal("shareFromHover"),this.triggerEvent({type:"share.popup-showed"})},l.prototype.onPopupClose=function(){this.setOpen(!1),this.data.permanent||this.destroy(),this.triggerEvent({type:"share.popup-hided"})},l.prototype.toggle=function(){this.popup&&this.popup.toggle()},l.prototype.destroy=function(){this.popup&&(this.$popupDom.remove(),this.$popupDom=null,this.popup=null)},l.prototype.setDisabled=function(t){if(this.isDisabled=this.data.disabled=t,this.$dButton.length){var e=s.forElem(this.$dButton[0]);e&&e.toggleDisabled(t)}else this.$cont.toggleClass("button_disabled",t);this.$cont.attr("title",Mu.render("share__tooltip-text",this.data)),this.$yaShare&&this.$yaShare.toggle(!t)},l.prototype.setOpen=function(t){this.$cont.toggleClass("share_open",t),this.$dButton.length?this.$dButton.toggleClass("active",t):this.$cont.toggleClass("button_checked",t),this.track&&this.track.setActive(t),this.popup&&t!==this.popup.isOpen&&this.popup.toggle()},t.exports=l},function(t,e,i,n){var a;Mu.blocks.register("share__buttons",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$yaShare=this.$cont.find(".share__yashare"),this.initShare(this.$yaShare[0])},a.prototype.initShare=function(t){var e=this.data.title||Mu.render("share__title_unescaped",this.data),i=this.data.link||Mu.render("share__link",this.data),n=this.data.size||"m",a=this,s=this.data&&this.data.shareParams||{};"undefined"!=typeof Ya&&Ya.share2&&Ya.share2(t,$.extend(!0,{content:{url:i,title:e},theme:{services:a.data.services||"vkontakte,twitter,odnoklassniki",counter:!0,lang:Mu.settings.lang||"ru",limit:5,size:n,bare:!1},contentByService:{vkontakte:{title:e&&this.data.hashTags?e+this.data.hashTags:e}},hooks:{onshare:function(t,e){a.triggerEvent({type:"share.shared",data:{service:t,instance:e}})},onready:function(t){a.triggerEvent({type:"share.loaded",data:{instance:t}})}}},s))},a))},function(t,e,i,n){const a=i(121),s=i(248),o=i(547);Mu.blocks.register("sidebar__placeholder",function(){let t,e,i,n;const r=function(){};return r.init=function(a){t=a.get("auth"),e=a.get("blocks"),i=a.get("dataSrc"),n=a.get("pages")},r.prototype.init=function(){this.$cont=$(this.container),this.$sidebarAds=this.$cont.find(".sidebar__ads"),n.on("loading",()=>{this.checkAds().then(this.toggle.bind(this))})},r.prototype.checkAds=function(){return t.user.premium||a()?Promise.resolve(!1):s.shouldHideSidebar(i).then(t=>!t)},r.prototype.toggle=function(t){t?this.showAds():this.hideAds()},r.prototype.showAds=function(){this.inited?this.$ads.removeClass("ads-block_hidden"):(this.$sidebarAds.replaceWith(o()),e.initPendingBlocks(this.$cont[0]),this.$ads=this.$cont.find(".ads-block"),this.inited=!0)},r.prototype.hideAds=function(){this.inited&&this.$ads.addClass("ads-block_hidden")},r}())},function(t,e,i,n){t.exports=function(t){return""+Mu.render("ads-block",{type:"sidebar-closed",lazy:!0,class:"ads-block_side",settings:{megabanner:!0,ru:{blocks:["R-I-136563-11","R-I-136563-19"],adblocks:["R-I-164922-5","R-I-164922-11"]},uk:{blocks:["R-I-136563-10","R-I-136563-20"],adblocks:["R-I-164922-6","R-I-164922-12"]},enabled:!0,order:50}})}},function(t,e,i,n){class a{constructor(){this.disable=()=>{},this.promise=Promise.resolve()}enable(){this.promise=new Promise(t=>this.disable=t)}}Mu.blocks.register("single-queue",function(){let t,e,n,s,o,r,l;const c=new a,d=i(347),u=function(){Mu.eventize(this)};return u.init=function(i){t=i.get("seq"),e=i.get("auth"),n=i.get("blocks").get("notify"),s=i.get("dataSrc"),o=i.get("adapter")},u.prototype.initSingleQueue=function(){this._onStored=this._onStored.bind(this),this._onRestored=this._onRestored.bind(this),t.on(Mu.PlayFlow.EVENT_STORED,this._onStored),t.on(Mu.PlayFlow.EVENT_RESTORED,this._onRestored)},u.prototype.destroy=function(){t.off(Mu.PlayFlow.EVENT_STORED,this._onStored),t.off(Mu.PlayFlow.EVENT_RESTORED,this._onRestored)},u.prototype.isAvailableForFreeUser=function(){return e.isLoggedIn()&&!e.isPremium()},u.prototype.isAvailable=function(){return this.isAvailableForFreeUser()||e.isPremium()},u.prototype.isQueueAvailableForListening=function(){return e.isLoggedIn()&&e.isPremium()},u.prototype._onStored=function(e,i){if(this.isAvailable()&&o.isPlaying()){const n=e.queue&&"radio"===e.queue.type&&r&&(e.queue.queueId!==r.queueId||e.queue.type!==r.type),a=e.oldQueueId&&e.queue.queueId!==e.oldQueueId;if(e.queue&&!e.queue.queueId||n||a||i){const i=Object.assign({},e.queue);i.tracks=o.getTracks(!0,!0),c.enable(),this.saveQueue(i,e.isInteractive).then((function(i){return i.id&&t.setQueueId(i.id),r=e.queue,r.queueId=i.id,localStorage.setItem("currentQueue",i.id),c.disable(),i.id}),(function(){}))}else{const t=window&&window.castPlayer&&window.castPlayer.connected;this.updateQueue(e.queue,e.isInteractive,t)}}},u.prototype._onRestored=function(t){l=t&&t.queueId||l,this.isAvailable()&&c.promise.then(this.loadQueues).then(function(t){t&&t.length>0&&l!==t[0].id&&this.syncQueue(t[0].id)}.bind(this))},u.prototype.loadQueues=function(){return s.get("single-queue",{action:"get"}).then((function(t){let e=[];return t.queues&&t.queues.length>0&&(e=t.queues.sort((function(t,e){return new Date(t.modified)<new Date(e.modified)}))),e}))},u.prototype.loadQueueById=function(t){return s.get("single-queue",{action:"get",queueId:t})},u.prototype.syncQueue=function(e){return this.loadQueueById(e).then(function(e){if(!this.isQueueAvailableForListening())return;if(e&&e.context&&"unavailable"===e.context.type.toLowerCase())return n.show("singleQueueUnavailable"),void this.trigger("hide");r=e;const i=this.singleQueueToApiQueue(r);i&&(i.restored=!0,t.initSource(i))}.bind(this))},u.prototype.saveQueue=function(t){const e=this.apiQueueToSingleQueue(t);return e?s.post("single-queue",{action:"set",queue:JSON.stringify(e),isInteractive:!0}):Promise.reject(new Error("Empty queue"))},u.prototype.updateQueue=function(t,e,i){const a=localStorage.getItem("currentQueue");if(t)return t&&(t.queueId&&a!==t.queueId||t.id&&a!==t.id)?this._onStored({queue:t},!0):s.post("single-queue",{action:"update",queueId:t.queueId||t.id,index:t.index||t.currentIndex,isInteractive:e}).then(t=>{t.mostRecentQueue||i||(o.pause(),n.show("musicStoppedOnThisDevice"))}).catch(()=>{})},u.prototype.singleQueueToApiQueue=function(t){const e={queueId:t.id,index:t.currentIndex||0,config:{},context:{from:t.from,href:"/"},tracks:[]};let i,n,a;switch(t.context&&t.context.type){case"album":e.type="album",e.config.id=t.context.id,e.context.album=e.config,e.context.title=t.context.description,e.context.href="/album/"+e.context.album.id,e.context.id="album:"+e.context.album.id;break;case"artist":e.type="artist",e.config.id=t.context.id,e.context.artist=e.config,e.context.title=t.context.description,e.context.href="/artist/"+e.context.artist.id,e.context.id="artist:"+e.context.artist.id;break;case"playlist":e.type="playlist",i=t.context.id.split(":"),e.config.id=i[1],e.config.owner={uid:i[0]},e.context.playlist={kind:e.config.id,owner:e.config.owner.uid},e.context.title=t.context.description,e.context.href="/users/"+i[0]+"/playlists/"+i[1],e.context.id="playlist:"+i[0]+":"+i[1];break;case"radio":e.type="radio",n=t.context.id.split(":"),e.config={available:!0,storeAfter:1,storeBefore:1,type:n[0],tag:n[1]},e.context.id=e.config,e.context.station={name:t.context.description};break;case"feed_event":a=d.getEventTexts({type:t.context.id.replace("_","-")}),e.type="common",e.context.href="/",e.context.title=a.title,e.context.id=t.context.id;break;case"genre_top":a=d.getEventTexts({type:t.context.type.replace("_","-"),genre:t.context.id}),e.type="common",e.context.href="/",e.context.title=a.title,e.context.id=t.context.id;break;case"metatag":e.type="common",e.context.href="/genre/"+t.context.id,e.context.title=t.context.description,e.context.id=t.context.id;break;case"search":e.type="common",e.context.href="/search?text="+t.context.description,e.context.title=t.context.description,e.context.id="search:"+t.context.description;break;case"unavailable":return null;default:e.type="common",t.context.id&&(e.context.id=t.context.type+":"+t.context.id)}return t.tracks&&t.tracks.length>0&&(e.tracks=t.tracks.map((function(t){return t.from?(t.id=t.trackId,delete t.trackId,t.isNotLoaded=!0):t=t.trackId+(t.albumId?":"+t.albumId:""),t}))),"radio"===e.type||e.tracks&&e.tracks.length?e:null},u.prototype.apiQueueToSingleQueue=function(t){const e={currentIndex:t.index||0,context:{},tracks:[],from:t.context.from};let i,n,a;switch(t.type){case"album":e.context.type="album",e.context.id=t.config.id,e.context.description=t.context.title;break;case"artist":e.context.type="artist",e.context.id=t.config.id,e.context.description=t.context.title;break;case"playlist":e.context.type="playlist",e.context.id=t.config.uid+":"+t.config.id,e.context.description=t.context.title;break;case"radio":e.context.type="radio",e.context.id=t.config.type+":"+t.config.tag,e.context.description=t.context.station.name;break;case"common":if(i=t.context.id&&t.context.id.toString()||"",n=i.split(":"),n&&n.length>0)if(d.isLayoutType({type:n[0]}))"genre-top"===n[0]?(e.context.type=n[0].replace("_","-"),e.context.id=n[1]):(e.context.type="feed_event",e.context.id=n[0].replace("_","-"),e.context.description=n[2]);else if("metatag"===n[0])e.context.type="metatag",e.context.id=n[1];else if("search"===n[0]){try{a=JSON.parse(i.replace(/^search:/,"")),a=a.text||""}catch(t){a=""}e.context.type="search",e.context.description=a}else e.context.type="various";else e.context.type="various";break;case"track":default:e.context.type="various"}return t.tracks&&t.tracks.length>0&&(e.tracks=t.tracks.map((function(e){if("string"==typeof e){const i=e.split(":");return{trackId:i[0],albumId:i[1],from:t.context.from}}const i=e.albumId||e.albums&&e.albums.length>0&&e.albums[0].id,n={from:e.from||t.context.from,trackId:e.id};return i&&(n.albumId=i),n}))),"radio"===e.context.type||e.tracks&&e.tracks.length?e:null},u}())},function(t,e,i,n){Mu.blocks.register("snowfall",function(){var t,e=!1,i=function(t){this.node=t},n={density:1,snowflakeMinSize:1,snowflakeMaxSize:15,rootSelector:".centerblock-wrapper"};return i.init=function(e){t=e.get("pages")},i.prototype.init=function(){try{window.navigator&&(e=-1==window.navigator.userAgent.toLowerCase().indexOf("msie"))}catch(t){e=!1}this.loaded=!1,this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.reload=function(){this.loaded&&(this.loaded=!1,this.stop(),this.start())}.bind(this),t.on("loaded",this.start),t.on("unloaded",this.stop)},i.prototype.start=function(){this.data=$.extend({},n,this.data),this.$cont=$(this.container),this.$root=this.$cont.closest(this.data.rootSelector),this.rootWidth=this.$root.width(),this.rootHeight=this.$root.height(),this.mustBeStopped=!1,this.snowflakes=this.generateSnowflakes(),e&&this.step(),this.loaded=!0},i.prototype.destroy=function(){t.off("loaded",this.start),t.off("unloaded",this.stop),$(window).off("resize",this.reload),this.stop(),this.undelegateAll()},i.prototype.generateSnowflakes=function(){for(var t=[],e=Math.round(this.rootWidth*this.rootHeight/1e4*this.data.density),i=0;i<e;i++){var n=this.getRandomSnowflake(this.rootWidth,this.rootHeight);this.initSnowflake(n),t.push(n)}return t},i.prototype.getRandomSnowflake=function(t,e){return{position:{left:Math.round(Math.random()*t),top:Math.round(Math.random()*e)},size:this.data.snowflakeMinSize+Math.round(Math.random()*this.data.snowflakeMaxSize),speedLeft:Math.round(5*Math.random()+1),speedTop:Math.round(3*Math.random()+1),speedMelting:Math.round(3*Math.random()),color:"#ffffff",rad:Math.random(),radStep:.1*Math.random(),$object:null}},i.prototype.initSnowflake=function(t){t.$object=$(Mu.render("snowfall__snowflake",{})),this.updateSnowflake(t),this.$cont.append(t.$object)},i.prototype.updateSnowflake=function(t){t.$object.css({left:t.position.left,top:t.position.top,background:t.color,width:t.size,height:t.size})},i.prototype.step=function(){if(!this.mustBeStopped){var t=this;setTimeout((function(){requestAnimationFrame(t.step.bind(t))}),60)}for(var e=0;e<this.snowflakes.length;e++){var i=this.snowflakes[e];i.position.top-i.size>=this.rootHeight||i.size<=1?(i.$object.remove(),i=this.getRandomSnowflake(this.rootWidth,0),this.initSnowflake(i),this.snowflakes[e]=i):(i.rad+=i.radStep,i.position.left+=Math.round(Math.cos(Math.PI*i.rad)*i.speedLeft),i.position.top+=i.speedTop,this.updateSnowflake(i))}},i.prototype.stop=function(){this.mustBeStopped=!0,this.clear()},i.prototype.clear=function(){if(this.snowflakes){for(var t=0;t<this.snowflakes.length;t++){this.snowflakes[t].$object.remove()}this.snowflakes=[]}},i}())},function(t,e,i,n){var a,s,o=i(551);Mu.blocks.register("stream-badge",((s=function(){Mu.eventize(this)}).init=function(t){a=t.get("seq")},s.prototype.init=function(){this.prepareData(),this.$cont=$(this.container),this.$action=this.$cont.find(".stream-badge__action"),this.onRefresh=this.refresh.bind(this),this.onClick=this.onClick.bind(this),this.$cont.on("click",this.onClick),a.on(Mu.PlayFlow.EVENT_SHOW_PLAY,this.onRefresh),a.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_SOURCE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_CHANGE,this.onRefresh),this.refresh(),this.data.autoplay&&this.play()},s.prototype.prepareData=function(){o.prepareData(this.data)},s.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation(),this.toggle()},s.prototype.toggle=function(){this.isPlaying()?this.pause():this.play()},s.prototype.refresh=function(){this.isPlaying()?this.$cont.addClass("stream-badge_active"):this.$cont.removeClass("stream-badge_active")},s.prototype.play=function(){this.isAvailable()&&(a.playFmStream(this.getContext(),this.getConfig(),!0),this.trigger("played"))},s.prototype.pause=function(){this.isPlaying()&&(a.pause(),this.trigger("paused"))},s.prototype.isAvailable=function(){return this.data.available&&this.data.streamUrl},s.prototype.isPlaying=function(){var t=a.getConfig();return a.isPlaying()&&t.url===this.data.streamUrl},s.prototype.getConfig=function(){return{url:this.data.streamUrl,radioId:this.data.radioId}},s.prototype.getContext=function(){return{title:this.data.title,radioId:this.data.radioId,from:"web-fm_page-stream-main"}},s))},function(t,e,i,n){t.exports={prepareData:function(t){return t&&t.streamUrl&&(t.streamUrl=t.streamUrl.replace(/^((?:http:|https:)?\/\/)(.*)/,"//$2")),t.showRadioButton=!1,t}}},function(t,e,i,n){var a,s;Mu.blocks.register("subhead",((s=function(){}).init=function(t){a=t.get("layout")},s.prototype.init=function(){this.$cont=$(this.container)},s.prototype.show=function(t){t&&this.$cont.html(t),this.$cont.toggleClass("subhead_hidden",!1),a.moveSidebar()},s.prototype.hide=function(t){t||this.$cont.empty(),this.$cont.toggleClass("subhead_hidden",!0),a.moveSidebar()},s))},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("subscribe",((r=function(){}).init=function(t){a=t.get("auth"),s=t.get("blocks").get("notify"),o=t.get("library"),this.domDelegate("click",".subscribe__button",(function(t){Mu.blocks.forElem(this,"subscribe").onSubscribeClick(t)}))},r.prototype.init=function(){this.$cont=$(this.container)},r.prototype.repaint=function(t){void 0===t&&(t=o.isFavorite(this.data));var e=Mu.render("subscribe__button",$.extend(this.data,{subscribed:t}));this.$cont.find(".subscribe__button").replaceWith(e)},r.prototype.onSubscribeClick=function(){var t=this.data;if(a.isLoggedIn()){var e=!o.isFavorite(t),i={act:e?"add":"remove",ref:!0,userId:t.user.uid};o.change(i),this.repaint(e)}else s.show("authRequired")},r))},function(t,e,i,n){var a,s,o;Mu.blocks.register("subscribe-to-user",((o=function(){}).init=function(t){a=t.get("auth"),s=t.get("library")},o.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click","button",this.onClick.bind(this)),this.data.user=this.data.user||{},this.data.user.subscribed=s.isFavorite({user:this.data.user}),this.$cont.toggleClass("subscribe-to-user_subscribed",this.data.user.subscribed)},o.prototype.onClick=function(){var t=this;if(!a.isLoggedIn())return a.showAuthForm();var e=!s.isFavorite({user:t.data.user}),i={act:e?"add":"remove",ref:!0,userId:t.data.user.uid};s.change(i).then((function(i){i&&i.success&&(t.data.user.subscribed=e,t.$cont.toggleClass("subscribe-to-user_subscribed",e))}))},o))},function(t,e,i,n){const a=i(556);var s=i(557);Mu.blocks.register("teaser",function(){var t,e,i,n=function(){};return n.init=function(n){t=n.get("dataSrc"),e=n.get("pages"),i=n.get("metrika")},n.prototype.init=function(){this.$cont=$(this.container),e.on("loaded",this.refresh.bind(this))},n.prototype.refresh=function(){if(a())this.$cont.hide();else{this.$cont.show();var e=location.pathname;if("/search"===e){var i={};location.search.replace("?","").split("&").forEach((function(t){var e=t.split("=");i[e[0]]=decodeURIComponent(e[1])})),e+="?text="+i.text}t.get("tblock",{page:e}).then(this.onReady.bind(this)).catch(t=>console.log(t))}},n.prototype.onReady=function(t){this.data=t||{};var e=$(s(this.data));this.$cont.replaceWith(e),this.$cont=e,this.$cont.on("click",this.onClick.bind(this)),this.sendCount("show")},n.prototype.onClick=function(){this.data&&this.data.teaser&&(this.sendCount("click"),t.post("teaser-visit",{teaserId:this.data.teaser.id}))},n.prototype.sendCount=function(t){if(this.data&&this.data.teaser){var e={};e[this.data.teaser.id]=t,i.count({editors_teasers:e})}},n}())},function(t,e,i,n){const a=i(261);t.exports=()=>{if("undefined"!=typeof window){const e="non-music"!==(Mu.pages&&Mu.pages.current||{}).name,i=!Mu.experiments.webSidebarBanner||"default"===Mu.experiments.webSidebarBanner;if(!e||i)return!1;const n=Mu.Storage.create("localStorage"),s=Mu.authData.user.uid,o=(JSON.parse(n.getItem("teaser-nonmusic"))||[]).find(t=>t.uid===s);if(!o)return!0;const r=a()&&o.numberOfPageShows<1,l=o.numberOfBannerShows<=3,c=!o.lastTimestamp||!(o.numberOfPageShows>=1)||null!=(t=o.lastTimestamp)&&Date.now()-t>864e5;return e&&l&&(r||c)}var t;return!1}},function(t,e,i,n){var a,s;t.exports=(a=i(558),s=i(326),function(t){var e,i="";return t.teaser&&t.teaser.color&&(e="background-color:"+t.teaser.color+";"),t.teaser&&t.teaser.bold&&(e+=" font-weight: bold;"),i+='<div class="teaser" data-b="'+__escape(Mu.dotBlockRoot(t,"teaser",!0))+'">',t.teaser&&t.teaser.url?(i+='<a class="teaser__content',t.teaser.content&&t.teaser.content.text&&(i+=" teaser__content_type_full deco-teaser"),i+='"href="'+t.teaser.url.trim()+'" style="'+__escape(e)+'"',s(t.teaser.url,"/")||(i+='target = "_blank"'),i+=">"+a(t)+'<img class="counter" src="https://clck.yandex.ru/counter/dtype=stred/pid=78/cid=72968/path='+__escape(t.teaser.id)+'/*" alt="" /></a>'):(i+='<div class="teaser__content',t.teaser||(i+=" teaser__content_empty"),t.teaser&&t.teaser.content.text&&(i+=" teaser__content_type_full"),i+='"style="'+__escape(e)+'">'+a(t)+"</div>"),i+="</div>"})},function(t,e,i,n){t.exports=function(t){var e="";return t.teaser&&t.teaser.content.text?(t.teaser.content.imageUrl&&(e+='<img class="teaser__img" src="'+t.teaser.content.imageUrl+'"/>'),e+='<div class="teaser__text"',t.teaser.textColor&&(e+=' style="color: '+__escape(t.teaser.textColor)+'; "'),e+=">"+t.teaser.content.text+"</div>"):t.teaser&&t.teaser.content.imageUrl&&t.teaser.content.imageUrl&&(e+='<img class="teaser__img" src="'+t.teaser.content.imageUrl+'"/>'),e}},function(t,e,i,n){const a=i(556);function s(t){return null!=t&&Date.now()-t>864e5}t.exports=class{init(t){this.Auth=t.get("auth"),this.Pages=t.get("pages"),this.Navigation=t.get("navigation"),this.Storage=Mu.Storage.create("localStorage"),this.metrika=t.get("metrika"),this.DataSrc=t.get("dataSrc"),this.requestsData=[],this.teaserConfigs={},this.$cont=$(this.container),this.$mainText=this.$cont.find(".teaser-nonmusic__text-main"),this.$button=this.$cont.find(".d-button-inner"),this.$buttonInner=this.$cont.find(".d-button__inner"),this.$cont.on("click",this.onBannerClick.bind(this)),this.userData=this.getUserTeaserInfo(),a()&&this.modifyUserData("show"),this.Pages.on("loaded",async()=>{if(a()){if(this.teaserConfigs=await this.getTeaserConfigs(),!((t=this.teaserConfigs)&&t.bgColor&&t.textColor&&t.textGuestUser&&t.textLoginUser&&t.title&&t.url&&t.button&&t.button.bgColor&&t.button.text&&t.button.textColor))return;this.makeTeaser(),this.showTeaser()}else"non-music"===Mu.pages.current.name&&this.modifyUserData(),this.hideTeaser();var t})}onBannerClick(){this.teaserConfigs.url&&this.Navigation.navigateTo(this.teaserConfigs.url,!0),this.modifyUserData("click"),this.hideTeaser()}modifyUserData(t){s(this.userData.lastTimestamp)&&(this.userData.numberOfBannerShows=0,this.userData.numberOfPageShows=0),this.userData.lastTimestamp=Date.now(),"show"===t?(this.userData.numberOfBannerShows=(this.userData.numberOfBannerShows||0)+1,this.metrika.goal("configurableBanner_show",{type:Mu.experiments.webSidebarBanner})):("click"===t&&this.metrika.goal("configurableBanner_click",{type:Mu.experiments.webSidebarBanner}),this.userData.numberOfPageShows=(this.userData.numberOfPageShows||0)+1),this.requestsData=this.requestsData.map(t=>t.uid===this.Auth.user.uid?this.userData:t),this.Storage.setItem("teaser-nonmusic",JSON.stringify(this.requestsData))}getUserTeaserInfo(){let t;try{this.requestsData=JSON.parse(this.Storage.getItem("teaser-nonmusic"))||[],t=this.requestsData.find(t=>t.uid===this.Auth.user.uid)}catch(t){this.requestsData=[]}return null!=t&&0!==Object.keys(t).length||(t={uid:this.Auth.user.uid,numberOfPageShows:0,numberOfBannerShows:0},this.requestsData.push(t)),this.Auth.isPremium()||(t.numberOfBannerShows=s(t.lastTimestamp)?0:t.numberOfBannerShows,t.numberOfPageShows=s(t.lastTimestamp)?0:t.numberOfPageShows),t}getTeaserConfigs(){return this.DataSrc.get("experiment",{key:"webSidebarBanner",value:Mu.experiments.webSidebarBanner},{nocache:!0})}makeTeaser(){this.$cont.css({"background-color":this.teaserConfigs.bgColor,color:this.teaserConfigs.textColor});const t=this.Auth&&this.Auth.isLoggedIn()?this.teaserConfigs.textLoginUser:this.teaserConfigs.textGuestUser;this.$mainText.html(t),this.$buttonInner.html(this.teaserConfigs.button.text),this.$button.css({"background-color":this.teaserConfigs.button.bgColor,color:this.teaserConfigs.button.textColor})}showTeaser(){this.$cont.addClass("teaser-nonmusic_visible")}hideTeaser(){this.$cont.removeClass("teaser-nonmusic_visible")}}},function(t,e,i,n){var a,s,o,r,l,c=i(108);Mu.blocks.register("theme",(r={mainElements:[],bar:[],logo:[]},(l=function(){}).init=function(t){o=t.get("adapter"),s=$(".centerblock-wrapper")},l.show=function(t){var e="black"===t.textColor?"theme_light":"theme_dark";a=$("<style type='text/css'>"+t.css+"</style>").appendTo("head"),(s=$(".centerblock-wrapper")).toggleClass("theme",!0).toggleClass(e,!0)},l.hide=function(){a&&(a.remove(),a=null,s.toggleClass("theme",!1).toggleClass("theme_dark",!1).toggleClass("theme_light",!1))},l.setThemeToRoot=function(){Mu.authData.user.uid||(Mu.settings.theme=window.localStorage.getItem("theme")||"default"),"black"===Mu.settings.theme&&($(document.body).addClass("theme theme_dark"),$(".page-root").addClass("theme theme_dark"),$(document.body).removeClass(c.current().classes()),c.setTheme("black")),$(document.body).addClass(c.current().classes())},l.checkActualTheme=function(){var t=Mu.settings;return!(!t.theme||"black"!==t.theme)&&t.theme},l.checkAndToggleThemesInPage=function(t){var e=this.checkActualTheme();!t&&e?this.themeOn(e):this.themeOff()},l.getElementsForToggleTheme=function(){0===r.mainElements.length&&(r.mainElements=$("body, .page-root, .head, .head__subnav.nav__subnav, .centerblock, .centerblock-wrapper"),r.bar=$(".bar"),r.logo=$(".head-kids__left .d-logo"))},l.themeOn=function(t){t=t||"black",this.getElementsForToggleTheme(),r.mainElements.addClass("theme "+t),r.logo.addClass("d-logo__white d-logo__white__"+Mu.settings.lang),$(document.body).removeClass(c.current().classes()),c.setTheme(t),$(document.body).addClass(c.current().classes()),o.changeTheme("black")},l.themeOff=function(){this.getElementsForToggleTheme(),r.mainElements.removeClass("theme theme_dark"),r.logo.removeClass("d-logo__white d-logo__white__"+Mu.settings.lang),$(document.body).removeClass(c.current().classes()),c.setTheme("white"),$(document.body).addClass(c.current().classes()),o.changeTheme("white")},l.themeBrandingOn=function(t){$("<style class=\"theme-branding-css\" type='text/css'>.body_branding.branding_on .popup.popup_page .loading,\n.body_branding.branding_on .popup.popup_page .popup-sequence__header-content,\n.body_branding.branding_on .loading.loading_page,\n.body_branding.branding_on .loading_sidebar,\n.body_branding.branding_on .loading.loading_popup,\n.body_branding.branding_on .iframe-config__overlay,\n.body_branding.branding_on .overlay_light-transparent,\n.body_branding.branding_on .serp-hint,\n.body_branding.branding_on .nb-island,\n.body_branding.branding_on .page-artist__promo-date .page-artist__promo-date-content,\n.body_branding.branding_on .page-artist__promo-date .page-genre__promo-date-content,\n.body_branding.branding_on .page-genre__promo-date .page-artist__promo-date-content,\n.body_branding.branding_on .page-genre__promo-date .page-genre__promo-date-content,\n.body_branding.branding_on .page-artist__more:active,\n.body_branding.branding_on .page-feed__more:active,\n.body_branding.branding_on .page-genre__more:active,\n.body_branding.branding_on .page-playlist__recommends,\n.body_branding.branding_on .artist__content,\n.body_branding.branding_on .centerblock .popup:not(.d-tooltip),\n.body_branding.branding_on .sidebar__placeholder .popup:not(.d-tooltip),\n.body_branding.branding_on .volume .popup,\n.body_branding.branding_on .head .popup,\n.body_branding.branding_on .footer .popup,\n.body_branding.branding_on .popup.popup_page .popup-sequence__close-wrapper,\n.body_branding.branding_on .popup.popup_page .tabs,\n.body_branding.branding_on .popup.popup_page .tabs__tab,\n.body_branding.branding_on .popup.popup_page .tabs__tab>span,\n.body_branding.branding_on .popup.popup_page,\n.body_branding.branding_on .nb-popup,\n.body_branding.branding_on ._nb-popup-tail:before,\n.body_branding.branding_on .add-to-popup__list,\n.body_branding.branding_on .ugc-loader__files .ugc-loader__file,\n.body_branding.branding_on .volume__control,\n.body_branding.branding_on .volume__bar {\n    background-color: "+t+";\n}\n\n.body_branding.branding_on .promo.promo_colored.promo_cover,\n.body_branding.branding_on .event__playlist,\n.body_branding.branding_on .page-mix__head-cont,\n.body_branding.branding_on .event.event_removed {\n    background-color: "+t+" !important;\n}\n\n.body_branding.branding_on .button2_disabled,\n.body_branding.branding_on .d-button.disabled .d-button-inner {\n    background-color: rgba(34, 34, 34, 0.05) !important;\n}\n\n.body_branding.branding_on .bar .volume__control:before,\n.body_branding.branding_on .bar .volume__control:after {\n    border-top-color: "+t+" ;\n}\n    border-right-color: "+t+" ;\n}\n\n.body_branding.branding_on .visibility-toggle__message:before {\n    border-bottom-color: "+t+";\n}\n\n.body_branding.branding_on .artist__content,\n.body_branding.branding_on .popup,\n.body_branding.branding_on .share__tail,\n.body_branding.branding_on .nb-popup,\n.body_branding.branding_on ._nb-popup-tail:before,\n.body_branding.branding_on .add-to-popup__list {\n    border-color: "+t+";\n}\n\n.body_branding.branding_on .promo.promo_colored.promo_cover,\n.body_branding.branding_on .event__playlist,\n.body_branding.branding_on .page-mix__head-cont {\n    border-color: "+t+" !important;\n}\n</style>").appendTo("head")},l.themeBrandingOff=function(){$(".theme-branding-css").remove(),this.setThemeToRoot()},l))},function(t,e,i,n){var a;Mu.blocks.register("tooltip",((a=function(){this.position=null,this.popup=null,this.$cont=null,this.$tail=null,this.tail=null,this._isOpen=!1,this._isInited=!1,Mu.eventize(this)}).init=function(){a.current=null,$(window).on("mousedown",(function(){a.current&&a.current.hide()}))},a.prototype.init=function(){this.trigger("init"),this.$cont=$(this.container),this.$tail=this.$cont.find(".tooltip__tail"),this.$parent=this.data.parent?this.$cont.parent().find(this.data.parent):this.$cont.parent(),this.$content=this.$cont.find(".tooltip__static-text"),this.$appendTo=this.data.appendTo?$(this.data.appendTo):null,this.$popup=this.data.popup?$(this.data.popup):null,this.data.autoInit&&(this.$parent.on("mouseenter",this.onShowTooltip.bind(this)),this.$parent.on("mouseleave",this.onHideTooltip.bind(this)))},a.prototype.initLayout=function(){this.trigger("initLayout"),this.position=this.position||this.data.position||{my:"center bottom",at:"center top-5"};var t=this.$parent.find(this.position.of);t=(t=t.size()?t:$(this.position.of)).size()?t:this.$parent,this.position.of=t,this.tail=this.tail||this.data.tail;var e=this.getTailClass(),i=this.tail&&this.tail.side;for(var n in this.$tail.toggleClass(e,!0),i)i.hasOwnProperty(n)&&this.$tail.css(n,i[n]);this._isInited=!0},a.prototype.show=function(){try{this.trigger("show"),a.current&&a.current.hide(),this._isInited||this.initLayout(),a.current=this,this.$appendTo&&this.$cont.appendTo(this.$appendTo),this.$cont.toggleClass("tooltip_hidden",!1),this.$cont.position(this.position),this._isOpen=!0}catch(t){console.log(t)}},a.prototype.hide=function(){this.trigger("hide"),a.current=null,this.$cont.toggleClass("tooltip_hidden",!0),this.$appendTo&&this.$cont.appendTo(this.$parent),this._isOpen=!1},a.prototype.isOpen=function(){return this._isOpen},a.prototype.setContent=function(t){this.$content.text(t),this.isOpen()&&this.show()},a.prototype.onShowTooltip=function(){var t=this;t.canOpen()&&(t.delay=setTimeout((function(){t.canOpen()&&t.show()}),500))},a.prototype.onHideTooltip=function(){this.delay&&(clearTimeout(this.delay),this.delay=null),this.hide()},a.prototype.getTailClass=function(){var t=/(left|right|top|bottom|center)/g;if(this.tail&&this.tail.className)return this.tail.className;if(!this.position||!this.position.my)return"tooltip__tail_bottom-left";var e=this.position.my.match(t),i=this.position.at.match(t);return e.length<2||i.length<2?"tooltip__tail_bottom-left":"tooltip__tail_"+(e[1]===i[1]?e.join("-"):e.reverse().join("-"))},a.prototype.canOpen=function(){return!this.data.checkedClass||!this.$parent.hasClass(this.data.checkedClass)},a))},function(t,e,i,n){var a,s=i(51),o=i(563),r=i(566),l=i(567),c=i(273),d="crackdown",u="preview",p="skip",h="artists",_="",m=[u],g=[u,_],f=[h];Mu.blocks.register("touch-player",function(){var t,e,i,n=function(){};return n.init=function(n){t=n.get("seq"),e=n.get("auth"),i=n.get("adapter"),n.get("layout"),a=ya.music.lib.trackId},n.prototype.init=function(){this.$cont=$(this.container),this.$header=this.$cont.find(".touch-player__header"),this.$seqPlaceholder=this.$cont.find(".touch-player__sequence-placeholder"),this.$barBelowWrap=this.$cont.find(".touch-player__bar-below"),this.$seqButton=this.$cont.find(".player-controls__btn_seq"),this.$track=this.$cont.find(".player-controls__track-container"),this.$controls=this.$cont.find(".player-controls__controls-container"),this.$advert=this.$cont.find(".touch-player-advert"),this.$noAds=this.$cont.find(".d-no-ads__button"),$(".page-root").on("click",".bar.bar_open",this.onBarOpenClick.bind(this)),$(".page-root").on("click",".button-play_full",this.onPlayClick.bind(this)),this.$cont.on("click",".player-controls__btn_seq",this.toggleSeq.bind(this)),this.$cont.on("click",".track__artists",t=>this.toggleSeq.call(this,t,h)),this.$cont.on("click",".js-fail-skip",this.failSkip.bind(this)),this.$cont.on("click",".touch-player__hide",this.toggleSeq.bind(this)),this.$noAds.on("click",this.onNoAdsClick.bind(this)),i.on(Mu.Adapter.CRACKDOWN_PAUSE,this.overrideType.bind(this,d)),i.on(Mu.Adapter.CRACKDOWN_UNPAUSE,this.overrideType.bind(this,_)),i.on(Mu.Adapter.PLAY_PREVIEW,this.overrideType.bind(this,u)),i.on(Mu.Adapter.PLAY_FULL,this.overrideType.bind(this,_)),t.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this.showTrack.bind(this)),t.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.toggleGenerative.bind(this)),t.on(Mu.PlayFlow.EVENT_SOURCE,this.toggleGenerative.bind(this)),t.on(Mu.PlayFlow.EVENT_CHANGE,this.toggleGenerative.bind(this)),i.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onAdvertStart.bind(this)),i.on(Mu.Adapter.EVENT_EMPTY_ADVERT,this.onAdvertEnd.bind(this)),this.openSeqIfNeeded=this.openSeqIfNeeded.bind(this),this.placeholderMode=null},n.prototype.toggleGenerative=function(){$(".bar").toggleClass("_hidden",t.isGenerative())},n.prototype.isOverridableType=function(t){return m.includes(t)},n.prototype.isForceOpen=function(t){return!g.includes(t)},n.prototype.isForceClose=function(t){return f.includes(t)},n.prototype.canOverride=function(t){return t===_||!this.overridedType||this.isOverridableType(this.overridedType)},n.prototype.overrideType=function(t){!e.isPremium()&&this.canOverride(t)&&(this.overridedType=t,this.setPlaceholderPayment(t))},n.prototype.onBarOpenClick=function(t){$(t.target).is(".bar_open")&&this.toggleSeq()},n.prototype.onPlayClick=function(){this.seqListener||this.isOpen||(this.seqListener=t.on(Mu.PlayFlow.EVENT_CHANGE,this.openSeqIfNeeded))},n.prototype.failSkip=function(){this.isOpen&&this.overridedType===u||this.toggleSeq({},p)},n.prototype.showTrack=function(t){t&&s(e.isLoggedIn(),t)&&this.overrideType(u)},n.prototype.openSeqIfNeeded=function(){t.off(Mu.PlayFlow.EVENT_CHANGE,this.openSeqIfNeeded),this.seqListener=!1,this.isOpen||this.toggleSeq()},n.prototype.setHeader=function(){var e="";this.isOpen&&(e=r({title:this.isAdvertPlaying?i18n("touch-player","[feature/touch-player-advert]реклама"):t.context.title||""})),this.$header.html(e)},n.prototype.setPlaceholderPayment=function(t){this.$seqPlaceholder.html(l({type:t})),Mu.blocks.initPendingBlocks(this.$seqPlaceholder),this.placeholderMode=t,this.hideBarBelow()},n.prototype.setPlaceholderSeq=function(){var e=t.getTracks(),i=o.render({trackIds:e.map(a),tracks:e,entries:e.map(Mu.PlayFlow.trackToEntry),context:t.context});this.$seqPlaceholder.html(i),this.$seq=this.$cont.find(".touch-player-sequence"),Mu.blocks.initPendingBlocks(this.$cont);var n=Mu.blocks.forElem(this.$seq.find(".lightlist")[0]);n&&n.onRender&&n.onRender(),this.placeholderMode="SEQ"},n.prototype.renderBarBelow=function(){if(!e.user.barBelow)return;if("preview"===this.placeholderMode)return;"SEQ"!==this.placeholderMode&&this.clearPlaceholder(),this.$barBelowWrap.html(c.render({config:c.controller.getBarBelowConfig(e.user.barBelow),isTouch:!0}));const t=this.$barBelowWrap.find(".bar-below-configurable");Mu.blocks.forElem(t[0],"bar-below-configurable").on("close",()=>{e.isPremium()?this.hideBarBelow():this.setPlaceholderPayment()}),Mu.blocks.initPendingBlocks(this.$barBelowWrap)},n.prototype.hideBarBelow=function(){this.$barBelowWrap.find(".bar-below-configurable").addClass("bar-below-configurable_hidden"),this.isShowingBarBelow=!1},n.prototype.clearPlaceholder=function(){this.$seqPlaceholder.html(""),this.placeholderMode=null},n.prototype.toggleSeq=function(i,n){if(n!==h&&i&&i.stopPropagation&&i.stopPropagation(),n=this.overridedType||n||_,!(this.isOpen&&i&&i.target&&$(i.target).is(".player-controls__btn_seq"))){var a=t.isRadio(),s=e.isPremium();if(!a||e.isLoggedIn())if(this.isOpen=!this.isForceClose(n)&&(this.isForceOpen(n)||!this.isOpen),$(".bar").toggleClass("bar_open",this.isOpen),$(".bar").toggleClass("bar_radio",this.isOpen&&a&&s),this.$controls.toggleClass(this.isOpen?"disabled":"hidden",!!this.isAdvertPlaying),this.$seqButton.toggleClass("player-controls__btn_checked",this.isOpen),this.setHeader(),this.isOpen){if(Mu.layout.lockScroll(),c.controller.isFeatureAllowed()){if(this.renderBarBelow(),!s)return void(!this.placeholderMode&&this.setPlaceholderPayment(n))}else if(!s)return void this.setPlaceholderPayment(n);if(t.isRadio())return void this.clearPlaceholder();this.setPlaceholderSeq()}else Mu.layout.unlockScroll(),this.clearPlaceholder();else e.showAuthForm(function(){e.isLoggedIn()&&this.toggleSeq()}.bind(this),"player-radio-seq")}},n.prototype.onAdvertStart=function(t){this.toggleAdvert(t,!0)},n.prototype.onAdvertEnd=function(t){this.toggleAdvert(t,!1)},n.prototype.toggleAdvert=function(t,e){this.isAdvertPlaying=e,this.$track.toggleClass("hidden",e),this.$controls.toggleClass(this.isOpen?"disabled":"hidden",e),this.$advert.toggleClass("hidden",!e),this.setHeader(),this.setPlaceholderPayment(e?"advert":"");var i=!t||!t.image&&!t.video||!e;this.$seqPlaceholder.toggleClass("hidden",!i),$(".overlay").toggleClass("overlay_shown overlay_transparent",e),$(".bar").toggleClass("bar_with_advert",e)},n.prototype.onNoAdsClick=function(){$(".overlay").removeClass("overlay_shown"),i.togglePause(!0),this.openSeqIfNeeded(),this.$controls.removeClass("hidden")},n}())},function(t,e,i,n){var a={render:i(564)};clientSide&&(a.controller=i(565)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=function(t){return Mu.render("lightlist",t)},function(t){return'<div class="touch-player-sequence" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-sequence",!0))+'">'+a({type:"track",ids:t.trackIds,items:t.tracks,isOwner:t.isOwner,loadCount:3,templateEngine:"dot",itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,params:{showArtist:!0,type:"touch",nonSelectable:!0,actions:["like"]},itemHeight:64})+"</div>"})},function(t,e,i,n){Mu.blocks.register("touch-player-sequence",function(){var t,e=function(){};return e.init=function(e){t=e.get("seq")},e.prototype.init=function(){this.$cont=$(this.container),this.delegate("lightlist.getContext",this.getContext.bind(this))},e.prototype.getContext=function(){var t=$.extend({},this.data.context);return t._entries=null,t},e.prototype.onShow=function(){Mu.layout.lockScroll()},e.prototype.onHide=function(){Mu.layout.unlockScroll()},e.prototype.onDragEnd=function(e){if(!(e.insertAt<0||e.insertFrom<0)){var i=e.insertFrom,n=e.insertAt;n>i&&n--,t.move(i,n);var a=this.entries[i];e.insertFrom<e.insertAt?(this.entries.splice(n,0,a),this.entries.splice(i,1)):(this.entries.splice(i,1),this.entries.splice(n,0,a)),t.context.id="touch-player-sequence"}},e.prototype.onDelete=function(e){t.remove(e.index),this.entries.splice(e.index,1),t.context.id="touch-player-sequence"},e.prototype.onAdditionClick=function(t){var e=this.entries&&this.entries.filter((function(t){return!t.track||t.track.id&&!t.track.error}));t.target.data.entries=e},e}())},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){var e='<div class="touch-player__title typo-main">';return t.title&&(e+=__escape(i18n("touch-player","[feature/touch-player-1]Сейчас играет"))+" "+__escape(t.title)),e+='</div><div class="touch-player__hide">'+a.render({icon:"dropdown"})+"</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(219),s=i(461),o={default:i18n("touch-player","[feature/touch-player-1]Слушайте музыку без ограничений, оформив подписку"),crackdown:i18n("bar-below","Музыка не остановится, если оформить подписку"),preview:i18n("touch-player","[feature/preview-touch]Войдите, чтобы слушать треки целиком"),skip:i18n("touch-player","[feature/mfront-1550]Чтобы пропустить трек, подождите один час или слушайте без ограничений, оформив подписку"),advert:i18n("touch-player","[feature/mfront-3990-1]Яндекс&nbsp;Музыка — полностью легальный сервис. С помощью рекламы мы получаем деньги на лицензионные платежи правообладателям и на дальнейшее развитие сервиса.")},r={default:i18n("touch-player","[feature/touch-player-1]Подробнее о подписке"),advert:i18n("touch-player","[feature/touch-player-advert]Хочу слушать без рекламы")},function(t){var e='<div class="touch-player__payment"><div class="touch-player__payment-title">'+__escape(o[t.type]||o.default)+"</div>";return"preview"===t.type?e+=s.render({text:i18n("touch-player","[feature/preview-touch]Войти")}):e+=a.render({from:"restrictionPlayer",text:r[t.type]||r.default}),e+="</div>"})},function(t,e,i,n){Mu.blocks.register("touch-player-controls",function(){var t,e,n,a,s="player-controls__btn_disabled",o=i(569),r=function(){};return r.init=function(i){t=ya.music.Player.repeatTypes,e=i.get("seq"),n=i.get("auth"),a=i.get("metrika")},r.prototype.init=function(){this.disableHiglight=!0,this.$cont=$(this.container),this.$body=$(document.body),["play","prev","next","shuffle","repeat","seq"].forEach(function(t){this["$"+t]=this.$cont.find(".player-controls__btn_"+t)}.bind(this)),this.$shuffleIcon=this.$shuffle.find(".d-icon"),this.$repeatIcon=this.$repeat.find(".d-icon"),this.$seqControls=this.$cont.find(".player-controls__seq-controls"),this.$trackContainer=this.$cont.find(".player-controls__track-container"),this.$shot=this.$cont.find(".player-controls__shot"),this.$trackControls=this.$cont.find(".player-controls__track-controls"),this.$play.on("click",this.onPlayClick.bind(this)),this.$prev.on("click",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("click",this.onPrevNextUpDown.bind(this,1)),this.$shuffle.on("click",this.toggleShuffle.bind(this)),this.$repeat.on("click",this.toggleRepeat.bind(this)),this.$prev.on("mousedown",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("mousedown",this.onPrevNextUpDown.bind(this,1)),this.$prev.on("mouseout",this.onPrevNextUpDown.bind(this,0)),this.$next.on("mouseout",this.onPrevNextUpDown.bind(this,0));var t=this.onStateChange.bind(this);e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t),e.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,t),e.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,t),e.on(Mu.PlayFlow.EVENT_SHOW_SHOT,t),e.on(Mu.PlayFlow.EVENT_HIDE_SHOT,t);var i=this.onTrackChange.bind(this);e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,i),e.on(Mu.PlayFlow.EVENT_EMPTY,i),e.on(Mu.PlayFlow.EVENT_SOURCE,this.onSourceChange.bind(this)),e.on(Mu.PlayFlow.EVENT_CONTROLS,this.onControlsChange.bind(this)),e.on(Mu.PlayFlow.EVENT_PROGRESS,this.updateBtnPrev.bind(this)),e.onReady(this.onSeqReady.bind(this)),this.setAutoShuffle(),this.onSourceChange(e.getSourceType()),this.onTrackChange()},r.prototype.onSeqReady=function(){e.on(Mu.PlayFlow.EVENT_STATE,this.sendButtonPress.bind(this))},r.prototype.sendButtonPress=function(t){var e="playing"===t,i="paused"===t;!this.lastState&&i||(e||i)&&this.lastState!==t&&(this.lastState=t,a.count({buttonPressed:e?"unpaused":"paused"}))},r.prototype.setAutoShuffle=function(){var t=Mu.blocks.get("app-wall"),i=t&&t.isInteractiveSplashscreenPage&&t.isInteractiveSplashscreenPage(Mu.pages.current||{}),a=e.getShuffle();return a||i||n.isPremium()||(e.toggleShuffle(!0,!0),a=!0),a},r.prototype.toggleShuffle=function(){n.isPremium()&&e.toggleShuffle()},r.prototype.toggleRepeat=function(){this.$repeat.hasClass(s)||e.toggleRepeat()},r.prototype.onPlayClick=function(){a.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play()}catch(t){}e.togglePause()},r.prototype.onStateChange=function(){var t=e.isPlaying(),i=e.getAdvert(),n=e.isEmpty()&&!i;this.$play.toggleClass("player-controls__btn_pause",t&&!n),this.$body.toggleClass("body_show-pause",t&&!i&&!n),this.onControlsChange(e.getControls()),this.$repeat.toggleClass(s,!!i),this.$shuffle.toggleClass(s,!!i)},r.prototype.onSourceChange=function(t){this.$cont.toggleClass("player-controls_radio","radio"===t),this.highlightSeq()},r.prototype.onControlsChange=function(){this.updateBtnPrev(),this.updateBtnNext(),this.toggleShot();var i=this.setAutoShuffle();this.$shuffle.toggleClass("player-controls__btn_on",i),this.$shuffleIcon.toggleClass("d-icon_shuffle",!i).toggleClass("d-icon_shuffle-gold",i);var n=e.getRepeat();this.$repeat.toggleClass("player-controls__btn_on",!!n).toggleClass("player-controls__btn_repeat_state1",n===t.ALL).toggleClass("player-controls__btn_repeat_state2",n===t.ONE),this.$repeatIcon.toggleClass("d-icon_repeat",!n).toggleClass("d-icon_repeat-gold",n===t.ALL).toggleClass("d-icon_repeat-one-gold",n===t.ONE)},r.prototype.toggleShot=function(){var t=e.getShot();this.$shot.toggleClass("player-controls__btn_hidden",!t),t&&this.$shot.text(t.shots[0].shotData.shotType.title)},r.prototype.updateBtnPrev=function(){var t=e.getPrevTrack(),i=e.isPlaying(),a=e.getAdvert(),o=e.isEmpty(),r=!n.isPremium()||o||!!a||!(t&&(!i||e.getPosition(!0)<=5))&&!(i||e.getCurrent()&&e.getPosition(!0)>0);this.$prev.toggleClass(s,r)},r.prototype.canSkip=function(){return this.countSkip()<5},r.prototype.countSkip=function(){if(n.isPremium())return 0;var t=(localStorage.getItem("skipStory")||"").split(","),e=Date.now();return t=t.filter((function(t){return e-t<36e5})),localStorage.setItem("skipStory",t.join(",")),t.length},r.prototype.updateBtnNext=function(){var t=e.getNextTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty()||!!n||!t&&!i,o=!a&&!this.canSkip();a=a||o,this.$next.toggleClass(s,a),this.$next.toggleClass("js-fail-skip",o)},r.prototype.onTrackChange=function(t){this.$cont.toggleClass("player-controls_empty",!t),t||this.$trackContainer.empty(),this.$play.toggleClass(s,e.isEmpty()),this.highlightSeq();var i=t&&t.title?{track:t,album:t.albums&&t.albums[0]}:null;if(this.lastTrack!==t){this.lastTrack=t,this.onStateChange();var n=this;n.animateDelay&&clearTimeout(n.animateDelay),n.animateDelay=setTimeout((function(){if(n.animateDelay=null,i&&n.currentEntry!==i){n.currentEntry=i;var t=o(i),e=n.$trackContainer.find(".player-controls__track");e.length?e.animate({opacity:0},{duration:80,complete:n.initTrack.bind(n,t)}):n.initTrack(t)}}),100)}},r.prototype.initTrack=function(t){var e=$(t);this.$trackContainer.html(e),e.addClass("player-controls__track_shown"),Mu.blocks.forElem(this.$trackContainer.find(".d-like")[0])},r.prototype.onPrevNextUpDown=function(t,i){if("mousedown"===i.type&&$(window).one("mouseup",this.onPrevNextUpDown.bind(this,0)),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),n.isPremium()||!(-1===t||1===t&&this.$next.hasClass(s))){if("mousedown"===i.type){if(!e.canNavigate()||!e.isPlaying()||e.getDuration()<=0)return;var a=this;this.scrollTimeout=setTimeout((function(){a.scrollTimeout=null,a.scrollTimer=setInterval(a.onPrevNextScroll.bind(a,t),15)}),500)}else this.hasScrolled||0===t||(-1===t&&(e.getPosition()>5||!e.getPrevTrack())?e.setPosition(0):e[t>0?"next":"prev"]());if(!n.isPremium()&&1===t){var o=(localStorage.getItem("skipStory")||"").split(",");o.push(Date.now()),localStorage.setItem("skipStory",o.join(","))}t&&(this.hasScrolled=!1)}},r.prototype.onPrevNextScroll=function(t){var i=e.getPosition();i+=.2*t,e.setPosition(i),this.hasScrolled=!0},r.prototype.highlightSeq=function(){var t=this;t.disableHiglight||(t.$seq.addClass("player-controls__btn_pulse"),setTimeout((function(){t.$seq.removeClass("player-controls__btn_pulse")}),600)),t.disableHiglight=!1},r}())},function(t,e,i,n){var a,s;t.exports=(a=i(318),s=function(t){return Mu.render("track_type_player",t)},function(t){return'<div class="player-controls__track"><div class="player-controls__wrapper">'+s(t)+'<div class="player-controls__track-controls">'+a.render({entry:{track:t.track},className:"player-controls__btn",theme:"player"})+"</div></div></div>"})},function(t,e,i,n){Mu.blocks.register("track",function(){var t,e,i,n,a,s,o,r=function(){};return r.init=function(r){t=r.get("sidebars"),e=r.get("navigation"),i=r.get("fav"),a=r.get("froms"),n=r.get("library"),s=r.get("blocks"),o=r.get("dataSrc"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target);i.closest(".track__actions").size()||i.closest("a").size()||e.onClick(t)})),this.domDelegate("click",".track__payment-show",(function(t){var e=$(this).closest(".d-payment-show"),i=Mu.blocks.forElem(e.get(0),"d-payment-show");i&&i.show&&(t.preventDefault(),i.show())})),this.domDelegate("click",".track__delete",(function(t){Mu.blocks.forElem(this,"track").onDeleteClick(t)})),this.domDelegate("click",".track__add",(function(t){Mu.blocks.forElem(this,"track").onAddClick(t)})),this.domDelegate("mouseenter",".d-addition",(function(){Mu.blocks.forElem(this,"track")})),this.domDelegate("dblclick",(function(t){Mu.blocks.forElem(this).onDblClick(t)})),i.on("liked",(function(t){var e=$(t.target).closest(".track");if(e.length){var i=Mu.blocks.forElem(t.target);e.toggleClass("track_in-lib",n.isInPositiveLibrary(i.data))}}))},r.prototype.init=function(){var t=this;t.$cont=$(t.container),t.$visibilityToggle=t.$cont.find(".visibility-toggle"),t.$addition=t.$cont.find(".d-addition"),t.addition=Mu.blocks.forElem(t.$addition.get(0)),t.addition&&(t.addition.on("popupShow",(function(){t.$cont.addClass("track_hover")})),t.addition.on("popupHide",(function(){t.$cont.removeClass("track_hover")}))),t.delegate("button-play.changed",(function(e){t.setPlaying(e.state)}))},r.prototype.onClick=function(){this.triggerEvent({type:"track.click"})},r.prototype.setSelected=function(t){this.$cont.toggleClass("track_selected",t)},r.prototype.setPlaying=function(t){this.$cont.toggleClass("track_playing",t)},r.prototype.getAlbum=function(){var t=this.data,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},r.prototype.openSidebar=function(i,n,s){var o=this.data,r=s||this.getAlbum(),l=a.getCardFrom(this.container,"track"),c=o.realId||o.id,d=this.closestParent("event");if(d)var u=d.data.id;if(t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track==c||t.show("track",{track:c,album:r?r.id:-1,hideAlbum:!!s,from:l,eventId:u}),i){var p=/\?(.*)/.exec(e.getLastUrl());p=p&&p[0]?p[0]:"",e.pushState("/album/"+r.id+"/track/"+c+p,n)}},r.prototype.onDeleteClick=function(){this.triggerEvent({type:"track.delete",data:this.data})},r.prototype.onAddClick=function(){this.$cont.addClass("track_added"),this.triggerEvent({type:"track.add",data:this.data})},r.prototype.onDblClick=function(t){if(1!==$(t.target).closest(".track__play").length&&1!==$(t.target).closest(".track__actions").length&&!this.$cont.hasClass("track_type_player")){var e=s.forElem(this.$cont.find(".button-play")[0]);e&&e.toggle()}},r.onChangeUgcTrackAttr=function(t,e){$(".track_ugc").each((function(){var i=Mu.blocks.forElem(this,"track");if(i&&i.data&&(i.data.track?i.data.track.id:i.data.id)==t)try{i.refreshAttr(e)}catch(t){}}))},r.prototype.refreshAttr=function(e){for(var i=this,n="track",a=0;a<this.$cont.get(0).classList.length;a++){var s=this.$cont.get(0).classList[a];if(0===s.indexOf("track_type_")){n=s;break}}var r="",l=!1;switch(e){case"title":r=".track__title",l=!0;break;case"artist":r=".track__artists",l=!0;break;case"visibility":l=!0}l&&o.get("track",{track:this.data.id||this.data.track.id},{nocache:!0}).then((function(a){if(a.track){var s=a.track;(a=s).track=s}else a.track=a;if(r){var o=$(Mu.render(n,a));i.$cont.find(r).replaceWith(o.find(r)),o.remove()}if("visibility"===e){if(!i.visibilityToggle){var l=i.$visibilityToggle.get(0);i.visibilityToggle=Mu.blocks.forElem(l,"visibility-toggle")}i.visibilityToggle&&i.visibilityToggle.updateData({track:a.track})}i.triggerEvent({type:"track.changed",data:{track:a.track,changed:e}}),t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track==i.data.id&&t.current.updateTrack&&t.current.updateTrack(a.track,e)}))},r}())},function(t,e,i,n){Mu.blocks.register("ugc-loader",function(){var t,e=i(572),n=i(573),a=function(i,n,a){var s={kind:0,visibility:"public",maxFileSize:262144e3,maxTrackStatusAttempts:10,delayBetweenAttempts:5e3};s=$.extend(!0,s,a);var o={_fileBlock:null,_trackId:null,_xhr:null,_state:null,_trackStatusAttempts:0,_init:function(){Mu.eventize(o),o._initFileBlock()},start:function(){var t=!1;return"waiting"===o._state&&o._isAvailableFile()&&(o._getUploadUrl(o._uploadUrlSuccess,o._uploadUrlFail),t=!0),t},getId:function(){return o._trackId},getState:function(){return o._state},hasErrorState:function(){return/^error/i.test(o._state)},_isAvailableFile:function(){return!(i.size>s.maxFileSize)||(o._setFileState("error-large",s),!1)},_getUploadUrl:function(e,n){return t.get("ugc-upload",{filename:i.name,kind:s.kind,visibility:Mu.experiments&&"on"===Mu.experiments.webUploadSwitcher?"public":"private"},{nocache:!0}).then(e,n)},_uploadUrlSuccess:function(t){if(t&&t["post-target"]&&t["ugc-track-id"]){o._trackId=t["ugc-track-id"],o._xhr=new XMLHttpRequest,o._xhr.upload&&(o._xhr.upload.onprogress=o._setUploadProgress,o._xhr.upload.onload=function(){},o._xhr.upload.onerror=function(){o._setFileState("error-upload")}),o._xhr.onload=o._xhr.onerror=function(){var t=[200,201,202].indexOf(this.status)<0,e={result:t?"INTERNAL_SERVER_ERROR":"CREATED"};try{e=JSON.parse(this.response)}catch(t){}var i="error";e&&e.result&&(i=o._codeToState(e.result)),t?o.hasErrorState()||o._setFileState(i):(o._setFileState(i),o._checkTrackState())},o._xhr.open("POST",t["post-target"],!0);var e=new FormData;e.append("file",i),o._xhr.send(e)}else if(t&&t.result){var n=o._codeToState(t.result);n&&o._setFileState(n)}},_uploadUrlFail:function(){},_initFileBlock:function(){o._fileBlock||(o._fileBlock=$(e({filename:i.name})),o._fileBlock.on("click",".js_cancel",(function(){o._xhr&&o._xhr.abort(),o._setFileState("aborted")})),o._fileBlock.on("click",".js_hide",(function(){o._fileBlock.hideBlock()})),o._fileBlock.hideBlock=function(){o._fileBlock.hide(),$(n).find(".ugc-loader__file:visible").size()||$(n).hide()},n.append(o._fileBlock).show(),o._setFileState("waiting"))},_setFileState:function(t,e){if(t){var i="";e=e||{},o._fileBlock.removeClass("ugc-loader__file_loaded ugc-loader__file_aborted ugc-loader__file_error ugc-loader__file_disappear ugc-loader__file_waiting");var n=t.split("-");if(["waiting","sended","loaded","aborted","error"].indexOf(n[0])>=0){var a={trackId:o._trackId};n[1]&&(a.type=n[1]),o.trigger("track:"+n[0],a)}switch(t){case"sending":i="";break;case"waiting":o._fileBlock.addClass("ugc-loader__file_waiting"),i=i18n("ugc-loader","Ожидание загрузки");break;case"sended":o._fileBlock.addClass("ugc-loader__file_sent");break;case"disappear":o._fileBlock.addClass("ugc-loader__file_disappear"),i=i18n("ugc-loader","Трек добавлен"),setTimeout((function(){o._fileBlock.hideBlock()}),3e3);break;case"loaded":o._fileBlock.addClass("ugc-loader__file_loaded"),i=i18n("ugc-loader","Файл загружен и находится в обработке");break;case"accepted-timeout":o._fileBlock.addClass("ugc-loader__file_loaded"),i=i18n("ugc-loader","Файл передан, но обрабатывается слишком долго");break;case"aborted":o._fileBlock.addClass("ugc-loader__file_aborted ugc-loader__file_disappear"),i=i18n("ugc-loader","Загрузка файла прервана пользователем"),setTimeout((function(){o._fileBlock.hideBlock()}),3e3);break;case"error":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Ошибка при обработке файла");break;case"error-upload":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Ошибка при отправке файла");break;case"error-internal":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Внутренняя ошибка сервера");break;case"error-unsupported":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Формат файла не поддерживается");break;case"error-already":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Повторная загрузка файла");break;case"error-expired":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Истек таймаут загрузки");break;case"error-large":var s=e.maxFileSize?": максимальный размер "+Math.round(e.maxFileSize/1048576)+" Mb":"";o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Файл слишком большой")+s;break;case"error-short":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Файл слишком короткий");break;case"error-corrupted":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Файл поврежден");break;case"error-many":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Превышен лимит количества треков");break;case"error-unexpected":case"error-unknown":o._fileBlock.addClass("ugc-loader__file_error"),i=i18n("ugc-loader","Неизвестная ошибка")}o._state=t,o._fileBlock.find(".ugc-loader__file-pending").text(i)}},_setUploadProgress:function(t){var e=Math.ceil(100*t.loaded/t.total);o._fileBlock.find(".ugc-loader__file-progress").css("width",e+"%"),o._setFileState("sending"),e>=100&&o._setFileState("sended")},_checkTrackState:function(){s.maxTrackStatusAttempts>o._trackStatusAttempts&&(o._trackStatusAttempts++,t.get("track",{track:o._trackId},{nocache:!0}).then((function(t){t.track&&"playable"===t.track.state?(o.trigger("track:playable",{trackId:o._trackId}),o._setFileState("disappear")):t.track&&"processing"===t.track.state&&setTimeout(o._checkTrackState.bind(o),s.delayBetweenAttempts)}),(function(){setTimeout(o._checkTrackState.bind(o),s.delayBetweenAttempts)})))},_codeToState:function(t){var e=!1;switch(t){case"CREATED":e="loaded";break;case"ACCEPTED_BUT_TIMEOUT":e="accepted-timeout";break;case"INTERNAL_SERVER_ERROR":e="error-internal";break;case"UNSUPPORTED_MEDIA_TYPE":e="error-unsupported";break;case"ALREADY_UPLOADED":e="error-already";break;case"UPLOAD_URL_EXPIRED":e="error-expired";break;case"FILE_TOO_LARGE":e="error-large";break;case"AUDIO_FILE_TOO_SHORT":e="error-short";break;case"CORRUPTED_FILE":e="error-corrupted";break;case"TOO_MANY_FILES":e="error-many";break;case"UNEXPECTED_PUT_RESULT":e="error-unexpected";break;case"UNKNOWN_PUT_RESULT":e="error-unknown"}return e}};return o._init(),function(){var t,e={};for(t in o)o.hasOwnProperty(t)&&"_"!==t[0]&&(o[t]instanceof Function?e[t]=o[t].bind(o):e[t]=o[t]);return e}()},s=function(){s.hasFileApi=!("undefined"==typeof window||!window.FileReader||!window.Blob),s.data={uploadBlock:"body",visibility:"public"}};return s.init=function(e){t=e.get("dataSrc")},s.setInstance=function(t){delete s.instance,t&&(s.instance=t)},s.show=function(t){if(s.data=$.extend(s.data,t),!s.popup){var i=$(n(s.data)).appendTo("body");s.popup=new(Mu.blocks.get("popup"))(i[0],{position:{at:"center",my:"center",of:window},resize:!0,modal:!0,overlayClass:"deco-pane_transparent"}),s.popup.$buttonLoad=s.popup.$cont.find(".js_load"),s.popup.$buttonSelect=s.popup.$cont.find(".js_select"),s.popup.$inputPublish=s.popup.$cont.find(".ugc-loader__publish-tracks input"),s.popup.$inputUpload=s.popup.$cont.find(".ugc-loader__upload-tracks"),s.popup.$buttonSelect.on("click",(function(){s.popup.$inputUpload.val(""),s.popup.$inputUpload.click()})),s.popup.isActiveMode=function(t){return s.popup.$cont.hasClass("ugc-loader__popup_"+t)},s.popup.$inputUpload.on("change",(function(t){s.popup.hide(),s._onFileChange(t)})),s.popup.$inputPublish.on("change",(function(){s.data.visibility=$(this).is(":checked")?"private":"public"})),s.popup.$cont.on("click",(function(t){(s.popup.$cont.is($(t.target))||$(t.target).is(".popup__close"))&&s.popup.hide()})),s.popup.on("show",(function(){Mu.layout.lockScroll()})),s.popup.on("hide",(function(){Mu.layout.unlockScroll()}))}var a=$(s.data.uploadBlock).eq(0);s.popup.$uploadBlock&&s.popup.$uploadBlock.size()&&s.popup.$uploadBlock.is(a)||(s.popup.$uploadBlock=a,s.popup.$uploadBlock.html($(e({wrapper:!0}))),s.popup.$files=s.popup.$uploadBlock.find(".ugc-loader__files")),s.popup.show()},s.hide=function(){s.popup&&s.popup.hide()},s._onFileChange=function(t){var e;t.preventDefault();try{e=t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files||t.target.files}catch(t){}if(s._fileLoaderQueue||(s._fileLoaderQueue=function(t){t=$.extend({maxParallelLoadings:1},t);var e={_queue:[],_finished:[],_queuePos:-1,_currentLoadingsCount:0,add:function(t,i,n){var s=new a(t,i,n),o=function(){e._finished.indexOf(s.getId())<0&&(e._finished.push(s.getId()),e._currentLoadingsCount--,e._currentLoadingsCount=e._currentLoadingsCount?e._currentLoadingsCount:0,e._startNext())};return s.on("track:error",o),s.on("track:sended",o),s.on("track:aborted",o),e._queue.push(s),e._startNext(),s},_startNext:function(){if(e._queue.length>e._queuePos&&e._currentLoadingsCount<t.maxParallelLoadings){var i=e._queue[e._queuePos+1];i&&(e._queuePos++,i.start()?e._currentLoadingsCount++:e._startNext())}}};return function(){var t,i={};for(t in e)e.hasOwnProperty(t)&&"_"!==t[0]&&(e[t]instanceof Function?i[t]=e[t].bind(e):i[t]=e[t]);return i}()}()),e.length)for(var i=0;i<e.length;i++){if(s._isCorrectFile(e[i]))s._fileLoaderQueue.add(e[i],s.popup.$files,{kind:s.data.kind,visibility:s.data.visibility}).on("track:playable",(function(){s.instance&&s.instance.triggerEvent({type:"ugc-track.added",data:{}})}))}},s._isCorrectFile=function(t){return!!t.type},s.prototype.init=function(){this.$cont=$(this.container),this.$buttonOpen=this.$cont.find(".js_open"),this.$buttonOpen.on("click",this.show.bind(this)),s.hasFileApi||this.$cont.addClass("ugc-loader_hidden");try{"pc"===ya.music.info.platform.type&&this.$cont.removeClass("_hidden")}catch(t){}s.setInstance(this)},s.prototype.destroy=function(){},s.prototype.show=function(){s.show(this.data)},s.prototype.hide=function(){s.hide()},s}())},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(151);return function(i){var a="";return i.wrapper?a+='<div class="ugc-loader__files" style="display:none;"><div class="ugc-loader__files-title">'+__escape(i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Загружаемые файлы"))+"</div></div>":a+=function(i){var a='<div class="ugc-loader__file"><div class="ugc-loader__file-content local-theme-white local-icon-theme-white"><span class="ugc-loader__file-name typo">'+__escape(i.filename)+"</span>",s=i.progress||0;return a+='<div class="ugc-loader__file-progress" style="width: '+__escape(s)+'%"></div>'+t.render({type:"flat",icon:"cross-small",class:"ugc-loader__file-hide js_hide"})+n.render({text:i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Отменить"),style:"marked",class:"ugc-loader__file-cancel js_cancel"})+'<span class="ugc-loader__file-pending"></span>'+e.render({icon:"check-circle",class:"ugc-loader__file-complete"})+"</div></div>"}(i),a}}()},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="ugc-loader__popup"><input type="file" name="upload-tracks[]" class="button__file-btn ugc-loader__upload-tracks" multiple="multiple" accept="audio/*" /><div class="ugc-loader__popup-content">'+t.render({type:"flat",icon:"cross-big",class:"ugc-loader__close popup__close"})+'<div class="ugc-loader__tabs"><div class="ugc-loader__tab ugc-loader__tab_load"><div class="ugc-loader__title">'+__escape(i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Загрузите треки на Музыку"))+'</div><div class="ugc-loader__description">'+__escape(i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Выберите аудиофайлы, чтобы загрузить в ваш плейлист. За один раз можно выбрать несколько аудиофайлов."))+'</div><div class="ugc-loader__actions">'+t.render({text:i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Выбрать файлы"),type:"action",class:"button_action ugc-loader__actions_select js_select"})+'</div></div></div><div class="ugc-loader__footer"><div class="ugc-loader__disclaimer">'+__escape(i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Помните, что загрузка файлов может требовать наличия у вас согласия правообладателя."))+"</div></div></div></div>"}}()},function(t,e,i,n){Mu.blocks.register("video-list",function(){var t,e,i,n,a=function(){};return a.init=function(a){t=a.get("blocks"),e=a.get("metrika"),i=a.get("pages"),n=a.get("sidebars")},a.prototype.init=function(){this.$cont=$(this.container),this.$page=$(".page-root"),this.$items=this.$cont.find(".video-list__item"),this.$items.on("click",this.onVideoClick.bind(this)),this.$cont.closest(".page-artist").size()?this.from="artistPage":this.$cont.closest(".sidebar-track").size()?this.from="sidebarTrack":this.$cont.closest(".page-search").size()&&(this.from="searchResult");var t=window.location.href.split("?")[1],e=$.queryString(t).playVideo;if(e){var i=this.data.items.find(t=>t.providerVideoId===e),n=this.data.items.indexOf(i);this.from="artistPageAutoplay",n>=0&&this.playVideo(n)}},a.prototype.onVideoClick=function(t){if(this.data&&this.data.items&&this.data.items.length>0){var e=this.$items.has(t.target).closest(this.$items).index();this.triggerEvent({type:"video-list.click",currentTarget:t.currentTarget}),this.playVideo(e),t.preventDefault(),t.stopPropagation()}return!1},a.prototype.playVideo=function(a){var s;try{var o,r;switch(this.from){case"artistPage":case"artistPageAutoplay":r=i.current.data.id,(s={artistId:{}}).artistId[r]=1,o={video:"artistPageAutoplay"===this.from?{autoplayArtistPage:s}:{clickArtistPage:s}},e.count(o);break;case"sidebarTrack":r=n.current.data.track.id,(s={trackId:{}}).trackId[r]=1,o={video:{clickSidebarTrack:s}},e.count(o);break;case"searchResult":r=i.current.data.result.text,(s={searchText:{}}).searchText[r]=1,o={video:{clickSearchResult:s}},e.count(o)}}catch(t){}if(!this.videoOverlay){var l=Mu.render("video-overlay",{items:this.data.items,goal:this.data.goal,current:a,metrikaAdditionalData:s,from:this.from});this.videoOverlay=t.forElem($(l).get(0),"video-overlay"),this.$page.append(this.videoOverlay.$cont)}this.videoOverlay.show(),this.videoOverlay.play(a)},a}())},function(t,e,i,n){Mu.blocks.register("video-overlay",function(){var t,e,n,a=i(576),s=i(577),o=function(){};return o.init=function(i){t=i.get("seq"),e=i.get("layout"),n=i.get("metrika")},o.prototype.init=function(){this.players={},this.currentIndex=-1,this.data.items=a.getAvailableItems(this.data.items),this.$cont=$(this.container),this.$close=this.$cont.find(".video-overlay__close"),this.$overlay=this.$cont.find(".video-overlay__overlay"),this.$player=this.$cont.find(".video-overlay__player"),this.$playerContainer=this.$cont.find(".video-overlay__player-container"),this.$slider=this.$cont.find(".d-slider"),this.$sliderItems=this.$slider.find(".d-slider__item"),this.$slider&&this.$slider.size()&&(this.slider=Mu.blocks.forElem(this.$slider.get(0),"d-slider"),this.slider&&this.slider.on("click",this.onSliderItemClick.bind(this))),this.$close.on("click",this.hide.bind(this)),this.$overlay.on("click",this.hide.bind(this)),this.$playerContainer.on("click",this.hide.bind(this))},o.prototype.destroy=function(){Object.keys(this.players).forEach(t=>{var e=this.players[t];e&&e.destroy()})},o.prototype.hide=function(){e.unlockScroll(),this.$cont.addClass("video-overlay_hidden"),this.currentIndex=-1,this.currentPlayer&&this.currentPlayer.stop(),$(window).resize()},o.prototype.show=function(){e.lockScroll(),this.$cont.removeClass("video-overlay_hidden"),$(window).resize()},o.prototype.play=function(e=0){var i=this;if(i.currentIndex!==e&&i.data.items&&i.data.items.length>0&&i.data.items[e]){i.currentIndex=e,i.currentPlayer&&i.currentPlayer.stop();var a=i.data.items[e];i.players[e]?i.currentPlayer=i.players[e]:(i.currentPlayer=new s({container:i.$player,video:a,volume:100*t.getVolume()}),i.players[e]=i.currentPlayer,i.currentPlayer.on("play",(function(){t.pause(),t.setIsVideoPlaying(!0)})),i.currentPlayer.on("pause",(function(){t.setIsVideoPlaying(!1)})),i.currentPlayer.on("volume",(function(e){t.setVolume(e/100)})),i.currentPlayer.on("stop",(function(){i.playNext(),t.setIsVideoPlaying(!1)}))),i.currentPlayer.play(),setTimeout((function(){i.slider.moveTo(i.currentIndex),i.$sliderItems.eq(i.currentIndex).click(),$(window).resize()}),0);var o=a.goal||i.data.goal;o&&n.goal(o);var r={video:{play:{}}};r.video.play[this.data.from||"somewhere"]=1,n.count(r)}},o.prototype.onSliderItemClick=function(t,e){if(this.currentIndex!==e){this.play(e);var i={video:{clickSlider:{somewhere:1}}};this.data.metrikaAdditionalData&&(i.video.clickSlider=this.data.metrikaAdditionalData),n.count(i)}},o.prototype.playNext=function(){var t=this.currentIndex+1;this.data.items[t]?this.play(t):this.play(0)},o}())},function(t,e,i,n){var a=i(72),s=i(75);t.exports={isAvailableProvider:function(t){return["youtube","vimeo","yandex"].includes(t)},isAvailableUrl:function(t){return this.isAvailableProvider(this.getProviderByUrl(t||""))},isImageUrl:function(t){return/^(http[s]?:)?\/\/.*\/[^\/]*\.[a-z]{3,4}$/i.test(t||"")},getAvailableItems:function(t){return(Array.isArray(t)?t:[]).filter(function(t){return t&&t.embedUrl?this.isAvailableUrl(t.embedUrl):!(!t||!t.embed)}.bind(this))},filterItems:function(t){var e=t.visibleLength?t.items.slice(0,t.visibleLength):t.items;return this.getAvailableItems(e)},getFilteredVideos:function(t){return!!(t.videos&&t.videos.length>0)&&this.filterItems({items:t.videos})},getProviderByUrl:function(t){return/^(http[s]?:)?\/\/(www\.)?youtube\.com/i.test(t)?"youtube":/^(http[s]?:)?\/\/(player\.)?vimeo\.com/i.test(t)?"vimeo":/^(http[s]?:)?\/\/(www\.)?frontend\.vh\.yandex\./i.test(t)?"yandex":"unknown"},getIdByUrl:function(t){var e=/^(?:http[s]?:)?\/\/(?:www\.)?youtube\.com\/(?:watch\?v=|embed\/)([^&?/#]+)/i,i=/^(?:http[s]?:)?\/\/(?:player\.)?vimeo\.com\/(?:video\/)?(\d+)/i,n=/^(?:http[s]?:)?\/\/(?:www\.)?frontend\.vh\.yandex\.[a-z]{2,3}\/player\/(\S+)/i;return e.test(t)?e.exec(t)[1]:i.test(t)?i.exec(t)[1]:n.test(t)?n.exec(t)[1]:""},getParamsByUrl:function(t){var e={},i=/.*\?(.*)(#.*)?$/.exec(t);return i&&i.length>=2&&i[1].split("&").forEach((function(t){var i=t.split("=");e[i[0]]=i[1]})),e},makeProviderUrl:function(t,e,i){var n=Object.keys(i||{}).map(t=>t+"="+encodeURIComponent(i[t])),a=n.length>0?"?"+n.join("&"):"";switch(t){case"youtube":return"//www.youtube.com/embed/"+e+a;case"vimeo":return"//player.vimeo.com/video/"+e+a;case"yandex":return"//frontend.vh.yandex.ru/player/"+e+a;default:return""}},getVideoCover:function(t){return this.isImageUrl(t)?t:t.includes("/get-video_frame/")?a(t+s(t)+"w=%%&h=%%",200,!0,150):a(t,200,!1,112)},getVideoCover2x:function(t){return this.isImageUrl(t)||t.includes("/get-video_frame/")?"":a(t,400,!1,224)}}},function(t,e,i,n){var a=i(75),s=i(576),o=function(t){Mu.eventize(this);if(this.data=Object.assign({container:"body",video:{},aspectRatio:16/9,volume:100},t),this.data.video.embed){var e=/src=['"]?([^'"]+)['"]?/.exec(this.data.video.embed);this.data.url=2===e.length?e[1]:""}else this.data.video.embedUrl&&(this.data.url=this.data.video.embedUrl);this.data.provider=this.data.provider||s.getProviderByUrl(this.data.url),this.data.providerVideoId=this.data.providerVideoId||s.getIdByUrl(this.data.url),this.data.providerParams=this.data.providerParams||s.getParamsByUrl(this.data.url),this.data.video.embedUrl=this.data.video.embedUrl||s.makeProviderUrl(this.data.provider,this.data.providerVideoId,this.data.providerParams),this.data.video.embedUrl&&delete this.data.video.embed,this.init()};o.prototype.init=function(){this.$cont=$(this.data.container).eq(0),this.onResize=this.onResize.bind(this),this.onMessage=this.onMessage.bind(this)},o.prototype.destroy=function(){this.stop(),this.off("*")},o.prototype.play=function(){this._pastePlayer()&&($(window).on("resize",this.onResize),$(window).on("message",this.onMessage),$(window).resize())},o.prototype.stop=function(){switch($(window).off("resize",this.onResize),$(window).off("message",this.onMessage),this.data.provider){case"youtube":this.data.inited&&(this.data.inited=!1,this.data.apiPlayer.destroy()),this.$cont.empty(),delete this.$player;break;case"video":case"yandex":default:this.$cont.empty(),delete this.$player}},o.prototype._pastePlayer=function(){var t,e=this.data.video;if(this.$player&&this.$player.size())this.$cont.has(this.$player).size()||this.$cont.append(this.$player);else{if(e.embed)t=e.embed;else if(e.embedUrl){var i;switch(this.data.provider){case"youtube":i=e.embedUrl+a(e.embedUrl)+"autoplay=1&enablejsapi=1&fullscreen=1&wmode=opaque";break;case"vimeo":i=e.embedUrl+a(e.embedUrl)+"autoplay=1&api=1&fullscreen=1&wmode=opaque";break;case"yandex":i=e.embedUrl+a(e.embedUrl)+"autoplay=1"}i&&(t='<iframe src="'+i+'" allow="autoplay; encrypted-media" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}if(t&&(this.$player=this.$cont.html(t).children(),this.$player&&this.$player.size())){var n=this.getSizes();return this.$player.css({border:"none",width:n.width+"px",height:n.height+"px"}),this.playerWindow=this.$player.get(0).contentWindow,this._initApi(),!0}}},o.prototype._initApi=function(){var t=this;if(!t.data.inited)switch(t.data.provider){case"youtube":var e=function(){try{t.data.apiPlayer=new YT.Player(t.$player.get(0),{videoId:t.data.providerVideoId,playerVars:{autoplay:1,controls:1},events:{onReady:function(){},onError:function(){},onStateChange:function(){}}}),t.data.inited=!0}catch(e){t.trigger("error",e)}o.youtubeApiInited=!0};o.youtubeApiInited?e():($("body").append('<script src="https://www.youtube.com/iframe_api"><\/script>'),window.onYouTubeIframeAPIReady=e);break;default:t.data.inited=!0}},o.prototype._sendMessage=function(t,e,i){this.playerWindow&&this.playerWindow.postMessage(i?t:JSON.stringify(t),e||"*")},o.prototype.getSizes=function(){var t={width:0,height:0};return this.$cont.width()/this.$cont.height()>=this.data.aspectRatio?(t.height=this.$cont.height(),t.width=this.$cont.height()*this.data.aspectRatio):(t.height=this.$cont.width()/this.data.aspectRatio,t.width=this.$cont.width()),t},o.prototype.getType=function(){return this.data.provider},o.prototype.onResize=function(){if(this.$player&&this.$player.size()){var t=this.getSizes();this.$player.css({width:t.width+"px",height:t.height+"px",marginTop:-t.height/2+"px",marginLeft:-t.width/2+"px"})}},o.prototype.onMessage=function(t){var e=t&&t.originalEvent&&t.originalEvent.data||t.data,i=t&&t.originalEvent&&t.originalEvent.origin||"";if("unknown"===this.data.provider||["youtube","vimeo","yandex"].includes(this.data.provider)&&i.includes(this.data.provider)){var n,a;try{n=(e="string"==typeof e?JSON.parse(e):e).data&&e.data.event||e.event,a=e.data||e}catch(t){}switch(Mu.settings.isLogMode&&console.log("Video postMsg ["+this.data.provider+"]: ",n,a),this.data.provider+"-"+n){case"youtube-infoDelivery":a.info&&a.info.volume&&this.trigger("volume",a.info.muted?0:a.info.volume);break;case"youtube-onReady":this.data.apiPlayer.setVolume(this.data.volume);break;case"youtube-onStateChange":switch(a.info){case 0:this.trigger("stop");break;case 1:this.trigger("play");break;case 2:this.trigger("pause")}break;case"youtube-onError":this.trigger("error",a);break;case"vimeo-ready":this._sendMessage({method:"addEventListener",value:"play"},i),this._sendMessage({method:"addEventListener",value:"pause"},i),this._sendMessage({method:"addEventListener",value:"finish"},i);break;case"vimeo-play":this.trigger("play");break;case"vimeo-pause":this.trigger("pause");break;case"vimeo-finish":this.trigger("stop");break;case"yandex-started":this.trigger("play"),this._sendMessage({method:"setVolume",volume:this.data.volume},i,!0);break;case"yandex-paused":this.trigger("pause");break;case"yandex-resumed":this.trigger("play");break;case"yandex-ended":this.trigger("stop");break;case"yandex-onVolumeChange":a&&a.volume&&this.trigger("volume",a.volume);break;case"unknown-inited":this.trigger("play")}}},t.exports=o},function(t,e,i,n){Mu.blocks.register("visibility-toggle",function(){var t,e,n,a=i(25),s=function(){};return s.init=function(i){t=i.get("dataSrc"),e=Mu.blocks.get("d-track"),n=Mu.blocks.get("popup"),this.domDelegate("click",(function(){var t=Mu.blocks.forElem(this,"visibility-toggle");t.onClick&&t.onClick()})),this.domDelegate("mouseenter",(function(){var t=Mu.blocks.forElem(this,"visibility-toggle");t.onEnter&&t.onEnter()})),this.domDelegate("mouseleave",(function(){var t=Mu.blocks.forElem(this,"visibility-toggle");t.onLeave&&t.onLeave()}))},s.prototype.init=function(){this.$cont=$(this.container),this.$track=this.$cont.closest(".d-track"),this.onLeaveThrottle=a.throttle(500,!0,this.onLeave.bind(this)),$(window).on("scroll",this.onLeaveThrottle)},s.prototype.destroy=function(){$(window).off("scroll",this.onLeaveThrottle)},s.prototype.updateData=function(t){this.data.track&&t.track&&(this.data.track=t.track),this.refresh()},s.prototype.refresh=function(){this.data.track&&(this.$track.toggleClass("d-track_invisible","private"===this.data.track.desiredVisibility),this.$cont.find(".visibility-toggle__icon").replaceWith(Mu.render("visibility-toggle__icon",this.data)))},s.prototype.onClick=function(){var i=this;if(i.data.track){var n=i.data.track;if(n.canPublish){var a="public"===n.desiredVisibility?"private":"public";t.post("ugc-visibility",{trackId:n.id,visibility:a}).then((function(t){"success"===t.status&&(n.desiredVisibility=a,e.onChangeUgcTrackAttr(n.id,"visibility"),i.refresh())}))}else i.showPopup("click")}},s.prototype.showPopup=function(t){var e=$(Mu.render("visibility-toggle__message",{track:this.data.track,type:t}));this.popup?(this.popup.$cont.find(".visibility-toggle__message-content").replaceWith(e.find(".visibility-toggle__message-content").clone()),e.remove()):($(".page-root").append(e),this.popup=new n(e,{modal:!1,persistent:!1,position:{my:"center top+10px",at:"center bottom",of:this.$cont}})),this.popup.show(),this.popup.position()},s.prototype.onEnter=function(){this.popup&&this.popup.isOpen||this.showPopup("hover")},s.prototype.onLeave=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},s}())},function(t,e,i,n){var a=["search","radio","genre","genres","metatag","post","settings","new-releases","new-playlists","chart"];Mu.blocks.register("web-push-popup",function(){var t,e,i,n=function(){};return n.init=function(a){t=a.get("pages"),e=a.get("auth"),i=new Mu.WebPush,t.on("loaded",n.onLoaded.bind(n))},n.onLoaded=function(t){this.uid=e.user.uid,!Mu.settings.uatraits.isMobile&&Mu.WebPush.isAvailable()&&Notification&&"default"===Notification.permission&&n.isAvailableForPage(t)&&this.uid&&i._requestPermissions()},n.isAvailableForPage=function(t){return-1!==a.indexOf(t.name)},n}())},function(t,e,i,n){var a,s=i(581);Mu.blocks.register("wizard-item",((a=function(){}).init=function(){this.domDelegate("click",(function(){var t=Mu.blocks.forElem(this,"wizard-item");t.container.classList.toggle("wizard-item_selected"),t.expanded||t.expand()}))},a.prototype.flyInto=function(t,e,i){var n=$(this.container),a=t.container.getBoundingClientRect();n.toggleClass("wizard-item_moved",!0);var s=n.find(".wizard-item__selection")[0],o=s.getBoundingClientRect();return s.style.transitionDelay=.3*(i?e:1)+"s",s.style.transform="translate("+(a.left-o.left)+"px, "+(a.top-o.top)+"px) scale("+a.height/o.height+")",s.addEventListener("transitionend",(function(){this.style.display="none",t.ripple()}),!0),s},a.prototype.expand=function(){var t=this.data.similar;if(t){var e=t.reduce((function(t,e,i){return t+=s({data:e,type:"artist",index:i})}),""),i=$(e);Mu.blocks.initPendingBlocks(i[0]),i.toggleClass("wizard-item_emerging",!0),i.insertAfter(this.container);var n=i[i.length-1].getBoundingClientRect(),a=$(this.container).scrollParent(),o=a[0].getBoundingClientRect();n.bottom>o.bottom&&a.animate({scrollTop:a[0].scrollTop+n.bottom-o.bottom});for(var r=this.container.getBoundingClientRect(),l=0;l<i.length;l++){var c=i[l],d=c.getBoundingClientRect();c.style.transform="translate("+(r.left-d.left)+"px, "+(r.top-d.top)+"px) scale(0.1)"}this.expanded=!0,setTimeout((function(){i.toggleClass("wizard-item_emerging",!1);for(var t=0;t<i.length;t++)i[t].style.transform=""}),1)}},a))},function(t,e,i,n){var a,s;t.exports=(a=i(402),s=i(582),function(t){var e="",i=s.wizardItemClass(t),n=s.wizardItemTitle(t),o=s.wizardItemBgColor(t),r=s.wizardItemTransitionDelay(t);return e+='<div class="'+__escape(i)+'" style="'+__escape(r)+'" data-b="'+__escape(Mu.dotBlockRoot(t.data,"wizard-item"))+'"> <div class="wizard-item__circle" style="'+__escape(o)+"; background-image: url('"+__escape(a(t.data.cover,200))+'\')"></div> <div class="wizard-item__title"> '+__escape(n)+' </div><div class="wizard-item__selection"></div></div>'})},function(t,e,i,n){t.exports={wizardItemClass:function(t){var e=["wizard-item"];switch(t.type){case"genre":e.push("wizard-item_genre");break;case"artist":e.push("wizard-item_artist")}return t.data.liked&&e.push("wizard-item_selected"),e.join(" ")},wizardItemTitle:function(t){var e;switch(t.type){case"genre":e=t.data.title;break;case"artist":e=t.data.name}return e},wizardItemBgColor:function(t){return t.data.color?"background-color: "+t.data.color:""},wizardItemTransitionDelay:function(t){return"transition-delay:"+(t.index>20?1:.05*t.index)+"s"}}},function(t,e,i,n){var a,s=Mu&&Mu.utils.promiseTransitioned;Mu.blocks.register("wizard-me",((a=function(){}).prototype.ripple=function(){var t=this.container;t.classList.remove("wizard-me_ripple"),setTimeout((function(){t.classList.add("wizard-me_ripple")}),30)},a.prototype.fill=function(t){if(t!==this.percent){var e=this.container,i=$(e);switch(t){case 0:100===this.percent?(i.removeClass("wizard-me_100"),s(e).then((function(){i.removeClass("wizard-me_50")}))):i.removeClass("wizard-me_50 wizard-me_67 wizard-me_83");break;case 50:i.addClass("wizard-me_50"),i.removeClass("wizard-me_67 wizard-me_83");break;case 67:i.addClass("wizard-me_67"),this.percent>67&&i.removeClass("wizard-me_"+this.percent);break;case 83:i.addClass("wizard-me_83"),this.percent>83&&i.removeClass("wizard-me_"+this.percent);break;case 100:0===this.percent?(i.addClass("wizard-me_50"),s(e).then((function(){i.addClass("wizard-me_100")}))):i.addClass("wizard-me_67 wizard-me_83 wizard-me_100")}this.percent=t}},a.prototype.runFinalAnim=function(){var t=this.container,e=t.parentNode.parentNode,i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.left-i.left+(n.width-i.width)/2,o=n.top-i.top+(n.height-i.height)/2,r=Math.sqrt(a*a+o*o),l=Math.atan2(o,a)-20*Math.PI/180;return a=r*Math.cos(l),o=r*Math.sin(l),t.style.transform="rotate(20deg) translate("+a+"px, "+o+"px) rotate(-20deg)",t.classList.add("wizard-me_final0"),s(t).then((function(){return t.classList.add("wizard-me_final1"),s(t)})).then((function(){return t.classList.add("wizard-me_final2"),s(t)}))},a))},function(t,e,i,n){var a,s,o,r;Mu.blocks.register("z-media",(s=$(window),o=$("meta[name='viewport']"),r=function(){},Mu.eventize(r),r.mobile="pc"!==ya.music.info.platform.type,r.blacklisted="ucbrowser"===ya.music.info.browser.name,r.init=function(){if(r.landscape=null,r.sidebar=null,a=$(".page-root"),r.mobile?($("body").addClass("browser-mobile"),r.setViewport(795,!0)):$("body").addClass("browser-desktop"),r.blacklisted)return r.landscape=!0,r.sidebar=!0,r.trigger("landscape",!0),r.trigger("sidebar",!0),void r.setViewport(1024,!0);s.on("resize",r.changeViewport),r.changeViewport()},r.changeViewport=function(){var t=r.mobile?500:795,e=r.mobile?795:1024,i=screen.width>t&&screen.width/screen.height>1;r.landscape!==i&&(r.landscape=i,r.setViewport(i?e:t,i),r.trigger("landscape",i));var n=a.outerWidth()>=795;r.sidebar!==n&&(r.sidebar=n,r.trigger("sidebar",n))},r.setViewport=function(t,e){if(screen){var i=(e?Math.max:Math.min)(screen.width,screen.height)/t;o.attr("content","width="+t+", minimum-scale="+i+", maximum-scale="+i+", initial-scale="+i+", user-scalable=0")}},r))},function(t,e,i,n){i(5);const a=i(586),s=i(754),o=i(756),r={},l=function(t){try{Object.assign(r,t)}catch(t){console.log(t)}};l(i(757)),l(i(769)),l(i(1006)),t.exports={dots:r,pages:a,index:s,error:o}},function(t,e,i,n){e["../pages/404/page-404.js"]=i(587),e["../pages/500/page-500.js"]=i(588),e["../pages/album/page-album.js"]=i(589),e["../pages/apartment/page-apartment.js"]=i(621),e["../pages/artist/page-artist.js"]=i(622),e["../pages/artists/page-artists.js"]=i(625),e["../pages/autoplaylist/page-autoplaylist.js"]=i(626),e["../pages/cobain/page-cobain.js"]=i(627),e["../pages/entities/page-entities.js"]=i(629),e["../pages/fm/page-fm.js"]=i(630),e["../pages/hmac/page-hmac.js"]=i(631),e["../pages/import/page-import.js"]=i(632),e["../pages/joydivision/page-joydivision.js"]=i(633),e["../pages/kids/page-kids.js"]=i(634),e["../pages/label/page-label.js"]=i(636),e["../pages/main/page-main.js"]=i(637),e["../pages/metatag/page-metatag.js"]=i(638),e["../pages/moana/page-moana.js"]=i(673),e["../pages/non-music/page-non-music.js"]=i(674),e["../pages/personal/page-personal.js"]=i(675),e["../pages/personal-top2017/page-personal-top2017.js"]=i(676),e["../pages/personal-top2018/page-personal-top2018.js"]=i(678),e["../pages/playlist/page-playlist.js"]=i(679),e["../pages/popup-sequence/popup-sequence.js"]=i(700),e["../pages/popup-wizard/popup-wizard.js"]=i(701),e["../pages/post/page-post.js"]=i(708),e["../pages/predictions/page-predictions.js"]=i(709),e["../pages/radio/page-radio.js"]=i(712),e["../pages/search/page-search.js"]=i(713),e["../pages/settings/page-settings.js"]=i(714),e["../pages/sidebar-500/sidebar-500.js"]=i(715),e["../pages/sidebar-album/sidebar-album.js"]=i(716),e["../pages/sidebar-artist/sidebar-artist.js"]=i(718),e["../pages/sidebar-order-info/sidebar-order-info.js"]=i(719),e["../pages/sidebar-playlist/sidebar-playlist.js"]=i(720),e["../pages/sidebar-track/sidebar-track.js"]=i(721),e["../pages/style-guide/page-style-guide.js"]=i(724),e["../pages/tag/page-tag.js"]=i(725),e["../pages/travel/page-travel.js"]=i(726),e["../pages/users/page-users.js"]=i(741),e["../pages/wizard/page-wizard.js"]=i(753)},function(t,e,i,n){var a=function(){this.templateName="page-404"};a.prototype.fetchData=function(){return Promise.resolve({genres:Mu.genres.structure||{},target:"vk"===Mu.settings.module?"_blank":""})},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("404",a),t.exports=a},function(t,e,i,n){var a=0,s=function(t){this.templateName="page-500",this.error=t.error,this.brokenPage=t.brokenPage};s.prototype.fetchData=function(){var t={genres:Mu.genres.structure||{},error:this.error,debug:Mu.settings.isDev};return Mu.settings.isDev&&console.error(this.error),Promise.resolve(t)},s.prototype.onRender=function(){this.$reloadLink=$(this.container).find(".link_reload"),this.$reloadLink.on("click",this.tryReload)},s.prototype.tryReload=function(){a++>2?location.reload():Mu.navigation.reload()},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("500",s),t.exports=s},function(t,e,i,n){let a,s,o,r,l,c,d,u,p,h,_;const m=i(73),g=i(590),f=i(79),y=i(284),v=i(285),b=i(69),k=i(591),w=i(615),x=i(616),M=["about","track-list"],T=i18n("page-album","[feature/mfront-4296]Пауза"),S=i18n("page-album","Слушать");var L=function(t){if(this.query=t.query||{},this.albumId=t.album,this.trackId=t.track,this.templateName="page-album",this.play=1==+t.query.play,this.sortSelector=void 0,this.trackId){const t=this.albumId?`${this.trackId}:${this.albumId}`:this.trackId;this.sidebar={name:"track",param:{track:t}}}this.currSelected=[]};L.init=function(t){a=t.get("seq"),s=t.get("dataSrc"),o=t.get("navigation"),r=t.get("layout"),l=Mu.Storage.create("localStorage"),c=t.get("blocks").get("cover-popup"),d=t.get("adapter"),u=t.get("metrika"),p=t.get("pages"),h=t.get("auth"),_=t.get("playbackProgress")},L.prototype.fetchData=function(t){const e=this;let i={album:this.albumId};return this.albumId&&"0"!=this.albumId||(i={byTrack:this.trackId}),this.trackId&&(i.currentTrackId=this.trackId),t.get("album",i,{nocache:!0}).then((function(i){if(void 0!==o&&i.redirected){let t="/album/"+i.id;e.isExistingTrack(e.trackId,i.volumes)&&(i.trackReplaced&&(e.trackId=i.trackReplaced),i.lyric&&(e.lyric=i.lyric),t+="/track/"+e.trackId),o.pushState(f(t,g(e.query)),!0)}const n={},a=e.isExistingTrack(e.trackId,i.volumes);if(a)n.trackId=e.trackId,isNaN(parseInt(a))||(n.countTracks=a+1);else{if(void 0!==o)return t.get("track",{track:e.trackId}).then((function(t){if(e.trackId=t.track&&t.track.realId,e.isExistingTrack(e.trackId,i.volumes)){n.trackId=e.trackId;const t=`/album/${i.id}/track/${e.trackId}`;o.pushState(f(t,g(e.query)),!0)}else o.pushState(f("/album/"+i.id,g(e.query)),!0);return n.dir=e.query.dir,n.activeTab=e.query.activeTab,Function.mixin(n,i)}));if(void 0===o&&e.trackId)return t.get("track",{track:e.trackId}).then((function(t){return e.trackId=t.track&&t.track.realId,e.isExistingTrack(e.trackId,i.volumes)&&(n.trackReplaced=e.trackId),n.dir=e.query.dir,n.activeTab=e.query.activeTab,n.redirected=!0,Function.mixin(i,n)}))}return n.dir=e.query.dir,n.activeTab=e.query.activeTab,Function.mixin(n,i)}))},L.prototype.isExistingTrack=function(t,e){if(t=parseInt(t,10))for(const i in e){const n=e[i];for(let e=0;e<n.length;e++)if(n[e].id==t)return!(e>=150)||e}return!1},L.prototype.setSelected=function(t){const e=$(this.container),i=[];let n;n=t.target&&t.target.$cont?t.target.$cont[0]:t.target.container;const a=$(n).attr("data-tab"),s=$(n).attr("data-id"),o=$(n).attr("data-select-id");if("about"===a){const t=e.find(`.page-album__tab-section[data-nav-name="about"] .d-track[data-id="${s}"]`),n=e.find(`.page-album__tab-section[data-nav-name="track-list"] .d-track[data-select-id="${s}"]`);for(let e=0;e<t.length;e++)i.push(t[e]);for(let t=0;t<n.length;t++)i.push(n[t])}else if("track-list"===a){const t=e.find(`.page-album__tab-section[data-nav-name="about"] .d-track[data-id="${o}"]`);i.push(n);for(let e=0;e<t.length;e++)i.push(t[e])}else i.push(n);const r=[];for(let t=0;t<i.length;t++)r.push(Mu.blocks.forElem(i[t]));if(this.currSelected.length===r.length&&this.currSelected[0]===t.target)return;const l=!!this.currSelected.length;if(this.currSelected.length)for(let t=0;t<this.currSelected.length;t++)this.currSelected[t].setSelected(!1);this.currSelected=r;for(let t=0;t<this.currSelected.length;t++)this.currSelected[t].setSelected(!0);t.target.openSidebar(!0,l,this.data)},L.prototype.getContext=function(){const t=this.data,e=Array.prototype.concat.apply([],this.data.volumes).map((function(e){return{album:t,track:e}})),{title:i}=this.data;return{id:"album:"+t.id,entries:e,shortTitle:i,title:i18n("page-album","Альбом «%1»",i),href:"/album/"+t.id,album:t}},L.prototype.onRender=function(){const t=this,e=$(this.container),{isPremiere:i,sortOrder:n,dir:r,type:l,activeTab:c}=t.data,d="podcast"===this.data.type||"audiobook"===this.data.type;if(!r&&n&&"podcast"===l){const t=window.location.pathname+`${window.location.search?window.location.search+"&":"?"}dir=${n}`;o.pushState(t,!0)}if(d&&(!c||!M.includes(c))){const e="activeTab=";let i;if(!M.includes(c)&&location.search.includes(e)){const t=location.href.split(e),n=t[0],a=t[1].split("&");i=n+(e+"about"+(a.length>1?"&"+a[1]:""))}else i=location.href+`${location.search?"&":"?"}${e}about`;t.query=Object.assign({},t.query,{activeTab:"about"});const n=new URL(i),a=n.origin+(n.port?":"+n.port:"");i=i.replace(a,""),o.pushState(i,!0)}t.$title=e.find(".page-album__title"),t.$titleLink=e.find(".page-album__title"),t.$duplicates=e.find(".page-album__subtitle_duplicates"),t.$artists=e.find(".d-artists-many"),t.$desc=e.find(".page-album__desc"),t.$tabItemTrackList=e.find(".page-album__tabs-item[data-nav-name='track-list']"),t.$listenButtonText=e.find(".button2__label"),t.$listenButton=e.find(".button2"),t.delegate("album.click",this.setSelected),t.delegate("track.click",this.setSelected),t.delegate("button-play.getContext",this.getContext),t.delegate("button-play.click",(function(e){if(!a.isPlaying()){y(t.data.type,t.data.genre,a);if(!(e.target.$cont[0]===t.$listenButton[0]))return;const{resumeFrom:i,volumes:n,type:s}=t.data,o=a.getCurrent();v(i,n[0],o,a,t=>a.play(t)),i&&("audiobook"===s?a.togglePause():setTimeout(()=>{a.isPlaying()||a.togglePause()},1e3))}})),t.delegate("lightlist.getContext",t.getContext),t.delegate("lightlist.delete",t.onDeleteTrack),t.delegate("lightlist.dragstart",t.onDragStart),t.delegate("lightlist.dragend",t.onDragEnd),e.on("click",".d-generic-page-head .entity-cover:not(.entity-cover_no-cover)",t.onCoverClick.bind(t)),e.on("click",".page-album__version",(function(){t.$duplicates.length>0&&$("html, body").animate({scrollTop:t.$duplicates.offset().top},150)})),t.activeTabItem=e.find(`.page-album__tabs-item[data-nav-name='${this.query.activeTab}']`),t.activeTabItem.addClass("typo-nav typo-nav_contrast current");if(e.find(`.page-album__tab-section[data-nav-name='${this.query.activeTab}']`).addClass("page-album__tab-section_active"),t.changeTab=t.changeTab.bind(this),this.data.activeTabItem||(this.data.activeTabItem=e.find(".page-album__tabs-item.current")),e.on("click",".page-album__tabs-item",e=>{const i=$(e.target);t.changeTab(i)}),e.on("click",".page-album__last-podcasts-description",()=>{const e=$(window);t.changeTab(t.$tabItemTrackList),e.scrollTop(0,0)}),"audiobook"===t.data.type){this.computeButtonText();let e=-1,i=!1;a.on(Mu.PlayFlow.EVENT_PROGRESS,t=>{if(!a.isPlaying()&&e!==t.position){e=t.position;const i=a.getCurrent();i.streamProgress?i.streamProgress.endPositionSec=t.position:i.streamProgress={endPositionSec:t.position},this.computeButtonText(i)}}),a.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,e=>{if(e&&!i)t.data.isAlsoPlay=!0,t.setButtonText(T);else{const e=a.getCurrent();t.computeButtonText(e)}}),a.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,()=>{i=!0;const e=a.getCurrent();t.computeButtonText(e)}),a.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,()=>{i=!1,t.setButtonText(T)})}if("podcast"!==t.data.type&&"audiobook"!==t.data.type&&!i&&t.data.genre&&s.get("top",{genre:this.data.genre,filter:"albums"}).then((function(e){e.album=t.data;const i=$(window),n=i.scrollTop(),a=$(k(e));$(t.container).find(".page-album__top").replaceWith(a),i.scrollTop(n)})),"podcast"===t.data.type||"audiobook"===t.data.type||i||!t.data.artists||1!==t.data.artists.length||t.data.artists[0].various||s.get("other-artist-albums",{artistId:t.data.artists[0].id}).then((function(e){if(0===e.length)return;const i={album:t.data,artistId:t.data.artists[0].id,otherArtistAlbums:e},n=i.album.id||i.album.duplicates.id,a=[];for(let t=0;t<i.otherArtistAlbums.length;t++)i.otherArtistAlbums[t].id!=n&&a.push(i.otherArtistAlbums[t]);i.otherArtistAlbums=a;const s=$(window),o=s.scrollTop(),r=$(w(i));$(t.container).find(".page-album__other-artist-albums").replaceWith(r),s.scrollTop(o)})),"podcast"!==t.data.type&&"audiobook"!==t.data.type||i||s.get("related-content",{album:t.data.id}).then((function(e){if(e.blocks&&0===e.blocks)return;const i=$(x({relatedContent:e.blocks||[],itemsType:t.data.type||""}));$(t.container).find(".page-album__related-content").replaceWith(i)})),"podcast"===t.data.type){var h=e.find(".d-select.page-album__sort");this.sortSelector=Mu.blocks.forElem(h.get(0),"d-select"),this.sortSelector&&(this.sortSelector.on("toggle",(function(t){t.state&&u.goal("podcast_sort_tapped")})),this.sortSelector.on("change",(function(e){var i=e.value,n=Object.assign({},t.query),s="asc"===i.id?"oldest first":"newest first";n.dir=i.id,u.goal("podcast_sort_selected",{type:s}),o.navigateTo(f(document.location.pathname,g(n))),a.setSort(i.id,t.data.id)})))}0===this.data.bests.length&&e.find(".page-album__best-tracks").css("display","none"),this.onLoaded=this.onLoaded.bind(this),this.onUnloaded=this.onUnloaded.bind(this),this.onMarkAlbumProgress=this.onMarkAlbumProgress.bind(this),p.on("loaded",this.onLoaded),p.on("unloaded",this.onUnloaded),_.on(Mu.PlaybackProgressSender.MARK_ALBUM_FINISHED,this.onMarkAlbumProgress),_.on(Mu.PlaybackProgressSender.MARK_ALBUM_UNFINISHED,this.onMarkAlbumProgress)},L.prototype.changeTab=function(t){const e=$(this.container),i=t.attr("data-nav-name"),n=window.location.pathname,a=Object.assign({},this.query,{activeTab:i});this.query=Object.assign({},this.query,{activeTab:i}),o.pushState(f(n,a),!0),this.data.activeTabItem.removeClass("typo-nav typo-nav_contrast current"),t.addClass("typo-nav typo-nav_contrast current"),this.data.activeTabItem=t;const s=e.find(".page-album__tab-section.page-album__tab-section_active"),r=e.find(`.page-album__tab-section[data-nav-name='${i}']`);s.removeClass("page-album__tab-section_active"),r.addClass("page-album__tab-section_active")},L.prototype.onShow=function(){if(void 0!==o&&this.data.redirected){let t="/album/"+this.data.id;this.isExistingTrack(this.data.trackReplaced,this.data.volumes)&&(this.trackId=this.data.trackReplaced,t+="/track/"+this.trackId),o.pushState(f(t,g(this.query)),!0)}if(!this.trackId){const t=$(this.container).find(".d-track").first();this.playTrack(t)}if(!this.trackId||m().serverSide)return;const t=this.openTrack(this.trackId);if(!t)return;this.playTrack(t.$cont),r.retainState();const e=$(t.container);e.toggleClass("track_filled",!0),setTimeout((function(){const i=l.getItem("iframe_like");l.setItem("iframe_like","");i==`${t.data.track.id}:${t.data.track.albums[0].id}`&&setTimeout((function(){t.$cont.find(".d-like").click()}),1),e.toggleClass("track_non-filled",!0),e.toggleClass("track_filled",!1)}),300),this.currSelected.length&&this.currSelected[0].openSidebar(!0,!1,this.data)},L.prototype.openTrack=function(){const t=$(this.container).find(".d-track");for(let e=0;e<t.length;e++){const i=Mu.blocks.forElem(t[e]);if(i&&i.data&&i.data.track&&i.data.track.id===this.trackId)return this.setSelected({target:i}),i}return null},L.prototype.playTrack=function(t){this.play&&d.onReady(()=>{d.isPlaying()||t.find(".button-play").click()})},L.prototype.onCoverClick=function(){c.show({type:"album",data:this.data})},L.prototype.onLoaded=function(){$(".page-album__tab-section").addClass("page-album__tab-section_hidden"),"page-album"===this.templateName&&this.data&&"podcast"===this.data.type&&u.count("non-music-album-seen"),this.data.available&&!this.data.availablePartially||h.isPremium()||u.count({"Показ предложения подписки":{from:"exclusiveContentAlbumPage"}},"Оплата подписки"),this.onShow()},L.prototype.onMarkAlbumProgress=function(t){this.data.id===t.albumId&&o.reload()},L.prototype.onUnloaded=function(){this.sortSelector&&this.sortSelector.destroy(),p.off("loaded",this.onLoaded),p.off("unloaded",this.onUnloaded),_.off(Mu.PlaybackProgressSender.MARK_ALBUM_FINISHED,this.onMarkAlbumProgress),_.off(Mu.PlaybackProgressSender.MARK_ALBUM_UNFINISHED,this.onMarkAlbumProgress)},L.prototype.setButtonText=function(t){this.$listenButtonText.text(t)},L.prototype.formatTime=function(t){let e=t/1e3;e<0&&(e=0);let i=Math.floor(e/3600);e-=3600*i;const n=Math.floor(e/60);return e=Math.floor(e-60*n),i?(i&&n>=30&&n<40?i+=.5:i&&n>=40&&(i+=1),1.5===i?i18n("page-album","[feature/mfront-4023]Еще 1.5 часа"):b(i,i18n("page-album","[feature/mfront-4023]Еще %s час|Еще %s часа|Еще %s часов|"))):n>1?b(n,i18n("page-album","[feature/mfront-4023]Еще %s минута|Еще %s минуты|Еще %s минут|")):i18n("page-album","[feature/mfront-4296]Еще 1 минута")},L.prototype.computeButtonText=function(t){const e=this.data&&this.data.lastListened||{},i=this.data&&this.data.resumeFrom||{},n=this.data&&this.data.volumes&&this.data.volumes[0]||[],a=n[0]||{},s=n.slice(-1)||{},o=this.data.isAlsoPlay||!1;if(!e.trackId&&!i.trackId&&!o)return void this.setButtonText(S);if(e.trackId==s.id&&i.trackId==a.id&&!o)return void this.setButtonText(S);if(!o){const t=e&&e.trackId||0,i=n.find(e=>e.id==t)||{},a=n.findIndex(e=>e.id==t),s=1e3*(e&&e.endPositionSec||0),o=i.durationMs-s,r=n.slice(a+1).reduce((t,e)=>t+=e.durationMs,o);return void this.setButtonText(this.formatTime(r))}const r=t&&t.id||0,l=1e3*(t&&t.streamProgress&&t.streamProgress.endPositionSec||0),c=t&&t.durationMs||0;if(r){const t=c-l,e=n.findIndex(t=>t.id===r);if(-1===e)return;const i=n.slice(e+1).reduce((t,e)=>t+=e.durationMs,t);this.setButtonText(this.formatTime(i))}else this.setButtonText(T)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("album",L),t.exports=L},function(t,e,i,n){t.exports=t=>Object.keys(t).reduce((e,i)=>(t[i]&&(e[i]=t[i]),e),{})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(592),s=i(593),o=i(594),r=i(610),function(t){var e='<div class="page-album__top"><div class="page-album__subtitle">'+r.render({title:i18n("page-album","Новые альбомы жанра «%1»",a(t.genre,!0)),link:s(t.genre)+"/albums",linkTitle:i18n("page-album","[feature/mfront-1599-more]Смотреть всё"),showMoreLink:!0,seoTag:"h3"})+'</div><div class="page-album__top-albums" data-card = "genre_albums">',i=t.album.duplicates||[];i.map((function(t){return t.id})),t.album.id;for(var n,l=0;l<t.albums.filter((function(e){return e.id!==t.album.id&&-1===i.indexOf(e.id)})).slice(0,4).length;l++)n=t.albums.filter((function(e){return e.id!==t.album.id&&-1===i.indexOf(e.id)})).slice(0,4)[l],e+=o.render({album:n});return e+="</div></div>"})},function(t,e,i,n){t.exports=i(181)},function(t,e,i,n){t.exports=i(183)},function(t,e,i,n){var a={render:i(595)};clientSide&&(a.controller=i(609)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_;t.exports=(a=i(411),s=i(596),o=i(151),i(599),r=i(601),l=i(604),c=i(379),d=i(318),u=i(607),p=i(293),i(267),h=i(389),_=i(608),function(t){var e="",i=function(t){return"&zwj;"+("explicit"===t.contentWarning?a.render({type:t.type}):"")},n=t.album||t||{},m=t.chartPosition||n.chartPosition;const g=t.listIndex+1;if(t.isPlaceholder)e+=s.render({type:"album",class:"album"});else if("podcast"===n.type){e+='<div class="album '+__escape(_.classes(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"album",!0))+'" data-id="'+__escape(g)+'">'+r.render({album:n})+h.render({album:n,shouldShowBookmateBadge:_.shouldShowBookmateBadge(n)})+' <div class="album__bottom"> ',m&&(e+=' <div class="album__bottom-left album__chart-position typo-main"> <div class="album__chart-position-number">'+m.position+'</div> <div class="d-track__chart-progress '+__escape("d-track__chart-progress_"+m.progress)+'"> </div> </div> '),e+=' <div class="album__bottom-right"> <div class="album__title deco-typo typo-main" title="'+__escape(_.tooltip(t))+'"> '+o.render({href:"/album/"+n.id,content:function(t,e){return' <span class="no-breakable-explicit-title"> <span class="no-breakable-explicit-title__text">'+t.title+"</span>"+(e?i(t):"")+" </span>"}(n,!0),class:"album__caption"})+" </div> ";var f=t.description||n.shortDescription;e+=" ",f&&(e+=' <div class="album__description deco-typo-secondary typo-add deco-text-overlay deco-text-overlay_small" title="'+f+'" > '+f+" </div> "),e+=" ";var y=(n.userNewReleases||[]).length;e+=' <div class="album__podcast-info typo-add ',e+=y?"deco_with-marker":"deco-typo-secondary",e+='"> ',e+=y?" "+__escape(p(n.userNewReleases.length,i18n("album","[feature/new-episodes-counter]%s новый выпуск|%s новых выпуска|%s новых выпусков")))+" ":" "+d.render({theme:"spin",count:n.likesCount||0,size:"tiny",buttonish:!0,album:n,emptyText:i18n("album","[feature/podcast-subscribers]Подписаться")})+" ",e+=" </div> </div> </div></div>"}else e+='<div class="album '+__escape(_.classes(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"album",!0))+'" data-id="'+__escape(g)+'">',t.hideActions?e+=c.render({type:"album",item:n,theme:"withoutButton"}):e+=r.render({album:n}),t.showAsLink&&(e+='<a href="/album/'+__escape(n.id)+'" class="album__link" ></a>'),e+=h.render({album:n,size:"embigenned"===t.theme&&"Giant",shouldShowBookmateBadge:_.shouldShowBookmateBadge(n)})+' <div class="album__bottom"> ',m&&(e+=' <div class="album__bottom-left album__chart-position typo-main"> '+m.position+" </div> "),e+=' <div class="album__bottom-right"> <div class="album__title deco-typo typo-main" title="'+__escape(_.tooltip(t))+'"> '+o.render({href:"/album/"+n.id,text:n.title,class:"album__caption"})+" "+i(n)+" </div> ","embigenned"===t.theme||t.hideArtist||(e+=" "+function(t){return'<div class="album__artist deco-typo-secondary typo-add" title="'+__escape(t.tooltip)+'">'+l.render({artists:t.artists,style:"muted"})+"</div>"}(_.albumArtists(t))+" "),e+=" ",t.hideDetails||(e+=' <div class="album__year deco-typo-secondary typo-add"> ',_.showYear(t)&&(e+=" ","embigenned"===t.theme&&n.releaseDate?e+=" "+__escape(u(n.releaseDate,"%d %B %Y"))+" ":n.year&&(e+=" "+__escape(n.year)+" "),e+=" "),e+=" ","single"===n.type&&(e+=" ",!t.hideYear&&n.year&&(e+=" "+Mu.render("separator")+" "),e+=' <span class="album__type"> '+i18n("album","сингл")+" </span> "),e+=" ",n.version&&(e+=" ",(!t.hideYear&&n.year||"single"===n.type)&&(e+=" "+Mu.render("separator")+" "),e+=' <span class="album__version"> '+__escape(n.version)+" </span> "),e+=" </div> "),e+=" </div> </div></div>";return e})},function(t,e,i,n){var a={render:i(597)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(598),function(t){return'<div class="d-placeholder '+__escape(a.class(t))+'"></div>'})},function(t,e,i,n){var a={track:4,playlist:3,"track-table":6};t.exports={class:function(t){var e=t.type?" d-placeholder_type_"+t.type:"";return e+=t.class?" "+t.class:"",a[t.type]&&(e+=" d-placeholder_variation_"+Math.ceil(Math.random()*a[t.type])),e}}},function(t,e,i,n){var a={render:i(600)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(68),s=i(71),o=i(151),function(t){var e="",i=t.fontStyle||"typo-add";return e+='<div class="stamp '+__escape(t.class||"")+" deco-typo-secondary "+__escape(i)+'" data-b='+__escape(Mu.dotBlockRoot(t,"stamp",!0))+">",t.entity?e+=function(t){var e="";return t.href&&t.name?e+='<span class="stamp__entity">'+__escape(t.entity)+'</span><a class="stamp__entity-name link link_mute" href="'+__escape(t.href)+'">'+__escape(t.name)+"</a>":t.href?e+=o.render({text:t.entity,href:t.href,class:"stamp__entity",style:"muted"}):e+="<"+(t.seoTag||"span")+' class="stamp__entity">'+__escape(t.entity)+"</"+(t.seoTag||"span")+">",e}(t):(t.href?e+=o.render({text:t.title,href:t.href,class:"stamp__title",style:"muted"}):t.title&&(e+='<span class="stamp__title">'+__escape(t.title)+"</span>"),e+='<div class="stamp__addons">',t.duration&&(e+=function(t){return'<span class="stamp__duration">'+a(t,"medium","&nbsp;")+"</span>"}(t.duration)),t.date&&(e+=function(t){return'<span class="stamp__date">'+s(t.date,t.preposition)+"</span>"}(t)),e+="</div>"),e+="</div>"})},function(t,e,i,n){var a={render:i(602)};clientSide&&(a.controller=i(603)),t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(318),s=i(515),o=i(379),function(t){var e='<div class="d-hover" data-b="'+Mu.dotBlockRoot(t,"d-hover",!0)+'"><div class="d-hover__actions">';return t.album?e+=a.render({album:t.album,theme:"hover"})+o.render({type:"album",item:t.album,class:"d-hover__play"})+s.render({album:t.album,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}):t.artist?e+=a.render({artist:t.artist,theme:"hover"})+o.render({type:"artist",item:t.artist,tracks:t.tracks,trackIds:t.trackIds,class:"d-hover__play"})+s.render({artist:t.artist,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}):t.playlist&&(3!==t.playlist.kind&&(e+=a.render({playlist:t.playlist,theme:"hover"})),e+=o.render({type:"playlist",item:t.playlist,class:"d-hover__play"}),3!==t.playlist.kind&&(e+=s.render({playlist:t.playlist,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}))),e+='</div><div class="d-hover__overlap"></div></div>'})},function(t,e,i,n){var a;Mu.blocks.register("d-hover",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$share=this.$cont.find(".d-share-popup"),this.$like=this.$cont.find(".d-like"),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$cont.closest(".album").size()&&(this.type="album"),this.$cont.closest(".artist").size()&&(this.type="artist"),this.$cont.closest(".playlist").size()&&(this.type="playlist"),this.$share.size()&&(this.delegate("share.popup-showed",this.show),this.delegate("share.popup-hided",this.hide)),this.delegate("force-auth-tooltip.showed",this.show),this.delegate("force-auth-tooltip.hided",this.hide)},a.prototype.show=function(){this.type&&this.$cont.closest("."+this.type).addClass(this.type+"_active")},a.prototype.hide=function(){this.type&&this.$cont.closest("."+this.type).removeClass(this.type+"_active")},a.prototype.getOwner=function(){return this.$cont.closest("."+this.type).get(0)},a))},function(t,e,i,n){var a={render:i(605)};clientSide&&(a.controller=i(606)),t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=function(t,e){var i="";if(e&&(i+='<span class="deco-typo-secondary',t.class&&(i+=" "+__escape(t.class)),"translucent"===t.style&&(i+=" deco-typo-ternary"),i+='">, </span>'),t.noLink||t.artist.various||!t.artist.id)i+='<span class="deco-typo-secondary ',t.class&&(i+=__escape(t.class)),i+='">',t.artist.name?i+=__escape(t.artist.name):i+=__escape(t.artist),i+="</span>";else{var n=Object.assign({},t,{href:"/artist/"+t.artist.id,text:t.artist.name,title:t.artist.name});i+=a.render(n)}if(t.artist.decomposed)for(var o,r=0;r<t.artist.decomposed.length;r++)o=t.artist.decomposed[r],n=Object.assign({},t,{artist:o}),i+=s(n);return i},o=function(t,e){var i="";if(e&&(i+=", "),t.artist.name?i+=__escape(t.artist.name):i+=__escape(t.artist),t.artist.decomposed)for(var n,a=0;a<t.artist.decomposed.length;a++){n=t.artist.decomposed[a];var s=Object.assign({},t,{artist:n});i+=o(s)}return i},function(t){var e="",i=t.artists;if(i.hasOwnProperty("length")||(i=[i]),i=(i||[]).reduce((function(t,e){return!e.error&&t.push(e),t}),[]),e+='<span class="d-artists d-artists__expanded" data-b="'+__escape(Mu.dotBlockRoot(t,"d-artists",!0))+'">',t.collapseLong){for(var n=0,r=0,l=0;l<i.length;l++){p=i[l];var c=Object.assign({},t,{artist:p});(n+=o(c,l).length)<=70&&r++,r=r||1}if(n>70&&r<i.length-1){var d=i.slice(0,r),u=i.slice(r);for(l=0;l<d.length;l++)p=d[l],c=Object.assign({},t,{artist:p}),e+=s(c,l);for(e+=a.render({class:"my-link d-link_marked deco-link_marked d-artists__read-more",text:i18n("d-artists","[feature/six-artists] и еще %artistCount",{artistCount:u.length})})+'<span class="d-artists__rest"><span class="deco-typo-secondary">, </span>',l=0;l<u.length;l++)p=u[l],c=Object.assign({},t,{artist:p}),e+=s(c,l);e+="</span>"}else for(l=0;l<i.length;l++)p=i[l],c=Object.assign({},t,{artist:p}),e+=s(c,l)}else{var p;for(l=0;l<i.length;l++)p=i[l],c=Object.assign({},t,{artist:p}),e+=s(c,l)}return e+="</span>"})},function(t,e,i,n){var a;Mu.blocks.register("d-artists",((a=function(){}).prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",".d-artists__read-more",this.showAll.bind(this)),this.$cont.removeClass("d-artists__expanded")},a.prototype.showAll=function(){this.$cont.addClass("d-artists__expanded")},a))},function(t,e,i,n){t.exports=i(70)},function(t,e,i,n){var a=i(69);t.exports={classes:function(t){var e=[];return t.theme&&e.push("album_theme_"+t.theme),!t.notSelectable&&e.push("album_selectable"),t.album&&"podcast"===t.album.type&&e.push("album_podcast"),t.album&&"audiobook"===t.album.type&&e.push("album_audiobook"),t.class&&e.push(t.class),e.join(" ")},duplicates:function(t){var e=t.duplicates&&a(t.duplicates.length,i18n("album"," + ещё %s альбом| + ещё %s альбома| + ещё %s альбомов|"));return e?" "+e:""},tooltip:function(t){var e=this.duplicates(t),i=t.album||t||{};return i.version?i.title+" ("+i.version+")"+e:i.title+e},getArtists:function(t){return(t.artists||[]).reduce((function(t,e){return e.composer||e.various||t.push(e),t}),[])},getArtistsWithVarious:function(t){return(t.artists||[]).reduce((function(t,e){return e.composer||t.push(e),t}),[])},artistText:function(t){return t.reduce((function(t,e,i){return t+(i?", ":"")+(e=e.data||e).name+(e.decomposed&&e.decomposed.map(t=>t.name||t).join("")||"")}),"")},albumArtists:function(t){var e={},i=t.album||t||{},n=this.getArtists(i),a=this.getArtistsWithVarious(i);return n&&n.length>0?(e.artists=n,e.tooltip=this.artistText(n)):(e.artists=a,e.tooltip=this.artistText(a)),e.noLink=t.noLink,e},showYear:function(t){var e=t.album||t||{};return!t.hideYear&&(e.year||e.releaseDate)},shouldShowBookmateBadge:function(t){const e=Mu&&Mu.authData&&Mu.authData.user;if(!(Mu&&Mu.experiments&&"on"===Mu.experiments.WebBookmateOption&&e))return!1;if(e.hasOptions&&e.hasOptions.includes("bookmate"))return!1;const i=t.availableForPremiumUsers,n=Array.isArray(t.availableForOptions)&&t.availableForOptions.includes("bookmate");return!i&&n}}},function(t,e,i,n){var a,s,o;Mu.blocks.register("album",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);0===$(t.target).closest("a").length&&e&&e.onClick(t)}))},o.prototype.onClick=function(){this.triggerEvent({type:"album.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("album_selected",t)},o.prototype.openSidebar=function(){var t={},e=this.data.album;t.from=s.getCardFrom(this.container,"album"),t.album=e.id;var i=this.closestParent("event");i&&(t.eventId=i.data.id),a.show("album",t)},o))},function(t,e,i,n){var a={render:i(611)};t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(612),e=i(143),n=i(151),a=function(t,e){var i='<div class="d-subhead__title typo typo-h2_bold"><'+(t.seoTag||"h2")+' class="d-subhead__title-main">'+n.render({content:t.title,noHoverColor:!e,class:"d-subhead__title-main"})+"</"+(t.seoTag||"h2")+">";return t.link&&(t.total>t.count||t.showMoreLink)&&(i+=function(t){return""+n.render({class:"d-subhead__show-all typo "+(t.linkClass||""),text:t.linkTitle})}(t)),i+="</div>"};return function(i){var s='<div class="d-subhead '+__escape(i.class||"");i.theme&&(s+=" local-theme-"+__escape(i.theme)),s+='">';var o=i.link!==location.pathname&&(i.total>i.count||i.showMoreLink||i.showAsLink),r=!(i.tabs&&i.tabs.length>1||i.button||!o||i.showAsLink);return s+=n.render({arrow:r,href:o?i.link:null,class:"d-subhead__wrapper"+(o?" deco-link-wrapper":""),content:a(i,o),noHoverColor:!o}),i.tabs&&i.tabs.length>1?s+=t.render({size:"S",items:i.tabs.slice().reverse()}):i.button&&(s+=e.render(i.button)),s+="</div>"}}()},function(t,e,i,n){var a={render:i(613)};clientSide&&(a.controller=i(159)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(614);return function(i){for(var n,a='<nav class="d-button-group deco-button-group'+__escape(e.class(i))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"d-button-group",!0))+'">',s=0;s<e.items(i).length;s++)n=e.items(i)[s],a+=t.render(n);return a+="</nav>"}}()},function(t,e,i,n){var a=["S","M"];t.exports={size:function(t){return a.indexOf(t.size)>-1?t.size:"M"},items:function(t){var e=this.size(t);return t.items.map((function(t){return t.size=a.indexOf(t.size)>-1?t.size:e,t.type="grouped",t}))},class:function(t){var e=t.class?" "+t.class:"",i=this.size(t);if("M"!==i&&(e+=" d-button-group__size_"+i),2===t.items.length&&(e+=" d-button-group__toggle-mode"),t.type){var n=t.type;Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++)e+=" d-button-group__type_"+n[a]+" deco-button-group__type_"+n[a]}return e}}},function(t,e,i,n){var a,s;t.exports=(a=i(594),s=i(610),function(t){var e="";if(t.otherArtistAlbums.length){e+='<div class="page-album__other-artist-albums"><div class="page-album__subtitle">'+s.render({title:1==t.otherArtistAlbums.length?i18n("page-album","Еще один альбом исполнителя"):i18n("page-album","Другие альбомы исполнителя"),link:"/artist/"+t.album.artists[0].id+"/albums",linkTitle:i18n("page-album","[feature/mfront-1599-more]Смотреть всё"),showMoreLink:!0,seoTag:"h3"})+'</div><div class="page-album__other-artist-albums-items" data-card="other_artist_albums">';for(var i,n=0;n<t.otherArtistAlbums.slice(0,4).length;n++)i=t.otherArtistAlbums.slice(0,4)[n],e+=a.render({album:i});e+="</div></div>"}return e})},function(t,e,i,n){var a;t.exports=(a=i(617),function(t){for(var e,i='<div class="page-album__related-content"> ',n=0;n<t.relatedContent.length;n++)e=t.relatedContent[n],i+=" "+a.render({...e,itemsType:t.itemsType,mixClass:"page-album__collapsed-list"})+" ";return i+="</div>"})},function(t,e,i,n){var a={render:i(618)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(594),s=i(619),o=i(293),function(t){var e="",i=t.albums.slice(0,4),n=t.albums.slice(4),r=n.length,l="";"audiobook"===t.itemsType?l=1===r?i18n("collapsed-list","[feature/mfront-4024]Показать ещё одну аудиокнигу"):o(r,i18n("collapsed-list","[feature/mfront-4024]Показать ещё %s аудиокнигу|Показать ещё %s аудиокниги|Показать ещё %s аудиокниг|")):"podcast"===t.itemsType&&(l=1===r?i18n("collapsed-list","[feature/mfront-4024]Показать ещё один подкаст"):o(r,i18n("collapsed-list","[feature/mfront-4024]Показать ещё %s подкаст|Показать ещё %s подкаста|Показать ещё %s подкастов|")));var c=function(t){for(var e,i=' <div class="collapsed-list__items"> ',n=0;n<t.length;n++)e=t[n],i+=" "+a.render({album:e})+" ";return i+=" </div>"};return e+='<section class="collapsed-list '+__escape(t.mixClass||"")+'"> <h2 class="typo typo-h2_bold">'+t.title+"</h2> "+c(i)+" ",r&&(e+=" "+s.render({text:l,html:c(n),class:"collapsed-list__d-more"})+" "),e+="</section>"})},function(t,e,i,n){var a={render:i(620)};t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="d-more '+__escape(e.class||"")+'"data-b="'+__escape(Mu.dotBlockRoot(e,"d-more",!0))+'">'+t.render({size:e.size,text:e.text,type:e.type,rounded:e.rounded})+"</div>"}}()},function(t,e,i,n){var a,s,o,r,l=i(103),c=!1,d=function(t){d.beforeLoading(),this.params=t||{},this.templateName="page-apartment",this.noSidebar=!0,this.noTheme=!0};d.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-width "),$(".footer").css("display","none"))}catch(t){}},d.init=function(t){a=t.get("pages"),s=t.get("dataSrc"),o=t.get("seq"),r=t.get("adapter")},d.prototype.init=function(){},d.prototype.fetchData=function(){var t=new l,e=parseInt(this.params.query.s)||0,i={title:"Песни эпохи покорения космоса",description:"Слушайте и переключайте на Яндекс Музыке",imageNumber:e=e>=1&&e<=12?e:Math.ceil(12*Math.random())};return t.resolve(i),t.promise()},d.prototype.onRender=function(){var t=this;try{window.navigator&&(c=-1===window.navigator.userAgent.toLowerCase().indexOf("msie"))}catch(t){c=!1}t.$cont=$(t.container).find(".page-apartment"),t.$wrapper=t.$cont.find(".page-apartment__wrapper"),t.$content=t.$cont.find(".page-apartment__content"),t.$watches=t.$cont.find(".page-apartment__watch"),t.$pendulum=t.$cont.find(".page-apartment__watch-pendulum"),t.$minuteHand=t.$cont.find(".page-apartment__watch-minute-hand"),t.$hourHand=t.$cont.find(".page-apartment__watch-hour-hand"),t.$radio=t.$cont.find(".page-apartment__radio"),t.$radioBulb=t.$cont.find(".page-apartment__radio-bulb"),t.$radioSlider=t.$cont.find(".page-apartment__radio-slider"),t.$radioControllers=t.$cont.find(".page-apartment__radio-controller"),t.$radioController1=t.$cont.find(".page-apartment__radio-controller-1"),t.$radioController2=t.$cont.find(".page-apartment__radio-controller-2"),t.$table=t.$cont.find(".page-apartment__table"),t.$phone=t.$cont.find(".page-apartment__table-phone"),t.$phoneHandset=t.$cont.find(".page-apartment__table-phone-handset"),t.$newspaper=t.$cont.find(".page-apartment__table-newspaper"),t.$calendar=t.$cont.find(".page-apartment__calendar"),t.$calendarSheet=t.$cont.find(".page-apartment__calendar-sheet"),t.$calendarAction=t.$cont.find(".page-apartment__calendar-action"),t.$cat=t.$cont.find(".page-apartment__cat"),t.$catHead=t.$cont.find(".page-apartment__cat-head"),t.$catBody=t.$cont.find(".page-apartment__cat-body"),t.$catTail=t.$cont.find(".page-apartment__cat-tail"),t.$catBackPaw=t.$cont.find(".page-apartment__cat-back-paw"),t.$catFrontPaw1=t.$cont.find(".page-apartment__cat-front-paw-1"),t.$catFrontPaw2=t.$cont.find(".page-apartment__cat-front-paw-2"),t.$window=t.$cont.find(".page-apartment__window"),t.$windowUfo=t.$cont.find(".page-apartment__window-ufo"),t.$windowUfoAlien=t.$cont.find(".page-apartment__window-ufo-alien"),t.$windowView=t.$cont.find(".page-apartment__window-view"),t.$nyancat=t.$cont.find(".page-apartment__window-nyancat"),t.$nyancatTail=t.$cont.find(".page-apartment__window-nyancat-tail"),t.$nyancatContainer=t.$cont.find(".page-apartment__window-nyancat-container"),t.$info=t.$cont.find(".page-apartment__info"),t.$chair=t.$cont.find(".page-apartment__chair"),t.$carpet=t.$cont.find(".page-apartment__carpet"),t.$chandelier=t.$cont.find(".page-apartment__chandelier"),t.onResize=t.onResize.bind(t),t.onLoaded=t.onLoaded.bind(t),t.onUnloading=t.onUnloading.bind(t),$(window).on("resize",t.onResize),a.on("loaded",t.onLoaded),a.on("unloading",t.onUnloading),t.$radioControllers.on("click",d.playTracklist),t.$phone.on("mouseover",t.phoneHover.bind(t)),t.$cat.on("mouseover",t.catHover.bind(t)),t.$newspaper.on("mouseover",t.newspaperHover.bind(t)),t.$watches.on("mouseover",t.watchesHover.bind(t)),t.$calendarSheet.on("mouseover",t.calendarHover.bind(t)),t.$calendarAction.on("mouseover",t.nyancatAnimation.bind(t)),t.$radioController1.on("mouseenter",t.showInfo.bind(t)),d.onPlay=function(){if(!o.isCommonPlay())if(void 0===d.startPlaying||d.startPlaying){var e=o.context&&o.context.playlist&&o.context.playlist.kind||0;e&&t.$radioControllers.filter('[data-ids*="'+e+'"]').size()&&t.runPlayingAnimation()}else delete d.startPlaying,o.pause()},d.onPause=function(){t.stopPlayingAnimation()},d.onFinished=function(){t.$radioController1.click()},o.on(Mu.PlayFlow.EVENT_SHOW_PLAY,d.onPlay),o.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,d.onPause),o.on(Mu.PlayFlow.EVENT_FINISHED,d.onFinished);try{"pc"!==ya.music.info.platform.type&&t.startMobileMode()}catch(t){}this.runPermanentAnimation()},d.playTracklist=function(){var t=$(this),e=JSON.parse(t.attr("data-ids"));if(e instanceof Array){var i=parseInt(t.data("index"));i=isNaN(i)?0:i+1<e.length?i+1:0,t.data("index",i);var n=e[i],a=t.data("playists")||{};a[n]?d.togglePlayist(a[n]):s.get("playlist",{owner:"music-blog",kinds:n,light:!0,lang:"ru"}).then((function(e){a[n]=e.playlist,t.data("playists",a),d.togglePlayist(e.playlist)}))}},d.togglePlayist=function(t){var e=t.tracks,i=t.trackIds;i instanceof Array||(i=[i]);for(var n=i.map((function(t,i){return e[i]?e[i]:t.toString()})).filter((function(t){return t&&!t.error})),a=0;a<n.length;a++){var s=Math.floor(Math.random()*n.length),r=Math.floor(Math.random()*n.length),l=n[s];n[s]=n[r],n[r]=l}var c={eventId:void 0,from:"web-user_timemachine-playlist-playlist-main",href:"/timemachine",id:"playlist:"+t.owner.login+":"+t.kind,playlist:t,shortTitle:t.title,title:"Плейлист «"+t.title+"»"};o.playTracks(c,n)},d.playCommon=function(t){o.isIdle()||o.isCommonPlay()||(d.startPlaying=o.isPlaying()),r.playCommon("/pages/apartment/mp3/"+t+".mp3?v="+Math.random())},d.prototype.destroy=function(){$(window).off("resize",this.onResize),a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading),o.off(Mu.PlayFlow.EVENT_SHOW_PLAY,d.onPlay),o.off(Mu.PlayFlow.EVENT_SHOW_PAUSE,d.onPause),o.off(Mu.PlayFlow.EVENT_FINISHED,d.onFinished)},d.prototype.onResize=function(){var t=this,e=$(window).width(),i=Math.ceil(100*$(window).height()/900)/100;if(i<1){var n=Math.ceil(900*i);t.$content.css("zoom",i),$("body").css("min-height",n+"px"),$(".page-apartment").css("min-height",n+"px")}else t.$content.css("zoom","1"),$("body").css("min-height","900px"),$(".page-apartment").css("min-height","900px");i>.75&&t.$content.addClass("page-apartment__content_full-size"),t.$info.toggleClass("page-apartment__info_top",e<920),t.$watches.removeClass("page-apartment__watch_left"),t.$calendar.removeClass("page-apartment__calendar_left"),t.$calendar.offset().left+t.$calendar.width()>t.$radio.offset().left+20&&(t.$watches.addClass("page-apartment__watch_left"),t.$calendar.addClass("page-apartment__calendar_left")),t.$cont.css("height","auto"),setTimeout((function(){requestAnimationFrame((function(){t.$cont.height(parseInt($(".page-root").css("min-height")))}))}),1e3)},d.prototype.onLoaded=function(){$(".head-kids").addClass("head_light"),$("body").addClass("body_apartment"),$(".topblock").css("display","none"),$(".footer").css("display","none"),$(window).trigger("resize"),this.$radioController1.click(),this.$windowView.toggleClass("page-apartment__window-view_night",(new Date).getHours()>=18),this.showInfo()},d.prototype.onUnloading=function(){$("body").removeClass("body_apartment"),$(".head-kids").removeClass("head_light"),$(".topblock").removeAttr("style"),$(".footer").removeAttr("style")},d.prototype.startMobileMode=function(){this.$table.css("display","none"),this.$window.css("display","none"),this.$chair.css("display","none"),this.$calendar.addClass("page-apartment__calendar_mobile").removeClass("page-apartment__calendar_left"),this.$watches.addClass("page-apartment__watch_mobile").removeClass("page-apartment__watch_left")},d.getWave=function(t,e,i){return e=e||100,i=i||0,t%=100,t=Math.abs(t),e-Math.abs(e*t/100-e*(100-t)/100)-i},d.getLine=function(t,e,i){return i=i||0,t%=100,(e=e||100)*(t=Math.abs(t))/100-i},d.getLoop=function(t,e,i,n){var a=(e=e||270)+(i=i||90),s=t%((n=n||360)+2*i),o=0;return o=s<=e?s:s>e&&s<a?e-(s-e):e-(a-e)+(s-a),Math.ceil(o)},d.prototype.runPermanentAnimation=function(){var t=this,e=0,i=function(){e+=6,t.$pendulum.css({transform:"rotate("+d.getWave(e,80,40)+"deg)"});var n=new Date;t.$minuteHand.css({transform:"rotate("+360*n.getMinutes()/60+"deg)"}),t.$hourHand.css({transform:"rotate("+360*n.getHours()/12+"deg)"}),t.permanentAnimationWasStopped?delete t.permanentAnimationWasStopped:setTimeout((function(){requestAnimationFrame(i)}),100)};c&&i()},d.prototype.stopPermanentAnimation=function(){this.permanentAnimationWasStopped=!0},d.prototype.runPlayingAnimation=function(){var t=this,e=t.$radioController1.data("deg")||0,i=t.$radioController2.data("deg")||0,n=t.$radioSlider.data("pos")||25,a=0;if(!t.controllersAnimationStarted){var s=function(){t.controllersAnimationStarted=!0,e+=12,i+=12,a+=5,n+=3,t.$radioController1.css({transform:"rotate("+d.getLoop(e,270,270)+"deg)"}),t.$radioController2.css({transform:"rotate("+d.getLoop(i,90,360)+"deg)"}),t.$radioSlider.css({transform:"translateX("+d.getWave(n,160,80)+"px)"}),t.$radioBulb.css({opacity:d.getWave(a,1)}),t.$radioController1.data("deg",e),t.$radioController2.data("deg",i),t.$radioSlider.data("pos",n),t.stopControllersAnimation?(delete t.controllersAnimationStarted,delete t.stopControllersAnimation):setTimeout((function(){requestAnimationFrame(s)}),60)};s()}},d.prototype.stopPlayingAnimation=function(){this.stopControllersAnimation=!0},d.prototype.phoneHover=function(){var t=this,e=0;if(!t.phoneAnimationStarted&&!t.disableHoverAnimation){d.playCommon("phone");var i=function(){t.phoneAnimationStarted=!0,e+=25,t.$phoneHandset.css({transform:"rotate("+d.getWave(e,10,5)+"deg)"}),Math.floor(e/100)<8?setTimeout((function(){requestAnimationFrame(i)}),60):(t.$phoneHandset.css("transform","rotate(0deg)"),delete t.phoneAnimationStarted)};i()}},d.prototype.catHover=function(){var t=this,e=0,i=50,n=0;if(!t.catAnimationStarted&&!t.disableHoverAnimation){t.turnCatToFace(),d.playCommon("cat"),t.$catFrontPaw1.removeClass("page-apartment__cat-front-paw_hidden"),t.$catHead.addClass("page-apartment__cat-head_turned");var a=function(){t.catAnimationStarted=!0,e+=5,i+=5,n+=3,t.$catHead.css({transform:"rotate("+d.getWave(e,13,0)+"deg)"}),t.$catFrontPaw1.css({transform:"rotate("+d.getWave(i,50,30)+"deg)"}),t.$catTail.css({transform:"translate("+d.getWave(n,25,12)+"px,"+d.getWave(n,3,3)+"px) rotate("+d.getWave(50-n%100,30,10)+"deg)"}),Math.floor(e/100)<3?setTimeout((function(){requestAnimationFrame(a)}),60):(t.$catFrontPaw1.addClass("page-apartment__cat-front-paw_hidden"),t.$catHead.removeClass("page-apartment__cat-head_turned"),t.$catTail.removeAttr("style"),t.$catHead.removeAttr("style"),delete t.catAnimationStarted)};a()}},d.prototype.calendarHover=function(){var t=this;if(!t.calendarAnimationStarted&&!t.disableHoverAnimation){var e=0,i=0,n=0,a=0,s=0,o=$(document).height()-t.$calendar.offset().top,r=40*o/100,l=20*o/100,c=o+2*l;d.playCommon("calendar");var u=function(){t.calendarAnimationStarted=!0,t.disableHoverAnimation=!0,n+=5,a+=7.2,s+=2*c/100,e=d.getLoop(a,120,80,200),i=d.getLoop(s,r,l,o),t.$calendarSheet.css({transform:"translate("+e+"px,"+i+"px) rotate(-"+d.getLine(n,360)+"deg)"}),a<350&&s<c-10?setTimeout((function(){requestAnimationFrame(u)}),60):(t.$calendarSheet.addClass("page-apartment__calendar-sheet_hidden"),t.startUfoAnimation())};u()}},d.prototype.newspaperHover=function(){var t=this;t.newspaperAudioStarted||t.disableHoverAnimation||(t.newspaperAudioStarted=!0,d.playCommon("newspaper"),setTimeout((function(){delete t.newspaperAudioStarted}),2e3))},d.prototype.watchesHover=function(){var t=this;t.clockAudioStarted||t.disableHoverAnimation||(t.clockAudioStarted=!0,d.playCommon("clock"),setTimeout((function(){delete t.clockAudioStarted}),2e3))},d.prototype.startUfoAnimation=function(){var t=this,e=0;if(!t.ufoAnimationStarted){Math.random()<.5?d.playCommon("march"):d.playCommon("x-files"),t.stopPermanentAnimation(),t.$windowUfo.removeClass("page-apartment__window-ufo_hidden"),t.$catHead.addClass("page-apartment__cat-head_turned");var i=function(){t.ufoAnimationStarted=!0,e+=1,t.$minuteHand.css({transform:"rotate("+d.getLine(20*e,360)+"deg)"}),t.$hourHand.css({transform:"rotate("+d.getLine(20*e/60,360)+"deg)"}),t.$pendulum.css({transform:"rotate("+d.getWave(20*e,80,40)+"deg)"}),function(e){var i="",n="",a=0;switch(Math.floor(e/10)){case 0:case 1:a=5*e,i="translate("+(130-d.getLine(a,550))+"px,"+d.getLine(a,40)+"px) scale("+(.35+d.getLine(a,.15))+")";break;case 2:case 3:a=5*(e-20),i="translate("+d.getLine(a,580,420)+"px,"+(40+d.getLine(a,120))+"px) scale("+(.5+d.getLine(a,.3))+")";break;case 4:case 5:a=5*(e-40),i="translate("+(160-d.getLine(a,250))+"px,"+(160+d.getLine(a,130))+"px)";break;case 6:a=10*(e-60),i="translate(-"+(90+d.getLine(a,50))+"px,"+(290-d.getLine(a,10))+"px)";break;case 7:a=10*(e-70),i="translate(-"+(140-d.getLine(a,65))+"px,"+(280-d.getLine(a,30))+"px)";break;case 8:case 9:a=5*(e-80),n="translate(0px, -"+(10+d.getLine(a,35))+"px)"}i&&t.$windowUfo.css({transform:i}),n&&(t.$windowUfoAlien.css({transform:n}),t.$windowUfoAlien.removeClass("page-apartment__window-ufo-alien_hidden"))}(e),e<100?setTimeout((function(){requestAnimationFrame(i)}),60):(delete t.ufoAnimationStarted,t.$catHead.removeClass("page-apartment__cat-head_turned"),t.startLevitation())};i()}},d.prototype.startLevitation=function(){var t=this,e=0;if(!t.levitationAnimationStarted){t.turnCatToProfile();var i=function(){if(t.levitationAnimationStarted=!0,e+=e<50?1:5,t.$chair.css({transform:"translateY(-"+d.getWave(e,100)+"px) rotate("+d.getWave(e,40)+"deg)"}),t.$watches.css({transform:"rotate("+d.getWave(e,10)+"deg)"}),t.$calendar.css({transform:"rotate(-"+d.getWave(e,10)+"deg)"}),t.$chandelier.css({transform:"rotate(-"+d.getWave(e,10)+"deg)"}),t.$carpet.css({transform:"translateY(-"+d.getWave(e,20)+"px)"}),t.$table.css({transform:"translateY(-"+d.getWave(e,50)+"px) rotate("+d.getWave(e,10)+"deg)"}),t.$phone.css({transform:"translateY(-"+d.getWave(e,60)+"px) rotate(-"+d.getWave(e,20)+"deg)"}),t.$phoneHandset.css({transform:"translate("+d.getWave(e,10)+"px, -"+d.getWave(e,30)+"px) rotate("+d.getWave(e,20)+"deg)"}),t.$cat.css({transform:"translate(0, -"+d.getWave(e,150)+"px) rotate("+d.getWave(e,30)+"deg)"}),t.$catFrontPaw1.css({transform:"rotate("+d.getWave(10*e,40,20)+"deg)"}),t.$catFrontPaw2.css({transform:"rotate("+(40-d.getWave(10*e,50))+"deg)"}),t.$catBackPaw.css({transform:"rotate("+(40-d.getWave(10*e,40))+"deg)"}),t.$catTail.css({transform:"rotate("+(55-d.getWave(10*e,10))+"deg)"}),e>=50){var n=2*(e-50);t.$windowUfo.css({transform:"translate(-"+(80+d.getLine(n,220))+"px, "+(250-d.getLine(n,300))+"px) scale("+(1-d.getLine(n,.5))+")"}),t.$windowUfoAlien.css({transform:"translate(0px, -"+(45-d.getLine(n,45))+"px)"})}e<100?setTimeout((function(){requestAnimationFrame(i)}),60):(t.turnCatToFace(),t.runPermanentAnimation(),t.$watches.removeAttr("style"),t.$windowUfo.removeAttr("style").addClass("page-apartment__window-ufo_hidden"),t.$windowUfoAlien.removeAttr("style").addClass("page-apartment__window-ufo-alien_hidden"),t.levitationFinished=!0,delete t.levitationAnimationStarted,delete t.disableHoverAnimation)};i()}},d.prototype.nyancatAnimation=function(){var t=this,e=0;if(!t.nayncatAnimationStarted&&!t.disableHoverAnimation){d.playCommon("nyancat"),t.$nyancatContainer.css("top",Math.ceil(330*Math.random())+"px"),t.$catHead.addClass("page-apartment__cat-head_turned");var i=function(){var n,a;t.nayncatAnimationStarted=!0,(e+=1)<50?(a=2*e,n=32*Math.ceil(d.getLine(a,536)/32),t.$nyancatContainer.css({width:n+"px"})):(a=2*(e-50),t.$nyancatContainer.css({right:"-100px",left:"auto",backgroundPosition:"left 50%"}),n=32*Math.ceil((536-d.getLine(a,536))/32),t.$nyancatContainer.css({width:n+"px"}));var s=!!(Math.ceil(d.getLine(2*e,536)/32)%2);t.$nyancat.css({top:(s?0:10)+"px"}),t.$nyancatTail.css({transform:"scale(1, "+(s?-1:1)+")"}),e<100?setTimeout((function(){requestAnimationFrame(i)}),60):(t.$catHead.removeClass("page-apartment__cat-head_turned"),t.$nyancatContainer.removeAttr("style"),delete t.nayncatAnimationStarted)};i()}},d.prototype.turnCatToFace=function(){this.$cat.removeClass("page-apartment__cat_profile"),this.$catHead.removeClass("page-apartment__cat-head_turned"),this.$catFrontPaw1.addClass("page-apartment__cat-front-paw_hidden"),this.$catFrontPaw2.addClass("page-apartment__cat-front-paw_hidden"),this.$catBody.addClass("page-apartment__cat-body_default"),this.$cat.removeAttr("style"),this.$catTail.removeAttr("style"),this.$catBackPaw.removeAttr("style"),this.$catFrontPaw1.removeAttr("style"),this.$catFrontPaw2.removeAttr("style")},d.prototype.turnCatToProfile=function(){this.$cat.addClass("page-apartment__cat_profile"),this.$catHead.addClass("page-apartment__cat-head_turned"),this.$catFrontPaw1.removeClass("page-apartment__cat-front-paw_hidden"),this.$catFrontPaw2.removeClass("page-apartment__cat-front-paw_hidden"),this.$catBody.removeClass("page-apartment__cat-body_default")},d.prototype.showInfo=function(){var t=this;t.infoWasShown||(t.showInfoCount=void 0!==t.showInfoCount?t.showInfoCount+1:0,t.infoWasShown=!0,t.$info.animate({opacity:1},2e3,(function(){setTimeout(t.hideInfo.bind(t),t.showInfoCount?3e3:6e3)})))},d.prototype.hideInfo=function(){delete this.infoWasShown,this.$info.animate({opacity:0},2e3)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("apartment",d),t.exports=d},function(t,e,i,n){var a,s,o,r,l,c,d=i(623),u=i(624),p=function(t){this.query=t.query,this.container=null,this.artistId=t.artist,this.templateName="page-artist",this.what=t.what||"",this.sort=this.query.sort,this.dir=this.query.dir,this.period=this.query.period,this.sort||"albums"!==this.what||(this.sort="year")};p.init=function(t){a=t.get("navigation"),s=t.get("blocks"),r=t.get("auth"),l=t.get("dataSrc"),o=s.get("cover-popup"),c=t.get("metrika")},p.prototype.fetchData=function(t){var e={what:this.what,query:this.query,dir:this.dir,sort:this.sort,id:this.artistId,period:this.period},i={artist:this.artistId,what:this.what,sort:this.sort||void 0,dir:this.dir||void 0,period:this.period||void 0};return t.get("artist",i,{nocache:!0}).then(t=>(t.auth=r&&r.user||{},void 0!==a&&t.redirected&&a.pushState("/artist/"+t.artist.id,!0),t.videos&&t.videos.length&&(t.videos=u.getAvailableItems(t.videos)),Object.assign(e,t),e))},p.prototype.onRender=function(){var t=$(this.container),e=this;e.$cont=t,e.$similarTitle=t.find(".page-artist__title-similar"),e.$mainSimilarArtists=e.$cont.find(".page-artist__main-similar-artists"),e.$moreBtn=e.$cont.find(".page-artist__more"),e.$yandexMore=e.$cont.find(".page-artist__lurk-more"),e.$socialLinks=e.$cont.find(".page-artist__link"),e.$periodSwitcher=e.$cont.find(".page-artist__period-switcher");var i=t.find(".page-artist__listeners-trends")[0],n=t.find(".page-artist__likes-trends")[0],a=t.find(".page-artist__streams-trends")[0];e.listenersTrends=Mu.blocks.forElem(i,"artist-trends"),e.likesTrends=Mu.blocks.forElem(n,"artist-trends"),e.streamsTrends=Mu.blocks.forElem(a,"artist-trends"),e.$promotedPlaylistLink=t.find(".promoted-playlists__playlist-title"),e.$infoFeedback=t.find(".page-artist__info-feedback"),e.$similarArtistLinks=t.find(".similar-artists-trends__artist-link"),e.delegate("track.click",e.selectItem),e.delegate("album.click",e.selectItem),e.delegate("artist.click",e.selectItem),e.delegate("playlist.click",this.selectItem),e.delegate("promo.click",this.selectItem),e.delegate("concert.click",this.selectItem),e.delegate("table-head.click",e.selectItem),e.delegate("button-play.getContext",e.getContext),e.delegate("lightlist.getContext",e.getContext),e.$cont.find(".js-radio").hover((function(){e.$similarTitle.toggleClass("title_no-hover",!0)}),(function(){e.$similarTitle.toggleClass("title_no-hover",!1)})),e.$cont.on("click",".d-generic-page-head .artist-pics.artist-pics_type_from-artist-photos",e.onCoverClick.bind(e)),e.$cont.on("click",".artist-photos__image-wrap",e.onCoverClick.bind(e)),e.isLastPage()||e.$moreBtn.removeClass("page-artist__more_hidden"),e.$moreBtn.on("click",(function(){e.loadMore(this)})),e.period=this.data.isFullInfo?this.data.period||"months":"",e.bindMetrikaEvents()},p.prototype.isLastPage=function(){var t=this.data&&this.data.promotions&&this.data.promotions.pager||{page:0,perPage:0,total:0};return t.total<=(t.page+1)*t.perPage},p.prototype.loadMore=function(t){if(!this.isLastPage()&&!this.loading){var e={what:this.what,artist:this.artistId,sort:this.sort||void 0,dir:this.dir||void 0,page:this.data.promotions.pager.page+1},i=this,n=$(t);n.addClass("page-artist__more_loading"),l.get("artist",e,{nocache:!0}).then((function(t){var e="";try{e=i.data.promotions.list[i.data.promotions.list.length-1].startDate}catch(t){}var a=d($.extend(!0,t,{promotions:{lastStartDate:e}})),s=$(a);Mu.blocks.initPendingBlocks(s[0]),s.insertBefore(n),n.removeClass("page-artist__more_loading"),i.loading=!1,i.data=t,i.isLastPage()&&n.addClass("page-artist__more_hidden")})).fail((function(){n.removeClass("page-artist__more_loading"),i.loading=!1})),this.loading=!0}},p.prototype.onShow=function(){var t=this.$cont.find(".js-radio");if(this.query&&"play"===this.query.radio&&t.length){var e=s.forElem(t[0],"button-radio");e&&e.onClick(!0),e.onClick()}this.currSelected&&this.currSelected.openSidebar&&this.currSelected.openSidebar()},p.prototype.onCoverClick=function(t){var e=$(t.currentTarget).data("itemIndex")||0,i=Object.assign({},this.data.artist,{index:e});o.show({type:"artist",data:i})},p.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},p.prototype.getContext=function(t){if(this.isPlaylistButton(t))return{};var e=this.data.tracks,i="tracks"===this.what,n=i?void 0:e.map((function(t){return{album:t.albums?t.albums[0]:{},track:t}})),a=this.data.artist.name,s=i?i18n("page-artist","Все треки исполнителя %1",a):i18n("page-artist","Популярные треки исполнителя %1",a),o="/artist/"+this.artistId+(i?"/tracks":"");return{id:"artist:"+this.data.artist.id+(i?":all":":top"),entries:n,shortTitle:a,title:s,href:o,artist:this.data.artist}},p.prototype.isPlaylistButton=function(t){return!!(t&&t.target.$cont&&t.target.$cont.closest(".page-artist__playlists").length)},p.prototype.bindMetrikaEvents=function(){"info"===this.what&&this.sendInfoMetrika("show"),this.$yandexMore.on("click",function(){this.sendInfoMetrika("more_yandex",null,!0)}.bind(this)),this.listenersTrends&&this.listenersTrends.on("open",function(){this.sendInfoMetrika("show_audience_graph","show_listeners_graph")}.bind(this)),this.likesTrends&&this.likesTrends.on("open",function(){this.sendInfoMetrika("show_likes_graph")}.bind(this)),this.streamsTrends&&this.streamsTrends.on("open",function(){this.sendInfoMetrika("show_streams_graph")}.bind(this)),this.$socialLinks&&this.$socialLinks.on("click",function(t){var e=$(t.delegateTarget).find("[data-type]").data("type");this.sendInfoMetrika(e,null,!0),this.sendInfoMetrika("any_official_link",null,!0)}.bind(this)),this.$mainSimilarArtists.on("click",(function(){c.count({artist:{info:"header-similar-artist-click"}})})),this.$promotedPlaylistLink.on("click",function(){this.sendInfoMetrika("playlist_link")}.bind(this)),this.$infoFeedback.on("click",function(){this.sendInfoMetrika("feedback",null,!0)}.bind(this)),this.$similarArtistLinks.on("click",function(){this.sendInfoMetrika("similar_artist_click",null,!0)}.bind(this))},p.prototype.sendInfoMetrika=function(t,e,i){var n={artist:{info:t}},a={infoManagerEntrance:{artistManagerInfo:(e||t)+(!i&&this.period?"_"+this.period:"")}};c.count(this.data.isFullInfo?a:n)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("artist",p),t.exports=p},function(t,e,i,n){var a,s,o;t.exports=(a=i(607),s=function(t){return Mu.render("editorial",t,["genre"])},o=function(t){return Mu.render("promo",t,["genre"])},function(t){var e="",i=function(t,e,n){var r="";if(t&&t.length){var l=e||0,c=t[l],d=a(c.startDate,"%b %Y");d!=(n||"")&&(r+='<div class="page-artist__promo-date"><div class="page-artist__promo-date-content">'+__escape(d)+"</div></div>"),r+=function(t){return'<div class="page-artist__promo">'+s(t)+o(t)+"</div>"}(c);var u=Number(l)+1;t.length>u&&(r+=i(t,u,d))}return r};e+='<div class="page-artist__promotions" data-card="promotions">';var n=t.promotions.lastStartDate?a(t.promotions.lastStartDate,"%b %Y"):a(Date.now(),"%b %Y");return e+=i(t.promotions.list,0,n)+"</div>"})},function(t,e,i,n){var a=i(72),s=i(75);t.exports={isAvailableProvider:function(t){return["youtube","vimeo","yandex"].includes(t)},isAvailableUrl:function(t){return this.isAvailableProvider(this.getProviderByUrl(t||""))},isImageUrl:function(t){return/^(http[s]?:)?\/\/.*\/[^\/]*\.[a-z]{3,4}$/i.test(t||"")},getAvailableItems:function(t){return(Array.isArray(t)?t:[]).filter(function(t){return t&&t.embedUrl?this.isAvailableUrl(t.embedUrl):!(!t||!t.embed)}.bind(this))},filterItems:function(t){var e=t.visibleLength?t.items.slice(0,t.visibleLength):t.items;return this.getAvailableItems(e)},getFilteredVideos:function(t){return!!(t.videos&&t.videos.length>0)&&this.filterItems({items:t.videos})},getProviderByUrl:function(t){return/^(http[s]?:)?\/\/(www\.)?youtube\.com/i.test(t)?"youtube":/^(http[s]?:)?\/\/(player\.)?vimeo\.com/i.test(t)?"vimeo":/^(http[s]?:)?\/\/(www\.)?frontend\.vh\.yandex\./i.test(t)?"yandex":"unknown"},getIdByUrl:function(t){var e=/^(?:http[s]?:)?\/\/(?:www\.)?youtube\.com\/(?:watch\?v=|embed\/)([^&?/#]+)/i,i=/^(?:http[s]?:)?\/\/(?:player\.)?vimeo\.com\/(?:video\/)?(\d+)/i,n=/^(?:http[s]?:)?\/\/(?:www\.)?frontend\.vh\.yandex\.[a-z]{2,3}\/player\/(\S+)/i;return e.test(t)?e.exec(t)[1]:i.test(t)?i.exec(t)[1]:n.test(t)?n.exec(t)[1]:""},getParamsByUrl:function(t){var e={},i=/.*\?(.*)(#.*)?$/.exec(t);return i&&i.length>=2&&i[1].split("&").forEach((function(t){var i=t.split("=");e[i[0]]=i[1]})),e},makeProviderUrl:function(t,e,i){var n=Object.keys(i||{}).map(t=>t+"="+encodeURIComponent(i[t])),a=n.length>0?"?"+n.join("&"):"";switch(t){case"youtube":return"//www.youtube.com/embed/"+e+a;case"vimeo":return"//player.vimeo.com/video/"+e+a;case"yandex":return"//frontend.vh.yandex.ru/player/"+e+a;default:return""}},getVideoCover:function(t){return this.isImageUrl(t)?t:t.includes("/get-video_frame/")?a(t+s(t)+"w=%%&h=%%",200,!0,150):a(t,200,!1,112)},getVideoCover2x:function(t){return this.isImageUrl(t)||t.includes("/get-video_frame/")?"":a(t,400,!1,224)}}},function(t,e,i,n){var a=function(t){this.query=t.query,this.artistIds=t.artists.split(",").map((function(t){return parseInt(t,10)})),this.templateName="page-artists"};a.init=function(){},a.prototype.fetchData=function(t){var e={query:this.query};return t.get("artists",{artists:this.artistIds.join(",")}).then((function(t){return e.artists=t,e}))},a.prototype.onRender=function(){var t=$(this.container);this.$cont=t,this.delegate("artist.click",this.selectItem)},a.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("artists",a),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c=i(12),d=i(83),u=(i(261),function(t){this.templateName="page-autoplaylist",this.what=t.what,this.noSidebar=!0});u.init=function(t){s=t.get("auth"),a=t.get("popups"),o=t.get("navigation"),r=t.get("dataSrc"),l=t.get("pages")},u.prototype.onRender=function(){this.$cont=$(this.container),this.$wizardButton=this.$cont.find(".page-autoplaylist__wizard-btn"),this.$loginButton=this.$cont.find(".page-autoplaylist__login-btn"),this.$lowerPart=this.$cont.find(".page-autoplaylist__lower"),this.$wizardButton.on("click",this.onWizardClick.bind(this)),this.$loginButton.on("click",this.authAction.bind(this)),this.redirectToPlaylist=this.redirectToPlaylist.bind(this),l.on("loaded",this.redirectToPlaylist)},u.prototype.fetchData=function(t){return t.get("playlists-personal",{name:this.what},{nocache:!0}).then((function(t){var e=t||{},i=e.data;return{autoplaylist:e,owner:i&&i.owner&&i.owner.login||"",kind:i&&i.kind||"",urlPart:i.urlPart}}))},u.prototype.redirectToPlaylist=function(){if(s.isLoggedIn()&&this.data.kind&&this.data.owner){const t=new URL(window.location.href),e=encodeURI(t.search);o.navigateTo("/users/"+this.data.owner+"/playlists/"+this.data.kind+e,!0)}l.off("loaded",this.redirectToPlaylist)},u.prototype.onWizardClick=function(){s.isLoggedIn()?this.showWizard():this.showAuthForm()},u.prototype.showAuthForm=function(){var t=this;s.showAuthForm((function(){s.isLoggedIn()&&r.get("wizard-status",{},{nocache:!0}).then((function(e){e.isWizardPassed||t.showWizard()}))}))},u.prototype.showWizard=function(){c.hasAppStore()?(d.send({placement:"musicMobileWizardRecomendations"}),window.location=c.getLink({},{channel:"musicMobileWizardRecomendations",tags:["webwizard"],deeplink_url:"yandexmusic://main/"})):a.toggle("wizard")},u.prototype.authAction=function(){s.showAuthForm((function(){}),"autoplaylist",{},!0)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("autoplaylist",u),t.exports=u},function(t,e,i,n){var a,s,o,r,l,c,d,u=["/i/recorder_vol.svg","/i/prev_black.svg","/i/next_black.svg","/i/covers/c0.svg","/i/covers/c1.svg","/i/covers/c2.svg","/i/covers/c3.svg","/i/covers/c4.svg","/i/covers/c5.svg","/i/covers/c6.svg","/i/covers/c7.svg"],p=i(628),h=function(t){h.beforeLoading(),this.params=t||{},this.templateName="page-cobain",this.noPlayer=!0,this.noSidebar=!0,this.noTheme=!0,h.neverPlaying=!0};h.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-width"),$(".footer").css("display","none"),h.preloadResources())}catch(t){}},h.preloadResources=function(){for(var t=0;t<u.length;t++){(new Image).src="/pages/cobain"+u[t]}},h.preparePlayist=function(t){var e=t.tracks,i=t.trackIds;i instanceof Array||(i=[i]);var n=i.map((function(t,i){return e[i]?e[i]:t.toString()})).filter((function(t){return t&&!t.error})),a="undefined"!=typeof document?document.location.pathname.slice(1):"kurt";return{context:{eventId:void 0,from:"web-user_"+a+"-playlist-playlist-main",href:"/"+a,id:"playlist:"+t.owner.login+":"+t.kind,playlist:t,shortTitle:t.title,title:"Nirvana"},entries:n}},h.init=function(t){s=t.get("pages"),a=t.get("seq"),o=t.get("adapter"),r=t.get("dataSrc"),l=t.get("metrika"),c=t.get("layout")},h.prototype.init=function(){},h.prototype.fetchData=function(t){var e=this.params.query.i,i="undefined"!=typeof Mu&&Mu.settings.lang||"ru";return t.get("playlist",{owner:"music-blog",kinds:1505,light:!0,lang:i},{nocache:!0}).then((function(t){var i=h.preparePlayist(t.playlist),n={list:[{context:i.context,entries:i.entries,index:0}],curItem:0,imageCount:15};return isFinite(e)?(e=e<15?e:0,n.imageNumber=e):"b"===e&&(n.bonus=!0),n}))},h.prototype.loadRandomPlaylist=function(){var t=this,e="undefined"!=typeof Mu&&Mu.settings.lang||"ru";return r.get("playlist",{owner:"music-blog",kinds:1509,light:!1,lang:e},{nocache:!0}).then((function(e){var i=h.preparePlayist(e.playlist);t.data.list.push({context:i.context,entries:i.entries,index:0})}))},h.prototype.onRender=function(){var t=this;try{window.navigator&&(d=-1===window.navigator.userAgent.toLowerCase().indexOf("msie"))}catch(t){d=!1}t.$window=$(window),t.$cont=$(t.container).find(".page-cobain"),t.$bg=t.$cont.find(".page-cobain__bg"),t.$title=t.$cont.find(".page-cobain__title"),t.$header=t.$cont.find(".page-cobain__header"),t.$share=t.$cont.find(".page-cobain__share"),t.$elements=t.$cont.find(".page-cobain__elements-item"),t.$player=t.$cont.find(".page-cobain__player"),t.$cover=t.$player.find(".page-cobain__player-cover"),t.$play=t.$player.find(".page-cobain__player-play"),t.$prev=t.$player.find(".page-cobain__player-prev"),t.$next=t.$player.find(".page-cobain__player-next"),t.$reel1=t.$cont.find(".page-cobain__player-reel-1"),t.$reel2=t.$cont.find(".page-cobain__player-reel-2"),t.$dynamic1=t.$cont.find(".page-cobain__player-dynamic-1"),t.$dynamic2=t.$cont.find(".page-cobain__player-dynamic-2"),t.$volume=t.$player.find(".page-cobain__player-volume"),t.$volumeWrap=t.$player.find(".page-cobain__player-volume-wrap"),t.$volumeProgress=t.$player.find(".page-cobain__player-volume-progress"),t.$volumeHandle=t.$player.find(".page-cobain__player-volume-handle"),t.$popup=t.$cont.find(".page-cobain__popup"),t.$popupContent=t.$popup.find(".page-cobain__popup-content"),t.$overlay=t.$cont.find(".page-cobain__overlay"),t.popup=new(Mu.blocks.get("popup"))(t.$popup[0],{position:{my:"center center",at:"center center",of:t.$cont},modal:!1,resize:!0}),t.$play.on("click",(function(){t.playing?a.pause():h.neverPlaying?t.selectTrack():(a.togglePause(),t.showCard())})),t.$play.on("mouseenter",(function(){t.$play.hasClass("page-cobain__player-play_large")||t.$play.switchClass("","page-cobain__player-play_large",300,"easeInOutQuad").addClass("page-cobain__player-play_hovered")})),t.$prev.on("click",(function(){l.count({kurt:{"Предыдущий трек":1}}),t.prevTrack()})),t.$next.on("click",(function(){l.count({kurt:{"Следующий трек":1}}),t.nextTrack()})),t.popup.on("show",(function(){l.count({kurt:{"Открытие попапа":1}}),t.$overlay.removeClass("_hidden"),t.$overlay.removeClass("page-cobain__overlay_below")})),t.popup.on("hide",(function(){t.$overlay.addClass("_hidden"),t.$overlay.removeClass("page-cobain__overlay_below")})),t.$popup.on("click",".popup__close",(function(){t.popup.hide()})),t.$popup.on("click",".page-cobain__popup-action",(function(){l.count({kurt:{"Хочу другую песню":1}}),t.selectTrack()})),t.onLoaded=t.onLoaded.bind(t),t.onUnloading=t.onUnloading.bind(t),t.onResize=t.onResize.bind(t),t.initVolume=t.initVolume.bind(t),t.$window.on("resize",t.onResize),s.on("loaded",t.onLoaded),s.on("unloading",t.onUnloading),t.loadRandomPlaylist()},h.prototype.destroy=function(){s.off("loaded",this.onLoaded),s.off("unloading",this.onUnloading)},h.prototype.onLoaded=function(){var t=this;$("body").addClass("body_cobain"),$(".head").addClass("head_hidden"),$(".footer").css("display","none");try{t.platform=ya.music.info.platform,ya.music.info.platform.mobile?t.$cont.addClass("page-cobain__title_shown-immediately page-cobain_mobile"):t.$title.addClass("page-cobain__title_shown")}catch(e){t.$title.addClass("page-cobain__title_shown")}setTimeout((function(){t.$cont.addClass("page-cobain_loaded")}),3e3),"ru"!==Mu.settings.lang&&t.$cont.addClass("page-cobain_"+Mu.settings.lang),o.onReady(t.initVolume),t.attachPlayerEvents(),t.attachBgEvents(),t.$window.resize()},h.prototype.onUnloading=function(){$("body").removeClass("body_cobain"),$(".head").removeClass("head_hidden"),$(".footer").removeAttr("style"),this.$window.unbind(".cobain"),this.$window.off("resize",this.onResize),this.detachPlayerEvents()},h.prototype.initVolume=function(){var t=this,e=o.canChangeVolume();t.$cont.toggleClass("page-cobain_without-volume",!e||t.platform.mobile),e&&t.platform&&!t.platform.mobile&&(t.$volumeHandle.on("mousedown",(function(e){t.$volumeHandle.data("pushed",!0),t.$volumeHandle.data("positionX",(e.pageX||e.clientX)-t.$volume.offset().left),t.$volumeHandle.addClass("page-cobain__player-volume-handle_pushed"),e.preventDefault(),e.stopPropagation()})),t.$cont.on("mouseup",(function(){t.$volumeHandle.data("pushed",!1),t.$volumeHandle.removeClass("page-cobain__player-volume-handle_pushed")})),t.$cont.on("mousemove",(function(e){if(t.$volumeHandle.data("pushed")&&!t.$volumeHandle.data("drag")){t.$volumeHandle.data("drag",!0);var i=t.$volume.width(),n=t.$volumeHandle.data("value")||0,a=(e.pageX||e.clientX||0)-t.$volume.offset().left,s=n+100*(1*(a-t.$volumeHandle.data("positionX")))/i;t.setVolume(s),t.$volumeHandle.data("positionX",a),t.$volumeHandle.data("drag",!1)}e.preventDefault(),e.stopPropagation()})),t.$volumeHandle.on("click",(function(t){t.preventDefault(),t.stopPropagation()})),t.$volumeWrap.on("click",(function(e){if(!t.$volumeHandle.data("pushed")&&!t.$volumeHandle.data("drag")){var i=t.$volumeWrap.width(),n=100*e.offsetX/i;t.setVolume(n)}e.preventDefault(),e.stopPropagation()})),t.setVolume(100*a.getVolume(),!0))},h.prototype.getData=function(t){return this.data.curItem=t||this.data.curItem,this.data.list[this.data.curItem]},h.prototype.onResize=function(){var t,e,i=this,n=1.6,a=2560,s=1440,o=[[234.81,166.82,-1296,-259],[98.42,159.6,-1056,67],[284.98,165.15,-1184,-1230],[93.27,78.04,-777,-66],[154.5,221.04,-1282,1026],[65.77,141.13,-789,111],[63.17,65.11,-597,-77],[73.41,92.1,-1003,-125],[259.27,285.88,-1085,-1004],[55.6,56.08,-1334,-446],[190,230.79,-702,236],[250.49,237.19,-1082,601],[84,51.22,-823,821],[191.36,205.46,-955,967],[85.76,100.59,-829,-181],[73.22,77.07,-1321,-1012],[744,520,-1082,-190]],r=i.$cont.width(),l=i.$cont.height();r/a>l/s?(t=r/a,e=r/1280):(t=l/s,e=l/649),i.$elements.each((function(e){$(this).css({width:o[e][0]*n*t+"px",height:o[e][1]*n*t+"px",marginTop:o[e][2]*t+"px",marginLeft:o[e][3]*t+"px"})}));var d=i.$player.data("default");d||(d={width:i.$player.width(),height:i.$player.height(),bottom:parseFloat(i.$player.css("bottom")),marginLeft:parseFloat(i.$player.css("margin-left"))},i.$player.data("default",d));var u={};if(d)for(var p in d)d.hasOwnProperty(p)&&(u[p]=d[p]*e+"px");i.$player.css(u);var h,_=1600,m=900,g={};_/i.$cont.width()<m/i.$cont.height()?(h=_/i.$cont.width(),g.w=i.$cont.width(),g.h=m/h,g.ml=-1*g.w/2,g.mt=i.$cont.height()-g.h):(h=m/i.$cont.height(),g.w=_/h,g.h=i.$cont.height(),g.ml=-1*g.w/2,g.mt=i.$cont.height()-g.h),i.$bg.css({width:g.w+"px",height:g.h+"px",marginLeft:g.ml+"px",marginTop:g.mt+"px",transform:"none"});var f=(g.w-i.$cont.width())/2;i.$bg.data({xMax:f,xMin:-f,yMax:-g.mt,yMin:0}),setTimeout((function(){i.$cont.height()>i.$window.height()&&i.$window.scrollTop(i.$cont.height()-i.$window.height())}),10),i.popup&&i.popup.isOpen&&i.popup.position();try{var y=i.platform.mobile&&i.$window.height()<i.$window.width();i.$overlay.toggleClass("page-cobain__overlay_landscape",y),y?c.lockScroll():c.unlockScroll()}catch(t){}},h.prototype.attachBgEvents=function(){var t=this,e={dragging:!1};t.$cont.bind("mousedown.cobain",(function(i){i.preventDefault(),t.$bg.addClass("_dragging"),e.dragging=!0,e.startCoords={x:i.pageX,y:i.pageY}})),t.$cont.bind("touchstart.cobain",(function(i){var n=$(i.target);n.closest(t.$player).size()||n.closest(t.$popup).size()||n.closest(t.$header).size()||n.closest(t.$share).size()||t.$cont.height()>t.$window.height()||i.preventDefault(),1==i.originalEvent.touches.length&&(t.$bg.addClass("_dragging"),e.dragging=!0,e.startCoords={x:i.originalEvent.touches[0].pageX,y:i.originalEvent.touches[0].pageY})})),t.$cont.bind("mouseup.cobain",(function(i){i.preventDefault(),e.dragging=!1,t.$bg.removeClass("_dragging")})),t.$cont.bind("touchend.cobain, touchcancel.cobain",(function(i){0==i.originalEvent.touches.length&&(e.dragging=!1,t.$bg.removeClass("_dragging"))})),t.$cont.bind("mousemove.cobain",(function(i){if(e.dragging){var n=e.startCoords.x-i.pageX,a=e.startCoords.y-i.pageY;Math.abs(n)>Math.abs(a)?a=0:n=0;var s=t.$bg.data("tX")||0,o=t.$bg.data("tY")||0;s-=n,o-=a;var r=t.$bg.data();s=s<r.xMax?s>r.xMin?s:r.xMin:r.xMax,o=o<r.yMax?o>r.yMin?o:r.yMin:r.yMax,t.moveMap(s,o),e.startCoords={x:i.pageX,y:i.pageY}}})),t.$cont.bind("touchmove.cobain",function(i){if(e.dragging){var n=e.startCoords.x-i.originalEvent.changedTouches[0].pageX,a=e.startCoords.y-i.originalEvent.changedTouches[0].pageY;Math.abs(n)>Math.abs(a)?a=0:n=0;var s=t.$bg.data("tX")||0,o=t.$bg.data("tY")||0;s-=n,o-=a;var r=t.$bg.data();s=s<r.xMax?s>r.xMin?s:r.xMin:r.xMax,o=o<r.yMax?o>r.yMin?o:r.yMin:r.yMax,t.moveMap(s,o),e.startCoords={x:i.originalEvent.changedTouches[0].pageX,y:i.originalEvent.changedTouches[0].pageY}}}.bind(this))},h.prototype.moveMap=function(t,e){t=t||0,e=e||0,this.$bg.data({tX:t,tY:e}),this.$bg.css({transform:"translate("+t+"px, "+e+"px)"})},h.prototype.attachPlayerEvents=function(){var t=this;t.onPlayerState=function(e){if(!a.isIdle()&&!a.isCommonPlay()&&t.isCobainInPlayer())switch(e){case"playing":t.togglePlay(!0),h.neverPlaying=!1;break;case"paused":t.togglePlay(!1)}},t.onPlayerChange=function(e){a.isIdle()||a.isCommonPlay()||!t.isCobainInPlayer(!0)||"index"===e&&(t.getData().index=a.getIndex(),t.showCard())},t.onPlayerVolume=function(e){t.setVolume(100*e,!0)},t.onTogglePause=function(e){t.togglePlay(e)},a.on(Mu.PlayFlow.EVENT_STATE,t.onPlayerState),a.on(Mu.PlayFlow.EVENT_CHANGE,t.onPlayerChange),a.on(Mu.PlayFlow.EVENT_VOLUME,t.onPlayerVolume),a.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t.onTogglePause)},h.prototype.detachPlayerEvents=function(){a.off(Mu.PlayFlow.EVENT_STATE,this.onPlayerState),a.off(Mu.PlayFlow.EVENT_CHANGE,this.onPlayerChange),a.off(Mu.PlayFlow.EVENT_VOLUME,this.onPlayerVolume),a.off(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,self.onTogglePause)},h.prototype.togglePlay=function(t){this.playing=!!t,this.$player.toggleClass("page-cobain__player_playing",this.playing),this.$play.toggleClass("page-cobain__player-play_playing",this.playing)},h.prototype.isCobainInPlayer=function(t){var e=a.getConfig();return!("music-blog"!=e.login||!(t||1505==e.id&&0===this.data.curItem||1509==e.id&&1===this.data.curItem))},h.prototype.nextTrack=function(t){var e=this.getData().entries.length,i=isFinite(this.getData().index)?this.getData().index+1:0;i=i<e?i:0,this.selectTrack(i,t)},h.prototype.prevTrack=function(t){var e=this.getData().entries.length,i=isFinite(this.getData().index)?this.getData().index-1:e-1;i=i>=0?i:e-1,this.selectTrack(i,t)},h.prototype.playTrack=function(t){t=t||0,this.getData().index=t,this.isCobainInPlayer()?a.play(t):(a.playTracks(this.getData().context,this.getData().entries,t),this.showCard())},h.prototype.selectTrack=function(t,e){var i=this;Math.floor(100*Math.random())>=90&&0===i.data.curItem&&!h.neverPlaying?(i.getData().lastIndex=t,i.data.curItem=1):(i.data.curItem=0,t=i.getData().lastIndex||isFinite(t)?t:void 0,i.getData().lastIndex=void 0),isFinite(t)||(t=i.getNextIndex()),i.colorizeElement(t,1e3);var n=function(t){a.pause(),i.playTrack(t)};i.popup&&i.popup.isOpen&&i.popup.hide(),e?n(t):i.runPlayerAnimation((function(){n(t)}))},h.prototype.getNextIndex=function(){var t=this.getData().queue;if(!t||!t.length){var e=this.getData().entries.length,i=new Array(e).join("*").split("*").map((function(t,e){return e}));t=[];for(var n=0;n<e;n++){var a=Math.floor(Math.random()*i.length);t.push(i[a]),i.splice(a,1)}this.getData().queue=t}return t.pop()},h.prototype.colorizeElement=function(t,e){var i=this;t=isFinite(t)?t:i.getData().index,e=isFinite(e)?e:0,setTimeout((function(){i.data.curItem?i.$elements.filter(".page-cobain__elements-item_b").addClass("page-cobain__elements-item_visible"):i.$elements.eq(t).addClass("page-cobain__elements-item_visible")}),e)},h.prototype.setVolume=function(t,e){t=t<0?0:t>100?100:t,this.$volumeProgress.css("width",t+"%"),this.$volumeHandle.css("left",t+"%"),this.$volumeHandle.data("value",t),e||a.setVolume(t/100)},h.prototype.showCard=function(){var t=this.getData().entries[this.getData().index];t||(this.data.curItem=1===this.data.curItem?0:1,t=this.getData().entries[this.getData().index]);var e=$(p({bonus:1===this.data.curItem,index:this.getData().index,imageNumber:this.getData().index,imageCount:15,track:t}));this.$popupContent.replaceWith(e),this.$popupContent=e,Mu.blocks.initPendingBlocks(this.$popup),this.popup.show(),this.colorizeElement(),this.$cover.css("background-image","url(/pages/cobain/i/covers/c"+Math.floor(8*Math.random())+".svg)")},h.prototype.runPlayerAnimation=function(t){var e=this,i=function(){e.$player.removeClass("page-cobain__player_animated"),t()};e.$title.addClass("_hidden"),e.$player.addClass("page-cobain__player_touched"),d?(e.$player.addClass("page-cobain__player_animated"),e.startAnimation(),this.playRewind((function(){e.stopAnimation(),i()}))):i()},h.prototype.startAnimation=function(){var t=this,e=0,i=0,n=function(){e%12*50==0&&(t.$dynamic1.hasClass("page-cobain__player-dynamic_s")?(t.$dynamic1.add(t.$dynamic2).removeClass("page-cobain__player-dynamic_s page-cobain__player-dynamic_m page-cobain__player-dynamic_l"),t.$dynamic1.add(t.$dynamic2).addClass("page-cobain__player-dynamic_m")):t.$dynamic1.hasClass("page-cobain__player-dynamic_m")?(t.$dynamic1.add(t.$dynamic2).removeClass("page-cobain__player-dynamic_s page-cobain__player-dynamic_m page-cobain__player-dynamic_l"),t.$dynamic1.add(t.$dynamic2).addClass("page-cobain__player-dynamic_l")):(t.$dynamic1.hasClass("page-cobain__player-dynamic_l"),t.$dynamic1.add(t.$dynamic2).removeClass("page-cobain__player-dynamic_s page-cobain__player-dynamic_m page-cobain__player-dynamic_l"),t.$dynamic1.add(t.$dynamic2).addClass("page-cobain__player-dynamic_s"))),e%12*50==0&&t.$cover.css("background-image","url(/pages/cobain/i/covers/c"+Math.floor(8*Math.random())+".svg)"),t.$reel1.css("transform","rotate("+i+"deg)"),t.$reel2.css("transform","rotate("+i+"deg)"),i+=70,e+=50,t.animationTimer=setTimeout(n,50)};n()},h.prototype.stopAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),delete this.animationTimer),this.$dynamic1.add(this.$dynamic2).removeClass("page-cobain__player-dynamic_s page-cobain__player-dynamic_m page-cobain__player-dynamic_l")},h.prototype.playRewind=function(t){a.isIdle()||a.isCommonPlay()||!a.isPlaying()||a.pause();var e=!1,i=function(){e||(e=!0,t())}.bind(this),n=o.playCommon("/pages/cobain/rewind.mp3?v=");o.play(),n.then&&n.then(i,i),setTimeout(i,4e3)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("cobain",h),t.exports=h},function(t,e,i,n){var a,s;t.exports=(a=i(315),s=[i18n("page-cobain","Вы слушаете"),i18n("page-cobain","Вы отбиваете ритм под"),i18n("page-cobain","Вы вспоминаете слова"),i18n("page-cobain","Вы киваете в такт, слушая"),i18n("page-cobain","Вы слушаете"),i18n("page-cobain","Вы подпеваете, слушая"),i18n("page-cobain","Вы вспоминаете слова"),i18n("page-cobain","Вы слушаете"),i18n("page-cobain","Вы вспоминаете что-то особенное под"),i18n("page-cobain","Вы киваете в такт, слушая"),i18n("page-cobain","Вы подпеваете, слушая"),i18n("page-cobain","Вы слушаете"),i18n("page-cobain","Вы отбиваете ритм под"),i18n("page-cobain","Вы вспоминаете что-то особенное под"),i18n("page-cobain","Вы подпеваете, слушая")],function(t){var e='<div class="page-cobain__popup-content"><div class="page-cobain__popup-details"><div class="page-cobain__popup-title">';return t.bonus||!t.index?e+=__escape(i18n("page-cobain","Вы слушаете")):e+=s[t.index],e+='</div><div class="page-cobain__track-title">«'+__escape(t.track.title)+'»</div></div><div class="page-cobain__popup-cover">',t.bonus?e+='<img src="/pages/cobain/i/pics/b.png" srcset="/pages/cobain/i/pics/b_2x.png 2x" />':t.index>=0&&(e+='<img src="/pages/cobain/i/pics/p'+__escape(t.index)+'.png" srcset="/pages/cobain/i/pics/p'+__escape(t.index)+'_2x.png 2x" />'),e+='</div><div class="page-cobain__popup-footer"><div class="page-cobain__popup-prediction"><span class="page-cobain__popup-action">'+__escape(i18n("page-cobain","Хочу другую песню"))+'</span></div><div class="page-cobain__popup-share">'+a.render({cobain:t,rounded:!0,style:"black",size:"L"})+"</div></div></div>"})},function(t,e,i,n){var a=[1234567,1234568,1234569,6682840],s=[44630027,44630030,44630031,44630032],o=[123456,123457,123458,33380],r=["460140864:1000","103372440:1175","405705740:1010"],l=[3121,10899,344742],c=function(t){this.templateName="page-entities",this.param=t,this.what=this.param.what||"tracks"};c.init=function(){},c.prototype.fetchData=function(t){var e={what:this.what};return"tracks"===this.what?this.fetchTracks(t,e):"albums"===this.what?this.fetchAlbums(t,e):"playlists"===this.what?this.fetchPlaylists(t,e):"artists"===this.what?this.fetchArtists(t,e):void 0},c.prototype.fetchTracks=function(t,e){var i=[];return i.push(t.get("track-entries",{entries:a.join(",")})),i.push(t.get("track-entries",{entries:s.join(",")})),Promise.all(i).then((function(t){return t[0]&&(e.tracks=t[0]),t[1]&&t[1].forEach((function(t){e.tracks.push(t)})),e}))},c.prototype.fetchAlbums=function(t,e){var i=[];return i.push(t.get("albums",{albumIds:o.join(",")})),i.push(t.get("non-music",{path:"non-music",category:"news"})),Promise.all(i).then(function(t){var i=t[0]||[],n=t[1]||[];return i[2].type="single",i[3].type="single",i[3].version="c версией",e.albums=i,e.podcasts=this.preparePodcasts(n),e}.bind(this))},c.prototype.fetchPlaylists=function(t,e){return t.get("playlists-enchanced",{ids:r.join(",")}).then((function(t){return e.playlists=t,e}))},c.prototype.preparePodcasts=function(t){if(!t.blocks||!t.blocks.length)return[];var e=t.blocks.filter((function(t){return"category"===t.type}));return e&&e[0]&&e[0].entities.slice(0,4).map(t=>t.data)||[]},c.prototype.fetchArtists=function(t,e){return t.get("artists",{artists:l.join(",")}).then((function(t){return e.artists=t,e}))},c.prototype.onRender=function(){},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("entities",c),t.exports=c},function(t,e,i,n){var a,s,o,r,l=function(t){this.templateName="page-fm",this.query=t.query,t.radioId&&(this.radioId=t.radioId),this.noHeader=!0,this.noSidebar=!0,this.noFooter=!0,this.noPlayer=!0,this.noTheme=!0};l.init=function(t){a=t.get("pages"),s=t.get("layout"),o=t.get("metrika"),r=t.get("shortcuts")},l.prototype.fetchData=function(t){var e={};return this.radioId&&(e.radioId=this.radioId),t.get("radio-stream",e).then(i=>(this.data=i,t.get("radio-advices",e).then(t=>(this.data.advices=t,this.data)).catch(t=>console.log("get advices.json error",t)))).catch(t=>console.log("get radio-stream error",t))},l.prototype.onRender=function(){this.$cont=$(this.container),this.$badge=this.$cont.find(".stream-badge"),this.badge=Mu.blocks.forElem(this.$badge.get(0),"stream-badge"),this.onLoaded=this.onLoaded.bind(this),this.onUnloading=this.onUnloading.bind(this),a.on("loaded",this.onLoaded),a.on("unloading",this.onUnloading);var t=this.$cont.find(".page-fm__advice");t.length&&o.count({fm:{advice:"shown"}}),t.click(()=>{o.count({fm:{advice:"click"}})}),t.find(".close").click(t=>($(t.currentTarget).parent().hide(),o.count({fm:{advice:"close"}}),!1))},l.prototype.destroy=function(){a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading)},l.prototype.onLoaded=function(){s.lockScroll(),this.shortcutMatch=r.matches.find(t=>t.test.test(" ")),this.shortcutMatch&&(this.shortcutHandler=this.shortcutMatch.handler,this.shortcutMatch.handler=this.toggleBadge.bind(this))},l.prototype.toggleBadge=function(){this.badge.toggle()},l.prototype.onUnloading=function(){s.unlockScroll(),this.shortcutHandler&&this.shortcutMatch&&(this.shortcutMatch.handler=this.shortcutHandler),this.badge&&this.badge.pause()},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("fm",l),t.exports=l},function(t,e,i,n){var a=function(){this.templateName="page-hmac",this.name="hmac"};a.prototype.fetchData=function(t){return t.get("account-status",{},{nocache:!0})},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("hmac",a),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c=function(t){this.templateName="page-import",this.param=t};c.init=function(t){a=t.get("dataSrc"),s=t.get("pages"),o=t.get("navigation"),r=t.get("storage"),l=t.get("blocks")},c.prototype.fetchData=function(t){return this.data={hasFileApi:!("undefined"==typeof window||!window.FileReader||!window.Blob),code:this.param.code},this.data.code?this.loadDataByCode(t,this.data.code):Promise.resolve(this.data)},c.prototype.onRender=function(){this.initContent()},c.prototype.initContent=function(t){var e=this;e.renderedAt=+new Date,e.data.hasFileApi=!("undefined"==typeof window||!window.FileReader||!window.Blob),e.$cont=$(this.container),e.$content=e.$cont.find(".page-import__content"),e.loadContent(),e.$file=e.$cont.find(".page-import__file"),e.$filebox=e.$cont.find(".page-import__filebox"),e.$fileboxLoader=e.$cont.find(".page-import__filebox-loader"),e.$fileboxContent=e.$cont.find(".page-import__filebox-content"),e.$fileboxError=e.$cont.find(".page-import__filebox-error"),e.$btnFind=e.$cont.find(".page-import__find-freetext"),e.btnFind=Mu.blocks.forElem(e.$btnFind[0]),e.$btnClear=e.$cont.find(".page-import__freetext-clear"),e.$textarea=e.$cont.find(".page-import__freetext"),e.$badgeLastfm=e.$cont.find(".page-import__badge_lastfm"),e.$badgeMobile=e.$cont.find(".page-import__badge_mobile"),e.textarea=Mu.blocks.forElem(e.$textarea.get(0),"d-input"),e.$file.on("change",e.onFileChange.bind(e)),e.$file.on("drop",e.onFileChange.bind(e)),e.$filebox.on("dragover",e.onFileDragOver.bind(e)),e.$filebox.on("dragleave",e.onFileDragLeave.bind(e)),e.$file.on("loadstart",e.onFileLoadStart.bind(e)),e.$file.on("loadend",e.onFileLoadEnd.bind(e)),e.$file.on("abort error",e.onFileLoadError.bind(e)),e.$fileboxError.on("click",".link",e.onFileLoadEnd.bind(e)),e.$btnFind.on("click",e.onFindClick.bind(e)),e.$textarea.on("keyup change input",e.changedText.bind(e)),e.$btnClear.on("click",e.clearText.bind(e)),e.delegate("track.click",e.selectItem),e.delegate("button-play.getContext",e.getContext),e.$cont.find(".d-addition").each((function(t,i){Mu.blocks.forElem(i,"d-addition").on("addedToPlaylist",(function(t){!!$(i).closest(".page-import__save").size()&&e.onAddToPlaylist(t)}))})),setTimeout((function(){e.$textarea.focus()}),0),e.updateUrl&&void 0!==o&&(o.pushState(this.updateUrl,!1),delete e.updateUrl),e.timeoutId&&(clearTimeout(e.timeoutId),delete e.timeoutId),!e.data.code||e.data.tracks||t||e.loopRefresh(),e.initHistory(),e.initImportContent()},c.prototype.loadContent=function(){var t=$(Mu.render("page-import__content",this.data));this.$content.replaceWith(t),this.$content=t,Mu.blocks.initPendingBlocks(t);var e=l.forElem(this.$cont.find(".lightlist")[0]);e&&e.onRender()},c.prototype.onAddToPlaylist=function(t){var e=t.playlist;this.$content.html($(Mu.render("page-import__result_saved",$.extend({},this.data,{playlist:e})))),$(window).scrollTop(0),this.initContent()},c.prototype.initImportContent=function(){this.$cont.find(".page-import__save").each((function(){var t=$(this),e=t.siblings(".link"),i=Mu.blocks.get("d-tooltip").getTooltip(t,{type:"alert",side:"bottom",content:i18n("page-import","Сохранить текущий плейлист?"),fade:!0});e.on("mouseenter",i.show.bind(i)),e.on("mouseleave",i.hide.bind(i))}))},c.prototype.initHistory=function(){var t=this,e=t.getHistory();if(t.$history&&t.$history.size()&&t.$history.remove(),t.historyTooltip&&(t.historyTooltip.destroy(),delete t.historyTooltip),e.length){var i=Mu.render("page-import__history-list",{items:e});t.$history=$(Mu.render("page-import__history",{items:e})),t.$cont.find(".page-import").prepend(t.$history),t.historyTooltip=Mu.blocks.get("d-tooltip").getTooltip(t.$history,{type:"alert",side:"bottom",event:"hover",class:"page-import__history-popup",content:i,fade:!0,wide:!0,scrollable:!0}),t.historyTooltip.on("before-show",(function(){t.refreshHistory()})),t.historyTooltip.$cont.on("click",".page-import__history-delete",(function(){var e=$(this).closest("li"),i=e.index();t.removeFromHistory(i),e.remove(),t.getHistory().length||(t.historyTooltip.hide(),t.$history.hide())})),t.refreshHistory(!0)}},c.prototype.getHistory=function(){var t=JSON.parse(r.getItem("importHistory"))||[];return this.filterHistory(t)},c.prototype.addToHistory=function(t,e){var i={count:0,code:t,date:(new Date).getTime(),status:e||"in-progress"},n=this.getHistory();n.push(i),this.saveToHistory(n),this.refreshHistory()},c.prototype.removeFromHistory=function(t){var e=this.getHistory();e.splice(t,1),this.saveToHistory(e),this.refreshHistory()},c.prototype.filterHistory=function(t){return t.filter((function(t){return(new Date).getTime()-new Date(t.date).getTime()<864e6}))},c.prototype.saveToHistory=function(t){t=this.filterHistory(t),r.setItem("importHistory",JSON.stringify(t))},c.prototype.refreshHistory=function(t){for(var e=this,i=this.getHistory(),n=[],s=function(){if(!t&&e.historyTooltip){var n=Mu.render("page-import__history-list",{items:i});e.historyTooltip.updateContent({content:n}),e.historyTooltip&&e.historyTooltip.popup&&e.historyTooltip.popup.position()}},o=function(t){return a.get("import",{code:i[t].code},{nocache:!0}).then((function(n){"done"===n.status&&(l.status="done",l.count=n.tracks.length,i[t]=l,e.saveToHistory(i),s())}))},r=0;r<i.length;r++){var l=i[r];"in-progress"===l.status&&n.push(o(r))}s()},c.prototype.changedText=function(){var t=this.textarea.value(),e=/\S/.test(t);this.btnFind.toggleDisabled(!e),this.$btnClear.toggleClass("page-import__freetext-clear_hidden",!e)},c.prototype.clearText=function(){this.textarea.value(""),this.textarea.focus()},c.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},c.prototype.getContext=function(){var t=this.data.tracks.map((function(t){return{album:t.album,track:t}})),e="Импорт #"+this.data.code;return{id:"import:"+this.data.code,entries:t,shortTitle:e,title:e,href:"/import/"+this.data.code}},c.prototype.onFindClick=function(){var t=this.textarea.value().replace(/^\s+|\s+$/,"");t?(this.btnFind.toggleDisabled(!0),this.uploadData(t)):this.$textarea.focus()},c.prototype.onFileChange=function(t){var e,i;t.preventDefault();try{if((e=t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files||t.target.files).length>1)return void alert(i18n("page-import","Ошибка: выберите только один файл"));i=e[0]}catch(t){}if(this.isCorrectFile(i)){var n=new FileReader;n.onload=function(t){this.uploadData({filename:i.name,data:t.target.result,contentType:"application/octet-stream"})}.bind(this),n.readAsArrayBuffer(i)}else this.$file.val()&&this.$file.val("")},c.prototype.isCorrectFile=function(t){if(!t)return!1;if(t.size>655360)return alert(i18n("page-import","Ошибка: максимальный размер файла не должен превышать 640kB")),!1;var e=this.$file.attr("accept")||"text/*, .xml, .m3u, .m3u8, .pls, .txt";e=e.split(",").map((function(t){return t.toLowerCase().trim()}));for(var i=0;i<e.length;i++){var n=e[i];if("."===n[0]){if(t.name.substr(t.name.lastIndexOf(".")).toLowerCase()===n)return!0}else if(n.indexOf("/")>0){var a=n.split("/"),s=t.type.split("/");if(a[0]===s[0]&&(a[1]===s[1]||"*"===a[1]))return!0}}return alert(i18n("page-import","Ошибка: неподдерживаемый тип файла, выберите другой")),!1},c.prototype.onFileDragOver=function(){return this.$filebox.addClass("page-import__filebox_hover"),!1},c.prototype.onFileDragLeave=function(){return this.$filebox.removeClass("page-import__filebox_hover"),!1},c.prototype.onFileLoadStart=function(){this.$fileboxContent.css("display","none"),this.$fileboxLoader.css("display","block"),this.$fileboxError.css("display","none"),this.$filebox.removeClass("page-import__filebox_error")},c.prototype.onFileLoadEnd=function(){return this.$fileboxContent.css("display","block"),this.$fileboxLoader.css("display","none"),this.$fileboxError.css("display","none"),this.$filebox.removeClass("page-import__filebox_error"),!1},c.prototype.onFileLoadError=function(){this.$fileboxContent.css("display","none"),this.$fileboxLoader.css("display","none"),this.$fileboxError.css("display","block"),this.$filebox.addClass("page-import__filebox_error")},c.prototype.upload=function(t){s.show(this.name,{uploadData:t})},c.prototype.uploadData=function(t){var e=this;if(e.$file.trigger("loadstart"),!t||/^\s+$/.test(t)||t.data&&(0===t.data.length||0===t.data.byteLength))return e.onFileLoadEnd(),void alert(i18n("page-import","Выберите непустой файл"));var i,n=!1,s="import";return t.data&&window.ArrayBuffer&&t.data instanceof ArrayBuffer?(i={file:t},n=!0,s="import-file"):i={content:t},a.post(s,i,{multipart:n}).then((function(t){delete e.data.status,delete e.data.code,delete e.data.error,delete e.data.tracks,delete e.data.trackIds,e.$file.trigger("loadend"),t.success?(e.data.code=t.importCode,e.data.status="in-progress",e.updateUrl="/import/"+t.importCode,e.addToHistory(t.importCode)):e.data.error=t;var i=$(Mu.render("page-import__result",e.data));e.$content.html(i),e.initContent()}),(function(){e.$file.trigger("abort")}))},c.prototype.loadDataByCode=function(t,e){var i=this;return t.get("import",{code:e},{nocache:!0}).then((function(t){return delete i.data.tracks,delete i.data.error,delete i.data.trackIds,t.success?(i.data.status=t.status,i.data.tracks=t.tracks,i.data.trackIds=t.trackIds):i.data.error=t,i.data}))},c.prototype.loopRefresh=function(){var t=this;t.loadFinished=!1;var e=function(){t.loadFinished||(t.loadDataByCode(a,t.data.code).then((function(){if(t.data.tracks){t.loadFinished=!0;var e=$(Mu.render("page-import__result",t.data));t.$content.html(e),t.initContent(!0)}})),t.timeoutId=setTimeout((function(){e()}),5e3))};e()},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("import",c),t.exports=c},function(t,e,i,n){var a,s,o,r=i(103),l=!1,c=function(t){c.beforeLoading(),this.params=t||{},this.templateName="page-joydivision",this.noHeader=!0,this.noFooter=!0,this.noSidebar=!0,this.noTheme=!0};c.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-width centerblock-wrapper_dark"),$(".page-root").addClass("page-root_full-width"))}catch(t){}},c.init=function(t){a=t.get("dataSrc"),s=t.get("pages"),o=t.get("seq")},c.prototype.fetchData=function(){var t=new r,e=parseInt(this.params.query.s)||0,i={imageNumber:e=e>=1&&e<=9?e:Math.ceil(9*Math.random()),imageCount:9};return t.resolve(i),t.promise()},c.prototype.onRender=function(){var t=this;try{window.navigator&&(l=!(window.navigator.userAgent.toLowerCase().indexOf("msie")>=0||window.navigator.userAgent.toLowerCase().indexOf("trident")>=0||window.navigator.userAgent.toLowerCase().indexOf("safari")>=0&&window.navigator.userAgent.toLowerCase().indexOf("version/")>=0))}catch(t){l=!1}t.injectionState="stopped",t.$cont=$(this.container),t.$page=t.$cont.find(".page-joydivision"),t.$animations=t.$cont.find(".page-joydivision__animations"),t.$permanent=t.$cont.find(".page-joydivision__permanent"),t.$info=t.$cont.find(".page-joydivision__info"),t.$ian=t.$cont.find(".page-joydivision__ian"),t.$bg=t.$cont.find(".page-joydivision__bg"),t.$bg2=t.$cont.find(".page-joydivision__bg2"),t.$bg3=t.$cont.find(".page-joydivision__bg3"),t.$overlay=t.$cont.find(".page-joydivision__overlay"),t.$house=t.$cont.find(".page-joydivision__house"),t.$factory=t.$cont.find(".page-joydivision__factory"),t.$phonebox=t.$cont.find(".page-joydivision__phonebox"),t.$tv=t.$cont.find(".page-joydivision__tv"),t.$guitar=t.$cont.find(".page-joydivision__guitar"),t.$sign1=t.$cont.find(".page-joydivision__sign_1"),t.$sign2=t.$cont.find(".page-joydivision__sign_2"),t.$vinyls=t.$cont.find(".page-joydivision__vinyl"),t.$vinyl1=t.$cont.find(".page-joydivision__vinyl_1"),t.$vinyl2=t.$cont.find(".page-joydivision__vinyl_2"),t.$vinyl3=t.$cont.find(".page-joydivision__vinyl_3"),t.$vinyl4=t.$cont.find(".page-joydivision__vinyl_4"),t.$ctrl=t.$cont.find(".page-joydivision__ctrl"),l||(t.$page.addClass("page-joydivision__without-animation"),t.$vinyl3.addClass("page-joydivision__vinyl_question")),t.onLoaded=t.onLoaded.bind(t),t.onUnLoading=t.onUnLoading.bind(t),t.scaleSizes=t.scaleSizes.bind(t),t.onBodyKeyDown=t.onBodyKeyDown.bind(t),t.stopCtrlAnimation=t.stopCtrlAnimation.bind(t),c.onPlay=function(){},c.onPause=function(){},c.onFinished=function(){c.startPlaying()},s.on("loaded",t.onLoaded),s.on("unloading",t.onUnLoading),t.$vinyls.parent().on("mouseover",".page-joydivision__vinyl_question",(function(){t.$info.removeClass("page-joydivision__info_hidden"),t.activePopup&&t.activePopup.hide()})),t.$info.on("click",(function(){t.$info.addClass("page-joydivision__info_hidden")})),t.$factory.add(t.$house).add(t.$sign1).add(t.$sign2).add(t.$phonebox).add(t.$tv).add(t.$guitar).on("click",(function(){var e=$(this),i=e.attr("data-img"),n=e.data("popup");if(!n){var a=$(Mu.render("page-joydivision__popup-share",$.extend({},t.data,{imageNumber:i})));t.$cont.append(a),Mu.blocks.forElem(a.find(".share__buttons")[0],"share__buttons"),n=new(Mu.blocks.get("popup"))(a,{position:{my:"center",at:"center",of:$(window)}}),a.on("click",".page-joydivision__popup-overlay",n.hide.bind(n)),e.data("popup",n)}t.activePopup=n,n.show(),t.scaleSizes(),n.position()}))},c.startPlaying=function(){var t=this;t.playlist?c.startPlayist(t.playlist):a.get("playlist",{owner:"music-blog",kinds:1371,light:!0,lang:"ru"}).then((function(e){t.playlist=e.playlist,c.startPlayist(e.playlist)}))},c.startPlayist=function(t){var e=t.tracks,i=t.trackIds;i instanceof Array||(i=[i]);var n=i.map((function(t,i){return e[i]?e[i]:t.toString()})).filter((function(t){return t&&!t.error})),a={eventId:void 0,from:"web-user_joydivision-playlist-playlist-main",href:"/joydivision",id:"playlist:"+t.owner.login+":"+t.kind,playlist:t,shortTitle:t.title,title:"Плейлист «"+t.title+"»"};o.playTracks(a,n)},c.playingInjection=function(t){var e=this.playlist;if(e){for(var i,n=0;n<e.trackIds.length;n++)if(183646==+(e.trackIds[n]+"").split(":")[0]){i=n;break}i&&o.play(i).then((function(){o.setPosition(96),t()}))}},c.prototype.onLoaded=function(){c.beforeLoading(),$(".bar").addClass("local-icon-theme-black local-theme-black-contrast"),c.startPlaying(),this.scaleSizes(),this.startAnimation(),$(window).on("resize",this.scaleSizes),$("body").on("keydown",this.onBodyKeyDown),o.on(Mu.PlayFlow.EVENT_SHOW_PLAY,c.onPlay),o.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,c.onPause),o.on(Mu.PlayFlow.EVENT_FINISHED,c.onFinished),o.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this.stopCtrlAnimation.bind(this))},c.prototype.onUnLoading=function(){$(".bar").removeClass("local-icon-theme-black local-theme-black-contrast"),$(".centerblock-wrapper").removeClass("centerblock-wrapper_full-width centerblock-wrapper_dark"),$(window).off("resize",this.scaleSizes),$("body").off("keydown",this.onBodyKeyDown),o.off(Mu.PlayFlow.EVENT_SHOW_PLAY,c.onPlay),o.off(Mu.PlayFlow.EVENT_SHOW_PAUSE,c.onPause),o.off(Mu.PlayFlow.EVENT_FINISHED,c.onFinished),o.off(Mu.PlayFlow.EVENT_SHOW_TRACK,this.stopCtrlAnimation)},c.prototype.destroy=function(){this.undelegateAll(),s.off("loaded",this.onLoaded),s.off("unloading",this.onUnLoading),$(window).off("resize",this.scaleSizes),$(".page-root").removeClass("page-root_full-width")},c.prototype.scaleSizes=function(){var t=$(window).width(),e=$(window).height(),i=t/1600,n=e/800,a=function(t,e,i,n,a){var s,o,r=$(t),l=r.data("sizes");if(l?(s=l.width,o=l.height):(s=r.width(),o=r.height(),r.data("sizes",{width:s,height:o})),i&&r.width(Math.round(s*e,1)),n&&r.height(Math.round(o*e,1)),a){var c=r.data(a);c||(c=parseFloat(r.css(a)))&&r.data(a,c),c&&r.css(a,Math.round(c*e,1)+"px")}};this.$permanent.children().each((function(){a(this,i,!0,!0)})),this.$ian.each((function(){a(this,n,!0,!0)})),this.$bg2.each((function(){a(this,n,!1,!1,"background-size")})),this.$cont.find(".page-joydivision__popup").each((function(){a(this,i*n,!0,!0)})),this.$cont.find(".page-joydivision__popup-share .share__buttons_black").each((function(){a(this,i*n,!1,!1,"bottom")}))},c.prototype.onBodyKeyDown=function(t){var e=this;t.ctrlKey&&c.playingInjection((function(){e.startCtrlAnimation()}))},c.prototype.startTwinkle=function(){var t=this,e=["page-joydivision__overlay_inside","page-joydivision__overlay_outside",""];t.$overlay.data("index",e.length);var i=function(){t.$animations.addClass("page-joydivision__animations_invert").removeClass("page-joydivision__animations_invert",250);var n=t.$overlay.data("index")+1;n=n<e.length?n:0,t.$overlay.data("index",n),t.$overlay.removeClass(e.join(" ")).addClass(e[n]).addClass("page-joydivision__overlay_visible",300).removeClass("page-joydivision__overlay_visible",700),setTimeout((function(){requestAnimationFrame(i)}),6e4)};setTimeout(i,2e4)},c.prototype.startAnimation=function(){var t=this;t.runPermanentAnimation(),t.runBGAnimation(),t.startTwinkle()},c.prototype.runPermanentAnimation=function(){var t=this,e=0,i=0;t.$ian.removeClass("page-joydivision__ian_hidden"),t.$permanent.removeClass("page-joydivision__permanent_hidden");var n=t.getBubblingFunction(t.$house,3),a=t.getBubblingFunction(t.$factory,3),s=t.getBubblingFunction(t.$phonebox,3),o=t.getBubblingFunction(t.$sign1,3),r=t.getBubblingFunction(t.$sign2,3),c=t.getBubblingFunction(t.$guitar,4),d=t.getBubblingFunction(t.$tv,4),u=t.getBubblingFunction(t.$vinyl1,2),p=t.getBubblingFunction(t.$vinyl2,2),h=t.getBubblingFunction(t.$vinyl3,2),_=t.getBubblingFunction(t.$vinyl4,2),m=t.getBubblingFunction(t.$ctrl,5),g=t.getTwinkleFunction(t.$ctrl,5),f=t.$vinyls.filter(".page-joydivision__vinyl_question"),y=function(){t.$vinyls.removeClass("page-joydivision__vinyl_question"),f=t.$vinyls.eq(Math.floor(Math.random()*t.$vinyls.size())).addClass("page-joydivision__vinyl_question")},v=function(){n(e+=.1),a(e),s(e),o(e),r(e),d(e),c(e),u(e),p(e),h(e),_(e),"playing"===t.injectionState?(m(i+=.1),g(i)):"stopping"===t.injectionState&&(m(i=0),t.injectionState="stopped"),f&&f.size()?f.offset().top<-f.height()/2&&y():y(),setTimeout((function(){requestAnimationFrame(v)}),60)};l&&v()},c.prototype.startCtrlAnimation=function(){this.injectionState="playing"},c.prototype.stopCtrlAnimation=function(){"playing"===this.injectionState&&(this.injectionState="stopping")},c.prototype.runBGAnimation=function(){return!1},c.prototype.getBubblingFunction=function(t,e){var i=$(t);if(!i.size())return function(){};var n=parseInt(i.css("bottom"))||0;return function(t){var a=i.height(),s=2*$(window).height(),o=(t*e+100*(n+a)/s)%100,r=n+a-Math.round(s*o/100,3);i.css("transform","translateY("+r+"px)")}},c.prototype.getTwinkleFunction=function(t,e){var i=$(t);if(!i.size())return function(){};var n=i.attr("class").split(" ")[0]+"_invert",a=!1;return function(t){Math.floor(t)%e==0&&(a=!a),i.toggleClass(n,a)}},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("joydivision",c),t.exports=c},function(t,e,i,n){var a,s,o="undefined"!=typeof window,r=i(25),l=i(594),c=i(635),d=function(t){this.templateName="page-kids",this.category=t.category,this.postfix=t.postfix,this.what=t.what,this.editorialType=t.editorialType||"",this.editorialId=t.editorialId||"","kids"===this.what&&(this.data=404)};d.init=function(t){a=t.get("dataSrc"),Seq=t.get("seq"),Blocks=t.get("blocks"),s=t.get("auth")},d.prototype.canRender=function(){return"kids"!==this.what},d.prototype.fetchData=function(t){t&&(this.dataSrc=t);var e=this.data?this.data.end:0,i={category:this.category,postfix:this.postfix,what:this.what,editorialType:this.editorialType,editorialId:this.editorialId,path:"children-landing",start:e};return o&&$(".page-kids__spinner").show(),this.data&&"boolean"==typeof this.data.hasNextBatch&&!this.data.hasNextBatch?null:this.dataSrc.get("non-music",i,{nocache:!0}).then(t=>{let e=t;return this.editorialType||(e=c.handleRadioStation(e),s&&s.user&&(e=c.handleLiked(e,s.user.login))),this.data&&this.onNextData(e),this.data=e,this.data.what=this.what,this.data.editorialType=this.editorialType,this.data.editorialId=this.editorialId,e}).catch(t=>{throw console.log("kids page caught error",t),t})},d.prototype.hiliteStation=function(t){this.unhiliteStations(),Seq.isEmpty()||(t||(t=Seq.getConfig()),void 0!==t.tag&&(this.hilitedStations=this.findStationBlocks(t),this.hilitedStations.forEach((function(t){t.block.setPlaying(!0)}))))},d.prototype.unhiliteStations=function(){this.hilitedStations&&(this.hilitedStations.forEach((function(t){t.block.setPlaying(!1)})),this.hilitedStations=null)},d.prototype.findStationBlocks=function(t){const e=[],i=$(".d-station");if(0===i.length)return e;for(let n=0;n<i.length;n++){const a=Blocks.forElem(i[n]),s=a.data.item.data.data.station.id;s.type===t.type&&s.tag===t.tag&&e.push({block:a})}return e},d.prototype.onRender=function(){this.$cont=$(this.container),this.onScroll=r.throttle(100,!1,this.onScroll.bind(this)),this._hiliteStation=this.hiliteStation.bind(this,null),this.data.hasNextBatch&&$(window).on("scroll",this.onScroll),this.delegate("track.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("playlist.click",this.selectItem),Seq.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._hiliteStation),Seq.on(Mu.PlayFlow.EVENT_EMPTY,this._hiliteStation),Seq.on(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation)},d.prototype.onShow=function(){this.hiliteStation()},d.prototype.onScroll=function(){if(!this.loading){var t=$(window).scrollTop(),e=$(window).height();t+e>=$(document).height()-e/2&&(this.loading=!0,this.fetchData(a))}},d.prototype.onNextData=function(t){if(!t||!t.albums)return void(o&&$(".page-kids__spinner").hide());t.hasNextBatch||$(window).off("scroll",this.onScroll);const e=t.albums.map(t=>l.render({album:t})).join("");this.$cont.find(".albums").append(e),o&&$(".page-kids__spinner").hide(),this.loading=!1},d.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},d.prototype.destroy=function(){Seq.off(Mu.PlayFlow.EVENT_SHOW_TRACK,this._hiliteStation),Seq.off(Mu.PlayFlow.EVENT_EMPTY,this._hiliteStation),Seq.off(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("kids",d),t.exports=d},function(t,e,i,n){t.exports={handleLiked(t,e){const i={...t},n=i.blocks.filter(t=>"liked"===t.type);for(let t=0;t<n.length;t++){const i=n[t]&&n[t].entities&&n[t].entities[0].type;n[t].type="liked-"+i,n[t].viewAllUrl=`/users/${e}/kids/${i}s`}return i},handleRadioStation:function(t){const e={...t};return e.blocks.find(t=>"radio"===t.type).type="radio-stations",e},createEntitiesMatrix:function(t,e){let i=[];for(let n=0;n<t;n++){const t=new Array(e).fill(0);i.push(t)}return i},transpose:function(t){return t[0].map((e,i)=>t.map(t=>t[i]))},handleEntities:function(t){const e=Math.ceil(t.length/4),i=[];let n=0;for(let a=0;a<e;a++){const e=2;let a=this.createEntitiesMatrix(e,e);for(let i=0;i<e;i++)for(let s=0;s<e;s++)a[i][s]=t[2*(i+n)+s];n+=2,a=this.transpose(a),i.push(...a)}for(let t=0;t<i.length;t++)i[t]=i[t].filter((function(t){return void 0!==t})),i[t].length?i[t].context="station":i.pop();return i}}},function(t,e,i,n){var a=function(t){this.cache=!0,this.query=t.query,this.container=null,this.id=t.id,this.templateName="page-label",this.what=t.what||"albums",this.sort=this.query.sort,this.page=this.query.page,this.sort||"albums"!==this.what||(this.sort="year")};a.init=function(){},a.prototype.fetchData=function(t){var e={what:this.what,dir:this.dir,sort:this.sort};return t.get("label",{id:this.id,what:this.what,sort:this.sort,page:this.page}).then((function(t){return Function.mixin(e,t),e}))},a.prototype.onRender=function(){var t=$(this.container);this.$cont=t,this.$desc=t.find(".page-label__desc"),this.delegate("album.click",this.selectItem),this.delegate("artist.click",this.selectItem),t.on("click",".read-more",this.showDesc.bind(this)),this.$desc.text()&&this.checkDescriptionLength()},a.prototype.onShow=function(){this.currSelected&&this.currSelected.openSidebar&&this.currSelected.openSidebar()},a.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},a.prototype.checkDescriptionLength=function(){var t=this.$desc.text(),e=this.$desc.html(),i=t.length,n=[];for(n.unshift(e[e.length-1]);e.replace(/<[^>]+>/g,"").length>140;)e=e.substring(0,e.length-1),n.unshift(e[e.length-1]);(n.shift(),-1!==(n=n.join("")).indexOf("</"))&&(n.indexOf("</")<=n.indexOf("<")&&(e+=n.substring(0,n.indexOf(">")+1),n=n.substring(n.indexOf(">")+1)));if(i>140&&n.length){var a=e+'<span class="read-more">...&nbsp;</span><a class="link read-more">'+i18n("page-artist","Читать полностью")+'</a><span class="whole-desc">'+n+"</span>";this.$desc.html(a),this.$desc.find(".whole-desc").css("display","none"),this.$desc.find(".read-less").css("display","none")}},a.prototype.showDesc=function(){this.$desc.find(".whole-desc").css("display","inline"),this.$desc.find(".read-more").css("display","none"),this.$desc.find(".read-less").css("display","inline")},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("label",a),t.exports=a},function(t,e,i,n){var a,s,o,r=function(t){this.templateName="page-main",this.name="main",this.what=t.what||"home",this.query=t.query,this.chartType=t.chartType||"",this.editorialType=t.editorialType||"",this.editorialId=t.editorialId||"",this.podcastsCategory=t.podcastsCategory||""};r.init=function(t){a=t.get("pages"),s=t.get("metrika"),t.get("auth"),t.get("dataSrc"),o=t.get("navigation")},r.prototype.fetchData=function(t){var e=this,i={what:this.what};return this.chartType&&(i.chartType=this.chartType),this.editorialType&&(i.editorialType=this.editorialType),this.editorialId&&(i.editorialId=this.editorialId),this.podcastsCategory&&(i.podcastsCategory=this.podcastsCategory),t.get("main",i,{nocache:!0}).then((function(t){return t.what=e.what,t.chartType=e.chartType,t.editorialType=e.editorialType,t.editorialId=e.editorialId,t.podcastsCategory=e.podcastsCategory,t.path="",t}))},r.prototype.onRender=function(){this.$cont=$(this.container),this.$tracks=this.$cont.find(".page-main__albums .track"),this.$albums=this.$cont.find(".page-main__albums .album"),this.$playlists=this.$cont.find(".page-main__albums .playlist"),this.$similar=this.$cont.find(".page-main__similar-playlists"),this.$lines=this.$cont.find(".page-main__line"),this.$autoplaylists=this.$cont.find(".page-main__line_auto-playlists"),this.$chartTracks=this.$cont.find(".page-main__line_track-chart"),this.onLoaded=this.onLoaded.bind(this),this.onResize=this.onResize.bind(this),this.delegate("track.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("playlist.click",this.selectItem),this.delegate("artist.click",this.selectItem),this.$lines.on("click",[".mix__link",".track__title",".album__title .link",".playlist__title-cover"].join(", "),this.onLinkClick.bind(this)),this.$lines.on("click",[".album__artist .link",".track__artists .link",".page-main__author.d-link"].join(", "),this.onArtistClick.bind(this)),this.$lines.on("click",".button-play",this.onPlayClick.bind(this)),this.$lines.on("click",".page-line__show-all",this.onShowAllClick.bind(this)),a.on("loaded",this.onLoaded),$(window).on("resize",this.onResize)},r.prototype.destroy=function(){a.off("loaded",this.onLoaded),$(window).off("resize",this.onResize)},r.prototype.onLoaded=function(){if("feed"===this.query.from){var t=0;"pc"!==ya.music.info.platform.type&&(t=$(".d-overhead-mobile").outerHeight(!0));var e=this.$autoplaylists.offset().top||0;$(window).scrollTop(e-t-25),o.pushState("/home",!0)}},r.prototype.onResize=function(){if(this.slider){var t=Math.floor(this.slider.$itemsContainer.width()/this.slider.itemWidth);this.slider.step=Math.min(2,t)}},r.prototype.onLinkClick=function(t){this._sendCount(this._detectType(t),{click:1})},r.prototype.onArtistClick=function(t){this._sendCount(this._detectType(t),{artist:1})},r.prototype.onPlayClick=function(t){var e=$(t.target).closest(".button-play");e.size()&&!e.is(".button-play_playing")&&this._sendCount(this._detectType(t),{play:1})},r.prototype.onShowAllClick=function(t){this._sendCount(this._detectType(t),{all:1})},r.prototype.onFridgeOpen=function(t){this._sendCount(this._detectType(t),{fridge:1})},r.prototype._detectType=function(t){return $(t&&t.target||t).closest(this.$lines).attr("data-type")},r.prototype._sendCount=function(t,e){if(e&&t){var i={home:{}},n=this.data.what||"main";i.home[n]={},i.home[n][t]=e,s.count(i)}},r.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar(),this.onFridgeOpen(t.target.container))},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("main",r),t.exports=r},function(t,e,i,n){var a,s,o,r,l,c,d=i(103),u=i(1),p=i(590),h=i(79),_=(i(639),i(646)),m=i(641),g=i(651),f=["albums","playlists"],y=function(t){this.templateName="page-metatag",this.tag=decodeURIComponent(t.tag||c&&c.getItem("lastVisitedMetatag")||"all"),!t.tag&&o&&o.current&&"metatag"===o.current.name&&(this.tag="all"),this.tab=t.tab||"overview",this.sortBy=t.sortBy||this.getSortBy(),this.query=t.query};y.init=function(t){a=t.get("navigation"),s=t.get("dataSrc"),o=t.get("pages"),t.get("fav"),t.get("library"),r=t.get("seq"),l=t.get("blocks"),c=Mu.Storage.create("localStorage")},y.prototype.fetchData=function(t){var e=new d,i=[];return i.push(t.get("metatag",{id:this.tag},{nocache:!0})),this.tab&&"overview"!==this.tab&&i.push(t.get("metatag",{id:this.tag,tab:this.tab,page:this.query.page||0,sortBy:this.sortBy},{nocache:!0})),u.all(i).then(function(i){var n=i[0],a=i[1];a&&Function.mixin(n.metatag,a.metatag);var s=n.metatag.albumsSortByValues.find((function(t){return t.active})),o=n.metatag.playlistsSortByValues.find((function(t){return t.active}));if("albums"===this.tab||"playlists"===this.tab){var r;switch(this.tab){case"albums":r=n.metatag.albumsSortByValues;break;case"playlists":r=n.metatag.playlistsSortByValues}var l=this.sortBy,c=r&&r.find((function(t){return t.active})),d=r.find((function(t){return t.value===l}));if(d&&c&&d.value!==c.value&&(r.map((function(t){return t.active=t.value===l,t})),"albums"===this.tab&&(s=r.find((function(t){return t.active}))),"playlists"===this.tab&&(o=r.find((function(t){return t.active})))),!d&&c)return this.sortBy=c.value,this.updateURL(),void t.get("metatag",{id:this.tag,tab:this.tab,page:0,sortBy:this.sortBy},{nocache:!0}).then(function(t){t&&Function.mixin(n.metatag,t.metatag),e.resolve({all:[],tag:this.tag,tab:this.tab,tagData:n.metatag,currentAlbumsSort:s,currentPlaylistsSort:o})}.bind(this)).catch(e.reject)}e.resolve({all:[],tag:this.tag,tab:this.tab,tagData:n.metatag,currentAlbumsSort:s,currentPlaylistsSort:o})}.bind(this)).catch(e.reject),e.promise()},y.prototype.refreshMetatagContent=function(){this.fetchData(s).then(function(t){this.data=t,this.$cont.find(".page-metatag__content").replaceWith(_(t)),l.initPendingBlocks(this.$cont),this.hideLoader()}.bind(this)).catch((function(t){o.show("500",{error:t})}))},y.prototype.onRender=function(){if(this.$cont=$(this.container),this.$cont.on("click",".page-metatag__tab",function(t){var e=l.forElem(t.currentTarget,"d-tabs__tab");this.onTabChange({target:e,value:e.data.id})}.bind(this)),this.$loader=this.$cont.find(".page-metatag__loader"),this.$spinner=this.$loader.find(".spinner"),this._hiliteStation=this.hiliteStation.bind(this),r.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_EMPTY,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation),this.delegate("track.click",this.selectItem),this.delegate("artist.click",this.selectItem),this.delegate("playlist.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("promo.click",this.selectItem),this.delegate("button-play.getContext",this.getContext),this.delegate("force-auth-tooltip.showed",t=>{const e=t.target;if(!e)return;const i=e.data.destinationElem;if(i){i.data("tooltiponleft")&&(e.data.side="left")}}),window.location.href.includes("page=0")){const t=new URL(window.location.href);t.searchParams&&t.searchParams.delete("page");let e=t.href;e.includes("page="+this.query.page)&&(e=e.replace("page="+this.query.page,"page=0")),this.query.page=0,a.pushState(e)}this.updateURL(!0)},y.prototype.showLikeTooltip=function(){if(this.likeTooltipShouldBeShown()){var t=l.forElem(this.$cont.find(".page-metatag__header-like .tooltip")[0]);t&&t.show()}},y.prototype.likeTooltipShouldBeShown=function(){return!1},y.prototype.onTabChange=function(t){this.tab!==t.value&&(this.showLoader(),this.tab=t.value,this.data.tab=this.tab,this.sortBy=this.getSortBy(),this.query.page=0,this.$cont.find(".page-metatag__header-content").replaceWith(m(this.data)),this.updateURL(),this.refreshMetatagContent())},y.prototype.showLoader=function(){this.$loader.addClass("page-metatag__loader_on");var t=(window.innerHeight-155-70)/2+95;window.pageYOffset>155?t+=window.pageYOffset-70:t+=window.pageYOffset/2,this.$spinner.css({top:t})},y.prototype.hideLoader=function(){this.$loader.removeClass("page-metatag__loader_on")},y.prototype.getURL=function(){var t="/"+this.tab,e="";return"overview"===this.tab&&(t=""),this.isSortable()&&(e="/"+this.sortBy),h(this.data.tagData.href+t+e,p(this.query))},y.prototype.getTopURL=function(){return this.data.tagData.href},y.prototype.updateURL=function(t){c.setItem("lastVisitedMetatag",this.tag),a.pushState(this.getURL(),!!t)},y.prototype.hiliteStation=function(){if(!r.isEmpty()){var t=r.getConfig(),e=!1,i=this.$cont.find(".button-play__type_radio");void 0===t.tag&&(e=!0),i.each((function(i,n){var a=l.forElem(n);a&&(e?a.setPlaying(!1):a.setPlaying(a.item.id.tag===t.tag&&a.item.id.type===t.type))}))}},y.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar())},y.prototype.isSortable=function(){return f.indexOf(this.tab)>-1},y.prototype.getSortBy=function(){return this.data&&this.data.tagData?g.currentSortBy(this.tab,this.data.tagData):"albums"===this.tab?"new":"popular"},y.prototype.getContext=function(t){if("track"!==t.target.type)return t;var e=this.data.tagData.tracks.map((function(t){return{album:t.albums[0],track:t}})),i=this.data.tagData.title.fullTitle;return{id:"metatag:"+this.data.tagData.id+("overview"!==this.tab?":"+this.tab:"")+":"+(this.query&&this.query.page||0),entries:e,shortTitle:i,title:i,href:this.getTopURL()}},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("metatag",y),t.exports=y},function(t,e,i,n){t.exports=function(){i(640);var t=i(641);return function(e){return'<div class="page-metatag__header">'+t(e)+"</div>"}}()},function(t,e,i,n){t.exports=i(72)},function(t,e,i,n){t.exports=function(){i(642);var t=i(644),e=i(318),n=i(381),a=function(t){var i='<div class="page-metatag__header-buttons">';if(t.tagData.stationId){var a=t.tagData.stationId.split(":");i+=n.render({type:"radio",item:{id:{type:a[0],tag:a[1]}},attrs:{"data-tooltiponleft":!0},theme:"withText",rotatable:!0,text:i18n("page-metatag","[feature/mfront-3789]Поток жанра")})}return i+=e.render({theme:"metatag",metatag:t.tagData,buttonTitle:{addText:i18n("page-metatag","[feature/mfront-4562]Ставьте лайк и делайте рекомендации точнее"),removeText:i18n("page-metatag","[feature/mfront-4562]Вам нравится этот жанр")},className:"page-metatag__header-like"})+"</div>"};return function(e){var i="",n=[];return n.push({title:i18n("page-metatag","Обзор"),class:"page-metatag__tab",id:"overview"}),e.tagData.albums&&e.tagData.albums.length&&n.push({title:i18n("page-metatag","Альбомы"),class:"page-metatag__tab",id:"albums"}),["genre:classical","genre:classicalmasterpieces"].includes(e.tagData.stationId)?e.tagData.composers&&e.tagData.composers.length&&n.push({title:i18n("page-metatag","Композиторы"),class:"page-metatag__tab",id:"composers"}):e.tagData.artists&&e.tagData.artists.length&&n.push({title:i18n("page-metatag","Исполнители"),class:"page-metatag__tab",id:"artists"}),e.tagData.playlists&&e.tagData.playlists.length&&n.push({title:i18n("page-metatag","Плейлисты"),class:"page-metatag__tab",id:"playlists"}),i+='<div class="page-metatag__header-content">'+t.render({title:e.tagData.title.fullTitle,titleContent:a(e),tabs:n.length>1&&{currentId:e.tab,items:n}})+"</div>"}}()},function(t,e,i,n){var a={render:i(643)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=function(t,e){var i="",n=t.id===e,a=t.isHidden?"hidden":"",s=["typo-nav","d-tabs__link"];n&&s.push("current"),t.class&&s.push(t.class),s=s.join(" ");var o=` data-tab-id="${t.id||t.tabId}"`;return i+='<div class="d-tabs__tab typo-caps '+__escape(a)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-tabs__tab"))+'"'+o+">",t.href&&!n?(i+='<a href="'+__escape(t.href)+'" class="'+__escape(s)+'">',t.iconUrl&&(i+='<span class="d-tabs__tab-icon '+__escape(t.iconClass||"")+'" style="background-image: url('+__escape(t.iconUrl)+')"></span>'),i+=t.title+"</a>"):(i+='<span class="'+__escape(s)+'">',t.iconUrl&&(i+='<span class="d-tabs__tab-icon '+__escape(t.iconClass||"")+'" style="background-image: url('+__escape(t.iconUrl)+')"></span>'),i+=t.title+"</span>"),i+="</div>"},function(t){var e="";t.items&&!Array.isArray(t.items)&&(t.items=[t.items]),e+='<div class="d-tabs deco-border',t.theme&&(e+=" local-theme-"+__escape(t.theme)),e+='">';for(var i,n=0;n<t.items.length;n++)i=t.items[n],e+=a(i,t.currentId);return e+="</div>"})},function(t,e,i,n){var a={render:i(645)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(642),function(t){var e="",i=[];return t.class&&i.push(t.class),t.tabs&&i.push("d-header_without-menu"),t.theme&&i.push("local-theme-"+t.theme),e+='<div class="d-header '+__escape(i.join(" "))+'"><div class="d-header__title"><h1 class="d-header__title-text typo typo-h1'+__escape(t.title.length<25?"_big":"_small")+'">'+__escape(t.title)+"</h1>",t.titleContent&&(e+='<div class="d-header__title-content">'+t.titleContent+"</div>"),e+="</div>",t.tabs&&(e+='<nav class="d-header__tabs">'+a.render(Object.assign({},t.tabs,{theme:t.tabs.theme||t.theme||""}))+"</nav>"),t.subtitle&&(e+='<div class="d-header__subtitle typo typo-h2_bold">'+__escape(t.subtitle)+"</div>"),e+="</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(647),s=i(651),i(652),o=i(667),r=i(594),function(t){var e='<div class="page-metatag__content"> ';return("playlists"==t.tab||"overview"==t.tab&&t.tagData.playlists&&t.tagData.playlists.length)&&(e+=" "+a({title:i18n("page-metatag","%1 плейлисты",t.currentPlaylistsSort.title),entities:s.preparePlaylists(t.tagData.playlists),cutLength:4,entityTemplateName:"playlist",className:"page-metatag__playlists"+(t.tagData.pager?"":" capped"),pager:t.tagData.pager,link:t.tagData.href+"/playlists",linkTitle:i18n("page-metatag","[feature/mfront-1599-more]Смотреть всё"),sorts:t.tagData.pager&&t.tagData.playlistsSortByValues.map((function(e){return e.link=t.tagData.href+"/playlists/"+e.value,e}))})+" "),e+=" ",("albums"==t.tab||"overview"==t.tab&&t.tagData.albums&&t.tagData.albums.length)&&(e+=" "+a({title:i18n("page-metatag","%1 альбомы",t.currentAlbumsSort.title),entities:s.prepareAlbums(t.tagData.albums),cutLength:8,entityTemplate:r,className:"page-metatag__albums",pager:t.tagData.pager,link:t.tagData.href+"/albums/"+t.currentAlbumsSort.value,linkTitle:i18n("page-metatag","[feature/mfront-1599-more]Смотреть всё"),sorts:t.tagData.pager&&t.tagData.albumsSortByValues.map((function(e){return e.link=t.tagData.href+"/albums/"+e.value,e}))})+" "),e+=" ",["genre:classical","genre:classicalmasterpieces"].includes(t.tagData.stationId)?(e+=" ",("composers"==t.tab||"overview"==t.tab&&t.tagData.composers&&t.tagData.composers.length)&&(e+=" "+a({title:i18n("page-metatag","Популярные композиторы"),entities:s.prepareEntities("artist",t.tagData.composers),cutLength:8,entityTemplate:o,className:"page-metatag__composers",pager:t.tagData.pager,link:t.tagData.href+"/composers",linkTitle:i18n("page-metatag","Все композиторы")})+" "),e+=" "):(e+=" ",("artists"==t.tab||"overview"==t.tab&&t.tagData.artists&&t.tagData.artists.length)&&(e+=" "+a({title:i18n("page-metatag","Популярные исполнители"),entities:s.prepareEntities("artist",t.tagData.artists),cutLength:8,entityTemplate:o,className:"page-metatag__artists",pager:t.tagData.pager,link:t.tagData.href+"/artists",linkTitle:i18n("page-metatag","[feature/mfront-1599-more]Смотреть всех")})+" "),e+=" "),e+="</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(610),s=i(648),function(t){var e=a.render({title:t.title,link:t.link,linkTitle:t.linkTitle,count:t.pager?t.entities.length:Math.min(t.entities.length,t.cutLength),total:t.entities.length,class:"page-metatag__subhead",tabs:t.sorts?t.sorts.map((function(t){return t.checked=t.active,t.href=encodeURI(t.link),t.text=t.title,t.class="sort-by-"+t.value,t})):null})+'<div class="'+__escape(t.className)+'">';if(t.pager)if(t.entityTemplate)for(var i=0;i<t.entities.length;i++)r=t.entities[i],e+=t.entityTemplate.render(r);else for(var n=0;n<t.entities.length;n++)r=t.entities[n],e+=Mu.render(t.entityTemplateName,r);else if(t.entityTemplate)for(var o=0;o<t.entities.slice(0,t.cutLength).length;o++)r=t.entities.slice(0,t.cutLength)[o],e+=t.entityTemplate.render(r);else for(var r,l=0;l<t.entities.slice(0,t.cutLength).length;l++)r=t.entities.slice(0,t.cutLength)[l],e+=Mu.render(t.entityTemplateName,r);return t.pager&&(e+=s.render({pager:t.pager,baseUrl:encodeURI(t.link)})),e+="</div>"})},function(t,e,i,n){var a={render:i(649)};t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(612),n=i(650);return function(i){var a="",s=n.pagesMax(i);if(s>1){a+='<div class="d-pager">',i.pager.page&&(a+=t.render({text:i18n("d-pager","В начало"),href:i.baseUrl,size:"M",class:i.class,type:"grouped"})+"&#160;&#160;"),a+=e.render({items:n.pagerData(i),size:"M",class:i.class,type:["lighter","spaced"]});var o=n.querySeparator(i);i.pager.page+5<s&&(a+="&#160;&#160;"+t.render({text:i18n("d-pager","ещe 5"),href:i.baseUrl+o+"page="+(i.pager.page+5),size:"M",class:i.class,type:"grouped"})),a+="</div>"}return a}}()},function(t,e,i,n){t.exports={pagesMax:function(t){var e=Math.ceil(t.pager.total/t.pager.perPage);return e>90&&(e=90),e},pagerData:function(t){for(var e=t.pager,i=this.pagesMax(t),n=+e.page||0,a=[],s=Math.max(n-2,0),o=Math.min(s+5,i),r=this.querySeparator(t),l=s;l<o;l++)a.push({text:(l+1).toString(),href:t.baseUrl+r+"page="+l,active:l===n});return a},querySeparator:function(t){return t.baseUrl&&t.baseUrl.indexOf("?")>-1?"&":"?"}}},function(t,e,i,n){t.exports={prepareEntities:function(t,e){return void 0===e[0][t]&&(e=e.map((function(e){var i={};return i[t]=e,i}))),e},prepareAlbums:function(t){return t.reduce((function(t,e){return t.push({album:e}),t}),[])},preparePlaylists:function(t){return t.reduce((function(t,e){return t.push({playlist:e}),t}),[])},currentSortBy:(t,e)=>{const i=(e[t+"SortByValues"]||[]).find(({active:t})=>t);return i?i.value:"popular"}}},function(t,e,i,n){var a={render:i(653)};clientSide&&(a.controller=i(666)),t.exports=a},function(t,e,i,n){t.exports=function(){const t=i(654),e=i(381),n=i(379),a=i(596),s=i(141),o=i(143),r=(i(420),i(429)),l=i(656),c=i(657),d=i(658),u=i(659),p=i(661),h=i(664),_=i(73);return function(i){var m="";if(i.isPlaceholder||!i.track)m+=a.render({type:t.placeholderType(i),class:"d-track"+t.class(i)});else{const a=t.twoColumns(i),g=Mu.dotBlockRoot(i,"d-track",!0);let f;i.trackListIndexes&&(f=i.trackListIndexes[i.listIndex]);const y=i.listIndex+1;m+='<div class="d-track'+__escape(t.class(i))+'" data-b="'+__escape(g)+'" data-id="'+__escape(y)+'" data-select-id="'+__escape(f)+'" data-tab="'+__escape(i.dataTab)+'" ',i.backgroundColor&&(m+='style="background-color: '+__escape(i.backgroundColor)+'; "'),m+='><div class="d-track__start-column">',i.showBest&&i.track&&i.track.best&&i.listIndex+1<100&&(m+=s.render({icon:"lightning"})),"touch"===i.type&&(i.error?m+='<div class="button-play_full"></div>':m+=e.render({type:"track",item:i.track,theme:"withoutButton"})+'<div class="d-track__play"></div>'),"light"===i.type?m+='<div class="d-track__play">'+n.render(t.getButtonPlayData(i))+"</div>":(t.showCover(i)?("chart"==i.type&&(m+='<div class="d-track__chart"><div class="d-track__chart-number typo deco-typo">',_().serverSide||(m+=__escape(i.listIndex+1)),m+='</div><div class="d-track__chart-progress-wrapper">',!_().serverSide&&0==i.listIndex&&i.track.chart&&(i.track.chart.progress="best-track"),m+='<div class="d-track__chart-progress'+__escape(i.track.chart?" d-track__chart-progress_"+i.track.chart.progress:"")+'"></div></div></div>'),m+=c(i)):!_().serverSide&&i.listIndex>=0&&(m+='<div class="d-track__id d-track__nohover deco-typo-secondary">',i.reverseNumbersOrder?m+=__escape(i.totalTracksNumber-i.listIndex):m+=__escape(i.listIndex+1),m+="</div>"),"player"!==i.type&&(m+='<div class="d-track__bubble"></div>',"touch"!==i.type&&(m+='<div class="d-track__play d-track__hover">'+n.render(t.getButtonPlayData(i))+"</div>"))),m+="</div>",a&&(m+='<div class="d-track__quasistatic-column">'+u(i)+"</div>"),m+='<div class="d-track__overflowable-column" '+t.rootTitle(i)+"> ";const v=t.isEpisode(i)&&i.track.pubDate;m+=" ";const b=t.shouldShow2Lines(i);m+=" ";const k=!i.inlineMeta&&i.showArtist;m+=" ";const w=v||b||k?" block-layout":"";m+=" ";v&&t.formatReleaseDate(i.track.pubDate);m+=" ";v&&t.isNewPodcastDate(i.track.pubDate);m+='<div class="d-track__overflowable-wrapper'+__escape(a?"":" deco-typo-secondary")+__escape(w)+'">',a||(m+=u(i)),"shelf-non-music"===i.type&&(m+=p(i)),t.isShelfPlaylist(i)||(m+=h(i)),m+="</div>","touch"===i.type&&(i.actions?m+=d(i):m+=""+o.render({icon:"cross-medium",type:"flat",class:"d-track__delete",size:"S"})),t.showInfoColumn(i)&&("shelf-non-music"!==i.type&&(m+=p(i)),m+='<div class="d-track__end-column">'+d(i),t.actionIsAllowed(i,"counter_like")||(t.actionIsAllowed(i,"bigAdd")||t.isRemoved(i)||(m+=r.render(t.getContextMenuData(i))),m+=l(i)),m+="</div>"),m+="</div></div>"}return m}}()},function(t,e,i,n){const a=i(124),s=i(309),o=i(14),r=i(73),l=i(322),c=i(607),d=i(655),u=i(125),p=i(293);t.exports={class:function(t){var e=" typo-track";return"light"===t.type&&(e=" typo-small"),"shelf-non-music"===t.type&&(e=" d-track__shelf-non-music"),t.nonSelectable||t.suggestSelectable||!this.showInfoColumn(t)||this.isRemoved(t)||(e+=" d-track_selectable"),t.suggestSelectable&&(e+=" d-track_suggest-selectable deco-pane_show-hover"),t.inlineMeta&&(e+=" d-track_inline-meta"),t.showBest&&t.track&&t.track.best&&(e+=" d-track_best"),(t.track&&t.track.error||t.track&&"error"===t.track.state)&&(e+=" d-track_error"),a(t.track&&t.track.id)&&(e+=" d-track_ugc",t.track.userInfo&&String(t.track.userInfo.uid)===String(o().uid)&&("private"!==t.track.desiredVisibility&&t.track.canPublish||(e+=" d-track_invisible"))),s(t.track&&t.track.id)&&(e+=" d-track_invisible"),this.showCover(t)&&(e+=" d-track_with-cover"),"chart"===t.type&&(e+=" d-track_with-chart"),"light"===t.type&&(e+=" d-track_light"),"player"===t.type&&(e+=" d-track_player"),t.drag&&(e+=" d-track_drag deco-pane"),t.className&&(e+=" "+t.className),this.isDisliked(t)&&(e+=" d-track__disliked"),t.track&&(!t.track.available&&t.track.availableForPremiumUsers||"no-rights"===t.track.error)&&(e+=" d-track__unavailable"),this.isEpisode(t)&&(e+=" d-track_podcast"),(Mu.settings.uatraits||{}).isMobile&&(e+=" d-track_mobile"),e},isDisliked:function(t){return t.track&&l({entry:{track:t.track}})},actionsClass:function(){return" d-track__actions"},titleClass:function(t){return this.isUgcError(t)||!t.track.available?"deco-typo-secondary":"deco-typo"},placeholderType:function(t){var e="track";return"chart"===t.type?e+="-chart":this.showCover(t)||(e+="-table"),e},title:function(t){return this.isRemoved(t)?i18n("d-track","[feature/mfront-3414]Трек недоступен"):this.isShelfAudiobookAlbum(t)?t.track&&t.track.albums&&t.track.albums[0]&&t.track.albums[0].title:this.isShelfPlaylist(t)?t.track.playlist&&t.track.playlist.title:t.track.title||(t.track.ugcTag?t.track.ugcTag.title:"")},fullTitle:function(t){var e=this.title(t);return t.track.version&&t.track.title&&!t.track.error&&t.track.available&&(e+=" "+t.track.version),e},albumId:function(t){return t.albumId?t.albumId:t.track.albums&&t.track.albums[0]&&t.track.albums[0].id},id:function(t){return t.track.realId?t.track.realId:t.track.id},setRootTitle:function(t){return!t.track.available&&t.track.availableForPremiumUsers||"no-rights"===t.track.error},linkTitle:function(t){return this.setRootTitle(t)?"":'title="'+__escape(this.fullTitle(t))+'"'},rootTitle:function(t){var e;return this.setRootTitle(t)?(e=!t.track.available&&t.track.availableForPremiumUsers?i18n("track","Трек доступен только платным пользователям"):"no-rights"===t.track.error?i18n("track","Правообладатель временно убрал трек из каталога"):this.title(t),'title="'+__escape(e)+'"'):""},artists:function(t){var e=t.track&&t.hideArtists&&this.shouldHideArtist(t.track,t.hideArtists);return t.track.ugcArtistName?[t.track.ugcArtistName]:!t.track.artists||e?[]:t.track.artists.filter(t=>!t.error&&!t.various&&(t.name||"").length>0)},isUgcError:function(t){return a(t.track.id)&&"error"===t.track.state&&t.track.userInfo&&t.track.userInfo.uid===o().uid},isAuthor:function(t){return t.track.userInfo&&String(t.track.userInfo.uid)===String(o().uid)},isUgcAuthor:function(t){return a(t.track.id)&&this.isAuthor(t)},actionIsAllowed:function(t,e){return t.actions||(t.actions=["like","dislike"]),0!==t.actions.length&&((!t.track.shelfType||"dislike"!==e)&&(("shelf-non-music"!==t.type||"like"!==e)&&("touch-like"===e?"touch"===t.type:"toggleVisibility"===e?s(t.track.id)||a(t.track.id)&&this.isAuthor(t):"remove"===e||"removeFromLibrary"===e?t.actions.includes(e):"share"===e?!this.isUgcAuthor(t)&&"touch"!==t.type:t.actions.includes(e)&&"touch"!==t.type&&(!t.track.error||"no-rights"===t.track.error))))},showCover:function(t){return"withCover"===t.type||"chart"===t.type||"player"===t.type||"touch"===t.type||"shelf-non-music"===t.type||!r().serverSide&&isNaN(parseInt(t.listIndex,10))&&"light"!==t.type&&this.isEpisode(t)},showInfoColumn:function(t){return"light"!==t.type&&"player"!==t.type&&"touch"!==t.type},twoColumns:function(t){return!this.showCover(t)&&!t.inlineMeta&&"light"!==t.type&&(t.showAlbum||t.showArtist)},album:function(t,e){if(t){if(!e)return t[0];for(var i,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i||t[0]}},href:function(t){return"/album/"+this.albumId(t)+"/track/"+this.id(t)},isRemoved:function(t){return t.track&&t.track.error&&!t.track.title},isEpisode:function(t){return t.track&&"podcast-episode"===t.track.type},sameArtists:function(t,e){return t.artists.every((function(t){return e.includes(t.id)}))},shouldHideArtist:function(t,e){return t.artists&&t.artists.length&&t.artists.length===e.length&&!t.artists[0].decomposed&&this.sameArtists(t,e)},shouldShowHyphen:function(t){return t.inlineMeta&&(t.showArtist&&this.artists(t).length>0||t.showAlbum||this.shouldShowPodcastName(t))},shouldShowArtist:function(t){return this.showCover(t)||t.showArtist||"light"===t.type||"player"===t.type},shouldShowAlbumName:function(t){return!this.showCover(t)&&t.showAlbum&&t.track.albums&&null!=t.track.albums[0]},shouldShowPodcastName:function(t){return!t.showReleaseDate&&this.isEpisode(t)&&t.track&&t.track.albums&&(t.showArtist||t.showAlbum||null!=t.type)},shouldShow2Lines:function(t){return"withCover"===t.type&&"podcast-episode"===t.track.type},shouldShowPlaybackProgress:function(t){return!(this.isShelfLikedSection(t)&&this.isShelfAudiobookAlbum(t)||this.isShelfPlaylist(t))&&(Mu.PlaybackProgressSender&&Mu.PlaybackProgressSender.isEnabled(t.track)&&!(t.hidePlaybackProgress||t.nonSelectable&&"shelf-non-music"!==t.type||u()))},formatReleaseDate:function(t){const{isToday:e,isYesterday:i}=this.isNewDate(t),n=new Date,a=new Date(t);if(e)return i18n("track","[feature/new-episodes-counter]Сегодня");if(i)return i18n("track","[feature/new-episodes-counter]Вчера");var s=n.getFullYear()-a.getFullYear();return c(t,"%d %B"+(0!==s?" %Y":""))},isNewDate:function(t){const e=new Date,i=new Date(t),n=d(e,i,!0);return{isToday:-1===n&&e.getDate()===i.getDate(),isYesterday:-2===n}},isNewPodcastDate:function(t){const{isToday:e,isYesterday:i}=this.isNewDate(t);return e||i},getLinkArgs:function(t){const e=[];return t.dirInTrackLink&&e.push("dir="+t.dirInTrackLink),t.activeTabInTrackLink&&e.push("activeTab="+t.activeTabInTrackLink),e.length>0?"?"+e.join("&"):""},isShelfAudiobookAlbum:function(t){return t.track&&"album"===t.track.shelfType&&"audiobook"===t.track.type},isShelfPlaylist:function(t){return t.track&&"playlist"===t.track.shelfType},isShelfLikedSection:function(t){return t.track&&"liked"===t.track.shelfSection},isListened:function(t){return!!this.shouldShowPlaybackProgress(t)&&(!!(this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationLeft&&t.track.albumStreamProgress.durationSec&&0===t.track.albumStreamProgress.durationLeft)||(!!(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationLeft&&t.track.playlist.durationMs&&0===t.track.playlist.durationLeft)||t.track.streamProgress&&t.track.streamProgress.everFinished))},isInProgress:function(t){return!!this.shouldShowPlaybackProgress(t)&&(!!(this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationLeft&&t.track.albumStreamProgress.durationSec&&t.track.albumStreamProgress.durationLeft<t.track.albumStreamProgress.durationSec&&t.track.albumStreamProgress.durationLeft>0)||(!!(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationLeft&&t.track.playlist.durationMs&&1e3*t.track.playlist.durationLeft<t.track.playlist.durationMs&&t.track.playlist.durationLeft>0)||t.track.streamProgress&&!t.track.streamProgress.everFinished&&t.track.streamProgress.endPositionSec>0))},getSecondsLeft:function(t){return this.isInProgress(t)?this.isShelfAudiobookAlbum(t)?t.track.albumStreamProgress.durationLeft:this.isShelfPlaylist(t)?t.track.playlist.durationLeft:Math.floor(t.track.durationMs/1e3-t.track.streamProgress.endPositionSec):0},getCircleProgressValue:function(t){return this.isShelfAudiobookAlbum(t)?(t.track.albumStreamProgress.durationSec-t.track.albumStreamProgress.durationLeft)/t.track.albumStreamProgress.durationSec:this.isShelfPlaylist(t)?(t.track.playlist.durationMs-1e3*t.track.playlist.durationLeft)/t.track.playlist.durationMs:1e3*t.track.streamProgress.endPositionSec/t.track.durationMs},getButtonPlayData:function(t){if(t.track&&("album"===t.track.shelfType||"playlist"===t.track.shelfType)){let e;if("album"===t.track.shelfType&&(e=t.track.albums&&t.track.albums[0]),"playlist"===t.track.shelfType&&(e=t.track.playlist),e)return e.resumeFrom={trackId:parseInt(t.track.id,10),startPositionSec:t.track.durationMs&&t.track.streamProgress&&t.track.streamProgress.endPositionSec?t.track.durationMs/1e3-t.track.streamProgress.endPositionSec:0},{type:t.track.shelfType,item:e}}return{type:"track",item:t.track}},getDurationMs:function(t){return this.isShelfAudiobookAlbum(t)&&t.track.albumStreamProgress&&t.track.albumStreamProgress.durationSec?1e3*t.track.albumStreamProgress.durationSec:this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.durationMs?t.track.playlist.durationMs:t.track.duration||t.track.durationMs||0},getContextMenuData:function(t){let e;switch(t.track.shelfType){case"album":e={album:Object.assign(t.track.albums[0],{isShelfItem:!0})};break;case"playlist":e={playlist:Object.assign(t.track.playlist,{isShelfItem:!0})};break;default:e={track:t.track}}"recentlyPlayed"===t.track.shelfSection&&"podcast-episode"===t.track.type&&(e={track:t.track});const i=Object.assign({class:"d-track__context-menu",type:"borderless",size:"M",canShowPlaybackProgressItems:this.shouldShowPlaybackProgress(t)},e);return t.track.shelfType&&(i.rootClass="d-context-menu__shelf"),i},getLikeData:function(t,e,i){let n={entry:e};return this.isShelfAudiobookAlbum(t)&&(n={album:e.track.albums[0]}),this.isShelfPlaylist(t)&&(n={playlist:e.track.playlist}),Object.assign({theme:"track",type:t.type,buttonish:!0,size:"S",tooltip:i18n("track","[feature/my-music-new-name]Удалить из «%1»",i),from:"track",class:"deco-track-like"},n)},getTrackTitleHref:function(t){if(this.isShelfPlaylist(t)&&t.track.playlist&&t.track.playlist.owner&&t.track.playlist.kind)return`/users/${t.track.playlist.owner.login}/playlists/${t.track.playlist.kind}`;const e=this.albumId(t);return this.isShelfAudiobookAlbum(t)?"/album/"+e:`/album/${e}/track/${this.id(t)}${this.getLinkArgs(t)}`},getTimeLeftText(t){let e=Math.floor(t/60);if(t<1)return"";if(t<60)return p(t,i18n("Осталась %s секунда|Осталось %s секунды|Осталось %s секунд"));if(e<60)return p(e,i18n("Осталась %s минута|Осталось %s минуты|Осталось %s минут"));{const t=Math.floor(e/60);e%=60;let i=p(t,i18n("Остался %s час|Осталось %s часа|Осталось %s часов"));return e>0&&(i=i+" "+p(e,i18n("%s минута|%s минуты|%s минут"))),i}}}},function(t,e,i,n){t.exports=i(67)},function(t,e,i,n){var a,s,o;t.exports=(a=i(654),s=i(423),i(323),o=i(141),function(t){var e='<div class="d-track__info'+__escape(a.isUgcError(t)?"":" d-track__nohover")+__escape(t.track&&t.track.shelfType?" d-track__info-shelf":"")+'">';return a.isUgcError(t)?e+='<span class="deco-typo-fail">'+__escape(i18n("track","Ошибка"))+"</span>"+o.render({icon:"info"}):a.actionIsAllowed(t,"counter")||a.actionIsAllowed(t,"counter_like")||"shelf-non-music"===t.type||(e+='<span class="typo-track deco-typo-secondary">'+s(a.getDurationMs(t),t.track&&t.track.shelfType?"":"duration")+"</span>"),e+="</div>"})},function(t,e,i,n){t.exports=function(){const t=i(389),e=i(654);return function(i){var n="";return e.isShelfPlaylist(i)?i.track.playlist.cover.type&&"pic"==i.track.playlist.cover.type?n+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.track.playlist.cover.uri}},["",40,!0]):i.track.playlist.cover.type&&"mosaic"==i.track.playlist.cover.type?(console.log("mosaic"),n+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.track.playlist.cover.itemsUri[0]}},["",40,!0])):n+=Mu.render("playlist-cover__empty",i.track.playlist,["",40,!0]):n+=t.render({type:i.type,track:i.track,class:"d-track__cover"}),n}}()},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(a=i(654),i(423),i(424),s=i(425),o=i(143),r=i(231),l=i(318),c=function(t){return Mu.render("dislike",t)},d=function(t){return Mu.render("visibility-toggle",t)},u=function(t){return Mu.render("share_counters",t,[t.size])},function(t){var e="",i=function(t){return""+o.render({icon:"trash-wide",title:i18n("track","Удалить трек"),type:"flat",class:"d-track__delete d-track__hover-hidden",size:"S",attrs:{title:t||i18n("track","Удалить трек")}})};if(a.actionIsAllowed(t,"bigAdd"))e+='<div class="d-track__results"><span>'+__escape(i18n("track","Добавлен"))+'</span></div><div class="d-track__actions d-track__hover">'+o.render({size:"S",type:"action",class:"d-track__add",text:i18n("track","Добавить")})+"</div>";else if(a.actionIsAllowed(t,"counter"))e+='<div class="d-track__actions d-track__actions-counter"><span class="d-track__label d-track__hover">'+i18n("track","Проголосовать")+"</span>"+u({icon:"vote",link:s(t.shareLink,"ru"),title:t.shareTitle,description:t.shareDescription,hashTags:t.shareHashTags,class:" button_vote",popupType:"vote",shareLang:"ru",size:a.showCover(t)?"L":"M",theme:"flat"})+"</div>";else{e+='<div class="'+__escape(a.actionsClass(t))+'"> ';var n=r("myMusic","genitive"),p=a.albumId(t),h={track:t.track,album:p?{id:p}:null};a.actionIsAllowed(t,"touch-like")&&(e+=l.render({entry:h,theme:"flat",size:"S",tooltip:i18n("track","[feature/my-music-new-name]Удалить из «%1»",n)})),a.actionIsAllowed(t,"toggleVisibility")&&(e+=d({track:t.track,class:"d-track__hover"})),a.actionIsAllowed(t,"removeFromLibrary")?e+=i(i18n("track","[feature/my-music-new-name]Удалить из «%1» и всех плейлистов",n)):a.actionIsAllowed(t,"remove")&&(e+=i()),a.actionIsAllowed(t,"like")&&(e+=l.render(a.getLikeData(t,h,n))),a.actionIsAllowed(t,"dislike")&&(e+=c({entry:t,theme:"track",type:t.type,size:"S",class:"deco-track-dislike"})),e+="</div>"}return e})},function(t,e,i,n){var a,s;t.exports=(a=i(654),s=i(660),function(t){var e='<div class="d-track__name" '+a.linkTitle(t)+">";return t.isPageTrack?e+="<h1>"+s(t)+"</h1>":e+=s(t),e+="</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(654),s=i(411),function(t){var e="",i=function(e){var i="";if("explicit"==t.track.contentWarning){const n="shelf-non-music"===t.type?"shelf-non-music":t.track&&t.track.type,a=s.render({type:n});i+=e?'<span class="explicit-wrap">'+a+"</span>":a}return i},n=function(){var e="";return t.track.version&&(e+='<span class="d-track__version deco-typo-secondary">'+__escape(t.track.version)+"</span>"),e},o=a.shouldShow2Lines(t);if(a.albumId(t)&&!t.track.error&&"OWN_REPLACED_TO_UGC"!==t.track.trackSource){var r="d-track__title deco-link deco-link_stronger";o&&(r+=" line-clamp"),e+=' <a href="'+__escape(a.getTrackTitleHref(t))+'" class="'+__escape(r)+'"> ',a.isShelfAudiobookAlbum(t)||a.isShelfPlaylist(t)?e+=" "+__escape(a.title(t))+" ":e+=" "+__escape(a.title(t))+(o?i(!0)+n():"")+" ",e+=" </a>"}else e+='<span class="d-track__title '+("OWN_REPLACED_TO_UGC"==t.track.trackSource?"deco-link_stronger":"")+" "+__escape(a.titleClass(t))+'">'+__escape(a.title(t))+"</span>";return e+=o?"":i()+n()})},function(t,e,i,n){t.exports=function(){i(267);const t=i(654),e=i(141),n=i(416),a=i(662),s=i(420);return function(i){var o="";t.shouldShowPlaybackProgress(i);const r=t.isListened(i),l=(t.isInProgress(i),t.getSecondsLeft(i));return o+='<div class="d-track__info-column"> ',i.track.poetryLoverMatches&&i.track.poetryLoverMatches.length?o+=' <div class="d-track__found-by-lyrics'+__escape(t.twoColumns(i)?" d-track__shy":"")+'"> '+s.render({title:i18n("d-track","[feature/mfront-3314-podprog]Показать текст"),text:i18n("d-track","[feature/mfront-3314-podprog]Найден по тексту")})+" </div> ":r?o+=' <div class="d-track__listened deco-typo-secondary"> '+e.render({icon:"checkmark-green-dark",class:"listened-icon"})+" "+__escape(i18n("d-track","[feature/mfront-3314-podprog]Прослушано"))+" </div> ":l>0?o+=' <div class="d-track__in-progress deco-typo-secondary"> '+n.render({progress:t.getCircleProgressValue(i)})+" "+t.getTimeLeftText(l)+" </div> ":i.showChartPosition&&i.track.chartPosition&&(o+=' <div class="d-track__chart-position'+__escape(t.twoColumns(i)?" d-track__shy":"")+'"> '+a.render({chartPosition:i.track.chartPosition})+" </div> "),o+="</div>"}}()},function(t,e,i,n){var a={render:i(663)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(420),function(t){return""+a.render({href:"/chart",title:i18n("d-chart-position","[feature/mfront-4342]Чарт Яндекс Музыки"),text:"#"+t.chartPosition+" "+i18n("d-chart-position","в чарте"),className:"d-chart-position"})})},function(t,e,i,n){t.exports=function(){const t=i(654),e=i(665);return function(i){var n="";const a=t.isEpisode(i)&&i.track.pubDate&&"shelf-non-music"!==i.type,s=(!i.inlineMeta&&i.showArtist,a&&t.formatReleaseDate(i.track.pubDate)),o=a&&t.isNewPodcastDate(i.track.pubDate);return n+='<div class="d-track__meta">',a&&!t.shouldShowPodcastName(i)&&(n+='<div class="d-track__date ',n+=o?"d-track__date_active":"deco-typo-secondary",n+='">'+__escape(s)+"</div>"),t.shouldShowHyphen(i)&&(n+="&nbsp;—&nbsp;"),t.shouldShowAlbumName(i)?n+='<a href="/album/'+__escape(i.track.albums[0].id)+'" title="'+__escape(i.track.albums[0].title)+'" class="deco-link">'+__escape(i.track.albums[0].title)+"</a>":t.shouldShowPodcastName(i)?(n+='<a href="/album/'+__escape(i.track.albums[0].id)+'" title="'+__escape(i.track.albums[0].title)+'" class="'+__escape(i.inlineMeta||t.showCover(i)?"deco-link deco-link_muted":"deco-link")+'">'+__escape(i.track.albums[0].title)+"</a>",a&&(n+='&nbsp;<div class="d-track__date d-track__date_with-name ',n+=o?"d-track__date_active":"deco-typo-secondary",n+='">'+__escape(s)+"</div>")):t.shouldShowArtist(i)&&(n+=e(i)),n+="</div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(654),function(t){var e="",i=function(t,e,n,a,s){var o="";if(t.various||!t.id?(o+='<span class="'+__escape(e)+'">',t.name?o+=__escape(t.name):o+=__escape(t),o+="</span>"):o+='<a href="/artist/'+__escape(t.id)+'" title="'+__escape(t.name)+'" class="'+__escape(n)+'">'+__escape(t.name)+"</a>",t.decomposed)for(var r,l=0;l<t.decomposed.length;l++)r=t.decomposed[l],o+=i(r,e,n,l);return s&&a<s-1&&t.id&&(o+='<span class="'+__escape(e)+'">, </span>'),o};e+='<span class="d-track__artists">';for(var n,s=a.artists(t),o=0;o<s.length;o++){n=s[o];var r=t.inlineMeta||a.showCover(t)?"deco-typo-secondary":"",l=t.inlineMeta||a.showCover(t)?"deco-link deco-link_muted":"deco-link";e+=i(n,r,l,o,s.length)}return e+="</span>"})},function(t,e,i,n){const a=i(458);Mu.blocks.register("d-track",function(){var t,e,n,s,o,r,l,c,d,u,p=i(659),h=i(665);const _=i(661),m=i(658),g=i(656),f=i(664),y=i(657),v=i(429),b=i(654);var k=function(){};return k.init=function(i){t=i.get("sidebars"),e=i.get("navigation"),n=i.get("fav"),s=i.get("dislikes"),r=i.get("froms"),o=i.get("library"),l=i.get("blocks"),c=i.get("dataSrc"),d=i.get("playbackProgress"),u=i.get("seq"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target);0===i.closest(".d-track__actions").length&&0===i.closest(".d-track__context-menu").length&&0===i.closest("a").length&&(0!==i.closest(".d-track__found-by-lyrics").length?e.onFoundByLyricsClick(t):e.onClick(t))})),this.domDelegate("click",".d-track__delete",(function(t){Mu.blocks.forElem(this,"d-track").onDeleteClick(t)})),this.domDelegate("click",".d-track__add",(function(t){Mu.blocks.forElem(this,"d-track").onAddClick(t)})),this.domDelegate("dblclick",(function(t){Mu.blocks.forElem(this).onDblClick(t)})),n.on("liked",(function(t){var e=$(t.target).closest(".d-track");if(0!==e.length){var i=Mu.blocks.forElem(t.target);e.toggleClass("d-track_in-lib",o.isInPositiveLibrary(i.data)),e.removeClass("d-track__disliked")}})),s.on("disliked",(function(t){var e=$(t.target).closest(".d-track");if(0!==e.length){var i=Mu.blocks.forElem(t.target);e.toggleClass("d-track__disliked",o.isDisliked(i.data))}}))},k.prototype.init=function(){var t=this;t.$cont=$(t.container),t.$visibilityToggle=t.$cont.find(".visibility-toggle"),t.$contextMenu=t.$cont.find(".d-context-menu"),t.$dislike=t.$cont.find(".dislike"),t.$cont.closest(".sidebar__tracks").size()>0&&t.$cont.addClass("d-track__sidebar"),t.$contextMenu.size()&&(t.contextMenu=Mu.blocks.forElem(t.$contextMenu.get(0)),t.contextMenu&&(t.contextMenu.on("show",(function(){t.setActive(!0)})),t.contextMenu.on("hide",(function(){t.setActive(!1)})))),t.$dislike.size()&&t.initDislike(),t.delegate("button-play.changed",(function(e){t.setPlaying(e.state)})),t.$cont.toggleClass("d-track_in-lib",o.isInPositiveLibrary({entry:{track:t.data.track}})),t.subscribeToPlaybackProgressEvents(),u.on(Mu.PlayFlow.EVENT_CHANGE,this.onTrackChanged.bind(this))},k.prototype.destroy=function(){this.isSubscribedToPlaybackProgress&&(this.isSubscribeToProgressChanged&&d.off(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),d.off(Mu.PlaybackProgressSender.TRACK_CHANGED,this.onPlaybackProgressTrackChanged),d.off(Mu.PlaybackProgressSender.MARK_TRACK_FINISHED,this.onMarkFinished),d.off(Mu.PlaybackProgressSender.MARK_TRACK_UNFINISHED,this.onMarkUnfinished))},k.prototype.onClick=function(){if(a.canUseMusicInRegion()){var t=this.data.track;if(t.error&&!t.title||t.shelfType)return!1;this.triggerEvent({type:"track.click"})}},k.prototype.setActive=function(t){this.$cont.toggleClass("track_hover d-track_hover",t)},k.prototype.onFoundByLyricsClick=function(){this.triggerEvent({type:"track.click",foundByLyrics:!0})},k.prototype.setSelected=function(t){this.$cont.toggleClass("d-track_selected",t)},k.prototype.setPlaying=function(t){this.$cont.toggleClass("d-track_playing",t)},k.prototype.getAlbum=function(){var t=this.data.track,e=t.albums&&t.albums[0];if(!e){var i=this.closestParent("album")||this.closestParent("page-album")||this.closestParent("sidebar-album");i&&(e=i.data)}return e},k.prototype.openSidebar=function(i,n,a,s){var o=this.data.track,l=a||this.getAlbum(),c=r.getCardFrom(this.container,"track"),d=o.realId||o.id,u=this.closestParent("event");if(u)var p=u.data.id;if(t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track===d||t.show("track",{track:d,album:l?l.id:-1,hideAlbum:!!a,from:c,eventId:p,foundByLyrics:s,poetryLoverMatches:o.poetryLoverMatches}),i){var h=/\?(.*)/.exec(e.getLastUrl());h=h&&h[0]?h[0]:"",e.pushState("/album/"+l.id+"/track/"+d+h,n)}},k.prototype.onDeleteClick=function(){this.triggerEvent({type:"track.delete",data:this.data.track})},k.prototype.onAddClick=function(){this.$cont.addClass("d-track_added"),this.triggerEvent({type:"track.add",data:this.data.track})},k.prototype.onDblClick=function(t){if(1!==$(t.target).closest(".d-track__play").length&&1!==$(t.target).closest(".d-track__actions").length&&1!==$(t.target).closest(".d-track__context-menu").length&&!this.$cont.hasClass("d-track_type_player")){var e=l.forElem(this.$cont.find(".button-play")[0]);e&&e.toggle()}},k.onChangeUgcTrackAttr=function(t,e){$(".d-track_ugc").each((function(){var i=Mu.blocks.forElem(this,"d-track");if(i&&i.data&&(i.data.track?i.data.track.id:i.data.id)===t)try{i.refreshAttr(e)}catch(t){}}))},k.prototype.refreshAttr=function(e,i){const n=this;let a=!1;const s={title:{".d-track__title":p},artist:{".d-track__artists":h},actions:{".d-track__actions":m},"info-column":{".d-track__info-column":_},info:{".d-track__info":g},meta:{".d-track__meta":f},cover:{".d-track__cover":y},"context-menu":{".d-context-menu":v},visibility:{visibility:null}};"string"==typeof e&&(e=[e]);const o=e.reduce((t,e)=>(Object.assign(t,s[e]),t),{});Object.keys(o).length>0&&(a=!0);const r=(t,e,i,a)=>{if("visibility"===t){if(!this.visibilityToggle){var s=this.$visibilityToggle.get(0);this.visibilityToggle=Mu.blocks.forElem(s,"visibility-toggle")}this.visibilityToggle&&this.visibilityToggle.updateData({track:i.track})}else{let s;const o=Function.mixin(this.data,{track:Object.assign(i.track,a)});s=".d-context-menu"===t?v.render(b.getContextMenuData(o)):e(o),this.$cont.find(t).replaceWith(s),".d-context-menu"===t&&(this.$contextMenu=this.$cont.find(".d-context-menu"),Mu.blocks.initPendingBlocks(this.$contextMenu.get(0)),this.contextMenu=Mu.blocks.forElem(this.$contextMenu.get(0)),this.contextMenu&&(this.contextMenu.on("show",(function(){n.setActive(!0)})),this.contextMenu.on("hide",(function(){n.setActive(!1)}))))}};a&&c.get("track",{track:this.data.track.id}).then(function(n){for(const t in o)r.call(this,t,o[t],n,i);this.triggerEvent({type:"track.changed",data:{track:n.track,changed:e}}),t.current&&"track"===t.current.name&&t.current.param&&t.current.param.track===this.data.id&&t.current.updateTrack&&t.current.updateTrack(n.track,e)}.bind(this))},k.prototype.initDislike=function(){this.dislike=Mu.blocks.forElem(this.$dislike.get(0)),this.dislike&&(this.dislike.on("tooltip.show",function(){this.setActive(!0)}.bind(this)),this.dislike.on("tooltip.hide",function(){this.setActive(!1)}.bind(this)))},k.prototype.subscribeToPlaybackProgressEvents=function(){this.onProgressChanged=this.onProgressChanged.bind(this),d.isTrackSendingProgress(this.data.track)&&(d.on(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),this.isSubscribeToProgressChanged=!0),d.on(Mu.PlaybackProgressSender.TRACK_CHANGED,this.onPlaybackProgressTrackChanged.bind(this)),d.on(Mu.PlaybackProgressSender.MARK_TRACK_FINISHED,this.onMarkFinished.bind(this)),d.on(Mu.PlaybackProgressSender.MARK_TRACK_UNFINISHED,this.onMarkUnfinished.bind(this)),this.isSubscribedToPlaybackProgress=!0},k.prototype.onPlaybackProgressTrackChanged=function(t){if(!this.isSubscribeToProgressChanged){if(t.trackId!==this.data.track.id)return;return d.on(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),void(this.isSubscribeToProgressChanged=!0)}t.previosTrackId!==this.data.track.id&&(d.off(Mu.PlaybackProgressSender.PROGRESS_CHANGED,this.onProgressChanged),this.isSubscribeToProgressChanged=!1)},k.prototype.onProgressChanged=function(t){this.isShelfAudiobookAlbum()?this.onAlbumProgressChanged(t):this.data.track.id===t.trackId&&(this.data.track.streamProgress?this.data.track.streamProgress.endPositionSec=t.endPositionSec:this.data.track.streamProgress={endPositionSec:t.endPositionSec,everFinished:!1},this.updateTrackInfoColumn())},k.prototype.onAlbumProgressChanged=function(){const t=this.data.track&&this.data.track.albums&&this.data.track.albums[0]&&this.data.track.albums[0].id,e=u.getCurrent();if(t!==(e&&e.albums&&e.albums[0]&&e.albums[0].id))return;(this.entries?Promise.resolve():c.get("album",{album:t})).then(t=>{t&&t.volumes&&(this.entries=Array.prototype.concat.apply([],t.volumes))}).catch(()=>{}).then(()=>{if(!this.entries||!this.entries.length)return;const t=e.id;if(!this.entries.some(e=>e.id===t))return;const i=this.entries.findIndex(e=>e.id===t),n=this.entries.reduce((t,e,n)=>{if(n>i){return(e.durationMs||0)+t}return t},0),a=u.getDuration()-u.getPosition(),s=Math.round(a+n/1e3),o=this.entries.reduce((t,e)=>t+(e.durationMs||0),0),r=Math.round(o/1e3);this.data.track.albumStreamProgress={durationLeft:s,durationSec:r},this.updateTrackInfoColumn()})},k.prototype.onMarkFinished=function(t){this.data.track.id===t.trackId&&(this.data.track.streamProgress?(this.data.track.streamProgress.everFinished=!0,void 0!==t.endPositionSec&&(this.data.track.streamProgress.endPositionSec=t.endPositionSec)):this.data.track.streamProgress={endPositionSec:0,everFinished:!0},this.updateTrackInfoColumn())},k.prototype.onMarkUnfinished=function(t){this.data.track.id===t.trackId&&this.data.track.streamProgress&&(this.data.track.streamProgress.everFinished=!1,this.updateTrackInfoColumn())},k.prototype.updateTrackInfoColumn=function(){const t=_(this.data);this.$cont.find(".d-track__info-column").replaceWith(t)},k.prototype.isShelfAudiobookAlbum=function(){return this.data.track&&"album"===this.data.track.shelfType&&"audiobook"===this.data.track.type},k.prototype.onTrackChanged=function(){const t=this.data.track;if("album"!==t.shelfType||"recentlyPlayed"!==t.shelfSection||"podcast-episode"!==t.type)return;if("album"!==u.getSourceType())return;const e=u.getCurrent();if(e.id===t.id)return;if((t.albums&&t.albums[0]&&t.albums[0].id)!==(e.albums&&e.albums[0]&&e.albums[0].id))return;this.data.track.id=e.id;this.refreshAttr(["title","artist","actions","info-column","info","meta","cover","context-menu"],{shelfType:"album",shelfSection:"recentlyPlayed"}),this.isSubscribeToProgressChanged||this.subscribeToPlaybackProgressEvents()},k}())},function(t,e,i,n){var a={render:i(668)};clientSide&&(a.controller=i(672)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(596),s=i(601),o=i(604),r=i(669),l=i(397),c=i(671),function(t){var e="",i=t.artist||t||{};const n=t.listIndex+1;return t.isPlaceholder?e+=a.render({type:"artist",class:"artist"}):(e+='<div class="artist" data-b="'+__escape(Mu.dotBlockRoot(t,"artist",!0))+'" data-id="'+__escape(n)+'"><div class="artist__content">'+s.render({artist:i})+'<div class="artist__cover">'+l.render(Object.assign({size:"Giant"},t))+"</div>",c.ticketsAvailable(i)&&(e+='<div class="artist__ticket">'+Mu.render("ticket-link",{artist:i})+"</div>"),e+='<div class="artist__name deco-typo typo-main" title="'+__escape(i.name)+'">'+o.render({artists:[i]})+"</div>",i.genres&&i.genres.length&&(e+='<div class="artist__genres deco-typo-secondary typo-add">'+r.render({genres:i.genres})+"</div>"),t.artists&&t.artists.length&&(e+='<div class="artist__artists typo-add deco-typo-secondary"><span class="artist__static-text">'+__escape(t.artistsText)+"</span>"+o.render({artists:t.artists,nolink:!1,style:"muted"})+"</div>"),e+="</div></div>"),e})},function(t,e,i,n){var a={render:i(670)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(592),o=i(593),function(t){var e="";t.genres=t.genres&&Array.isArray(t.genres)?t.genres:[t.genres],t.style=t.style||"muted",e+='<div class="d-genres" data-b="'+__escape(Mu.dotBlockRoot(t,"d-genres",!0))+'">';for(var i,n=0;n<t.genres.length;n++)if(i=t.genres[n])if(n&&(e+='<span class="',t.class&&(e+=__escape(t.class)),e+='">, </span>'),t.noLinks)e+='<span class="',t.class&&(e+=__escape(t.class)),e+='">'+__escape(s(i,!0))+"</span>";else{var r=Object.assign({},t,{href:o(i),title:s(i,!0),text:s(i,!0)});e+=a.render(r)}return e+="</div>"})},function(t,e,i,n){var a=i(352);t.exports={ticketsAvailable:function(t){return t&&t.ticketsAvailable&&"ru"===a()}}},function(t,e,i,n){var a,s,o;Mu.blocks.register("artist",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this),i=$(t.target);0===i.closest("a").size()&&0===i.closest(".button").size()&&i.closest(".artist__content").size()>0&&e.onClick(t)}))},o.prototype.onClick=function(){this.triggerEvent({type:"artist.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("artist_selected",t)},o.prototype.openSidebar=function(){var t={};t.from=s.getCardFrom(this.container,"artist"),t.artist=this.data.artist.id;var e=this.closestParent("event");e&&(t.eventId=e.data.id),a.show("artist",t)},o))},function(t,e,i,n){var a,s,o,r,l,c,d=i(103),u=[{name:"lava",mode:"album",id:3767288},{name:"dori",mode:"album",id:3570865},{name:"nemo",mode:"album",id:3595007},{name:"junglebook",mode:"album",id:3465936},{name:"lionking",mode:"album",id:3869552},{name:"cinderella",mode:"album",id:3763819},{name:"frozen",mode:"album",id:3754438},{name:"brave",mode:"album",id:3763817}],p=!1,h={},_=0,m=0,g=0,f=0,y={x:0,y:0},v={x:0,y:0},b=!1,k=function(t){k.beforeLoading(),this.params=t||{},this.templateName="page-moana",this.noHeader=!0,this.noFooter=!0,this.noSidebar=!0,this.noPlayer=!0,this.noTheme=!0,this.data=null};k.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-screen"),$("body").addClass("no-scroll"),$("html").addClass("no-scroll"),$(".page-root").addClass("page-root_full-width"))}catch(t){}},k.init=function(t){a=t.get("pages"),s=t.get("seq"),o=t.get("hiliter")},k.prototype.initMetrika=function(){if("undefined"!=typeof window)try{window.yaCounter41146499=new Ya.Metrika({id:41146499,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0}),l=window.yaCounter41146499}catch(t){}},k.prototype.fetchData=function(t){var e=new d,i=this.contentIds=u.slice(0);if("undefined"==typeof window)return e.resolve(),e.promise();for(var n=[],a={},s=0;s<i.length;s++)(i[s].mode="album")&&(n.push(i[s].id),a[i[s].id]=s);var o=[];o.push(t.get("albums",{albumIds:n.join(",")}).then((function(t){for(var e=0;e<t.length;e++)$.extend(i[a[t[e].id]],t[e])})));var r=new d;return o.push(r.promise()),t.get("variabel",{id:"moana"},{nocache:!0}).then((function(e){e&&e.valueByKey&&""!==e.valueByKey.album&&void 0!==e.valueByKey.album&&"undefined"!==e.valueByKey.album?(c=Number(e.valueByKey.album),t.get("album",{album:e.valueByKey.album}).then((function(t){t.name="moana",t.mode="album",i.push(t),r.resolve()}))):(i.push({name:"moana",mode:"album",availableForPremiumUsers:!1,available:!1}),r.resolve())})),Promise.all(o).then((function(){e.resolve({items:i})})),e.promise()},k.prototype.preload=function(){for(var t=[["/pages/moana/pics/intro-bg-mobile.jpg","/pages/moana/pics/intro-bg-mobile@2x.jpg","/pages/moana/pics/intro-bg-mobile@3x.jpg"],["/pages/moana/pics/art.jpg","/pages/moana/pics/art@2x.jpg","/pages/moana/pics/art@3x.jpg"],["/pages/moana/pics/brave-image.png","/pages/moana/pics/brave-image@2x.png","/pages/moana/pics/brave-image@3x.png"],["/pages/moana/pics/brave-logo.png","/pages/moana/pics/brave-logo@2x.png","/pages/moana/pics/brave-logo@3x.png"],["/pages/moana/pics/cinderella-image.png","/pages/moana/pics/cinderella-image@2x.png","/pages/moana/pics/cinderella-image@3x.png"],["/pages/moana/pics/cinderella-logo.png","/pages/moana/pics/cinderella-logo@2x.png","/pages/moana/pics/cinderella-logo@3x.png"],["/pages/moana/pics/dori-image.png","/pages/moana/pics/dori-image@2x.png","/pages/moana/pics/dori-image@3x.png"],["/pages/moana/pics/dori-logo.png","/pages/moana/pics/dori-logo@2x.png","/pages/moana/pics/dori-logo@3x.png"],["/pages/moana/pics/frozen-image.png","/pages/moana/pics/frozen-image@2x.png","/pages/moana/pics/frozen-image@3x.png"],["/pages/moana/pics/frozen-logo.png","/pages/moana/pics/frozen-logo@2x.png","/pages/moana/pics/frozen-logo@3x.png"],["/pages/moana/pics/junglebook-image.png","/pages/moana/pics/junglebook-image@2x.png","/pages/moana/pics/junglebook-image@3x.png"],["/pages/moana/pics/junglebook-logo.png","/pages/moana/pics/junglebook-logo@2x.png","/pages/moana/pics/junglebook-logo@3x.png"],["/pages/moana/pics/lava-image.png","/pages/moana/pics/lava-image@2x.png","/pages/moana/pics/lava-image@3x.png"],["/pages/moana/pics/lava-logo.png","/pages/moana/pics/lava-logo@2x.png","/pages/moana/pics/lava-logo@3x.png"],["/pages/moana/pics/lionking-image.png","/pages/moana/pics/lionking-image@2x.png","/pages/moana/pics/lionking-image@3x.png"],["/pages/moana/pics/lionking-logo.png","/pages/moana/pics/lionking-logo@2x.png","/pages/moana/pics/lionking-logo@3x.png"],["/pages/moana/pics/moana-image.png","/pages/moana/pics/moana-image@2x.png","/pages/moana/pics/moana-image@3x.png"],["/pages/moana/pics/moana-logo.png","/pages/moana/pics/moana-logo@2x.png","/pages/moana/pics/moana-logo@3x.png"],["/pages/moana/pics/nemo-image.png","/pages/moana/pics/nemo-image@2x.png","/pages/moana/pics/nemo-image@3x.png"],["/pages/moana/pics/nemo-logo.png","/pages/moana/pics/nemo-logo@2x.png","/pages/moana/pics/nemo-logo@3x.png"],["/pages/moana/pics/intro-bg.jpg","/pages/moana/pics/intro-bg@2x.jpg"],["/pages/moana/pics/map.jpg"],["/pages/moana/pics/minimap.jpg","/pages/moana/pics/minimap@2x.jpg","/pages/moana/pics/minimap@3x.jpg"],["/pages/moana/pics/popup-map.png"]],e=t.length,i=function(){e--,this.$preloaderMover.css({width:(t.length-e)/t.length*100+"%"}),0==e&&(this.$preloader.remove(),$.cookie("moana-map-opened")?this.showMap(!0):this.showIntro(),this.initSocial())}.bind(this),n=0;n<t.length;n++){var a=new Image;a.onload=i,a.onerror=i;var s=Math.min(window.devicePixelRatio,t[n].length)-1;a.src=t[n][s]}},k.prototype.onRender=function(){this.$cont=$(this.container),this.$preloader=this.$cont.find(".page-moana__preloader"),this.$preloaderMover=this.$cont.find(".page-moana__preloader-mover"),this.$introPlaceholder=this.$cont.find(".page-moana__intro-placeholder"),this.$mapPlaceholder=this.$cont.find(".page-moana__map-placeholder"),this.$social=this.$cont.find(".page-moana__social"),this.preload(),b||(this.initMetrika(),b=!0)},k.prototype.onFullyShown=function(){this.$mapContainer&&this.$mapContainer.length&&this.initMap()},k.prototype.onHide=function(){this.unInitMap()},k.prototype.onUnLoading=function(){$(".centerblock-wrapper").removeClass("centerblock-wrapper_full-screen"),$("body").removeClass("no-scroll"),$("html").removeClass("no-scroll"),$(".page-root").removeClass("page-root_full-width"),this.$cont.find(".page-moana__intro-begin").unbind("click")},k.prototype.destroy=function(){this.undelegateAll(),a.off("loaded",this.onLoaded),a.off("unloading",this.onUnLoading),this.onUnLoading(),this._onTrackUpdate&&(s.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._onTrackUpdate),s.on(Mu.PlayFlow.EVENT_EMPTY,this._onTrackUpdate),s.on(Mu.PlayFlow.EVENT_SOURCE,this._onTrackUpdate))},k.prototype.initSocial=function(){this.share=Ya.share2("moana-social",{content:{url:"https://music.yandex.ru/moana",title:"Музыкальная карта мира Disney",description:"Путешествие по музыкальной карте мира от Disney!"},theme:{services:"vkontakte,twitter,odnoklassniki",counter:!1,bare:!0}})},k.prototype.showIntro=function(){this.$introPlaceholder.html(Mu.render("page-moana__intro",{})),this.$intro=this.$cont.find(".page-moana__intro"),this.$cont.find(".page-moana__intro-begin").bind("click",this.showMap.bind(this))},k.prototype.showMap=function(t){t||l.reachGoal("MOANA_START"),$.cookie("moana-map-opened","1",{expires:1,path:"/moana"}),this.$intro&&(this.$cont.find(".page-moana__intro-begin").unbind("click"),this.$intro.remove()),this.$mapPlaceholder.html(Mu.render("page-moana__map",{items:this.contentIds})),this.$mapContainer=this.$cont.find(".page-moana__map-container"),this.$map=this.$cont.find(".page-moana__map"),this.initMap(),Mu.blocks.initPendingBlocks(this.$cont),this.startFailedTicketPolling()},k.prototype.startFailedTicketPolling=function(){var t=3e3;window.setTimeout((function(){t=-1}),t);var e,i=this.$cont,n=window.setInterval((function(){t<0?window.clearInterval(n):(e=i.find('.button-bilet[data-lockedbydealer="1"]'))&&e.length&&(e.replaceWith(Mu.render("page-moana__ticket-link",{})),window.clearInterval(n))}),100)},k.prototype.initMap=function(){_=this.$mapContainer.width(),m=this.$map.width(),g=this.$mapContainer.height(),f=this.$map.height();var t=this.$cont.find(".page-moana__map-hint");t.length&&$(window).one("mousedown.moanamap, touchstart.moanamap",(function(){window.setTimeout((function(){t.addClass("mHidden")}),600)})),$(window).bind("resize.moanamap",function(){_=this.$mapContainer.width(),g=this.$mapContainer.height(),this.pullMapInScreen()}.bind(this)),r=this.$mapContainer,this.$mapContainer.bind("mousedown.moanamap",(function(t){t.preventDefault(),p=!0,r.addClass("mDragging"),h={x:t.pageX,y:t.pageY},v.x=y.x,v.y=y.y})),this.$mapContainer.bind("touchstart.moanamap",(function(t){var e=$(t.target);0==e.closest(".page-moana__map-moana_buttons").length&&0==e.closest(".page-moana__map-play").length&&0==e.closest(".page-moana__social").length&&t.preventDefault(),1==t.originalEvent.touches.length&&(p=!0,r.addClass("mDragging"),h={x:t.originalEvent.touches[0].pageX,y:t.originalEvent.touches[0].pageY},v.x=y.x,v.y=y.y)})),this.$mapContainer.bind("mousemove.moanamap",function(t){if(p){var e=v.x+t.pageX-h.x;e>-10?e=0:-e>m-_-10&&(e=-(m-_));var i=v.y+t.pageY-h.y;i>-10?i=0:-i>f-g-10&&(i=-(f-g)),this.moveMap(e,i)}}.bind(this)),this.$mapContainer.bind("touchmove.moanamap",function(t){if(p&&t.originalEvent.changedTouches[0]){var e=v.x+t.originalEvent.changedTouches[0].pageX-h.x;e>-10?e=0:-e>m-_-10&&(e=-(m-_));var i=v.y+t.originalEvent.changedTouches[0].pageY-h.y;i>-10?i=0:-i>f-g-10&&(i=-(f-g)),this.moveMap(e,i)}}.bind(this)),this.$mapContainer.bind("mouseup.moanamap, mouseout.moanamap",function(t){"mouseup"!=t.type&&t.target!=this.$map||(p=!1,r.removeClass("mDragging"),h={})}.bind(this)),this.$mapContainer.bind("touchend.moanamap, touchcancel.moanamap",(function(t){0==t.originalEvent.touches.length&&(p=!1,r.removeClass("mDragging"),h={})})),this.$popupPlaceholder=this.$cont.find(".page-moana__popup-placeholder"),this.presentMoana(),this.bindPlayerEvents(),this.bindButtons(),o.hilitePage(a.current),this._onTrackUpdate()},k.prototype.unInitMap=function(){this.$mapContainer&&this.$mapContainer.unbind(".moanamap"),this.$cont.off(),$(window).unbind(".moanamap")},k.prototype.bindPlayerEvents=function(){this._onTrackUpdate=function(){var t=this.$cont.find(".button-play_playing");s.getNextTrack()?t.removeClass("mNextHidden").addClass("mHasNext"):t.addClass("mNextHidden"),s.getPrevTrack()?t.removeClass("mPrevHidden").addClass("mHasPrev"):t.addClass("mPrevHidden")}.bind(this),s.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._onTrackUpdate),s.on(Mu.PlayFlow.EVENT_EMPTY,this._onTrackUpdate),s.on(Mu.PlayFlow.EVENT_SOURCE,this._onTrackUpdate),this.delegate("button-play.getContext",(function(t){c&&t.target&&"album"==t.target.type&&t.target.item.id==c&&l.reachGoal("MOANA_PLAY")})),this.$cont.find(".page-moana__map-play_disabled").bind("click.moanamap",function(t){t.stopPropagation(),$(t.currentTarget).parent().hasClass("page-moana__map-moana")&&(this.$cont.find(".page-moana__map-moana_unavailable").addClass("mVisible"),l.reachGoal("MOANA_PREVIEW"))}.bind(this)),this.$cont.find(".page-moana__map-play_prev").bind("click.moanamap",(function(t){t.stopPropagation(),s.prev()})),this.$cont.find(".page-moana__map-play_next").bind("click.moanamap",(function(t){t.stopPropagation(),s.next()}))},k.prototype.bindButtons=function(){this.$cont.on("click.moanamap",".page-moana__popup",function(t){var e=$(t.target);(e.hasClass("page-moana__popup-close")||e.hasClass("page-moana__popup"))&&(t.stopPropagation(),this.$popupPlaceholder.empty(),this.wasPlaying&&(s.togglePause(!1),this.wasPlaying=!1),this.$social.appendTo(this.$cont))}.bind(this)),this.$cont.find(".page-moana__map-moana_button_trailer").bind("click.moanamap",function(){this.wasPlaying=s.isPlaying(),s.togglePause(!0),this.$popupPlaceholder.html(Mu.render("page-moana__popup",{mode:"trailer"})),this.$social.appendTo(this.$popupPlaceholder.children()[0]),l.reachGoal("MOANA_VIDEO")}.bind(this)),this.$cont.find(".page-moana__map-moana_button_about").bind("click.moanamap",function(){this.$popupPlaceholder.html(Mu.render("page-moana__popup",{mode:"about"})),this.$social.appendTo(this.$popupPlaceholder.children()[0]),l.reachGoal("MOANA_ABOUT")}.bind(this)),this.$cont.on("click.moanamap",".page-moana__map-moana_button_ticket",(function(){l.reachGoal("MOANA_TICKET")}))},k.prototype.moveMap=function(t,e){t=t||0,e=e||0,y.x=t,y.y=e,this.$map.css({transform:"translate("+y.x+"px, "+y.y+"px)"})},k.prototype.pullMapInScreen=function(){var t=y.x;-t>m-_&&(t=-(m-_));var e=y.y;-e>f-g&&(e=-(f-g)),this.moveMap(t,e)},k.prototype.presentMoana=function(){var t=-(1302-_/2-20),e=-(837-g/2-60);this.moveMap(t,e)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("moana",k),t.exports=k},function(t,e,i,n){var a,s="undefined"!=typeof window,o=i(25),r=i(594),l=function(t){this.templateName="page-non-music",this.category=t.category,this.postfix=t.postfix,this.what=t.what||"home",this.chartType=t.chartType||"",this.editorialType=t.editorialType||"",this.editorialId=t.editorialId||"",this.compilationId=t.compilationId||""};l.init=function(t){a=t.get("dataSrc")},l.prototype.fetchData=function(t){t&&(this.dataSrc=t);var e=this.data?this.data.end:0,i={what:this.what,editorialType:this.editorialType,editorialId:this.editorialId,compilationId:this.compilationId,category:this.category,postfix:this.postfix,path:"non-music",start:e};return s&&$(".page-non-music__spinner").show(),this.data&&"boolean"==typeof this.data.hasNextBatch&&!this.data.hasNextBatch?null:this.dataSrc.get("non-music",i,{nocache:!0}).then(t=>(this.data&&this.onNextData(t),this.data=t,t.what=this.what,t.editorialType=this.editorialType,t.chartType=this.chartType,t.editorialId=this.editorialId,t)).catch(t=>{throw console.log("non-music page caught error",t),t})},l.prototype.onRender=function(){this.$cont=$(this.container),this.onScroll=o.throttle(100,!1,this.onScroll.bind(this)),this.data.hasNextBatch&&$(window).on("scroll",this.onScroll),this.delegate("track.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("playlist.click",this.selectItem)},l.prototype.onScroll=function(){if(!this.loading){var t=$(window).scrollTop(),e=$(window).height();t+e>=$(document).height()-e/2&&(this.loading=!0,this.fetchData(a))}},l.prototype.onNextData=function(t){if(!t||!t.albums)return void(s&&$(".page-non-music__spinner").hide());t.hasNextBatch||$(window).off("scroll",this.onScroll);const e=t.albums.map(t=>r.render({album:t})).join("");this.$cont.find(".albums").append(e),s&&$(".page-non-music__spinner").hide(),this.loading=!1},l.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar&&t.target.openSidebar())},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("non-music",l),t.exports=l},function(t,e,i,n){var a,s,o,r=function(t){this.query=t.query||{},this.templateName="page-personal",this.noSidebar=!0,this.noFooter=!0,this.noTheme=!0,this.sharingUser=t&&t.owner||!1,this.refId=t&&t.ref||!1};r.init=function(t){a=t.get("pages"),s=t.get("navigation"),o=t.get("auth")},r.prototype.fetchData=function(t){var e=this,i={};return e.sharingUser&&(i.sharingUser=e.sharingUser),e.refId&&(i.refId=e.refId),t.get("summer-playlist",i,{nocache:!0}).then((function(t){return o&&o.isLoggedIn()&&(e.sharingUser=o.user.login),t.sharingUser=e.sharingUser,t.isAuth=o&&o.isLoggedIn(),t}))},r.prototype.onRender=function(){this.initButtons(),this.onLoaded=function(){$(".head-kids").addClass("head_light"),$(".topblock").css("display","none"),$(".footer").css("display","none")},this.onUnloading=function(){$(".head-kids").removeClass("head_light"),$(".topblock").removeAttr("style"),$(".footer").removeAttr("style")},a.on("loaded",this.onLoaded),a.on("unloading",this.onUnloading),this.$cont.find(".page-personal__bg").attr("src",this.data.my.backgroundImageUrl),this.$cont.find(".page-personal__afisha-img").attr("src",this.data.my.imageUrl),o.isLoggedIn()?s.pushState("/personal/"+o.user.login+"/",!0):s.pushState("/personal/ref/"+this.data.my.refId+"/",!0)},r.prototype.initButtons=function(){this.$cont=$(this.container)},r.prototype.unInitButtons=function(){this.$cont.off()},r.prototype.destroy=function(){a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading),this.unInitButtons()},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("personal",r),t.exports=r},function(t,e,i,n){var a,s,o,r=function(t){this.query=t.query||{},this.templateName="page-personal-top2017",this.noSidebar=!0,this.noFooter=!0,this.noTheme=!0,this.noPlayer=!0,this.sharingUser=t&&t.owner||!1};r.init=function(t){a=t.get("pages"),s=t.get("navigation"),o=t.get("auth")},r.prototype.fetchData=function(t){var e=this,i={};return e.sharingUser&&(i.sharingUser=e.sharingUser),t.get("personal-top-2017",i,{nocache:!0}).then((function(t){return o&&o.isLoggedIn()&&(e.sharingUser=o.user.login),t.sharingUser=e.sharingUser,t.isAuth=o&&o.isLoggedIn(),t}))},r.prototype.onRender=function(){var t=this;this.initButtons(),this.onLoaded=function(){$(".head").addClass("head_light"),$(".topblock").css("display","none"),$(".footer").css("display","none"),$("body").has(".page-personal-top2017").css("background-color","#eee6e6"),$(".centerblock-wrapper").has(".page-personal-top2017").css("box-shadow","none");var e=i(677);t.$cont.find(".page-personal-top2017__step").css("width",e.defineStep(t.data.my.minutes).width+"%");var n=t.$cont.find(".page-personal-top2017__results-max").width(),a=t.$cont.find(".page-personal-top2017__step-result > .page-personal-top2017__step-text"),s=window.innerWidth,o=100/s*$(a).outerWidth(!0);100/s*n+e.defineStep(t.data.my.minutes).width+o>=95&&a.css("display","none")},this.onUnloading=function(){$(".head").removeClass("head_light"),$(".topblock").removeAttr("style"),$(".footer").removeAttr("style"),$("body").has(".page-personal-top2017").css("background-color",""),$(".centerblock-wrapper").has(".page-personal-top2017").css("box-shadow","")},a.on("loaded",this.onLoaded),a.on("unloading",this.onUnloading),this.$cont.find(".page-personal-top2017__afisha").css("background-image","url("+this.data.my.imageUrl+")"),o.isLoggedIn()?s.pushState("/personal/top2017/"+o.user.login+"/",!0):s.pushState("/personal/top2017/",!0)},r.prototype.initButtons=function(){this.$cont=$(this.container)},r.prototype.unInitButtons=function(){this.$cont.off()},r.prototype.destroy=function(){a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading),this.unInitButtons()},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("personal-top2017",r),t.exports=r},function(t,e,i,n){t.exports={getUrl:function(t){return t.isAuth?"/personal/top2017/"+t.sharingUser+"/":"/personal/top2017/"},defineStep:function(t){var e,i="Вы тут";switch(!0){case t>0&&t<=60:e=1;break;case t>60&&t<=180:e=2;break;case t>180&&t<=360:e=3;break;case t>360&&t<=720:e=4;break;case t>720&&t<=1440:e=5;break;case t>1440&&t<=2880:e=6;break;case t>2880&&t<=4320:e=7;break;case t>4320&&t<=5760:e=8;break;case t>5760&&t<=7200:e=9;break;case t>7200&&t<=8640:e=10;break;case t>8640&&t<=10080:e=11;break;case t>10080&&t<=20160:e=12;break;case t>20160&&t<=30240:e=13;break;case t>30240&&t<=43200:e=14;break;case t>43200:e=15;break;default:e=0,i=""}return{width:6.67*e,comment:i,step:e}}}},function(t,e,i,n){var a,s,o,r=function(){this.templateName="page-personal-top2018",this.noSidebar=!0,this.noFooter=!0,this.noTheme=!0,this.noPlayer=!0};r.init=function(t){a=t.get("pages"),s=t.get("navigation"),o=t.get("auth")},r.prototype.fetchData=function(t){this.sharingUser=Mu.settings.pathname&&Mu.settings.pathname.split("/").pop()||"";var e={sharingUser:"top2018"!==this.sharingUser?this.sharingUser:"",year:2018};return t.get("personal-top",e,{nocache:!0})},r.prototype.onRender=function(){this.$cont=$(this.container),this.$loginButton=this.$cont.find(".page-personal-top2018__login-btn"),this.$loginButton.on("click",this.authAction.bind(this)),a.on("loaded",this.onLoaded),a.on("unloading",this.onUnloading),o.isLoggedIn()?s.pushState("/personal/top2018/"+this.data.userData.urlPart,!0):s.pushState("/personal/top2018/",!0)},r.prototype.onLoaded=function(){$(".head-kids").addClass("head_light"),$("body").has(".page-personal-top2018").addClass("page-personal-top2018__bg"),$(".centerblock").has(".page-personal-top2018").addClass("page-personal-top2018__bg"),$(".centerblock-wrapper").removeClass("deco-pane")},r.prototype.onUnloading=function(){$(".head-kids").removeClass("head_light"),$("body").has(".page-personal-top2018").removeClass("page-personal-top2018__bg"),$(".centerblock").has(".page-personal-top2018").removeClass("page-personal-top2018__bg"),$(".centerblock-wrapper").addClass("deco-pane")},r.prototype.destroy=function(){a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading)},r.prototype.authAction=function(){o.showAuthForm((function(){}),"personal-top2018")},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("personal-top2018",r),t.exports=r},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_,m;let g;var f={},y=i(680),v=i(103),b=i(684),k=i(690),w=i(691),x=i(693),M=i(694),T=i(695),S=i(685),L=i(696),P=i(122),C=function(){},D=function(t){this.query=t.query,this.templateName="page-playlist",this.owner=t.owner,this.kind=t.kind,this.edit=t.query.edit,this.token=t.query.token,this.play=1==+t.query.play,t.extData&&t.extData.playlist&&(this.data={},this.data.playlist=t.extData.playlist,this.data.playlist.tracks=[],this.data.playlist.trackIds=[],this.data.auth=a||{},this.data.doNotIndex="private"===this.data.playlist.visibility),this.token&&o&&o.pushState&&o.pushState(document.location.pathname,!0),"undefined"!=typeof Mu&&Mu.eventize&&Mu.eventize(this)};D.init=function(t){a=t.get("auth"),s=t.get("dataSrc"),o=t.get("navigation"),l=t.get("hiliter"),r=t.get("library"),c=t.get("blocks"),p=t.get("layout"),_=t.get("metrika"),m=t.get("pages"),g=t.get("adapter"),d=t.get("blocks").get("notify"),u=t.get("blocks").get("theme"),h=t.get("blocks").get("cover-popup")},D.prototype.fetchData=function(t){return t.get("playlist",{owner:this.owner,kinds:this.kind,light:!0,madeFor:this.madeFor,withLikesCount:!0,forceLogin:!0},{nocache:!0}).then((function(t){t.auth=a||{};try{for(var e=t.playlist.trackIds,i=0;i<e.length;i++)if(0===e[i].lastIndexOf("yadisk:",0)){t.doNotIndex=!0;break}}catch(t){}return t.playlist&&t.playlist.generatedPlaylistType&&(t.doNotIndex=!0),t.doNotIndex=t.playlist&&t.playlist.doNotIndex,t}))},D.prototype.onRender=function(){var t=$(this.container),e=this;e.$root=$(".page-root"),e.$cont=t,e.$bar=$(".bar"),e.$window=$(window),e.$page=t.find(".page-playlist"),e.$info=t.find(".page-playlist__info"),e.$title=t.find(".page-playlist__title"),e.$desc=t.find(".page-playlist__desc"),e.$counter=t.find(".auto-playlist__counter"),e.$tracksList=t.find(".page-playlist__tracks"),e.$tracksListWrapper=t.find(".page-playlist__tracks-wrapper"),e.$lightlist=e.$tracksList.find(".lightlist"),e.$coverControl=t.find(".page-playlist__cover-control"),e.$recommends=t.find(".page-playlist__recommends"),e.$menu=t.find(".d-context-menu"),e.$collectivePopup=t.find(".playlist-collective-popup"),e.$playlistFilterSuggest=t.find(".playlist-filter-suggest"),e.$cover=t.find(".playlist__cover"),e.$share=e.$cont.find(".d-share"),e.playlistAuthors=Mu.blocks.forElem($(y.render({playlist:this.data.playlist})).get(0)),e.share=Mu.blocks.forElem(e.$share.get(0),"d-share"),e.refreshLightlist=e.refreshLightlist.bind(e),e.onAddTrackClick=e.onAddTrackClick.bind(e),e.onDeleteTrack=e.onDeleteTrack.bind(e),e.onLoaded=e.onLoaded.bind(e),e.$title.on("blur",(function(){e.onTitleEditClose(!0)})),e.$title.on("keypress keydown",e.titleLength.bind(e)),e.delegate("track.add",e.onAddTrackClick),e.delegate("track.click",e.selectItem),e.delegate("playlist.click",e.selectItem),e.delegate("button-play.getContext",e.getRecommendsContext),e.delegate("button-play.click",e.updateAutoPlaylistCounter),e.delegate("lightlist.getContext",e.getContext),e.delegate("lightlist.delete",e.onDeleteTrack),e.delegate("lightlist.dragstart",e.onDragStart),e.delegate("lightlist.dragend",e.onDragEnd),e.delegate("ugc-track.deleted",e.playlistRefresh.bind(e)),e.delegate("ugc-track.added",e.playlistRefresh.bind(e)),t.on("change",".page-playlist__upload-pic input",e.uploadPic.bind(e)),t.on("click",".page-playlist__remove-pic",e.removePic.bind(e)),t.on("submit",".page-playlist__desc-form",e.onDescriptionSubmit.bind(e)),t.on("click",".page-playlist__desc-cancel",(function(){e.toggleDescriptionEditing(!1)})),t.on("click",".page-playlist__desc-text",(function(t){1!==$(t.target).closest("a").length&&e.toggleDescriptionEditing(!0)})),e.data.playlist.cover&&e.data.playlist.cover.custom&&!e.data.playlist.cover.error&&(t.find(".page-playlist__head .playlist-cover:not(.playlist-cover_empty)").css("cursor","pointer"),t.on("click",".page-playlist__head .playlist-cover:not(.playlist-cover_empty)",e.onCoverClick.bind(e))),t.find(".page-playlist__title_edit").prop("readonly","readonly"),t.find(".page-playlist__title_edit").on("click",(function(){$(this).prop("readonly",""),$(this).focus()})),t.find(".page-playlist__title_edit").on("blur",(function(){$(this).prop("readonly","readonly")})),m.on("loaded",e.onLoaded),p.on("lockScroll",e.refreshLightlist),p.on("unlockScroll",e.refreshLightlist)},D.prototype.destroy=function(){m.off("loaded",this.onLoaded),p.off("lockScroll",this.refreshLightlist),p.off("unlockScroll",this.refreshLightlist)},D.prototype.onLoaded=function(){var t=this;t.like=c.forElem(t.$cont.find(".page-playlist__controls .d-like")[0]),t.share=c.forElem(t.$cont.find(".page-playlist__controls .share")[0]),t.coverSelector=c.forElem(t.$cont.find(".page-playlist__cover-button")[0]),t.$cont.on("click",".js-show-authors",(function(){t.playlistAuthors.show()})),t.$menu.size()&&(t.menu=Mu.blocks.forElem(t.$menu.get(0)),t.menu.on("delete",t.onDelete.bind(t)),t.menu.on("toggleAccess",t.onAccessChange.bind(t)),t.$cont.on("click",".js-show-collective-access",(function(){t.menu.showCollectiveAccess()}))),t.$collectivePopup.size()&&(t.collectivePopup=Mu.blocks.forElem(t.$collectivePopup.get(0)),t.collectivePopup.on("agreeing",(function(){t.like&&!t.like.isFavorite()&&(t.like.toggle(!0),d.hide())})),t.collectivePopup.on("agreed",(function(){t.fetchData(s).then((function(e){t.data=e,t.infoRefresh(e.playlist),t.onPlaylistRefresh(e)}))})),t.collectivePopup.showByToken(t.token)),t.$playlistFilterSuggest.size()&&(t.playlistFilterSuggest=Mu.blocks.forElem(t.$playlistFilterSuggest.get(0)),t.playlistFilterSuggest.on("show",(function(){t.$recommends.not(":empty").hide(),t.$tracksListWrapper.hide()})),t.playlistFilterSuggest.on("hide",(function(){t.$recommends.not(":empty").show(),t.$tracksListWrapper.show()})),t.playlistFilterSuggest.on("add",t.addTrack.bind(t)),t.playlistFilterSuggest.on("delete",t.deleteTrack.bind(t)),t.on("playlistChanged",t.playlistFilterSuggest.updatePlaylist.bind(t.playlistFilterSuggest))),t.coverSelector&&t.coverSelector.on("toggle",(function(e){t.$coverControl.toggleClass("page-playlist__cover-control_open",e.state)}))},D.prototype.onShow=function(){var t=this;"title"===t.edit&&t.$title.hasClass("page-playlist__title_edit")&&(t.$title.focus(),t.$title.select()),this.data.playlist.css&&u.show(this.data.playlist),isFinite(this.owner)&&a.user&&a.user.uid===this.owner&&o.pushState(`/users/${a.user.login}/playlists/${this.kind}`);try{if(t.data.playlist.metrikaId){var e=t.data.playlist.metrikaId;if(t.counter=f[e],!t.counter){t.counter=f[e]=new Mu.Metrika(e,{},{defer:!0},!0),t.counter.initLocal()}t.counter.hit()}}catch(t){}t.showRecommends();var i=t.data.playlist;t.watchNewAutoPlaylist(i),this.play&&g.onReady((function(){$(t.container).find(".d-track").first().find(".button-play").click()}))},D.prototype.onHide=function(){this.data.playlist.css&&u.hide()},D.prototype.onCoverClick=function(){h.show({type:"playlist",data:this.data.playlist})},D.prototype.titleLength=function(t){switch(this.$title.val().length<25?(this.$title.removeClass("typo-h1_small").addClass("typo-h1_big"),this.$cont.find(".page-playlist__title-emojis").removeClass("page-playlist__title-emojis-small")):(this.$title.removeClass("typo-h1_big").addClass("typo-h1_small"),this.$cont.find(".page-playlist__title-emojis").addClass("page-playlist__title-emojis-small")),t.which){case 13:this.onTitleEditClose(!0);break;case 27:this.onTitleEditClose(!1)}},D.prototype.playlistRefresh=function(t){t=t instanceof Function?t:function(){};const e=function(){this.playlistRefreshTimeout&&(clearTimeout(this.playlistRefreshTimeout),delete this.playlistRefreshTimeout)};this.playlistRefresh.lastTime=(new Date).getTime();var i=this.playlistRefresh.lastTime;this.refreshPlaylistRequest=this.fetchData(s).then(function(n){this.data.playlist.revision=n.playlist.revision,this.data.playlist.trackCount=n.playlist.trackCount,e(),this.playlistRefreshTimeout=setTimeout(function(){i!==this.playlistRefresh.lastTime||this.patchTimeout||this.currentDiff||this.onPlaylistRefresh(n),e()}.bind(this),500),t(n)}.bind(this),(function(e){t(e)}))},D.prototype.onPlaylistRefresh=function(t){var e=this.data.playlist.trackCount;this.data.playlist=t.playlist;var i=$(b(this.data.playlist));i.addClass("page-playlist__tracks_shadow"),Mu.blocks.initPendingBlocks(i),this.$tracksListWrapper.append(i),this.$lightlist=i.find(".lightlist"),this.refreshLightlist(),this.$tracksList.remove(),this.$tracksList=i,i.removeClass("page-playlist__tracks_shadow"),!!e!=!!t.playlist.trackCount&&this.controlsRefresh(t.playlist),this.trigger("playlistChanged",this.data),this.triggerEvent({type:"playlist.changed",data:this.data})},D.prototype.refreshLightlist=function(){if(this.$lightlist&&this.$lightlist.size()){var t=Mu.blocks.forElem(this.$lightlist.get(0),"lightlist");t&&t.onRender&&t.onRender()}},D.prototype.infoRefresh=function(t){t=t||this.data.playlist;var e=$(w(t));Mu.blocks.initPendingBlocks(e),this.$info.replaceWith(e),this.$info=e},D.prototype.controlsRefresh=function(t){t=t||this.data.playlist;var e=$(k(t));Mu.blocks.initPendingBlocks(e[0]),this.$cont.find(".page-playlist__controls").replaceWith(e)},D.prototype.onTitleEditClose=function(t){if(!this.isClosing){var e=this.data.playlist;if(this.isClosing=!0,t){var i=this.$title.val().trim();i.length&&i!==e.title&&this.saveTitle(e,i)}this.$title.val(e.title),this.$title.blur(),this.isClosing=!1}},D.prototype.saveTitle=function(t,e){t.title=e,s.changePlaylist("rename",{kind:t.kind,title:t.title})},D.prototype.getContext=function(){var t=this.data.playlist,e=t.title;return{id:"playlist:"+t.kind,shortTitle:e,title:i18n("page-playlist","Плейлист «%1»",e),href:"/users/"+t.owner.login+"/playlists/"+t.kind,playlist:t}},D.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar())},D.prototype.uploadPic=function(t){if(!t.target.value)return!1;var e="upload-frame-"+Date.now(),i=$('<iframe id="'+e+'" name="'+e+'" style="width: 0; height: 0; border: 0; position: absolute;"/>').appendTo(document.body)[0];i.addEventListener("load",()=>{try{var t=JSON.parse(i.contentDocument.body.textContent);if(t.error)throw new Error("badPictureUpload");this.data.playlist.cover=t.cover,this.rerenderCover()}catch(t){d.show("badPictureUpload")}$(i).remove()});var n=t.target.form;n.method="POST",n.action="/handlers/upload-pic.jsx?kind="+ +this.kind+"&sign="+a.user.sign,n.target=e,n.submit()},D.prototype.removePic=function(){s.changePlaylist("clear-cover",{kind:this.kind}).then(t=>{t&&t.success&&(this.data.playlist=t.playlist,this.rerenderCover())})},D.prototype.rerenderCover=function(){const t=this.data.auth&&this.data.auth.user&&this.data.auth.user.uid==this.data.playlist.owner.uid,e=$(L(Object.assign(this.data.playlist,{isOwner:t})));$(".page-playlist__cover-wrapper").html(e)},D.prototype.onAccessChange=function(t){this.data.playlist.visibility=t?"public":"private",this.infoRefresh(),this.triggerEvent({type:"visibility.changed",data:this.data})},D.prototype.onAddTrackClick=function(t){var e=this,i=$(t.target&&t.target.container),n=t.data;e.addTrack(n).then((function(){i.closest(e.$recommends).size()&&_.count({suggestedTracksInPlaylist:{addFromRecomended:1}})}))},D.prototype.onDeleteTrack=function(t){var e=t.item||t.data;this.deleteTrack(e,t.index)},D.prototype.onDragStart=function(t){var e=Mu.blocks.forElem(t.currentTarget,"d-track");!e||!e.data||e.data.error||e.data.track&&e.data.track.error||this.selectItem({target:e})},D.prototype.onDragEnd=function(t){var e=t.data[t.insertFrom],i=e.albums&&e.albums.length?e.albums[0].id:"";this.patchPlaylist([{op:"move",from:t.insertFrom,to:t.insertFrom<t.insertAt?t.insertAt-1:t.insertAt,tracks:[i?{id:e.id,albumId:i}:{id:e.id}]}])},D.prototype.onDescriptionSubmit=function(t){t.preventDefault(),this.$desc.find("*[type=submit]").attr("disabled","disabled");var e=this,i={kind:this.kind,description:this.$desc.find("textarea").val()},n=function(){e.$desc.find("*[type=submit]").removeAttr("disabled")};s.changePlaylist("change-description",i).then((function(t){t&&t.success&&t.playlist?(e.$desc.html(x(t.playlist)),e.toggleDescriptionEditing(!1),Mu.blocks.forElem(e.$desc.find(".d-emojis").get(0),"d-emojis")):n()})).fail(n)},D.prototype.onDelete=function(t){t&&t.success&&o.navigateTo("/users/"+this.owner+"/playlists")},D.prototype.toggleDescriptionEditing=function(t){this.$desc.toggleClass("page-playlist__desc_editing",t)},D.prototype.patchPlaylist=function(t,e,i){var n=this,a=function(){n.patchTimeout&&(clearTimeout(n.patchTimeout),delete n.patchTimeout)};a(),n.currentDiff||(n.currentDiff=[]),Array.isArray(t)&&(n.currentDiff=n.currentDiff.concat(t)),n.currentDiff&&n.currentDiff.length&&(n.patchTimeout=setTimeout((function(){var t=n.currentDiff;delete n.currentDiff,e=e instanceof Function?e:C,i=i instanceof Function?i:function(){o.reload()},n.patchRequest=s.patchPlaylist(n.data.playlist,{diff:t}).then((function(){n.playlistRefresh()})).then(e,i),a()}),500))},D.prototype.toggleEditMode=function(t){this.canEdit=void 0===this.canEdit||this.canEdit,this.canEdit=void 0!==t?!!t:!this.canEdit;this.$cont.find([".page-playlist__title",".page-playlist__delete",".page-playlist__tracks-list .d-track .d-track__delete",".page-playlist__recommends-tracks .d-track .d-track__add"].join(", ")).prop("disabled",!this.canEdit),this.$cont.find(".page-playlist__cover-wrapper .button").toggleClass("button_hidden",!this.canEdit),this.$desc.find(".page-playlist__desc-text").toggleClass("editable-desc-disabled",!this.canEdit)},D.prototype.addTrack=function(t){var e=this,i=new v,n=e.data.playlist.kind===Mu.constants.KIND_LIKE,o=function(){if(t.id){var a,o=t&&t.albums&&t.albums.length?t.albums[0].id:0;i.promise().fail(C);var l=function(n){var a=[n&&n.track||t],s=$(S({kind:e.data.playlist.kind,owner:e.data.playlist.owner,trackIds:[o?o+":"+t.id:t.id],tracks:a,theme:"added"}));0===e.addTrackAt?(e.$tracksList.find(".page-playlist__tracks-list").prepend(s),$(".page-playlist__tracks-list").find(".d-track__id").each((function(){$(this).text(parseInt($(this).text())+1)}))):e.$tracksList.append(s);var r=Mu.blocks.forElem(s.find(".lightlist").get(0),"lightlist");r&&r.onRender&&r.onRender();var l=s.find(".d-track").height();s.find(".d-track__id").text(++e.addTrackAt),s.height(l*a.length),e.hideAddedRecommendTrack(t.id),e.playlistRefresh((function(){i.resolve()}))};n?(a={tracks:[{trackId:t.id,albumId:o}],ref:!0,act:"add"},e.patchRequest=Promise.resolve().then(l),r.change(a).then(i.resolve,i.reject)):(a={op:"insert",at:e.addTrackAt,tracks:[o?{id:t.id,albumId:o}:{id:t.id}]},e.patchPlaylist([a],(function(){s.get("track",{track:t.id}).then(l,i.reject)}),i.reject))}else i.reject()};return e.addTrackAt=a.user.settings.addNewTrackOnPlaylistTop||n?0:e.data.playlist.trackCount,e.addTrackPromise=e.addTrackPromise||Promise.resolve(),e.addTrackPromise.then(o,o),e.addTrackPromise=i.promise(),e.addTrackPromise.then(()=>e.patchRequest)},D.prototype.deleteTrack=function(t,e){var i=this;e=parseInt(e);var n=t.albums&&t.albums[0]&&t.albums[0].id;if(isNaN(e)||e<0){var a=n?t.id+":"+n:t.id;i.data.playlist.trackIds.find((function(t,i){return t===a&&(e=i,!0)}))}if(t&&!(e<0)){var s,o=function(){i.triggerEvent({type:"playlist.trackDeleted",data:{playlist:i.data.playlist,track:t,index:e}})};i.data.playlist.kind===Mu.constants.KIND_LIKE?(s={tracks:[{trackId:t.id,albumId:n}],ref:!0,act:"remove"},r.change(s).then((function(){i.playlistRefresh(),o()}))):(s={op:"delete",from:e,to:e+1},i.patchPlaylist([s],(function(){o()})))}},D.prototype.showRecommends=function(){var t=this;t.data.auth.user&&P(t.data.playlist,t.data.auth.user.uid)&&t.loadRecommends().then((function(e){if("ok"===e.status){var i=e.tracks.map((function(t){return t.batchId=e.batchId,t}));if(!i.length)return void t.$recommends.remove();var n=$(M({tracks:i,visibleCount:5}));t.$recommends.replaceWith(n),t.$recommends=n,t.$recommendsMore=t.$recommends.find(".js-more"),t.$recommendsCollapse=t.$recommends.find(".js-collapse"),t.$recommendsMore.on("click",t.showRecommendsMore.bind(t)),t.$recommendsCollapse.on("click",(function(){t.$recommends.toggleClass("page-playlist__recommends_collapsed")})),t.$recommends.data("offset",e.tracks.length),t.$recommends.data("tracks",i),t.triggerEvent({type:"recommends.loaded",data:i}),Mu.blocks.initPendingBlocks(t.$recommends[0])}}))},D.prototype.loadRecommends=function(t,e){return s.get("recommendations",{kind:this.data.playlist.kind,login:this.data.playlist.owner.login,offset:t||0,limit:e||15})},D.prototype.showRecommendsMore=function(){var t=this.$recommends.data("tracks");if(t&&t.length>5){var e=t.slice(5),i=$(T({tracks:e,offset:5}));i.insertBefore(this.$recommendsMore),Mu.blocks.initPendingBlocks(i[0]),this.$recommendsMore.addClass("_hidden"),this.triggerEvent({type:"recommends.loaded",data:e}),l.hiliteAll()}},D.prototype.hideAddedRecommendTrack=function(t){var e=this.$recommends.find(".d-track_added");t&&e.size()&&(e.each((function(){var e=Mu.blocks.forElem(this,"d-track");(e&&e.data.id===t||e.data.track&&e.data.track.id===t)&&e.$cont.addClass("d-track_hide")})),this.$recommends.find(".d-track:not(.d-track_hide)").size()||(this.$recommendsMore.hasClass("_hidden")?this.$recommends.addClass("_hidden"):this.showRecommendsMore()))},D.prototype.getRecommendsContext=function(t){if(this.$recommends.find(t.target.$cont).size()){t.stopBubble=!0;var e,i=this.data.playlist,n=this.$recommends.data("tracks");return n&&n.length&&(e={id:"recommends:"+i.kind,shortTitle:i18n("page-playlist","Рекомендации"),title:i18n("page-playlist","Рекомендации к плейлисту «%1»",i.title),href:"/users/"+i.owner.login+"/playlists/"+i.kind,from:"web-own_playlists-recommended-track-main",entries:n.map((function(t){return{album:t.albums[0],track:t}}))}),e}},D.prototype.prepareUpdatedData=function(t){var e=$.extend(!0,{},t),i=e.playCounter;return i.value=t.playCounter.value+1,i.description=t.playCounter.descriptionNext||t.playCounter.description,e},D.prototype.updateAutoPlaylistCounter=function(){var t=this.data.playlist;if("playlistOfTheDay"===t.generatedPlaylistType&&t.playCounter&&!t.playCounter.updated){var e=this.prepareUpdatedData(t),i=Mu.render("playlist-cover__counter",e);this.$counter.html(i),Mu.blocks.get("playlist-cover").initTooltip(this.$counter,e)}},D.prototype.watchNewAutoPlaylist=function(t){a.isLoggedIn()&&t.generatedPlaylistType&&s.get("playlist-seen",{uid:t.owner.uid,kind:t.kind},{nocache:!0})},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("playlist",D),t.exports=D},function(t,e,i,n){var a={render:i(681)};clientSide&&(a.controller=i(682)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return'<div class="d-playlist-authors" data-b="'+Mu.dotBlockRoot(t,"d-playlist-authors")+'">'+a.render({text:t.text||i18n("d-playlist-authors","Изменить"),class:t.class||"",style:t.style||""})+"</div>"})},function(t,e,i,n){var a,s,o,r,l,c;Mu.blocks.register("d-playlist-authors",(r=i(683),l=i(25),(c=function(){}).init=function(t){a=t.get("auth"),s=t.get("layout"),o=t.get("library"),this.domDelegate("click",(function(){Mu.blocks.forElem(this).show()}))},c.prototype.init=function(){var t;if(this.data.playlist.authors=(this.data.playlist.authors||[]).map((function(e,i){return e.subscribed=o.isFavorite({user:e}),a.isLoggedIn()&&a.user.uid==e.uid&&(e.me=!0,t=i),e})),t){var e=this.data.playlist.authors.splice(t,1);this.data.playlist.authors=e.concat(this.data.playlist.authors)}this.$window=$(window),this.$cont=$(this.container),this.onResize=l.throttle(300,!1,this.onResize.bind(this)),this.$window.on("resize",this.onResize),this.getPopup()},c.prototype.destroy=function(){this.$window.off("resize",this.onResize)},c.prototype.getPopup=function(){var t=this;return t.popup||(t.$popup=$(r(t.data)),t.$authors=t.$popup.find(".d-playlist-authors__authors"),$("body").append(t.$popup),Mu.blocks.initPendingBlocks(t.$popup),t.popup=new(Mu.blocks.get("popup"))(t.$popup,{modal:!0,resize:!0,persistent:!1,position:{my:"center",at:"center",of:window}}),t.popup.on("show",(function(){s.lockScroll(),t.onResize()})),t.popup.on("hide",(function(){s.unlockScroll()})),t.$popup.on("click",".popup__close",t.hide.bind(t))),t.popup},c.prototype.onResize=function(){if(this.popup&&this.popup.isOpen){this.$authors.css({maxHeight:"none"});var t=this.$window.height()-40-(this.$popup.outerHeight()-this.$authors.outerHeight());t>0?this.$authors.css({maxHeight:t+"px"}):this.$authors.css({maxHeight:this.$authors.css("minHeight")}),this.popup.position()}},c.prototype.show=function(){this.popup=this.popup||this.getPopup(),this.popup&&!this.popup.isOpen&&this.popup.show()},c.prototype.hide=function(){this.popup&&this.popup.isOpen&&this.popup.hide()},c))},function(t,e,i,n){var a,s,o;t.exports=(a=i(226),s=i(141),i(151),i(143),o=function(t){var e='<div class="d-playlist-authors__user';return t.user.subscribed&&(e+=" d-playlist-authors__user_subscribed"),e+='">'+a.render({user:t.user,size:"L",showAvatar:!0,showName:!0,showLogin:!0,class:"typo"}),t.user.me||(e+='<div class="d-playlist-authors__user-actions"></div>'),e+="</div>"},function(t){var e='<div class="d-playlist-authors__popup"><div class="popup__close d-playlist-authors__close">'+s.render({icon:"cross-small"})+'</div><div class="d-playlist-authors__title typo-h2_bold">'+__escape(i18n("d-playlist-authors","Авторы плейлиста"))+"</div>",i=(t.playlist.authors||[]).filter((function(t){return!t.banned}));return i.length&&(e+=function(t){for(var e,i='<div class="d-playlist-authors__authors">',n=0;n<t.authors.length;n++)e=t.authors[n],i+=o({user:e,style:""});return i+="</div>"}({authors:[t.playlist.owner].concat(i)})),e+="</div>"})},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(13),s=i(123),i(358),o=i(122),i(267),r=i(685),l=i(688),function(t){var e="",i="https://music.yandex."+Mu.settings.tld,n=o(t,a().uid),c=(t.kind,t.trackIds.filter(s).length>0);if(t.tracks&&t.tracks.length){if(e+='<div class="page-playlist__tracks with-cover">'+r(t),c&&!n){e+='<div class="page-playlist__complaint">';var d=i+"/users/"+t.owner.login+"/playlist/"+t.kind;e+='<a href="'+__escape("https://yandex.ru/support/music/troubleshooting/feedback.html?form2100-content="+d+"&form2091-content="+d)+'" target="_blank" class="link link_major">'+__escape(i18n("page-playlist","Ошибка в плейлисте или нарушение"))+"</a></div>"}e+="</div>"}else e+='<div class="page-playlist__tracks page-playlist__tracks_empty">'+l.render({type:"emptyPlaylist"})+"</div>";return e})},function(t,e,i,n){t.exports=function(){var t=i(13),e=i(122),n=i(686);i(267);return function(i){var a='<div class="page-playlist__tracks-list '+__escape(i.theme?"page-playlist__tracks-list_"+i.theme:"")+'"> ',s=e(i,t().uid),o=3==i.kind,r=["like","dislike"];return s&&r.push("remove"),a+=n.render({type:"track",ids:i.trackIds,items:i.tracks,isOwner:s,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,itemHeight:68,params:{type:"withCover",showArtist:!0,actions:r,showChartPosition:!0},draggable:s&&!o,onItemReady:function(t){var e=$(t.dom).find(".d-track__title"),i=e.find(".explicit-wrap");Mu.layout.updateExplicitMarkPosition(i,e)}})+"</div>"}}()},function(t,e,i,n){var a={render:i(687)};clientSide&&(a.controller=i(205)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(73),function(t){var e="",i="track"===t.type?"lightlist_tracks":"lightlist",n=function(){var e="lightlist";return t.type&&(e+=" lightlist_"+t.type+"s"),t.isOwner||(e+=" lightlist_clean"),t.draggable&&(e+=" lightlist_draggable"),e}();return e+='<div class="'+__escape(n)+'" data-b="'+__escape(Mu.dotBlockRoot(t,i,!0))+'" data-bname="'+__escape(i)+'">'+function(t){var e='<div class="lightlist__cont">';if(a().serverSide&&t.items&&t.items.length)for(var i,n=""+__escape(t.itemTemplate),s=0;s<t.items.slice(0,100).length;s++)i=t.items.slice(0,100)[s],e+=" ","d-track"===n&&(e+=" ",i=Object.assign({},{track:i},t.params),e+=" "),e+=" ","track"===n&&(e+=" ",i.actionType=t.actionType,e+=" "),e+=" "+Mu.render(n,i);return e+="</div>"}(t)+function(t){var e="";return t.draggable&&(e+='<div class="lightlist__splitter lightlist__splitter_'+__escape(t.type)+'"></div>'),e}(t)+'<div class="lightlist__shim _hidden"></div></div>'})},function(t,e,i,n){var a={render:i(689)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(141),s=i(151),function(t){var e="",i="",n="";switch(t.type){case"emptyResult":i=i18n("page-playlist","Ничего не найдено"),n="";break;case"emptyPlaylist":i=i18n("page-playlist","Плейлист пока пуст"),n=i18n("page-playlist","Добавьте в него пару треков, а мы предложим похожие")}var o=function(t){return'<div class="playlist-dummy__content"><span class="playlist-dummy__image deco-pane-l3">'+a.render({icon:"loupe"})+'</span><span class="playlist-dummy__title">'+__escape(t.title)+'</span><span class="playlist-dummy__message">'+__escape(t.message)+"</span></div>"}({title:i,message:n});return e+='<div class="playlist-dummy">',t.href?e+=s.render({class:"playlist-dummy__wrapper",content:o,href:t.href}):e+=o,e+="</div>"})},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(13),s=i(122),i(143),o=i(318),r=i(429),l=i(381),function(t){var e='<div class="page-playlist__controls">',i=(a().uid,t.owner.uid,s(t,a().uid),3==t.kind);return t.trackCount?t.trackCount:t.tracks&&t.tracks.length,e+=l.render({theme:"withText",type:"playlist",item:t,text:i18n("page-playlist","Слушать"),class:"page-playlist__play"}),i||(e+=o.render({playlist:t,theme:"count",size:"L",count:t.likesCount})),e+=r.render({playlist:t})+"</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(13),s=i(151),o=i(71),r=i(692),function(t){var e='<div class="page-playlist__info typo">';if(a().uid,t.owner.uid,e+='<div class="page-playlist__info-wrapper">',t.madeFor){e+=" ";var i=o(t.modified,!0);e+=" ";var n=t.madeFor.caseForms?t.madeFor.caseForms.genitive:t.madeFor.userInfo.login;e+=" ",n='<span class="page-playlist__author typo">'+n.htmlEscape()+"</span>",e+=" "+i18n("page-playlist","[feature/fix-separate-dates]Cобран для %1 %2",n,i)+" "}else if(3===t.kind)e+=l=s.render({text:t.owner.name,href:"/users/"+t.owner.login,class:"page-playlist__author typo"});else{e+=" ",i=o(t.modified,!0);var l=s.render({text:t.owner.name,href:"/users/"+t.owner.login,class:"page-playlist__author typo"});e+=r.getUpdatedText(t,l,i)}return e+="</div></div>"})},function(t,e,i,n){const a=i(14);t.exports={userPlaylistUrl:t=>"/playlist/"+t,getPlaylist:t=>t.playlist||t||{},getUpdatedText(t,e,i){const n=this.getPlaylist(t),s=a().uid==t.owner.uid,o=this.getActiveAuthors(t).length,r=1===o&&this.getActiveAuthors(t)[0].uid==a().uid;return this.isCollective(t)&&o?r?i18n("page-playlist","[feature/fix-separate-dates]%1 и вы обновили плейлист %2",e,i):s?i18n("page-playlist","[feature/fix-separate-dates]%1 и <span class='js-show-collective-access d-link deco-link'>ещё %2</span> обновили плейлист %3",e,o,i):i18n("page-playlist","[feature/fix-separate-dates]%1 и <span class='js-show-authors d-link deco-link'>ещё %2</span> обновили плейлист %3",e,o,i):n.owner&&"female"===n.owner.sex?i18n("page-playlist","[feature/fix-separate-dates]%1 обновила плейлист %2",e,i):i18n("page-playlist","[feature/fix-separate-dates]%1 обновил плейлист %2",e,i)},getActiveAuthors(t){return(this.getPlaylist(t).authors||[]).filter((function(t){return!t.banned}))},isCollective(t){return this.getActiveAuthors(t).length}}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(151);return function(i){var n='<div class="page-playlist__desc typo"><div class="page-playlist__desc-text '+__escape(i.descriptionFormatted?"":"page-playlist__desc-text_empty")+'" title="'+__escape(i.descriptionFormatted?i18n("page-playlist","Редактировать описание"):"")+'" >';return i.descriptionFormatted?n+=i.descriptionFormatted:n+=e.render({text:i18n("page-playlist","Добавить описание..."),class:"my-link",style:"muted"}),n+='</div><form class="page-playlist__desc-form"><textarea name="description" class="page-playlist__desc-area" maxlength="2000">'+__escape(i.description||"")+'</textarea><div class="page-playlist__desc-controls">'+t.render({size:"S",text:i18n("page-playlist","Сохранить"),class:"page-playlist__desc-save",type:"transparent",attrs:{type:"submit"}})+"&#160;"+t.render({size:"S",text:i18n("page-playlist","Отменить"),class:"page-playlist__desc-cancel",type:"transparent"})+'<div class="page-playlist__desc-emojis">'+Mu.render("d-emojis",{wrapper:"page-playlist__desc-form",field:"page-playlist__desc-area",position:{at:"right-10 bottom"}})+"</div></div></form></div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(695),s=i(619),function(t){return'<div class="page-playlist__recommends deco-pane-secondary"><div class="page-playlist__recommends-title">'+__escape(i18n("page-playlist","Рекомендуемые треки"))+'</div><div class="page-playlist__recommends-content">'+a(t)+s.render({text:i18n("page-playlist","Больше треков"),class:"page-playlist__recommends-more js-more"})+"</div></div>"})},function(t,e,i,n){var a;t.exports=(a=i(652),function(t){var e='<div class="page-playlist__recommends-tracks">',i=parseInt(t.offset)||0,n=t.visibleCount?t.tracks.slice(0,t.visibleCount):t.tracks;e+=" ";for(var s,o=0;o<n.length;o++)s=n[o],e+=" "+a.render({track:s,listIndex:i+o,actions:["bigAdd"],showArtist:!0})+" ";return e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(697);return function(i){var n='<div class="page-playlist__cover-wrapper"><div class="playlist__cover page-playlist__cover">'+Mu.render("playlist-cover",i,["",200,!0])+"</div>";if(i.isOwner&&i.kind>=100){if(n+='<div class="page-playlist__cover-control '+__escape("pic"!==i.cover.type?"page-playlist__cover-control_default-open":"")+'">',"pic"===i.cover.type)if(i.cover.custom){var a=__escape(i18n("page-playlist","[feature/mfront-2797]Загрузить новую"))+'<form class="page-playlist__upload-pic button__file" enctype="multipart/form-data"><input class="button__file-btn" type="file" name="file" accept="image/jpeg, image/png" /></form>';n+=e.render({title:i18n("page-playlist","[feature/mfront-2797]Сменить обложку"),type:"buttonish",links:[{content:a,icon:"download"},{text:i18n("page-playlist","[feature/mfront-2797]Удалить"),icon:"trash-narrow",class:"page-playlist__remove-pic"}],toggleOptions:{type:"half-transparent"}})}else n+=t.render({text:i18n("page-playlist","[feature/mfront-2797]Сменить обложку"),"use-link":!0,after:'<form class="page-playlist__upload-pic button__file" enctype="multipart/form-data"><input class="button__file-btn" type="file" name="file" accept="image/jpeg, image/png" /></form>'})+'<form class="page-playlist__upload-pic button__file" enctype="multipart/form-data"><input class="button__file-btn" type="file" name="file" accept="image/jpeg, image/png" /></form>';else n+=t.render({text:i18n("page-playlist","[feature/mfront-2797]Добавить обложку"),type:"half-transparent"})+'<form class="page-playlist__upload-pic button__file" enctype="multipart/form-data"><input class="button__file-btn" type="file" name="file" accept="image/jpeg, image/png" /></form>';n+="</div>"}return n+="</div>"}}()},function(t,e,i,n){var a={render:i(698)};clientSide&&(a.controller=i(699)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(151),e=i(143),n=i(141);return function(i){var a='<span class="d-links" data-b="'+__escape(Mu.dotBlockRoot(i,"d-links",!0))+'">',s=function(){var t="";return i.title?t+=__escape(i.title):i.content&&(t+=i.content),t+=n.render({icon:"arrow-up",rotate:"upside-down",class:"d-links__toggle-icon"})}();if("buttonish"!==i.type){var o=Object.assign({content:s,style:i.muted?"translucent":"",class:"d-links__toggle"},i.toggleOptions);a+=t.render(o)}else{o=Object.assign({text:i.title,icon:"arrow-up",iconRotation:"upside-down",iconPosition:"right",class:"d-links__toggle"},i.toggleOptions);a+=e.render(o)}a+='<ul class="d-links__popup popup deco-popup-menu deco_shadow-big">';for(var r,l=0;l<i.links.length;l++)a+='<li class="d-links__link deco-popup-menu__item">',(r=i.links[l]).class+=" d-links__link_text",r.noHoverColor=!0,a+=t.render(r)+"</li>";return a+="</ul></span>"}}()},function(t,e,i,n){var a;Mu.blocks.register("d-links",((a=function(){}).prototype.init=function(){this.$cont=$(this.container),this.$links=this.$cont.find(".d-links__popup"),this.$toggle=this.$cont.find(".d-links__toggle"),this.$toggleIcon=this.$toggle.find(".d-icon"),"buttonish"===this.data.type?this.position={my:"center top",at:"center bottom+1"}:this.position={my:"center top",at:"center bottom+12"},this.position.of=this.$toggle[0],this.linksPopup=new(Mu.blocks.get("popup"))(this.$links,{position:this.position,fade:!0,toggable:!0}),this.$toggle.on("click",this.showLinks.bind(this)),this.events()},a.prototype.showLinks=function(){this.linksPopup.toggle()},a.prototype.events=function(){this.opened=!1,this.$toggle.on("click",function(){this.opened||(this.opened=!0,this.data.muted&&this.$toggle.toggleClass("deco-link_translucent",!1),this.$toggle.toggleClass("deco-link_no-hover-color",!0),this.$toggleIcon.removeClass("d-icon_rotate-upside-down"))}.bind(this)),this.linksPopup.on("hide",function(){this.data.muted&&this.$toggle.toggleClass("deco-link_translucent",!0),this.$toggle.toggleClass("deco-link_no-hover-color",!1),this.$toggleIcon.addClass("d-icon_rotate-upside-down"),this.opened=!1}.bind(this))},a))},function(t,e,i,n){var a,s,o,r,l,c,d,u=i(124),p=i(309),h=function(t){this.container=null,this.templateName="popup-sequence",this.param=t,this.what=this.isradio()?"history":t&&t.what||"sequence"};h.init=function(t){a=t.get("dataSrc"),s=t.get("auth"),o=t.get("seq"),r=t.get("popups"),l=t.get("blocks"),c=t.get("metrika"),d=ya.music.lib.trackId},h.prototype.fetchData=function(){var t,e={what:this.what,auth:s,radio:this.isradio(),nonMusic:this.isNonMusic()},i=[];switch(this.what){case"history":if(!s.isLoggedIn())return Promise.resolve({noauth:!0});i.push(a.get("library",{filter:"history",owner:s.user.login},{nocache:!0}).then((function(t){return e.trackIds=t.trackIds,e.tracks=t.tracks.map((t,e)=>"string"==typeof t?t:{...t,specialTrackIndex:e}),e.entries=e.trackIds.map(Mu.PlayFlow.trackToEntry),e})));break;default:var n=o.getTracks();e.trackIds=n.map(d),e.tracks=n,e.context=o.context;var r=e.context&&e.context.id,l=r&&r.split(":");p(r)?t=r.replace("track:",""):!l||"track"!==l[0]&&"track-similar"!==l[0]||(t=l[1]),e.tracks=e.tracks.map((t,e)=>"string"==typeof t?t:{...t,specialTrackIndex:e}),e.entries=n.map(Mu.PlayFlow.trackToEntry),i.push(Promise.resolve(e))}return i.push(a.get("chart")),t&&i.push(a.get("track",{track:t})),Promise.all(i).then((function(t){var e=t[0],i=t[1],n=(t[2]||{}).track;(e.tracks||[]).forEach(t=>{i.tracksById[t.id]&&(t.chartPosition=i.tracksById[t.id].chart.position)});var a=n&&u(n.id),s=n&&p(n.id),o=n&&!(n.available||n.availableForPremiumUsers),r=e&&e.context&&e.context.href;return e.titleWithLink=!(!r||o||a||s),e}))},h.prototype.onRender=function(){if(this.$cont=$(this.container),"history"!==this.what){var t=o.getTracks();t=t.map((t,e)=>"string"==typeof t?t:{...t,specialTrackIndex:e}),this.entries=t.map(Mu.PlayFlow.trackToEntry),this.addition=l.forElem(this.$cont.find(".popup-sequence__buttons-bar .d-addition")[0],"d-addition")}this.$header=this.$cont.find(".popup-sequence__header-content"),this.$tracks=this.$cont.find(".popup-sequence__tracks"),this.delegate("lightlist.getContext",this.getContext),this.delegate("lightlist.dragend",this.onDragEnd),this.delegate("lightlist.delete",this.onDelete),this.$cont.on("click",".popup__close",this.onClose),this.$cont.on("click",".popup-sequence__history-tab",this.onHistoryClick.bind(this)),this.$cont.on("click",".popup-sequence__seq-tab",this.onSeqClick.bind(this)),this.$cont.on("click",".popup-sequence__button-clear",this.onClearClick.bind(this)),this.$cont.on("click",".popup-sequence__tracks .link",()=>{setTimeout(this.onClose,50)}),this.addition&&this.addition.on("addedToPlaylist",this.onAdditionClick.bind(this))},h.prototype.isradio=function(){return!!o.isRadio()},h.prototype.isNonMusic=function(){const t=o.getInfo();return!!["audiobook","fairy-tale","podcast"].includes(t.type)},h.prototype.getContext=function(){var t={id:"popup-sequence"};if("history"===this.what){var e=this.data.auth&&this.data.auth.user&&this.data.auth.user.login||"unknown";t.id="users:"+e+":history",t.from=Mu.Froms.MAIN_PREFIX+"-history-track-track-"+Mu.Froms.PAGE_SUFFIX}else t=$.extend({},this.data.context);return t._entries=null,t},h.prototype.onShow=function(){this.$cont.closest(".popup-holder").addClass("sequence"),Mu.layout.lockScroll()},h.prototype.onHide=function(){Mu.layout.unlockScroll()},h.prototype.onHistoryClick=function(){c.count({"sequence-popup":"history"}),r.show("sequence",{what:"history"})},h.prototype.onSeqClick=function(){c.count({"sequence-popup":"current"}),r.show("sequence")},h.prototype.onClose=function(){r.hide("sequence")},h.prototype.onDragEnd=function(t){if(!(t.insertAt<0||t.insertFrom<0)){var e=t.insertFrom,i=t.insertAt;i>e&&(i-=1),o.move(e,i);var n=this.entries[e];t.insertFrom<t.insertAt?(this.entries.splice(i,0,n),this.entries.splice(e,1)):(this.entries.splice(e,1),this.entries.splice(i,0,n)),o.context.id="popup-sequence"}},h.prototype.onDelete=function(t){o.remove(t.index,this.entries[t.index].track),this.entries.splice(t.index,1),this.addition.data.entries=this.entries,o.context.id="popup-sequence",0===this.entries.length&&o.clear().then((function(){r.show("sequence")}))},h.prototype.onClearClick=function(){"history"==this.what?window.confirm(i18n("popup-sequence","Очистка истории прослушивания необратима и повлияет на ваши рекомендации."))&&a.post("history-clear",{},{nocache:!0}).then((function(){r.show("sequence",{what:"history"})})):o.clear().then((function(){r.show("sequence")}))},h.prototype.onAdditionClick=function(t){var e=this.entries&&this.entries.filter(t=>!t.track||t.track.id&&!t.track.error);t.target.data.entries=e},"undefined"!=typeof Mu&&Mu.popups&&Mu.popups.register("sequence",h),t.exports=h},function(t,e,i,n){var a,s,o,r,l,c,d=i(25).promiseTransitioned,u=i(702),p=i(707),h=function(t){this.container=null,this.templateName="popup-wizard",this.param=t,this.noSidebar=!0};h.init=function(t){a=t.get("blocks"),s=t.get("dataSrc"),o=t.get("popups"),r=t.get("metrika"),l=t.get("navigation"),c=t.get("library")},h.prototype.fetchData=function(t){return t.get("wizard",{},{nocache:!0})},h.prototype.onRender=function(){var t=this,e=$(t.container);t.me=a.forElem(e.find(".wizard-me")[0]),t.$cont=e,t.$content=e.find(".popup-wizard__content"),t.wrapper=e[0].firstChild,t.$noExitLabel=e.find(".popup-wizard__no-exit .d-button__label"),t.$nextButton=e.find(".popup-wizard__next"),t.$nextButtonLabel=t.$nextButton.find(".d-button__label"),t.$subtextArtists=t.$cont.find(".popup-wizard__text-artists .popup-wizard__subtext"),e.on("click",".popup-wizard__next",t.onNextClick.bind(t)),e.on("click",".popup-wizard__prev",t.onPrevClick.bind(t)),e.on("mouseover",".wizard-item",t.onItemOver.bind(t)),e.on("mouseout",".wizard-item",t.onItemOver.bind(t)),e.on("click",".wizard-item",t.onItemClick.bind(t)),e.on("click",".popup-wizard__close",(function(){"main"!==Mu.pages.current.name?e.addClass("popup-wizard_exiting"):o.hide("wizard")})),e.on("click",".popup-wizard__no-exit",(function(){e.toggleClass("popup-wizard_exiting",!1)})),e.on("click",".popup-wizard__really-exit",(function(){o.hide("wizard"),t.param.callbackUrl&&l.navigateTo("/home",!0)})),t.setState("genres"),t.setFrom(),t.updateNext(),t.likedGenres=t.data.likedGenres,t.shownGenres=t.data.genres},h.prototype.onItemOver=function(t){var e=a.forElem(t.currentTarget);if(e.data.color&&"black"!==Mu.settings.theme){var i="mouseover"===t.type?function(t){var e=parseInt(t.substr(1,2),16),i=parseInt(t.substr(3,2),16),n=parseInt(t.substr(5,2),16),a=function(t){return Math.min(255,Math.round(229.5+.1*t))};return"#"+a(e).toString(16)+a(i).toString(16)+a(n).toString(16)}(e.data.color):"",n="mouseover"===t.type?"#fff":"#f6f5f3";this.wrapper.style.backgroundColor=i,this.me.container.style.borderColor=n}},h.prototype.changeNextBtnText=function(t){this.$nextButtonLabel.text(t)},h.prototype.updateNext=function(){var t,e=this.$cont;"artists"===this.state?t=3:"genres"===this.state&&(t=1,this.$nextButtonLabel.text(i18n("popup-wizard","Далее")));var i=e.find(".wizard-item_selected").length>=t;if("artists"===this.state){var n,a;switch(e.find(".wizard-item_selected").length){case 0:n=50,a=i18n("popup-wizard","[feature/rich-playlist]Настраиваем рекомендации");break;case 1:n=67,a=i18n("popup-wizard","[feature/rich-playlist]Осталось чуть-чуть");break;case 2:n=83,a=i18n("popup-wizard","[feature/rich-playlist]Ещё один, и всё");break;default:n=100,a=i18n("popup-wizard","[feature/min-3-artists-in-wizard]Готово")}this.changeNextBtnText(a)}else if("genres"===this.state){n=e.find(".wizard-item_selected").length>=1?50:0}this.me.fill(n);var s=this.$noExitLabel[0];this.$nextButton[0].disabled=!i,this.$nextButton[0].title=i?"":"genres"===this.state?i18n("popup-wizard","Выберите жанр"):i18n("popup-wizard","Выберите исполнителей"),s.innerHTML="genres"===this.state?i18n("popup-wizard","Выберите жанры"):i18n("popup-wizard","Выберите исполнителей")},h.prototype.onItemClick=function(){var t=this;setTimeout((function(){t.updateNext()}),1)},h.prototype.bubbleIn=function(t){var e=this.$content;setTimeout((function(){e.toggleClass("popup-wizard_shown",!!t)}),30)},h.prototype.setState=function(t){this.state&&this.$cont.toggleClass("popup-wizard_state-"+this.state,!1),this.state=t,this.$cont.toggleClass("popup-wizard_state-"+this.state,!0),this.$cont[0].firstChild.scrollTop=0},h.prototype.setFrom=function(){this.from&&this.$cont.removeClass("popup-wizard_from-"+this.from),this.from=Mu.pages.current.name,this.$cont.addClass("popup-wizard_from-"+this.from),this.$cont[0].firstChild.scrollTop=0},h.prototype.onShow=function(){this.bubbleIn(!0),Mu.layout.lockScroll()},h.prototype.onHide=function(){Mu.layout.unlockScroll()},h.prototype.onNextClick=function(){var t=this,e=this.$cont,i=e.find(".wizard-item_selected");if(0!==i.length){for(var n,u=[],h=i.length<=8,_=0;_<i.length;_++){var m=a.forElem(i[_]);u.push(m.data.id),n=m.flyInto(this.me,_,h)}var g="genres"===this.state?50:100;n.addEventListener("transitionend",function(){this.me.fill(g),this.wrapper.style.backgroundColor="",this.bubbleIn(!1)}.bind(this),!0);var f=e.find(".wizard-item").not(i),y=d(f.last()[0]),v={liked:[],unliked:[]},b="genres"===this.state?this.likedGenres:this.likedArtists,k="genres"===this.state?this.shownGenres:this.shownArtists;k=k.map((function(t){return t.id}));for(var w=0;w<b.length;w++)k.includes(b[w])&&!u.includes(b[w])&&v.unliked.push(b[w]);for(var x=0;x<u.length;x++)b.includes(u[x])||v.liked.push(u[x]);if(e.find(".popup-wizard__next")[0].disabled=!0,"genres"===this.state){this.patchGenres=v,this.likedGenres=this.data.likedGenres.filter((function(t){return!v.unliked.includes(t)})),this.likedGenres=this.likedGenres.concat(v.liked);var M=s.post("wizard",{genres:v},{nocache:!0,json:!0});Promise.all([M,y,d(n)]).then(function(t){this.likedArtists=t[0].likedArtists,this.shownArtists=t[0].artists,this.wrapper.style.overflow="",this.setState("artists");var e=p(t[0].artists),i=$(e);Mu.blocks.initPendingBlocks(i[0]),this.$content.empty().append(i),this.bubbleIn(!0),this.updateNext()}.bind(this))}else{var T={genres:this.patchGenres,artists:v},S=this.sendData(T);Promise.all([S,y,d(n)]).then(function(e){this.wrapper.style.overflow="",this.setState("done"),this.$content.empty();var i=e[0];r.goal("WizardCompleted");try{Mu&&Mu.gtag&&Mu.gtag.wizardCompleted()}catch(t){}var n=function(){this.patchGenres.liked.forEach((function(t){var e=c.getParams({genre:{genre:t}},!0,!0);c.changeLocal(e)})),v.liked.forEach((function(t){var e=c.getParams({artist:{id:t}},!0,!0);c.changeLocal(e)})),this.me.runFinalAnim().then((function(){o.hide("wizard"),t.param.callbackFunction?(t.param.callbackFunction(),window.location.reload()):l.navigateTo("/home",!0)}))}.bind(this);i.success?n():this.sendData(T).then(n)}.bind(this))}}},h.prototype.sendData=function(t){return s.post("wizard-submit",t,{json:!0})},h.prototype.onPrevClick=function(){if("artists"===this.state){var t=this.$cont;this.bubbleIn(!1),d(t.find(".wizard-item").last()[0]).then(function(){this.setState("genres");var t=this.data.genres;if(this.patchGenres)for(var e=0;e<t.length;e++)this.patchGenres.liked.includes(t[e].id)?t[e].liked=!0:this.patchGenres.unliked.includes(t[e].id)&&(t[e].liked=!1);var i=u(t),n=$(i);Mu.blocks.initPendingBlocks(n[0]),this.$content.empty().append(n),this.bubbleIn(!0),this.updateNext()}.bind(this))}},"undefined"!=typeof Mu&&Mu.popups&&Mu.popups.register("wizard",h),t.exports=h},function(t,e,i,n){var a;t.exports=(a=i(703),function(t){for(var e,i='<div class="popup-wizard__genres">',n=0;n<t.length;n++)e=t[n],i+=a.render({data:e,type:"genre",index:n});return i+="</div>"})},function(t,e,i,n){var a={render:i(704)};clientSide&&(a.controller=i(706)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(402),s=i(705),function(t){var e="",i=s.wizardItemClass(t),n=s.wizardItemTitle(t),o=s.wizardItemBgColor(t),r=s.wizardItemTransitionDelay(t);return e+='<div class="'+__escape(i)+'" style="'+__escape(r)+'" data-b="'+__escape(Mu.dotBlockRoot(t.data,"wizard-item"))+'"> <div class="wizard-item__circle" style="'+__escape(o)+"; background-image: url('"+__escape(a(t.data.cover,200))+'\')"></div> <div class="wizard-item__title"> '+__escape(n)+' </div><div class="wizard-item__selection"></div></div>'})},function(t,e,i,n){t.exports={wizardItemClass:function(t){var e=["wizard-item"];switch(t.type){case"genre":e.push("wizard-item_genre");break;case"artist":e.push("wizard-item_artist")}return t.data.liked&&e.push("wizard-item_selected"),e.join(" ")},wizardItemTitle:function(t){var e;switch(t.type){case"genre":e=t.data.title;break;case"artist":e=t.data.name}return e},wizardItemBgColor:function(t){return t.data.color?"background-color: "+t.data.color:""},wizardItemTransitionDelay:function(t){return"transition-delay:"+(t.index>20?1:.05*t.index)+"s"}}},function(t,e,i,n){var a,s=i(704);Mu.blocks.register("wizard-item",((a=function(){}).init=function(){this.domDelegate("click",(function(){var t=Mu.blocks.forElem(this,"wizard-item");t.container.classList.toggle("wizard-item_selected"),t.expanded||t.expand()}))},a.prototype.flyInto=function(t,e,i){var n=$(this.container),a=t.container.getBoundingClientRect();n.toggleClass("wizard-item_moved",!0);var s=n.find(".wizard-item__selection")[0],o=s.getBoundingClientRect();return s.style.transitionDelay=.3*(i?e:1)+"s",s.style.transform="translate("+(a.left-o.left)+"px, "+(a.top-o.top)+"px) scale("+a.height/o.height+")",s.addEventListener("transitionend",(function(){this.style.display="none",t.ripple()}),!0),s},a.prototype.expand=function(){var t=this.data.similar;if(t){var e=t.reduce((function(t,e,i){return t+=s({data:e,type:"artist",index:i})}),""),i=$(e);Mu.blocks.initPendingBlocks(i[0]),i.toggleClass("wizard-item_emerging",!0),i.insertAfter(this.container);var n=i[i.length-1].getBoundingClientRect(),a=$(this.container).scrollParent(),o=a[0].getBoundingClientRect();n.bottom>o.bottom&&a.animate({scrollTop:a[0].scrollTop+n.bottom-o.bottom});for(var r=this.container.getBoundingClientRect(),l=0;l<i.length;l++){var c=i[l],d=c.getBoundingClientRect();c.style.transform="translate("+(r.left-d.left)+"px, "+(r.top-d.top)+"px) scale(0.1)"}this.expanded=!0,setTimeout((function(){i.toggleClass("wizard-item_emerging",!1);for(var t=0;t<i.length;t++)i[t].style.transform=""}),1)}},a))},function(t,e,i,n){var a;t.exports=(a=i(703),function(t){for(var e,i='<div class="popup-wizard__artists">',n=0;n<t.length;n++)e=t[n],i+=a.render({data:e,type:"artist",index:n});return i+="</div>"})},function(t,e,i,n){var a=function(t){this.templateName="page-post",this.id=t.id,void 0!==t.choice&&(this.choice=t.choice)};a.init=function(){},a.prototype.fetchData=function(t){return t.get("promo",{id:this.id}).then((function(t){return t}))},a.prototype.onRender=function(){this.delegate("track.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("artist.click",this.selectItem),this.delegate("playlist.click",this.selectItem),this.delegate("promo.click",this.selectItem),this.delegate("concert.click",this.selectItem),this.delegate("button-play.getContext",this.getTrackContext)},a.prototype.getTrackContext=function(){var t=this.data.tracks;if(!t)return null;var e=t.map((function(t){return{album:t.albums&&t.albums[0],track:t}}));return{id:"post:"+this.id,entries:e,shortTitle:this.data.title,title:this.data.title,href:"/post/"+this.id}},a.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar())},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("post",a),t.exports=a},function(t,e,i,n){var a,s,o,r,l=i(103),c=i(710),d=i(711),u=!1,p=function(t){p.beforeLoading(),t=t||{},this.templateName="page-predictions",this.id=t.id,this.noFooter=!0,this.noSidebar=!0,this.noTheme=!0,this.pageTheme="black",this.authRequired=!0,this.data={}};p.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-width "),$(".footer").css("display","none"))}catch(t){}},p.init=function(t){a=t.get("blocks"),s=t.get("pages"),o=t.get("adapter"),r=t.get("hiliter")},p.prototype.fetchData=function(){return Promise.resolve()},p.prototype.onRender=function(){var t=this;t.params={notarget:!1};try{window.navigator&&(u=!window.navigator.userAgent.toLowerCase().includes("msie"))}catch(t){u=!1}var e=$(window);t.$cont=$(t.container).find(".page-predictions"),e.on("resize",(function(){t.$cont.height(e.height()-5)})).trigger("resize"),t.$button=t.$cont.find(".button_prediction"),t.$button.addClass("button_hidden"),o.onReady((function(){t.$button.removeClass("button_hidden")})),t.$button.on("click",t.onClick.bind(t)),t.$action=t.$cont.find(".page-predictions__action"),t.$overlay=t.$cont.find(".overlay"),t.$overlay.on("mousedown",(function(){return!1})),t.$header=t.$cont.find(".page-predictions__header"),t.$monkeyContainer=t.$cont.find(".page-predictions__monkey-container"),t.$monkey=t.$cont.find(".page-predictions__monkey"),t.$ball=t.$cont.find(".page-predictions__monkey-ball"),t.$hand=t.$cont.find(".page-predictions__monkey-hand"),t.$note1=t.$cont.find(".page-predictions__monkey-note-1"),t.$note2=t.$cont.find(".page-predictions__monkey-note-2"),t.$disc1=t.$cont.find(".page-predictions__monkey-disc-1"),t.$disc2=t.$cont.find(".page-predictions__monkey-disc-2"),t.$controller1=t.$cont.find(".page-predictions__monkey-controller-1"),t.$controller2=t.$cont.find(".page-predictions__monkey-controller-2"),t.$controller3=t.$cont.find(".page-predictions__monkey-controller-3"),t.$eyebrow=t.$cont.find(".page-predictions__monkey-eyebrow"),t.$popupWrapper=t.$cont.find(".page-predictions__popup-wrapper"),t.$popup=$(c()),t.$popup.appendTo(t.$popupWrapper),t.popup=new(Mu.blocks.get("popup"))(t.$popup[0],{modal:!1,resize:!0,notHideOnScroll:!0}),t.popup.on("show",(function(){r.hiliteAll(),t.$popupWrapper.css("display","flex"),t.$overlay.addClass("overlay_shown"),t.$action.addClass("page-predictions__hidden")})),t.popup.on("hide",(function(){t.$popupWrapper.css("display","none"),t.$overlay.removeClass("overlay_shown"),t.$action.removeClass("page-predictions__hidden")})),t.$popup.on("click",".popup__close",(function(){t.popup.hide()})),t.$popup.on("click",".page-predictions__popup-action_refresh",(function(){t.params.notarget=!0,t.onClick()})),t.$popup.on("click",".button_popup",(function(){t.onClick()})),t.onResize=function(){$(".page-predictions__image-container").css("min-height",.53*t.$popup.width()),this.$cont.css("margin-bottom","-"+$(".bar").height()+"px"),this.$monkeyContainer.css("bottom",$(".bar").height()+"px")}.bind(t),t.onLoaded=function(){$(".head").addClass("head_light"),$("body").addClass("body_predictions"),$(".topblock").css("display","none"),$(".footer").css("display","none"),this.onResize()}.bind(t),t.onUnloading=function(){$(".head").removeClass("head_light"),$("body").removeClass("body_predictions"),$(".topblock").removeAttr("style"),$(".footer").removeAttr("style")},t.onPageClick=function(){if(this.popup.isOpen)return!1}.bind(t),s.on("loaded",t.onLoaded),s.on("unloading",t.onUnloading),$(window).on("resize",t.onResize),t.$header.on("mousedown",t.onPageClick),$(document).on("mousedown",".bar",t.onPageClick);try{"pc"!==ya.music.info.platform.type&&(t.$action.addClass("predictions-mobile"),t.$monkey.css("zoom","0.85"))}catch(t){}var i=$(d({img:this.getRandomImage()})).appendTo(this.$popup);a.initPendingBlocks(i[0]),t.runPermanentAnimation()},p.prototype.destroy=function(){s.off("loaded",this.onLoaded),s.off("unloading",this.onUnloading),$(window).off("resize",self.onResize),this.$header.on("mousedown",this.onPageClick),$(document).off("mousedown",".bar, .head",this.onPageClick)},p.prototype.onClick=function(){this.renderPrediction()},p.prototype.renderPrediction=function(){var t=this.getRandomImage();$(".page-predictions__image-container > .prediction-image").attr("src",t),this.popup.isOpen||this.popup.show()},p.prototype.runPermanentAnimation=function(){var t=this,e=0,i=0,n=0,a=0,s=function(t,e,i){return Math.ceil(Math.abs(Math.sin(Math.PI*i)*t)-e)},o=function(){t.$eyebrow.css({transform:"translateY("+(i<=4?e+=1.5:i<=8?e-=1.5:i<=12?e+=1.5:i<=16?e-=1.5:i<=20&&(e=0),i=(i+=1)>=60?0:i,-e+"px)")}),t.$note1.css({transform:"rotate("+s(40,10,n)+"deg)"}),t.$note2.css({transform:"rotate("+-s(30,20,a)+"deg)"}),n+=.06,a+=.06,setTimeout((function(){requestAnimationFrame(o)}),60)};u&&o()},p.prototype.runPreAnimation=function(t){var e=this,i=255;i+=parseInt(e.$monkeyContainer.css("bottom")),i-=parseFloat(e.$action.css("margin-bottom"));var n=e.$action.width(),a=e.$action.height(),s=e.$action.css("bottom");s="%"===s[s.length-1]?e.$cont.height()*parseFloat(s)/100:parseFloat(s);var o=parseFloat(e.$action.css("margin-left"))||0,r=1,l=1,c=0,d=n/70,p=a/70,h=r/70,_=(o- -103)/70,m=(s-i)/70,g=function(){r-=h,o-=_,s-=m,n-=d,a-=p,l-=1/70,c+=100/70,e.$action.css({width:n,height:a,bottom:s,marginLeft:o,background:"rgba(254,225,51,"+(1-l)+")",borderRadius:c}),e.$action.children().css({zoom:r,opacity:l}),r>0?setTimeout((function(){requestAnimationFrame(g)}),10):(e.$action.addClass("page-predictions__hidden"),e.$action.children().attr("style",""),e.$action.attr("style",""),t(),$(window).resize())};u?g():t()},p.prototype.runAnimation=function(){var t=this,e=new l,i=!1,n=0,a=0,s=0,r=0,c=function(t,e,i){return Math.ceil(Math.abs(Math.sin(Math.PI*i)*t)-e)},d=45,p=45,h=function(){n+=15,t.$ball.css({transform:"rotate("+n+"deg)"}),t.$controller1.css({transform:"translateY("+c(70,27,a)+"px)"}),t.$controller2.css({transform:"translateY("+-c(70,1,s)+"px)"}),t.$controller3.css({transform:"translateY("+c(70,2,r)+"px)"}),a+=.04,s-=.03,r+=.05,t.$disc1.css({transform:"rotate("+d+"deg)"}),t.$disc2.css({transform:"rotate("+p+"deg)"}),d+=15,p+=25,i?e.resolve():setTimeout((function(){requestAnimationFrame(h)}),60)};return u?(o.playCommon("/blocks/common/tuning.mp3?v="+Math.random()),t.$action.addClass("page-predictions__hidden"),h(),setTimeout((function(){i=!0}),4e3)):e.resolve(),e.promise()},p.prototype.random=function(t,e){const i=t+Math.random()*(e+1-t);return Math.floor(i)},p.prototype.getRandomImage=function(){const t=["49997/img.5d6650df35e7e0537ad3299b/orig","40584/img.5d6650de35e7e0537ad3299a/orig","49997/img.5d6650dd35e7e0537ad32999/orig","40584/img.5d6650dc35e7e0537ad32998/orig","28592/img.5d6650db35e7e0537ad32997/orig","28052/img.5d6650da35e7e0537ad32996/orig","70850/img.5d6650d935e7e0537ad32995/orig","28592/img.5d6650d735e7e0537ad32994/orig","70850/img.5d6650d635e7e0537ad32993/orig","70850/img.5d6650d535e7e0537ad32992/orig","49997/img.5d6650d535e7e0537ad32990/orig","70683/img.5d6650d435e7e0537ad3298f/orig","70850/img.5d6650d335e7e0537ad3298e/orig","40584/img.5d6650d235e7e0537ad3298d/orig","34161/img.5d6650d135e7e0537ad3298c/orig","40584/img.5d6650d035e7e0537ad3298b/orig","28592/img.5d6650cf35e7e0537ad3298a/orig","34161/img.5d6650ce35e7e0537ad32989/orig","49997/img.5d6650cd35e7e0537ad32988/orig","34161/img.5d6650cc35e7e0537ad32987/orig","28592/img.5d6650cb35e7e0537ad32986/orig","28592/img.5d6650ca35e7e0537ad32985/orig","34161/img.5d6650c935e7e0537ad32984/orig","40584/img.5d6650c835e7e0537ad32983/orig","28052/img.5d6650c735e7e0537ad32982/orig","29541/img.5d6650c635e7e0537ad32981/orig","40584/img.5d6650c535e7e0537ad32980/orig","49997/img.5d6650c435e7e0537ad3297f/orig","28592/img.5d6650c335e7e0537ad3297e/orig","49997/img.5d6650c335e7e0537ad3297d/orig","29541/img.5d6650c235e7e0537ad3297c/orig","34161/img.5d6650c135e7e0537ad3297b/orig","70850/img.5d6650c035e7e0537ad3297a/orig","28052/img.5d6650bf35e7e0537ad32979/orig","28592/img.5d6650be35e7e0537ad32978/orig","70850/img.5d6650bd35e7e0537ad32977/orig","28592/img.5d6650bc35e7e0537ad32976/orig","40584/img.5d6650bb35e7e0537ad32975/orig","70850/img.5d6650ba35e7e0537ad32974/orig","28052/img.5d6650b935e7e0537ad32973/orig","34161/img.5d6650b835e7e0537ad32972/orig","28592/img.5d6650b735e7e0537ad32971/orig","49997/img.5d6650b635e7e0537ad32970/orig","28592/img.5d6650b535e7e0537ad3296f/orig","28052/img.5d6650b435e7e0537ad3296e/orig","40584/img.5d6650b335e7e0537ad3296d/orig","49997/img.5d6650b235e7e0537ad3296b/orig","34161/img.5d6650b235e7e0537ad3296a/orig","34161/img.5d6650b135e7e0537ad32969/orig","34161/img.5d6650b035e7e0537ad32968/orig","40584/img.5d6650ae35e7e0537ad32967/orig","34161/img.5d6650ad35e7e0537ad32966/orig","28592/img.5d6650ac35e7e0537ad32965/orig","40584/img.5d6650ab35e7e0537ad32964/orig","70850/img.5d6650aa35e7e0537ad32963/orig","28592/img.5d6650aa35e7e0537ad32962/orig","29541/img.5d6650a935e7e0537ad32961/orig","40584/img.5d6650a835e7e0537ad32960/orig","70850/img.5d6650a735e7e0537ad3295e/orig","40584/img.5d6650a635e7e0537ad3295d/orig","40584/img.5d6650a535e7e0537ad3295c/orig","28592/img.5d6650a435e7e0537ad3295b/orig","70850/img.5d6650a335e7e0537ad3295a/orig","28592/img.5d6650a235e7e0537ad32959/orig","34161/img.5d6650a135e7e0537ad32958/orig","29541/img.5d6650a035e7e0537ad32957/orig","28592/img.5d66509f35e7e0537ad32956/orig","40584/img.5d66509e35e7e0537ad32955/orig","28052/img.5d66509d35e7e0537ad32954/orig","28052/img.5d66509c35e7e0537ad32953/orig","28592/img.5d66509b35e7e0537ad32952/orig","28052/img.5d66509a35e7e0537ad32951/orig","28592/img.5d66509935e7e0537ad32950/orig","49997/img.5d66509835e7e0537ad3294f/orig","70850/img.5d66509735e7e0537ad3294e/orig","40584/img.5d66509635e7e0537ad3294d/orig","40584/img.5d66509535e7e0537ad3294c/orig","28592/img.5d66509435e7e0537ad3294b/orig","28592/img.5d66509335e7e0537ad3294a/orig","70850/img.5d66509235e7e0537ad32949/orig","70850/img.5d66509035e7e0537ad32948/orig","70850/img.5d66509035e7e0537ad32947/orig","34161/img.5d66508e35e7e0537ad32946/orig","49997/img.5d66508d35e7e0537ad32945/orig","29541/img.5d66508d35e7e0537ad32944/orig","29541/img.5d66508c35e7e0537ad32943/orig","28592/img.5d66508b35e7e0537ad32942/orig","28592/img.5d66508a35e7e0537ad32941/orig","28592/img.5d66508935e7e0537ad32940/orig","34161/img.5d66508835e7e0537ad3293f/orig","34161/img.5d66508735e7e0537ad3293e/orig","70850/img.5d66508635e7e0537ad3293d/orig","49997/img.5d66508535e7e0537ad3293c/orig","28592/img.5d66508435e7e0537ad3293b/orig","28592/img.5d66508335e7e0537ad3293a/orig","40584/img.5d66508235e7e0537ad32939/orig","49997/img.5d66508135e7e0537ad32938/orig","34161/img.5d66508035e7e0537ad32937/orig","28052/img.5d66507f35e7e0537ad32936/orig","34161/img.5d66507e35e7e0537ad32935/orig","34161/img.5d66507d35e7e0537ad32934/orig"];return"https://avatars.mds.yandex.net/get-music-misc/"+t[this.random(0,t.length-1)]},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("predictions",p),t.exports=p},function(t,e,i,n){t.exports=function(t){return'<div class="page-predictions__popup popup"></div>'}},function(t,e,i,n){t.exports=function(){var t=i(315),e=i(143),n=i(141);return function(i){return'<div class="page-predictions__popup-content">'+e.render({type:"flat",icon:"cross-big",class:"popup__close"})+'<div class="page-predictions__columns page-predictions__image-container"><img src="'+__escape(i.img)+'" class="prediction-image" /></div><div class="popup__footer"><div class="page-predictions__columns"><div class="popup__footer-left"><div class="page-predictions__popup-action page-predictions__popup-action_refresh">'+n.render({icon:"arrows-round"})+"<span>"+__escape(i18n("page-predictions","[feature/mfront-3349]Новое предсказание"))+'</span></div></div><div class="popup__footer-right"><div class="page-predictions__share"><div class="page-predictions__share-title">'+__escape(i18n("page-predictions","[feature/mfront-3349]Рассказать друзьям"))+"</div>"+t.render({link:"/cards",title:i18n("page-predictions","[feature/mfront-3349]Узнайте, под знаком какой песни пройдёт для вас год"),withoutText:!1,centered:!0})+"</div></div></div></div></div>"}}()},function(t,e,i,n){i(5);const a=i(103),s=i(1);let o,r,l;const c=function(t){this.department=t.department,this.subDepartment=t.subDepartment,this.templateName="page-radio",this.play=t.query.play,this.authRequired=!0,this.noOverflowHidden=!0};c.init=function(t){o=t.get("auth"),r=t.get("seq"),l=t.get("blocks")},c.prototype.onRender=function(){this._hiliteStation=this.hiliteStation.bind(this,null),this._onBodyClick=this.onBodyClick.bind(this),r.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_EMPTY,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_SHOW_PLAY,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation),r.on(Mu.PlayFlow.EVENT_CHANGE,this._hiliteStation)},c.prototype.onShow=function(){this.hiliteStation(),$("body").on("click",this._onBodyClick),this.autoplay()},c.prototype.onBodyClick=function(t){let e;const i=$(".radio-station_withSubs",this.cont);i.length>0&&(e=Mu.blocks.forElem(i.eq(0)[0],"radio-station"),e&&e.toggleSubs(t))},c.prototype.fetchData=function(t){const e=new a,i={tabs:[{title:i18n("page-radio","Обзор"),href:"/radio",id:"overview"},{title:i18n("page-radio","Жанры"),href:"/radio/genre",id:"genre"},{title:i18n("page-radio","Настроения"),href:"/radio/mood",id:"mood"},{title:i18n("page-radio","Занятия"),href:"/radio/activity",id:"activity"},{title:i18n("page-radio","Эпохи"),href:"/radio/epoch",id:"epoch"}],activeTab:this.department||"overview",auth:o||{}},n=[t.get("radio-library",{},{nocache:!0}),t.get("radio-recommended",{})];return Mu&&Mu.experiments&&"on"===Mu.experiments.WebGenerativeTab&&(i.tabs.splice(1,0,{title:i18n("page-radio","[feature/mfront-3946]Нейромузыка"),href:"/radio/neuromusic",id:"neuromusic"}),n.push(t.get("radio-menu",{supportedStationTypes:"generative"}))),s.all(n).then((function(t){r&&r.setRadioDashboardId(t[1].dashboardId);const n={station:t[0].stations["user:"+o.user.login]};let a=[];if(t[2]&&t[2].menu){const e=t[2].menu.find(t=>"generative"===t.id.tag);e&&e.content&&e.content.length>0&&(a=e.content)}e.resolve(Function.mixin(i,{library:t[0],personal:n,dashboard:t[1],generativeStations:a}))})).catch(e.reject),e.promise()},c.prototype.hiliteStation=function(t){if(this.unhiliteStations(),!r.isEmpty()){if(t||(t=r.getConfig()),"generative"===t.type)this.hilitedStations=this.findGenerativeStationBlocks();else{if(void 0===t.tag)return;this.hilitedStations=this.findStationBlocks(t)}this.hilitedStations.forEach((function(e){e.block.setPlaying(!0,!e.isParent||t.type)}))}},c.prototype.unhiliteStations=function(){this.hilitedStations&&(this.hilitedStations.forEach((function(t){t.block.setPlaying(!1)})),this.hilitedStations=null)},c.prototype.findGenerativeStationBlocks=function(){const t=[];if(!r.isPlaying())return t;const e=r.getInfo();if(!e||!e.tag)return t;const i=$(".radio-station_searchable");return 0===i.length||i.toArray().forEach(i=>{const n=Mu.blocks.forElem(i);n.data&&n.data.station&&n.data.station.id&&n.data.station.id.tag===e.tag&&t.push({block:n})}),t},c.prototype.findStationBlocks=function(t){const e=[],i=$(".radio-station_searchable");if(0===i.length)return e;const n=this.data.library.stations[`${t.type}:${t.tag}`],a=n&&n.station&&n.station.parentId;for(let n=0;n<i.length;n++){const s=l.forElem(i[n]),o=s.data.station?s.data.station.id:s.data.id;a&&this.department&&o.type===a.type&&o.tag===a.tag&&e.push({isParent:!0,block:s}),o.type===t.type&&o.tag===t.tag&&e.push({isParent:!1,block:s})}return e},c.prototype.autoplay=function(){if(!this.play)return;const t=$(`.radio-station .button-play[data-idx='${this.play}']`);t.length>0&&t.click()},c.prototype.destroy=function(){r.off(Mu.PlayFlow.EVENT_SHOW_TRACK,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_EMPTY,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_SHOW_PAUSE,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_SOURCE,this._hiliteStation),r.off(Mu.PlayFlow.EVENT_CHANGE,this._hiliteStation),$("body").off("click",this._onBodyClick)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("radio",c),t.exports=c},function(t,e,i,n){var a,s,o,r,l,c,d,u=i(99);const p=["all","albums","artists","playlists","podcasts","podcast_episodes","tracks","videos"];var h=function(t){this.templateName="page-search",this.query=t.query,this.query.type&&p.includes(this.query.type)||(this.query.type="all")};h.init=function(t){a=t.get("metrika"),s=t.get("navigation"),o=t.get("dataSrc"),r=t.get("auth"),l=t.get("sidebars"),c=t.get("pages"),d=t.get("layout")},h.prototype.fetchData=function(t){this.query.ncrnd=Math.random(),this.query.clientNow=Date.now();var e=this;return t.get("music-search",this.query).then((function(i){const n=e.query.type,a=i[n]&&i[n].items.length,s=()=>(e.query.type="all",t.get("music-search",e.query));return"all"===e.query.type||a?i:e.query.page&&parseInt(e.query.page)>0&&!a?(e.query.page="",t.get("music-search",e.query).then((function(t){return t[n].items.length?t:s()}))):s()})).then((function(t){return t.nullifyPage&&(e.query.page=""),{query:e.query,result:t,auth:r||{}}}))},h.prototype.onRender=function(){this.$cont=$(this.container);const t=location.href.indexOf("&page="),e=e=>{const i="&page=".length,n=location.href.slice(0,t+i),a=location.href.slice(t+i).indexOf("&");let o;o=a>0?n+(e||(this.data.query.page||"0"))+location.href.slice(t+i+a):n+(e||(this.data.query.page||"0")),s.pushState(o,!0)};this.data.result.nullifyPage?e("0"):t>=0&&this.data.query.page!==location.href.slice(t).match(/\d+/)[0]&&e(),this.delegate("track.click",this.selectItem),this.delegate("album.click",this.selectItem),this.delegate("playlist.click",this.selectItem),this.delegate("artist.click",this.selectItem),this.delegate("video-list.click",this.selectItem),this.delegate("like",this.onLike),this.delegate("button-play.getContext",this.onPlay),this._onNavigate=this.onNavigate.bind(this),s.on("navigateByLink",this._onNavigate),s.on("navigateByExternalLink",this._onNavigate),u()&&(c.on("show",()=>this.initSwitchScroll()),d.on("resize",()=>this.initSwitchScroll()))},h.prototype.onShow=function(){$(".serp-snippet__podcast_episodes .explicit-wrap").each((t,e)=>{var i=$(e),n=i.closest(".d-track__title");d.updateExplicitMarkPosition(i,n)})},h.prototype.initSwitchScroll=function(){var t=this.$cont.find(".page-search__switch"),e=t.find("nav"),i=e.find("a"),n=i.toArray().reduce((t,e)=>t+$(e).outerWidth(),0)-e.width();if(n>0){e.off("scroll").on("scroll",()=>{var i=e.scrollLeft();t.toggleClass("deco_fade-left",i>0),t.toggleClass("deco_fade-right",i<n)});var a=i.filter(".active");a.position().left+a.outerWidth()>e.width()?e.scrollLeft(a.position().left):e.scroll()}},h.prototype.onHide=function(){s.off("navigateByLink",this._onNavigate),s.off("navigateByExternalLink",this._onNavigate)},h.prototype.selectItem=function(t){var e="VideoList"===t.target.constructor.name;if(this.currSelected===t.target&&!e){var i=l.current;if(!i||!i.data.track||!!i.param.foundByLyrics==!!t.foundByLyrics)return;l.hideAll()}this.currSelected&&this.currSelected.setSelected&&this.currSelected.setSelected(!1),this.currSelected=t.target,this.currSelected.setSelected&&this.currSelected.setSelected(!0),t.target.openSidebar&&t.target.openSidebar(null,null,null,t.foundByLyrics),this.triggerCounter("fridge",t.target.container,t.currentTarget)},h.prototype.onLike=function(t){this.triggerCounter("like",t.target.container)},h.prototype.onPlay=function(t){this.triggerCounter("play",t.target.container);var e=this.data.result,i=$(t.target.container).closest("[data-type]").data("type"),n=e[i]&&e[i].items||[],a=n&&n.filter((function(t){return t&&!t.error})).map((function(t){return{album:t.albums&&t.albums[0],track:t}}));return{id:"search:"+JSON.stringify(this.query),entries:a}},h.prototype.onNavigate=function(t){this.triggerCounter("navigate",t.target)},h.prototype.triggerCounter=function(t,e,i){this.sendFeedback(t,e,i);var n=$(e).offset();if(void 0!==n){var s=e.getBoundingClientRect().height,o=this.data.query.type,r=Math.floor(n.top+s/2),l={search_click:{}};l.search_click[o]={},l.search_click[o][t]={},l.search_click[o][t][r]={},l.search_click[o][t][r][this.data.result.request_id]=1,a.count(l)}},h.prototype.getBlockTypes=function(){return["artist","playlist","album","d-track","video-list"]},h.prototype.mapBlockToType=function(t){return{"d-track":"track","video-list":"video"}[t]||t},h.prototype.getFeedbackableBlock=function(t){for(var e,i,n=this.getBlockTypes(),a=0;a<n.length;a++)if(e=Mu.blocks.forElem(t,n[a])){i={type:this.mapBlockToType(n[a]),data:e.data,index:$(e.container).index()};break}return i},h.prototype.getFeedbackableBlockId=function(t,e){if(!t)return null;var i=t.type+":";switch(t.type){case"artist":i+=t.data.artist.id;break;case"album":i+=t.data.album.id;break;case"track":i+=t.data.track.id;break;case"playlist":i+=t.data.playlist.owner.uid+":"+t.data.playlist.kind;break;case"video":var n=$(e).index();i+=(t.data.items[n]||{url:""}).url;break;case"search_page":i=t.id;break;default:i=""}return i},h.prototype.getBlockTypesSelector=function(){return this.getBlockTypes().map(t=>"."+t).join(", ")},h.prototype.calcAbsoluteElementPosition=function(t,e){var i=t.closest(".page-search"),n=this.getBlockTypesSelector()+", .d-link_arrow",a=t.closest(".serp-snippet"),s=a.find(n).last(),o=a.find(".d-link_arrow");return e?this.calcAbsoluteElementPosition(s)+1:i.find(n).not(o).index(t)},h.prototype.sendFeedback=function(t,e,i){var n=this.getFeedbackableBlock(e),a=$(e),s=a.closest(".serp-snippet"),r=this.getBlockTypesSelector(),l=a.parent(".title").length;if(l){var c=a.attr("href");n={type:"search_page",id:"block:"+(c.includes("video")?"videos":$.queryString(c).type),index:s.find(r).length}}if(n){var d=l?a:a.closest(r),u=this.calcAbsoluteElementPosition(d,l),p=s.find(r).first(),h=this.calcAbsoluteElementPosition(p),_={timestamp:(new Date).toISOString(),blockType:n.type,searchRequestId:this.data.result.searchRequestId,query:this.query.text,page:this.query.page||0,clickType:t,tabType:this.query.type,absolutePosition:u,absoluteBlockPosition:h};this.data.result.misspell.corrected&&(_.correctedQuery=this.data.result.text),_.entityId=this.getFeedbackableBlockId(n,i),_.position=n.index,"all"===this.query.type&&(_.blockPosition=s.index(".serp-snippet")),o.post("search-feedback",{stats:JSON.stringify(_)})}},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("search",h),t.exports=h},function(t,e,i,n){const a=i(26);let s,o,r,l,c;const d=["account","other"],u=[{id:"",title:i18n("page-settings","Выбирать автоматически")},{id:"html5",title:i18n("page-settings","HTML5-плеер")}],p=[{id:"default",title:i18n("page-settings","[feature/fav-player]Обычный плеер"),selected:!0},{id:"bumblebee",title:i18n("page-settings","[feature/fav-player]Бамблби")},{id:"venom",title:i18n("page-settings","[feature/fav-player]Веном")},{id:"duck",title:i18n("page-settings","[feature/alladin]Уточка")},{id:"winter",title:i18n("page-settings","[feature/ny-player]Зима")},{id:"rocket",title:i18n("page-settings","[feature/player-rocket]Ракета")}],h=function(t){this.container=null,this.templateName="page-settings",this.authRequired=!0,this.param=t;const e=d.includes(t.what);this.what=e?t.what:"account",!e&&r&&r.pushState("/settings/account",!0)};h.isFlashPlayerAvailable=function(){return["Windows XP","Windows Server 2003"].includes(Mu.settings.uatraits.OSName)},h.init=function(t){s=t.get("auth"),o=t.get("seq"),r=t.get("navigation"),l=t.get("metrika"),c=Mu.Storage.create("localStorage"),h.isFlashPlayerAvailable()&&u.push({id:"flash",title:i18n("page-settings","Flash-плеер")})},h.fetchers={account:function(t){return t.get("social-settings",{},{nocache:!0})},other:function(t){let e=[t.get("social-settings",{},{nocache:!0})];const i=new a,n=new a;return o.onReady((function(){h.isFlashPlayerAvailable()||o.setPreferredType("");const t=o.getPreferredType()||"";u.forEach((function(e){e.selected=e.id===t})),n.resolve({player:{types:u}})})),e.push(n.promise()),e=Promise.all(e),e.then((function(t){t[0].player=t[1].player,i.resolve(t[0]);const e=t[0].extraPlayersInSettingsValues,n=p.filter(({id:t})=>"off"!==e[t]);let a;["225","225mp"].includes(Mu.settings.regions.working.toString())&&"on"===e.porsche&&n.push({id:"porsche",title:i18n("page-settings","[feature/porsche]Порше")});const o=s.user.uid;try{let t;if(a=JSON.parse(c.getItem("playerBrandingType"))||{},s.isPremium()&&Mu.settings.adPlayerTypePremium){const e=JSON.parse(c.getItem("premiumBrandingPlayer"))||{};t="off"!==e[o]}(a[o]||Mu.settings.adPlayerTypePremium)&&n.forEach((function(e){s.isPremium()&&Mu.settings.adPlayerTypePremium&&t?e.selected=e.id===Mu.settings.adPlayerTypePremium.toLowerCase():a[o]&&(e.selected=e.id===a[o].type.toLowerCase())}))}catch(t){console.log(t)}if(!n.find(t=>t.selected)){const t=n.findIndex(t=>"default"===t.id);n[t].selected=!0}t[0].brandingTypes=n,t[0].playerBrandingData=a})),i.promise()}},h.prototype.fetchData=function(t){if(clientSide&&this._passportHandlers(t))return Promise.resolve();if(!s.isLoggedIn())return Promise.resolve({});const e=new a;let i={what:this.what,auth:s.user};return h.fetchers[this.what](t).then((function(t){i=Function.mixin(i,t),e.resolve(i)}),(function(t){e.reject(t)})),e.promise()},h.prototype.onRender=function(){this.$cont=$(this.container),s.isLoggedIn()?this.metrikaCount(1):this.metrikaCount({settings_non_authorized:1})},h.prototype.onShow=function(){if(this.param&&this.param.extData&&this.param.extData.scrollToProperty){const t=this.param.extData.scrollToProperty,e=this.$cont.find("#"+t);e.size()&&setTimeout((function(){$(window).scrollTop(e.offset().top),e.addClass("page-settings__line_blinked")}),500)}h.isFlashPlayerAvailable()&&this.$cont.find(".page-settings__player-type").show()},h.prototype.metrikaCount=function(t){l.count({user_settings:t})},h.prototype._passportHandlers=function(t){let e=!1;const i=function(){"ios"===ya.music.info.platform.os?window.open(window.location,"_self").close():window.close()};try{this.param["from-passport"]&&(e=!0,$.cookie("passport_auth_action",1,{path:"/"}),window.open(window.location,"_self").close(),i())}catch(t){i()}return e},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("settings",h),t.exports=h},function(t,e,i,n){var a=function(t){this.templateName="sidebar-500",this.error=t.error};a.prototype.fetchData=function(){var t={error:this.error,debug:!1};return Promise.resolve(t)},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("500",a),t.exports=a},function(t,e,i,n){let a;var s=i(86);const o=i(717);var r=function(t){this.container=null,this.templateName="sidebar-album",this.param=t,s.call(this,t)};r.init=function(t){a=t.get("seq")},Function.mixin(r.prototype,s.prototype),r.prototype.fetchData=function(t){return t.get("album",{album:this.param.album})},r.prototype.init=function(){},r.prototype.getContext=function(){var t=this.data,e=Array.prototype.concat.apply([],this.data.volumes).map((function(e){return{album:t,track:e}})),i=this.data.title,n={id:"album:"+t.id,entries:e,shortTitle:i,title:i18n("sidebar-album","Альбом «%1»",i),href:"/album/"+t.id,album:t};return this.param&&this.param.eventId&&(n.eventId=this.param.eventId),n},r.prototype.onRender=function(){s.prototype.onRender.call(this),this.delegate("lightlist.getContext",this.getContext),this.delegate("button-play.click",(function(){if(!a.isPlaying()){const{resumeFrom:t,volumes:e}=this.data,i=a.getCurrent();o(t,e[0],i,a,t=>a.play(t)),t&&setTimeout(()=>{a.isPlaying()||a.togglePause()},1e3)}}))},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("album",r),t.exports=r},function(t,e,i,n){t.exports=(t,e,i,n,a)=>{if(t){if(i&&t.trackId!==i.id){const i=e.findIndex(e=>e.id===String(t.trackId));-1!==i&&a&&a(i)}return 0!==t.startPositionSec&&n.setPosition(t.startPositionSec),!0}return!1}},function(t,e,i,n){var a,s=i(86),o=function(t){this.container=null,this.templateName="sidebar-artist",this.artistId=t.artist,this.param=t,s.call(this,t)};o.init=function(t){a=t.get("auth")},Function.mixin(o.prototype,s.prototype),o.prototype.fetchData=function(t){var e={};return t.get("artist",{artist:this.param.artist}).then((function(t){return t.auth=a&&a.user||{},Function.mixin(e,t),e}))},o.prototype.getContext=function(){var t=this.data.tracks.map((function(t){return{album:t.albums[0],track:t}})),e=this.data.artist.name,i={id:"artist:"+this.data.artist.id,entries:t,shortTitle:e,title:i18n("sidebar-artist","Популярные треки исполнителя %1",e),href:"/artist/"+this.artistId,artist:this.data.artist};return this.param&&this.param.eventId&&(i.eventId=this.param.eventId),i},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("artist",o),t.exports=o},function(t,e,i,n){var a=function(t){this.templateName="sidebar-order-info",this.orderId=t.orderId};a.prototype.fetchData=function(t){return t.get("payment-order-info",{"order-id":this.orderId})},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("order-info",a),t.exports=a},function(t,e,i,n){var a,s,o,r,l=i(86),c=function(t){this.container=null,this.templateName="sidebar-playlist",this.owner=t.owner,this.kind=t.kind,this.param=t,l.call(this,t)};c.init=function(t){a=t.get("auth"),s=t.get("dataSrc"),o=t.get("navigation"),r=t.get("library"),t.get("froms")},Function.mixin(c.prototype,l.prototype),c.prototype.fetchData=function(t){return t.get("playlist",{owner:this.owner,kinds:this.kind,light:!0,madeFor:this.madeFor},{nocache:!0}).then((function(t){return t.auth=a,t}))},c.prototype.onRender=function(){this.$cont=$(this.container),this.$menu=this.$cont.find(".d-context-menu"),this.$dailyPlaylistCounter=$(".auto-playlists__item_playlistOfTheDay .auto-playlist__counter"),this.$menu.size()&&(this.menu=Mu.blocks.forElem(this.$menu.get(0)),this.menu.on("delete",this.onDelete.bind(this))),l.prototype.onRender.call(this),this.delegate("lightlist.getContext",this.getContext),this.delegate("lightlist.delete",this.onDeleteTrackClick),this.delegate("button-play.click",this.updateAutoPlaylistCounter)},c.prototype.onDelete=function(t){t&&t.success&&o.reload()},c.prototype.onDeleteTrackClick=function(t){var e,i=this.data.playlist,n=t.item,a=t.data.indexOf(n);-1!==a&&(i.kind===Mu.constants.KIND_LIKE?(e={tracks:[{trackId:n.id,albumId:n.albums&&n.albums[0]&&n.albums[0].id}],ref:!0,act:"remove"},r.change(e)):(e={op:"delete",from:a,to:a+1},this.patchPlaylist([e])))},c.prototype.patchPlaylist=function(t){var e=this;e.currentDiff||(e.currentDiff=[]),e.currentDiff=e.currentDiff.concat(t),e.patchDelay||(e.patchDelay=setTimeout((function(){var t=e.currentDiff;e.currentDiff=null,e.patchDelay=null,s.patchPlaylist(e.data.playlist,{diff:t}).then((function(t){e.data.playlist.revision=t.playlist.revision}))}),1e3))},c.prototype.getContext=function(){var t=this.data.playlist,e=t.title,i={id:"playlist:"+t.kind,shortTitle:e,title:i18n("sidebar-playlist","Плейлист «%1»",e),href:"/users/"+t.owner.login+"/playlists/"+t.kind,playlist:t};return this.param&&this.param.eventId&&(i.eventId=this.param.eventId),i},c.prototype.toggleEditMode=function(t){this.canEdit=void 0===this.canEdit||this.canEdit,this.canEdit=void 0!==t?!!t:!this.canEdit;this.$cont.find([".sidebar-playlist__delete",".sidebar-playlist__tracks .track .track__delete"].join(", ")).prop("disabled",!this.canEdit)},c.prototype.prepareUpdatedData=function(t){var e=$.extend(!0,{},this.data),i=e.playlist.playCounter;return i.value=t.playCounter.value+1,i.description=t.playCounter.descriptionNext||t.playCounter.description,e},c.prototype.updateAutoPlaylistCounter=function(){var t=this.data.playlist;if("playlistOfTheDay"===t.generatedPlaylistType&&t.playCounter&&!t.playCounter.updated){var e=this.prepareUpdatedData(t).playlist,i=Mu.render("playlist-cover__counter",e);this.$dailyPlaylistCounter.html(i),Mu.blocks.get("playlist-cover").initTooltip(this.$dailyPlaylistCounter,e)}},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("playlist",c),t.exports=c},function(t,e,i,n){let a;var s,o,r,l,c,d,u=i(86),p=i(722);const h=i(723);var _=function(t){this.container=null,this.templateName="sidebar-track",this.param=t,u.call(this,t)};_.init=function(t){a=t.get("seq"),s=t.get("froms"),o=t.get("metrika"),r=t.get("dataSrc"),d=t.get("pages"),c=Mu.blocks.get("track"),l=t.get("blocks")},Function.mixin(_.prototype,u.prototype),_.prototype.fetchData=function(t){var e=this.param,i=e.track.toString(),n=e.album;if(n){n=":"+n;var a=i.includes(n);a&&!e.hideAlbum&&(i=i.replace(n,"")),!a&&e.hideAlbum&&(i+=n)}var s=!("undefined"==typeof yr||!yr.externals.isUgcTrack(i)),o=t.get("track",{track:i},{nocache:s});return o.then((function(t){return e.foundByLyrics&&e.poetryLoverMatches&&e.poetryLoverMatches.length&&(t.foundByLyrics=e.poetryLoverMatches),t})),o},_.prototype.onRender=function(){if(this.$cont=$(this.container),this.$page=$(".page-root"),this.$lyricPreview=this.$cont.find(".sidebar-track__lyric-preview"),this.$lyricText=this.$cont.find(".sidebar-track__lyric-text"),this.$fullTextBtn=this.$cont.find(".sidebar-track__static-text_lyric"),this.aboutBtn=this.$cont.find(".sidebar__about-btn"),this.aboutContent=this.$cont.find(".sidebar__about-content"),this.aboutContent.hide(),this.$editables=this.$cont.find(".sidebar-track__editable"),this.accessSelector=l.forElem(this.$cont.find(".sidebar-track__access")[0]),this.$editables.on("click",this.editTrackAttribute.bind(this)),this.accessSelector&&this.accessSelector.on("selected",this.onAccessChange.bind(this)),u.prototype.onRender.call(this),this.$fullTextBtn.on("click",this.onLyricLinkClick.bind(this)),this.$fullTextBtn.on("click",this.onLyricTextClick.bind(this)),this.$lyricPreview.on("click",this.onLyricTextClick.bind(this)),this.aboutBtn.on("click",this.onAboutBtnClick.bind(this)),this.delegate("button-play.click",(function(){const t=this.data.track.albums;t.length>0&&t.some(t=>h(t.type,t.genre,a))})),delete this.data.foundByLyrics,this.data.lyric&&this.data.lyric.length>0){var t=this.data.lyric[0];t.fullLyrics&&this.sendLyricsReport(t)}},_.prototype.editTrackAttribute=function(t){var e=this,i=$(t.target).closest(".sidebar-track__editable").find(".sidebar-track__editable-info"),n=i.attr("data-attr"),a=i.attr("data-content")||"text";if(i.size()&&0===i.find("input").length&&n){var s=i.text();i.closest(".sidebar-track__editable").addClass("sidebar-track__editable_active"),i.html(p({contentType:a,oldValue:s}));var o=i.find("input");o.get(0).selectionStart=o.val().length,o.focus(),o.one("blur change",(function(){var t={trackId:e.data.track.id},a=o.val();t[n]=a,a!==s&&r.post("ugc-edit",t,{nocache:!0}).then((function(t){"ok"===t.status&&(e.data.track[n]=a,c.onChangeUgcTrackAttr(e.data.track.id,n))})),i.closest(".sidebar-track__editable").removeClass("sidebar-track__editable_active"),i.text(a)}))}},_.prototype.onAccessChange=function(t){var e=this;if("delete"===t.value)if(confirm("Хотите полностью удалить трек?"))r.post("ugc-delete",{trackId:this.data.track.id}).then((function(t){t&&"success"===t.status&&(e.$cont.remove(),d&&d.current&&d.current.playlistRefresh&&d.current.playlistRefresh())}));else{var i=this.accessSelector.data.items.find((function(t){return t.value===e.data.track.desiredVisibility?t:null})),n=this.accessSelector.data.items.indexOf(i);n>=0&&this.accessSelector.select(n)}else r.post("ugc-visibility",{trackId:this.data.track.id,visibility:t.value}).then((function(i){"success"===i.status&&(e.data.track.desiredVisibility=t.value,c.onChangeUgcTrackAttr(e.data.track.id,"visibility"))}))},_.prototype.updateTrack=function(t,e){var i=this;t.id===i.data.track.id&&(e=Array.isArray(e)?e:[e]).forEach((function(e){switch(e){case"visibility":i.accessSelector.data.items.forEach((function(e,n){e.value===t.desiredVisibility&&i.accessSelector.select(n,!0)}))}}))},_.prototype.onLyricLinkClick=function(){o.goal("trackTextReader")},_.prototype.onLyricTextClick=function(){this.$fullTextBtn.remove(),this.$lyricText.toggleClass("_hidden",!1);var t=this.$lyricText.css("height","auto").height(),e=this.$lyricPreview.height();this.$lyricPreview.toggleClass("_hidden",!0),this.$lyricText.height(e).animate({height:t},{complete:function(){this.$lyricText.css({height:""})}.bind(this),duration:150})},_.prototype.onAboutBtnClick=function(){this.aboutContent.toggle()},_.prototype.getContext=function(t){var e,i,n=$(t.target.container);if(n.hasClass("sidebar-track__play")){var a={track:this.data.track};return a.track.albums&&a.track.albums[0]&&(a.album=a.track.albums[0]),e={id:"track:"+a.track.id+(a.album&&a.album.id?":"+a.album.id:""),entries:[a],shortTitle:a.track.title,title:i18n("sidebar-track","Трек «%1»",a.track.title),href:"/album/"+(a.album&&a.album.id)+"/track/"+a.track.id},this.param&&this.param.eventId&&(e.eventId=this.param.eventId),e}if(0!==n.closest(".sidebar__tracks_similar").length)i=this.getSimilarContext();else{if(0===n.closest(".sidebar__tracks_versions").length)return;i=this.getVersionsContext()}var o=this.data.track,r=i.tracks.map((function(t){return{album:t.albums&&t.albums[0],track:t}})),l=o.albums&&o.albums[0],c=s.getBlockFrom(this.container,"similar_track");return e={id:i.id,entries:r,href:"/album/"+(l&&l.id)+"/track/"+o.id,title:i.title,shortTitle:o.title,from:c}},_.prototype.getSimilarContext=function(){var t=this.data,e=t.track;return{id:"track-similar:"+e.id,tracks:t.similarTracks||[],title:i18n("sidebar-track","Треки, похожие на «%1»",e.title)}},_.prototype.getVersionsContext=function(){var t=this.data,e=t.track,i=t.otherVersions,n=[].concat(i.remix,i.live,i.instrumental,i.another);return{id:"track-versions:"+e.id,tracks:n,title:i18n("sidebar-track","Версии трека «%1»",e.title)}},_.prototype.sendLyricsReport=function(t){var e=this.data.track.id,i=[{id:Date.now().toString()+e,trackId:e,lyricId:t.lyricId,externalLyricId:t.externalLyricId,majorId:t.majorId,lyricFormat:"TEXT"}];r.post("lyric-views",{data:i},{json:!0,nocache:!0})},"undefined"!=typeof Mu&&Mu.sidebars&&Mu.sidebars.register("track",_),t.exports=_},function(t,e,i,n){t.exports=function(t){return'<input type="'+__escape(t.contentType)+'"title="'+i18n("sidebar-track","[feature/sidebar-track-redone]Переименовать")+'"value="'+__escape(t.oldValue)+'"/>'}},function(t,e,i,n){const a=["podcast","show","poetry","lecture"],s=["audiobook"],o=["audiobooksinenglish","fiction"];t.exports=(t,e,i)=>{const n=s.includes(t)||o.includes(e);return!(!a.includes(t)&&!n)&&(i.getShuffle()&&i.setShuffle(!1),i.getRepeat()&&i.setRepeat(!1),!0)}},function(t,e,i,n){var a=function(t){this.templateName="page-style-guide",this.what=t.what||"elements",this.noSidebar=!1,this.noFooter=!0,this.noPlayer=!0,this.noHeader=!1,this.noTheme=!0};a.prototype.fetchData=function(){return Promise.resolve({what:this.what})},a.prototype.onRender=function(){setTimeout(function(){Mu.blocks.initPendingBlocks(this.container)}.bind(this)),this.$cont=$(this.container),this.$copyLinks=this.$cont.find(".sg-copy-link"),this.$copyLinks.on("click",this.copy.bind(this)),this.$tabsAbout=this.$cont.find(".element__about .d-tabs .d-tabs__link"),this.$tabsAbout.on("click",this.aboutChange.bind(this)),this.$cont.find(".element__about .d-tabs").find(".d-tabs__link:first").parents(".d-tabs__tab").addClass("d-tabs__tab_current"),this.renderLinksElements()},a.prototype.renderLinksElements=function(){this.$sidebarCont=$(".sidebar__under"),this.$sidebarCont.html(this.data.linksElements),this.$linksElements=this.$sidebarCont.find(".links-elements"),this.$linksElements.on("click",this.changeHash.bind(this))},a.prototype.aboutChange=function(t){var e=$(t.currentTarget),i=e.parents(".element__about"),n=e.attr("class").split(" ")[2];i.find(".d-tabs__tab_current").removeClass("d-tabs__tab_current"),e.parents(".d-tabs__tab").addClass("d-tabs__tab_current"),i.find(".element__visible").removeClass("element__visible"),i.find(".element__"+n).addClass("element__visible")},a.prototype.copy=function(t){var e=$(t.currentTarget).data("text"),i=document.createElement("textarea");i.value=e,i.style.cssText="position: absolute; top: -100px;",document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),t.currentTarget.innerHTML="copied",setTimeout((function(){t.currentTarget.innerHTML="copy"}),1500)},a.prototype.changeHash=function(t){var e=$(t.currentTarget).data("hash");document.location.hash=e},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("style-guide",a),t.exports=a},function(t,e,i,n){var a=["new","popular"],s=function(t){this.templateName="page-tag",this.tag=t.tag&&decodeURIComponent(t.tag)||void 0;let e="new";"children"===this.tag&&(e="popular"),this.sort=t.query&&t.query.sort||e,a.indexOf(this.sort)<0&&(this.sort=a[0]),"children"===this.tag&&(this.redirect={url:"/kids"})};s.init=function(t){DataSrc=t.get("dataSrc")},s.prototype.fetchData=function(t){var e=this;return t.get("tag",{tag:this.tag,sort:this.sort},{nocache:!0}).then((function(t){return t.id=t.tag.value,t.sort=e.sort,t}),(function(t){throw t}))},s.prototype.onRender=function(){this.$cont=$(this.container),this.$page=this.$cont.find(".page-tag"),this.delegate("playlist.click",this.selectItem)},s.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar())},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("tag",s),t.exports=s},function(t,e,i,n){var a,s,o,r,l,c=i(727),d=i(729),u=function(t){u.beforeLoading(),this.query=t.query||{},this.templateName="page-travel",this.noSidebar=!0,this.noFooter=!0,this.noPlayer=!0,this.authRequired=!0,this.noTheme=!0};u.init=function(t){a=t.get("blocks"),r=t.get("pages"),s=t.get("auth"),o=t.get("dataSrc"),l=t.get("metrika")},u.prototype.fetchData=function(){return Promise.resolve({easter:{partner:"",city:""},os:this.device(),state:"initial"})},u.prototype.onRender=function(){this.initButtons(),this.onLoaded=function(){$(".body").removeClass("body_new-pay-under"),$(".head-kids").addClass("head_light"),$(".topblock").css("display","none"),$(".footer").css("display","none")},this.onUnloading=function(){$(".body").addClass("body_new-pay-under"),$(".head-kids").removeClass("head_light"),$(".topblock").removeAttr("style"),$(".footer").removeAttr("style")},r.on("loaded",this.onLoaded),r.on("unloading",this.onUnloading)},u.beforeLoading=function(){try{$&&($(".centerblock-wrapper").addClass("centerblock-wrapper_full-width "),$(".page-root").addClass("page-root_full-width"),$(".head-kids").addClass("head_light"),$("body").addClass("body_travel"))}catch(t){}},u.prototype.initButtons=function(){var t=this;t.$cont=$(this.container),t.$page=t.$cont.find(".page-travel"),t.phoneBlock=t.$cont.find(".page-travel__sms"),t.$form=t.$cont.find(".page-travel__form"),t.$inputs=t.$cont.find(".page-travel__input input"),t.$inputFrom=t.$inputs.parent().find("#place-from"),t.$inputTo=t.$inputs.parent().find("#place-to"),t.$radioselect=t.$cont.find(".page-travel__radioselect"),t.$radioselectLabels=t.$radioselect.find("label"),t.$radioselectWith=t.$cont.find(".page-travel__radioselect-with"),t.$radioselectLabelsWith=t.$radioselectWith.find("label"),t.$with="",t.$multiselect=t.$cont.find(".page-travel__multiselect"),t.$multiselectLabels=t.$multiselect.find("label"),t.$bgContent=t.$cont.find(".page-travel__bg-content"),t.$sidebarTransport=t.$cont.find(".page-travel__row.transport"),t.$ticket=t.$cont.find(".page-travel__ticket"),t.$ticketFrom=t.$ticket.find(".page-travel__from"),t.$ticketTo=t.$ticket.find(".page-travel__to"),t.$ticketPlans="",t.$tracksCount=t.$cont.find(".page-travel__tracks-count"),t.$tracksDuration=t.$cont.find(".page-travel__tracks-duration"),t.$inputs.on("keypress keydown",t.onInputChange.bind(t)),t.$multiselectLabels.on("click",t.onActivityClick.bind(t)),t.$radioselectLabels.on("click",t.onWithClick.bind(t)),t.$form.find(".page-travel__collect-button").on("click",(function(e){e.preventDefault(),t.onActivateClick()})),t.delegate("changed-departure",t.onDepartureChange),t.delegate("changed-destination",t.onDestinationChange),t.delegate("app-get-sms.success",t.onSendSms),t.delegate("app-get-sms.fail",(function(){l.count({travel:{"30 кнопка Забрать плейлист (Получить на result_page)":1}})})),t.delegate("app-get-sms.error",(function(){l.count({travel:{"30 кнопка Забрать плейлист (Получить на result_page)":1}})})),t.onResize=t.onResize.bind(t),$(window).on("resize",t.onResize),$(window).on("ready",t.onResize),s.on("info",(function(){setTimeout(u.beforeLoading,300)}));try{"pc"===ya.music.info.platform.type||ya.music.info.platform.tablet?ya.music.info.platform.tablet&&($("body").addClass("travel-tablet"),t.isTablet=!0):($("body").addClass("travel-mobile"),t.isMobile=!0)}catch(t){}t.isMobile&&t.$cont.on("click","input",(function(){$(this).focus()}))},u.prototype.unInitButtons=function(){this.$cont.off()},u.prototype.onShow=function(){this.$inputFrom.focus(),this.$cont.find(".js_to-click").click()},u.prototype.onActivateClick=function(){return!!this.checkFromAndTo()&&(!!this.checkTransport()&&(!!this.checkActivities()&&(!!this.checkWith()&&void this.loadPlaylist())))},u.prototype.showLoading=function(t){var e,i=this;if(i.isMobile)switch(ya.music.info.platform.type){case"iphone":case"ipad":case"ipod":e="apple";break;case"android":e="google";break;case"windows_phone":e="microsoft";break;default:e="all"}var n=$(c({os:this.device(),state:"success",transport:i.checkTransport(),plans:i.$ticketPlans,type:e,kind:t}));this.$cont.find(".page-travel__content").html(n),a.initPendingBlocks($(this.container)),this.$currentInput=this.$cont.find(".jsInput"),this.$currentInput.focus(),i.isMobile&&$("html, body").animate({scrollTop:0},0),setTimeout((function(){if(i.$page.find(".page-travel__success").css("display","block"),i.$page.find(".page-travel__bg-loading").css("display","none"),i.$cont.find('.page-travel__with-company[data-with="'+i.$with+'"]').addClass("page-travel__with-company_visible"),$(".page-travel__from").text(i.checkFromAndTo()[0]),$(".page-travel__to").text(i.checkFromAndTo()[1]),i.data.to){var t="url('pages/travel/i/bgs/"+(i.isMobile?i.isLandscape?"landscape/":"portrait/":"detailed/")+"summer/"+i.data.to.extend.bg+".svg')";$(".bg-success").css("background-image",t)}}),4e3),$(".page-travel__playlist-link").attr("href","/users/ya-soundtrack2016/playlists/"+t)},u.prototype.destroy=function(){this.undelegateAll(),this.unInitButtons(),r.off("loaded",this.onLoaded),r.off("unloading",this.onUnloading),$(".page-root").removeClass("page-root_full-width"),$(".head-kids").removeClass("head_light"),$("body").removeClass("body_travel"),$(window).off("resize",self.onResize),$(window).off("ready",self.onResize)},u.prototype.onResize=function(){if(this.isLandscape=$(window).width()>$(window).height(),this.isMobile){var t=$(".page-travel__cover"),e=t.css("background-image");e&&(e=this.isLandscape?e.replace("portrait","landscape"):e.replace("landscape","portrait"),t.css("background-image",e))}},u.prototype.onInputChange=function(t){var e=this;if(e.isControlAction(t))return t.preventDefault(),!1;var i=$(t.target),n=(new Date).getTime();i.data("lastEventTime",n),setTimeout((function(){var t=i.val();t=t.trim().toLowerCase().replace(/[^а-яёa-z0-9\s]*/gi,"");var a=i.data("lastValue");if(t.length>=3&&t!==a&&!0!==i.data("loading")&&i.data("lastEventTime")===n){i.data("loading",!0);var s=i.data("popup");i.data("lastValue",t),o.get("travel-find-place",{str:t,mobile:e.isMobile,city:e.data.easter.city}).then((function(t){if(i.data("loading",!1),t.length){var n=$(d({items:t}));if(s)s.$cont.show(),s.$cont.html(n.html()),s.$cont.data("curItemIndex",0),i.on("blur",e.popupMouseClick.bind(s));else{var a=i.siblings(".page-travel__places");a.html(n),(s=new(Mu.blocks.get("popup"))(a,{fade:!0,persistent:!0})).$cont.html(n.html()),s.nextItem=e.popupNext.bind(s),s.prevItem=e.popupPrev.bind(s),s.selectItem=function(t){e.popupSelect.call(s,e,t)},s.$cont.on("mouseover touchstart","li",e.popupMouseOver.bind(s)),s.$cont.on("click","li",e.popupMouseClick.bind(s)),i.on("blur",e.popupMouseClick.bind(s)),s.$cont.data("input",i),i.data("popup",s)}setTimeout((function(){s.show()}),150)}else e.showErrorPopup(i,i18n("page-travel","Такого направления нет")),s&&s.hide(),i.is(e.$inputTo)?e.data.to="":i.is(e.$inputFrom)&&(e.data.from="")}),(function(){i.data("loading",!1),e.showErrorPopup(i,i18n("page-travel","Что-то пошло не так, попробуйте ещё раз."))}))}t.length||(i.val(""),e.hidePopups())}),300)},u.prototype.onDepartureChange=function(){this.$inputTo.focus()},u.prototype.onDestinationChange=function(){if(this.data.to){var t="url('pages/travel/i/bgs/"+(this.isMobile?this.isLandscape?"landscape/":"portrait/":"detailed/")+"summer/"+this.data.to.extend.bg+".svg')";this.$bgContent.css("background-image",t)}},u.prototype.onSendSms=function(){l.count({travel:{"30 кнопка Забрать плейлист (Получить на result_page)":1}}),l.count({travel:{"40 отправка смс":1}})},u.prototype.isControlAction=function(t){var e=$(t.target).data("popup"),i=!1;if(!e||!e.isOpen)return i;switch(t.which){case 9:i=!0;case 13:i=!0,e.selectItem();break;case 38:case 104:i=!0,e.prevItem();break;case 40:case 98:i=!0,e.nextItem()}return i},u.prototype.hidePopups=function(){this.$inputs.each((function(){var t=$(".popup");t&&t.hide()}))},u.prototype.popupNext=function(){var t=this.$cont.data("curItemIndex")||0,e=this.$cont.find("li"),i=e.size();i>0&&(t=++t<i?t:0,e.removeClass("page-travel__places-item_active"),e.eq(t).addClass("page-travel__places-item_active"),this.$cont.data("curItemIndex",t))},u.prototype.popupPrev=function(){var t=this.$cont.data("curItemIndex")||0,e=this.$cont.find("li"),i=e.size();i>0&&(t=--t<i?t:i-1,e.removeClass("page-travel__places-item_active"),e.eq(t).addClass("page-travel__places-item_active"),this.$cont.data("curItemIndex",t))},u.prototype.popupSelect=function(t,e){var i=this.$cont.data("input"),n=e||this.$cont.data("curItemIndex")||0,a=Mu.blocks.forElem(this.$cont.children().get(n),"page-travel__places-item").data.items[n];if(i&&i.size()&&a){var s=a.city||a.name;i.val(s),i.data("lastValue",s.trim().toLowerCase()),i.is(t.$inputTo)?(t.data.to=a,t.triggerEvent({type:"changed-destination"})):i.is(t.$inputFrom)&&(t.data.from=a,t.triggerEvent({type:"changed-departure"})),this.hide()}},u.prototype.popupMouseOver=function(t){var e=$(t.target),i=e.index(),n=this.$cont.find("li");this.$cont.data("curItemIndex",i),n.removeClass("page-travel__places-item_active"),e.addClass("page-travel__places-item_active")},u.prototype.popupMouseClick=function(t){var e=$(t.target),i=$(t.target).index();e.siblings(".popup_hidden").length||""===e.val()||this.selectItem(i)},u.prototype.showErrorPopup=function(t,e){var i,n=$(t);if(n.size()&&e&&e.length){var a=n.data("errorPopup");a?a.html(e):(a=n.siblings(".error").html(e),n.on("click keypress keydown",a.hide.bind(a)),n.data("errorPopup",a)),a.show(),i=parseInt(n.offset().top)-50,$("html, body").animate({scrollTop:i},1e3)}},u.prototype.onActivityClick=function(t){var e=$(t.target).closest("label"),i=e.find("input"),n=i.is(":checked");return i.prop("checked",!n),e.toggleClass("label_active",!n),this.data.activities=[{type:"active",count:this.$multiselect.find("input.activity_active:checked").size()},{type:"passive",count:this.$multiselect.find("input.activity_passive:checked").size()},{type:"city",count:this.$multiselect.find("input.activity_city:checked").size()}],t.preventDefault(),!1},u.prototype.onWithClick=function(t){var e=$(t.target).closest("label"),i=e.siblings(),n=e.find("input"),a=n.is(":checked");return a||(n.prop("checked",!a),e.toggleClass("label_active",!a),i.toggleClass("label_active",a),i.find("input").prop("checked",a),this.data.with=n.val()),t.preventDefault(),!1},u.prototype.checkFromAndTo=function(){l.count({travel:{"10 кнопка Забрать плейлист":1}});return this.$inputFrom.val().trim()&&this.data.from?(this.$ticketFrom.text(this.$inputFrom.val()),this.$inputTo.val().trim()&&this.data.to?(this.$ticketTo.text(this.$inputTo.val()),l.count({travel:{"20 составляется плейлист":1}}),[this.$inputFrom.val(),this.$inputTo.val()]):(this.showErrorPopup(this.$inputTo,i18n("page-travel","Заполните место прибытия")),!1)):(this.showErrorPopup(this.$inputFrom,i18n("page-travel","Заполните место отправления")),!1)},u.prototype.checkWith=function(){if(this.$cont.find(".page-travel__with-company").removeClass("page-travel__with-company_visible"),!this.$radioselectWith.find("input:checked").size())return this.showErrorPopup(this.$radioselectWith,i18n("page-travel","Выберите с кем полетите")),!1;var t=this.$radioselectWith.find("input:checked").val();return this.$with=t,this.$cont.find('.page-travel__with-company[data-with="'+t+'"]').addClass("page-travel__with-company_visible"),!0},u.prototype.checkTransport=function(){return this.$sidebarTransport.find("input:checked").size()?this.$sidebarTransport.find("input:checked").val():(this.showErrorPopup(this.$radioselect,i18n("page-travel","Выберите на чем вы поедете")),!1)},u.prototype.checkActivities=function(){var t=this,e=[];return t.$multiselectLabels.each((function(){var i=$(this).find("input"),n=i.val();i.is(":checked")&&(e.push(n),t.$ticketPlans+='<li data-activity="'+n+'"><i class="page-travel__icon d-icon d-icon_'+n+'" /></li>')})),e.length?t.$ticketPlans:(t.showErrorPopup(t.$multiselect,i18n("page-travel","Выберите хотя бы одно занятие")),!1)},u.prototype.loadPlaylist=function(){var t,e=this;switch(setTimeout((function(){$(".page-travel__loading").addClass("page-travel__loading_end")}),500),e.data.activities.sort((function(t,e){return-1*(t.count-e.count)}))[0].type){case"passive":t=1;break;case"active":t=2;break;case"city":default:t=0}var i=e.data.to.extend.playlists[t];o.get("playlist",{owner:"ya-soundtrack2016",kinds:i,light:!0,lang:"ru"}).then((function(t){if(t.playlist&&(e.data.playlist=t.playlist,e.$tracksCount.text(e.data.playlist.trackCount),e.$tracksDuration.text(Math.round(e.data.playlist.duration/6e4)),e.data.playlist.cover.uri)){var i=e.data.playlist.cover.uri.replace("%%","300x300");e.isMobile?$(".page-travel__right-side-content").find("img").attr("src","//"+i):$(".page-travel__cover").find("img").attr("src","//"+i)}})),e.showLoading(i)},u.prototype.device=function(){return ya.music.info.platform.tablet?"tablet":"pc"!==ya.music.info.platform.type?"ios"===ya.music.info.platform.os?"ios":"notIos":"PC"},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("travel",u),t.exports=u},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(451),s=i(315),o=i(728),r=i(730),l=function(t){return'<div class="page-travel__header"><div class="page-travel__header-logo">'+a.render({theme:"black"})+"</div></div>"},function(t){var e='<div class="page-travel__content">';return t.state&&"initial"!==t.state?"success"==t.state&&(e+='<div class="bg-success">'+l()+function(t){var e='<div class="page-travel__bg-loading" ><div class="page-travel__loading">';return"plane"===t.transport?e+='<div class="page-travel__loading-transport plane"></div>':"car"===t.transport?e+='<div class="page-travel__loading-transport car"></div>':"train"===t.transport&&(e+='<div class="page-travel__loading-transport train"></div>'),e+="</div></div>"}(t)+r(t)+"</div>"):e+='<div class="page-travel__start {.os}">'+l()+o(t)+function(t){var e='<div class="page-travel__bg"><div class="page-travel__bg-content" ><section class="page-travel__text-section"><h1 class="page-travel__title">'+i18n("page-travel","Музыка в&nbsp;дорогу")+'</h1><p class="page-travel__description">'+i18n("page-travel","[feature/mfront-3990-1]Расскажите о ваших планах на отпуск, <br>а Яндекс&nbsp;Музыка соберёт подходящий&nbsp;плейлист")+'</p><div class="page-travel__share">',i=Mu.render("meta",{page:{name:"travel"},value:"title"});return e+=s.render({title:i,link:"/travel",centered:!1,size:"L"})+"</div></section></div></div>"}()+"</div>",e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(729);return function(i){for(var n,a='<aside class="page-travel__sidebar"><form class="page-travel__form"><div class="page-travel__row route"><h3 class="page-travel__row-title">'+__escape(i18n("page-travel","Маршрут"))+'</h3><div class="page-travel__inputs-group"><div id="input-from" class="page-travel__input"><input id="place-from" type="text" name="place-from" autocomplete="off" placeholder="'+__escape(i18n("page-travel","Откуда?"))+'"/>'+e()+'<span class="error"></span></div><div id="input-to" class="page-travel__input page-travel__input_right"><input id="place-to" type="text" name="place-to" autocomplete="off" placeholder="'+__escape(i18n("page-travel","Куда?"))+'"/>'+e()+'<span class="error"></span></div></div></div><div class="page-travel__row transport"><div class="page-travel__select-group"><h3 class="page-travel__row-title">'+__escape(i18n("page-travel","Транспорт"))+'</h3><div class="page-travel__radioselect page-travel__radioselect-transport">',s=[{img:"plane",text:i18n("page-travel","Самолет"),class:"js_to-click"},{img:"train",text:i18n("page-travel","Поезд")},{img:"car",text:i18n("page-travel","Машина")}],o=0;o<s.length;o++)a+='<label class="'+__escape((n=s[o]).class)+'"><i class="page-travel__icon d-icon d-icon_by-'+__escape(n.img)+'"></i><input type="radio" name="by" value="'+__escape(n.img)+'" /><span class="page-travel__by-text">'+__escape(n.text)+"</span></label>";a+='</div><div class="page-travel__clear-line"></div></div></div><div class="page-travel__row travelers"><div class="page-travel__select-group"><h3 class="page-travel__row-title">'+__escape(i18n("page-travel","Попутчики"))+'</h3><div class="page-travel__radioselect page-travel__radioselect-with">';for(var r,l=[{img:"kiss",text:i18n("page-travel","С парой")},{img:"alone",text:i18n("page-travel","В одиночку"),class:"js_to-click"},{img:"family",text:i18n("page-travel","С семьей")},{img:"friends",text:i18n("page-travel","С друзьями")}],c=0;c<l.length;c++)a+='<label class="'+__escape((r=l[c]).class)+'"><i class="page-travel__icon d-icon d-icon_'+__escape(r.img)+'"></i><input type="radio" name="with" value="'+__escape(r.img)+'" /><span class="page-travel__with-text">'+__escape(r.text)+"</span></label>";a+='</div><div class="page-travel__clear-line"></div></div></div><div class="page-travel__row plans"><h3 class="page-travel__row-title">'+__escape(i18n("page-travel","Планы"))+'</h3><div class="page-travel__multiselect page-travel__multiselect-plans"><div>';for(var d=[{img:"surfer",activity:"active"},{img:"coffee",activity:"city"},{img:"sun",activity:"passive"},{img:"castle",activity:"city"},{img:"rowboat",activity:"active"},{img:"ball",activity:"active"},{img:"swimmer",activity:"active"},{img:"carousel",activity:"city"},{img:"wine",activity:"city"},{img:"bicyclist",activity:"active"}],u=0;u<d.length;u++)p=d[u],a+='<label><i class="page-travel__icon d-icon d-icon_'+__escape(p.img)+'"></i><input type="checkbox" name="activity[]" value="'+__escape(p.img)+'" class="activity_'+__escape(p.activity)+'"/></label>';a+="</div><div>";d=[{img:"sailboat",activity:"passive"},{img:"coctail",activity:"passive"},{img:"umbrella",activity:"passive"},{img:"bikini",activity:"passive"},{img:"dancer",activity:"active"},{img:"fishing",activity:"passive"},{img:"unicorn",activity:"passive"},{img:"horse-riding",activity:"active"},{img:"party",activity:"city",class:"js_to-click"},{img:"purse",activity:"city"}];for(var p,h=0;h<d.length;h++)p=d[h],a+='<label class="'+__escape(p.class)+'"><i class="page-travel__icon d-icon d-icon_'+__escape(p.img)+'"></i><input type="checkbox" name="activity[]" value="'+__escape(p.img)+'" class="activity_'+__escape(p.activity)+'"/></label>';return a+='</div></div><span class="error"></span><div class="page-travel__collect">'+t.render({size:"XL",text:i18n("page-travel","Забрать плейлист"),class:"page-travel__collect-button jsCheckCode jsDisablable",type:"action"})+"</div></div></form></aside>"}}()},function(t,e,i,n){t.exports=function(t){var e='<ul class="page-travel__places popup_hidden">';if(t&&t.items)for(var i,n=0;n<t.items.length;n++)i=t.items[n],e+='<li class="page-travel__places-item',0==n&&(e+=" page-travel__places-item_active"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"page-travel__places-item",!0))+'">',""!==i.iata?e+=__escape(i.name)+" ("+__escape(i.iata)+")":e+=__escape(i.name),e+="</li>";return e+="</ul>"}},function(t,e,i,n){t.exports=function(){var t=i(731),e=i(143),n=i(315),a=i(734),s=i(740);return function(i){var o='<div class="page-travel__success">';s.isMobile()||(o+='<h1 class="page-travel__success-title">'+__escape(i18n("page-travel","Готово"))+'</h1><p class="page-travel__success-description">'+i18n("page-travel","Введите номер телефона, и мы пришлём вам плейлист.<br/>Новым пользователям — месяц подписки бесплатно!")+"</p>"+a(i)+'<div class="page-travel__alternative">'+i18n("page-travel","[feature/mfront-3990-1]Или послушайте свой плейлист <a href='#' class='page-travel__playlist-link link link_major'>в веб-версии Яндекс&nbsp;Музыки</a>")+"</div>"),o+='<div class="page-travel__ticket"><div class="page-travel__details"><div class="block__element"></div><div class="page-travel__row route"><div class="page-travel__stamp">'+__escape(i18n("page-travel","МОЙ МАРШРУТ"))+'</div><div class="page-travel__route"><span class="page-travel__from"></span>&nbsp;&mdash;&nbsp;<span class="page-travel__to"></span></div></div><div class="page-travel__row travelers"><div class="page-travel__stamp">'+__escape(i18n("page-travel","МОИ ПОПУТЧИКИ"))+"</div>";for(var r,l=[{img:"kiss",text:i18n("page-travel","С парой")},{img:"alone",text:i18n("page-travel","В одиночку")},{img:"family",text:i18n("page-travel","С семьей")},{img:"friends",text:i18n("page-travel","С друзьями")}],c=0;c<l.length;c++)o+='<div class="page-travel__with-company" data-with="'+__escape((r=l[c]).img)+'"><i class="page-travel__icon d-icon d-icon_'+__escape(r.img)+'"></i><span class="page-travel__with-text">'+__escape(r.text)+"</span></div>";if(o+='</div><div class="page-travel__row plans"><div class="page-travel__stamp">'+__escape(i18n("page-travel","МОИ ПЛАНЫ"))+'</div><ul class="page-travel__plans">'+i.plans+'</ul></div><div class="page-travel__row">',s.isMobile()){o+='<div class="page-travel__share"><p>'+__escape(i18n("page-travel","Рассказать друзьям о путешествии"))+"</p>";var d=Mu.render("meta",{page:{name:"travel",data:{finished:!0}},value:"title"});o+=n.render({title:d,link:"/travel",size:"M"})+"</div>"}if(o+='</div></div><div class="page-travel__right-side"><div class="page-travel__right-side-content">',s.isMobile()?(o+='<div class="page-travel__cover"><img /><h1 class="page-travel__success-title">'+__escape(i18n("page-travel","Готово"))+'</h1><p class="page-travel__success-description">'+i18n("page-travel","[feature/mfront-3990-1]Установите приложение Яндекс&nbsp;Музыки, чтобы забрать плейлист. Новым пользователям —<br/>месяц подписки бесплатно!")+'</p><div class="page-travel__store">',"all"===i.type?o+=t.render({href:i.href,type:i.type,goal:"page-travel"}):o+=e.render({size:"L",text:i18n("page-travel","Установить приложение"),rounded:!0,type:"action",use_link:!0,href:s.getStoreUrl(i.type)}),o+="</div> </div>"):o+=Mu.render("playlist-cover-stack",{kind:3},[!0,"page-travel__cover"]),o+="</div></div></div>",!s.isMobile()){o+='<div class="page-travel__share"><p>'+__escape(i18n("page-travel","Рассказать друзьям о путешествии"))+"</p>";d=Mu.render("meta",{page:{name:"travel"},value:"title"});o+=n.render({title:d,link:"/travel",size:"L"})+"</div>"}return o+="</div>"}}()},function(t,e,i,n){var a={render:i(732)};clientSide&&(a.controller=i(160)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(73),n=i(733),a=function(e){return""+t.render({rounded:!0,href:n.getStoreUrl(e.type),target:"_blank",icon:e.icon,attrs:{"data-goal":e.goal},size:e.size,class:"d-button-store__button",type:"colored-flat"})};return function(t){var i="",s=(e().lang,t.size,t.goal,t.type||"all");if(i+='<div class="d-button-store '+__escape("d-button-store_"+s)+" "+__escape(t.class||"")+'"data-b="'+__escape(Mu.dotBlockRoot(t,"d-button-store",!0))+'">',"all"===s)i+=a(n.getStoreConfig({type:"apple",goal:t.goal,size:t.size}))+a(n.getStoreConfig({type:"google",goal:t.goal,size:t.size})),e().isCIS&&(i+=a(n.getStoreConfig({type:"microsoft",goal:t.goal,size:t.size})));else if("radio"===s)i+=a(n.getStoreConfig({type:"apple-radio",size:t.size,goal:t.goal}))+a(n.getStoreConfig({type:"google-radio",goal:t.goal,size:t.size}));else if("custom"===s)for(var o,r=0;r<t.stores.length;r++)o=t.stores[r],i+=a(n.getStoreConfig(o));return i+="</div>"}}()},function(t,e,i,n){var a=i(73),s={google:{default:"https://play.google.com/store/apps/details?id=ru.yandex.music"},apple:{225:"https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",187:"https://itunes.apple.com/UA/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",149:"https://itunes.apple.com/BY/app/andeks.muzyka/id520797969&?mt=8&uo=4&at=1000lqjf&ct=music",159:"https://itunes.apple.com/KZ/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",181:"https://itunes.apple.com/il/app/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",983:"https://itunes.apple.com/tr/app/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",default:"https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music"},microsoft:{225:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",149:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",159:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",default:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D"},"google-radio":{default:"https://appmetrika.yandex.ru/serve/1731283382186890820"},"apple-radio":{default:"https://appmetrika.yandex.ru/serve/10341874599426334658"}},o={apple:{goal:"AppStore",icon:"apple"},"apple-radio":{goal:"AppStore",icon:"apple"},google:{goal:"GooglePlay",icon:"google-play"},"google-radio":{goal:"GooglePlay",icon:"google-play"},microsoft:{goal:"WinPhone",icon:"windows"}};t.exports={getStoreUrl:function(t){var e=a().region;return s[t][e]||s[t].default},getStoreConfig:function(t){var e=o[t.type];return{type:t.type,goal:(t.goal||"")+e.goal,icon:e.icon,size:t.size||"L"}}}},function(t,e,i,n){var a;t.exports=(a=i(735),function(t){return'<div class="page-travel__sms">'+a.render({size:"XL",contextName:"travel",entityId:"ya-soundtrack2016/"+t.kind,entityType:"playlist",text:i18n("page-travel","Забрать плейлист"),smsId:"smsText_travel",needIconRight:!0,branchOverrides:{channel:"sms_travel",tags:t.tags}})+"</div>"})},function(t,e,i,n){var a={render:i(736)};clientSide&&(a.controller=i(158)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(737),s=i(739),function(t){return'<div class="d-app-get-sms '+__escape(t.class)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-app-get-sms",!0))+'">'+a.render({caption:t.caption,size:s.getControlSize(t),placeholder:s.getPhonePlaceholder(),chars:/[0-9]/,pattern:/^\d{11,13}$/,tipFail:i18n("d-app-get-sms","Неправильный формат номера"),iconLeft:"plus",iconRight:t.needIconRight&&"mobile",text:t.text||i18n("d-app-get-sms","Получить ссылку"),direction:t.direction||"horizontal"})+"</div>"})},function(t,e,i,n){var a={render:i(738)};clientSide&&(a.controller=i(198)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(139),e=i(143),n=i(141);return function(i){var a="",s=[];i.class&&s.push(i.class),i.direction&&s.push("direction-"+i.direction);var o=s.join(" ");return a+='<div class="d-submitable-input '+__escape(o)+'" data-b="'+__escape(Mu.dotBlockRoot(i,"d-submitable-input",!0))+'">',i.caption&&(a+='<div class="d-submitable-input__caption typo-secondary">'+__escape(i.caption)+"</div>"),a+='<div class="d-submitable-input__wrap">'+t.render({size:i.size,rounded:!0,placeholder:i.placeholder,chars:i.chars,pattern:i.pattern,tipFail:i.tipFail,iconLeft:i.iconLeft,iconRight:i.iconRight,class:"d-submitable-input__input deco-input-wrapper_submitable"})+n.render({icon:"checkmark_green",class:"d-submitable-input__icon_success deco-icon_success"})+"</div>"+e.render({type:"action",rounded:!0,text:i.text,size:i.size,class:"d-submitable-input__submit"})+"</div>"}}()},function(t,e,i,n){const a=i(73),s={225:"7",187:"380",149:"375",159:"7",default:"7"};t.exports={getPhonePlaceholder(){const t=a().region||"default";return s[t]},getControlSize:t=>t.size||"L"}},function(t,e,i,n){var a=i(73),s={apple:{225:"https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",187:"https://itunes.apple.com/UA/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",149:"https://itunes.apple.com/BY/app/andeks.muzyka/id520797969&?mt=8&uo=4&at=1000lqjf&ct=music",159:"https://itunes.apple.com/KZ/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music",default:"https://itunes.apple.com/ru/app/andeks.muzyka/id520797969?mt=8&uo=4&at=1000lqjf&ct=music"},microsoft:{225:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",149:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",159:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D",default:"https://www.microsoft.com/store/apps/9NBLGGH0CB6D"},"google-radio":{default:"https://appmetrika.yandex.ru/serve/1731283382186890820"},"apple-radio":{default:"https://appmetrika.yandex.ru/serve/10341874599426334658"},google:{default:"https://play.google.com/store/apps/details?id=ru.yandex.music"}};t.exports={getStoreUrl:function(t){var e=a().region;return s[t][e]||s[t].default},isMobile:function(){var t={};try{t=ya.music.info.platform}catch(t){}return!("pc"===t.type||t.tablet||"ios"!==t.os&&"android"!==t.os&&"windows"!==t.os)}}},function(t,e,i,n){let a,s,o,r,l,c,d,u,p;const h=i(37),_=(i(742),i(743)),m=function(t){this.container=null,this.templateName="page-users",this.query=t.query||{},this.what=t.what||"tracks",this.podcastSubPage=t.podcastSubPage,this.shelfSubPage=t.shelfSubPage,this.kidsSubPage=t.kidsSubPage,this.nonMusicSubPage=t.nonMusicSubPage,this.owner=t.owner,this.sort=this.query.sort,this.dir=this.query.dir,this.page=this.query.page||0,this.likedPlaylistsPage=0,this.lockLikedPlaylistsRequest=!1,this.likeFilter="undefined"!=typeof window&&window.localStorage.getItem("likeFilter")||"favorite"};m.init=function(t){a=t.get("seq"),s=t.get("dataSrc"),o=t.get("auth"),r=t.get("navigation"),l=t.get("library"),c=t.get("froms"),d=t.get("metrika"),u=t.get("pages"),p=t.get("adapter")},m.prototype.canRender=function(){return!0},m.prototype.fetchData=function(t){const e=this;let i={what:e.what,podcastSubPage:e.podcastSubPage,kidsSubPage:e.kidsSubPage,nonMusicSubPage:e.nonMusicSubPage,shelfSubPage:e.shelfSubPage,owner:e.owner,dir:e.dir,sort:e.sort,auth:o||{},page:e.page};if(!i.owner)return i.error="no owner",Promise.resolve(i);let n=e.what;"albums"===e.podcastSubPage?n="podcasts":"episodes"===e.podcastSubPage?n="episodes":"shelf"===e.what?n="saved"===e.shelfSubPage?"shelf-liked":"recently-played"===e.shelfSubPage?"shelf-recently-played":"new-episodes"===e.shelfSubPage?"shelf-new-episodes":"shelf":"podcasts"!==e.what&&"non-music"!==e.what||(n="non-music");const a={owner:e.owner,filter:n,likeFilter:e.likeFilter,kidsSubPage:e.kidsSubPage,page:e.page};["tracks","albums","podcasts","artists","kids","non-music","shelf"].includes(e.what)&&(a.sort=e.sort,a.dir=e.dir),"playlists"===e.what&&(a.playlistsWithoutContent=!0,a.likedPlaylistsPage=this.likedPlaylistsPage);return(o&&o.user.login===this.owner?o.updateAuthInfo().then(()=>o.isLoggedIn()&&o.user.login===this.owner).catch(()=>!1):Promise.resolve(!1)).then(n=>{if(!n&&"history"===this.what&&!Mu.settings.serverSide){if(!r)throw{error:"Not Found"};r.pushState(r.getLastUrl().replace(new RegExp("/"+this.what+"(/|$)"),"/tracks/"),!0),this.what=i.what=a.filter="tracks"}const s=[t.get("library",a,{nocache:!0}).then((function(t){if(t.shelf&&t.shelf.newEpisodes&&t.shelf.newEpisodes.playlist&&t.shelf.newEpisodes.playlist.kind&&t.shelf.newEpisodes.playlist.available&&t.shelf.newEpisodes.playlist.owner&&t.shelf.newEpisodes.playlist.owner.login){const e=`/users/${t.shelf.newEpisodes.playlist.owner.login}/playlists/${t.shelf.newEpisodes.playlist.kind}`;r.pushState(e,!0),r.reload()}return n&&"history"!==e.what&&l.refreshLocal(t,!0),"tracks"===e.what&&("favorite"===e.likeFilter&&t.countsTracks.favorite||"ugc"===e.likeFilter&&t.countsTracks.ugc||(e.likeFilter="all"),t.likeFilter=e.likeFilter),n&&"playlists"===e.what&&(t.playlists&&t.playlists.splice(1,0,{kind:-1}),t.playlistIds&&t.playlistIds.splice(1,0,-1)),i.sortGroups=e.prepareSortGroups(),i=Function.mixin(i,t),i}))];return Promise.all(s).then((function(t){const e=t[0];return"private"===e.visibility&&(e.doNotIndex=!0),e}))})},m.prototype.prepareSortGroups=function(){const t=this,e=[];let i={},n=[],a=[];switch(t.what){case"albums":case"podcasts":case"non-music":n=["asc","desc"],a=["album"],i={album:{title:i18n("page-users","[feature/my-music-sort]по названию"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от Я до А")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")},{id:"asc",title:i18n("page-users","[feature/my-music-sort]сначала старые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала старые")}]}},"podcasts"!==t.what&&"non-music"!==t.what&&(a.unshift("artist"),i.artist={title:i18n("page-users","[feature/my-music-sort]по исполнителю"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По исполнителю: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По исполнителю: от Я до А")}]});break;case"kids":switch(t.kidsSubPage){case"artists":n=["asc","desc"],a=["artist"],i={artist:{title:i18n("page-users","[feature/my-music-sort]по исполнителю"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от Я до А")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")},{id:"asc",title:i18n("page-users","[feature/my-music-sort]сначала старые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала старые")}]}};break;case"playlists":n=["asc","desc"],a=["title"],i={title:{title:i18n("page-users","[feature/my-music-sort]по названию"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от Я до А")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")},{id:"asc",title:i18n("page-users","[feature/my-music-sort]сначала старые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала старые")}]}};break;case"albums":n=["asc","desc"],a=["album","artist"],i={album:{title:i18n("page-users","[feature/my-music-sort]по названию"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от Я до А")}]},artist:{title:i18n("page-users","[feature/my-music-sort]по исполнителю"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По исполнителю: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По исполнителю: от Я до А")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")},{id:"asc",title:i18n("page-users","[feature/my-music-sort]сначала старые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала старые")}]}}}break;case"artists":n=["asc","desc"],a=["artist"],i={artist:{title:i18n("page-users","[feature/my-music-sort]по исполнителю"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")},{id:"desc",title:i18n("page-users","[feature/my-music-sort]от Я до А"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от Я до А")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")},{id:"asc",title:i18n("page-users","[feature/my-music-sort]сначала старые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала старые")}]}};break;case"shelf":n=["asc","desc"],a=["title"],i={title:{title:i18n("page-users","[feature/my-music-sort]по названию"),items:[{id:"asc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]от А до Я"),topTitle:i18n("page-users","[feature/my-music-sort]По названию: от А до Я")}]},default:{isDefault:!0,title:i18n("page-users","[feature/my-music-sort]по дате добавления"),items:[{id:"desc",isDefault:!0,title:i18n("page-users","[feature/my-music-sort]сначала новые"),topTitle:i18n("page-users","[feature/my-music-sort]По дате добавления: сначала новые")}]}}}if(i&&n&&a){const s=a.includes(t.sort)?t.sort:"default",o=n.includes(t.dir)?t.dir:null;Object.keys(i).forEach(t=>{const n=i[t];n.items.forEach((function(e){e.group=t,e.name="dir",e.selected=s===t&&(o?o===e.id:e.isDefault)})),e.push(n)})}return e},m.prototype.onRender=function(){const t=$(this.container),e=this;e.$cont=t,e.$more=t.find(".page-users__more"),e.$sortSelect=t.find(".d-select.page-users__sort"),e.sortSelect=Mu.blocks.forElem(e.$sortSelect.get(0),"d-select"),e.sortSelect&&(e.sortSelect.on("toggle",(function(t){t.state&&d.goal("sortingMyMusic",{type:e.what})})),e.sortSelect.on("change",(function(t){const i=[],n=t.value;let a,s;if("default"!==n.group&&i.push("sort="+n.group),n.isDefault||i.push(n.name+"="+n.id),["albums","podcasts","artists","kids","non-music","shelf"].includes(e.what)){s={albums:"sortMyAlbumsBy",podcasts:"sortMyPodcastsBy",artists:"sortMyArtistsBy","non-music":"sortMyAudiobooksBy",shelf:"sortShelfItemsBy"}[e.what],a="default"===n.group?"addDate":n.group+"Name",a+=n.id.slice(0,1).toUpperCase()+n.id.slice(1)}s&&a&&d.goal(s,{type:a}),r.navigateTo(document.location.pathname+"?"+i.join("&"))}))),t.on("click",".link_get-link",(function(t){e.showGetLink(),t.stopPropagation()})),"tracks"===e.what&&e.changeLikeFilter(),t.on("click",".playlist_type_new",e.onNewPlaylistClick.bind(e)),t.on("click",".page-users__button-clear",e.onClearClick.bind(e)),t.on("click",".page-users__shuffle-button",e.onShuffleClick.bind(e)),t.on("click",".page-users__section-button-more-playlists",e.onMoreLikedPlaylistsClick.bind(e)),e.delegate("track.delete",e.onTrackDelete),e.delegate("track.click",e.selectItem),e.delegate("album.click",e.selectItem),e.delegate("playlist.click",e.selectItem),e.delegate("artist.click",e.selectItem),e.delegate("button-play.getContext",e.getContext),e.delegate("lightlist.getContext",e.getContext),e.delegate("lightlist.dragend",e.onDragEnd),this.delegate("lightlist.albums-fetch",this.patchLibrary.bind(this)),this.onLoaded=function(){const t=["show","poetry","lecture","audiobook"],i=this.data.albums,n=i&&i.length&&i.filter(e=>t.includes(e.type))||[],a=i&&i.length&&i.filter(e=>!t.includes(e.type))||[];("albums"===this.podcastSubPage&&!a.length||("non-music"===e.what||"my"===e.what||""===e.what)&&"audiobooks"===this.nonMusicSubPage&&!n.length||"episodes"===this.podcastSubPage&&!this.data.trackIds.length)&&(r.navigateTo("users/"+this.owner+"/podcasts",!0),e.what="podcasts",this.podcastSubPage=""),("tracks"===this.kidsSubPage&&!this.data.trackIds.length||"albums"===this.kidsSubPage&&!this.data.albumIds.length||"playlists"===this.kidsSubPage&&!this.data.playlistIds.length||"artists"===this.kidsSubPage&&!this.data.artists.length)&&(r.navigateTo("users/"+this.owner+"/kids",!0),this.kidsSubPage="")},u.on("loaded",this.onLoaded.bind(this)),this.data.needMoreBookmarks&&t.find(".page-users__section-button-more-playlists").removeClass("_hidden")},m.prototype.changeLikeFilter=function(){this.$cont.on("click",".like-filter__favorite",this.showFavorite.bind(this)),this.$cont.on("click",".like-filter__all",this.showAll.bind(this)),this.$cont.on("click",".like-filter__ugc",this.showUgc.bind(this))},m.prototype.showFavorite=function(){window.localStorage.setItem("likeFilter","favorite"),d.count({usersTracks:"favorite"}),r.reload()},m.prototype.showAll=function(){window.localStorage.setItem("likeFilter","all"),d.count({usersTracks:"all"}),r.reload()},m.prototype.showUgc=function(){window.localStorage.setItem("likeFilter","ugc"),d.count({usersTracks:"ugc"}),r.reload()},m.prototype.onNewPlaylistClick=function(t={}){s.changePlaylist("add",{title:t.title||i18n("page-users","Новый плейлист")}).then((function(t){const e=t.playlist;return e&&r.navigateTo("users/"+o.user.login+"/playlists/"+e.kind+"?edit=title",!1,{playlist:e}),null})).catch(()=>{})},m.prototype.onDragEnd=function(t){if("playlists"!==this.what)return;const e=t.insertAt-2,i=t.insertFrom-2,n=function(){return s.post("playlist-position",{to:i<e?e-1:e,from:i,kind:t.data[t.insertFrom].kind},{nocache:!0}).catch((function(){r.reload()}))};this.dragPromise?this.dragPromise=this.dragPromise.then(n):this.dragPromise=n()},m.prototype.getShuffleContext=function(){const t=c.getBlockFrom(this.container,"user"),e=this.data.owner.name;return{id:"users:shuffle:"+Math.random(),shortTitle:e,title:i18n("page-users","Треки пользователя %1",e),href:"/users/"+this.owner,from:t}},m.prototype.onShuffleClick=function(){const t=this.getShuffleContext();p.setFlagValue("playOnUserInteraction",!0),h.startMark("click-to-play"),s.get("user-shuffle",{owner:this.owner},{nocache:!0}).then((function(e){if(!e.trackIds||!e.tracks)return null;const i=e.trackIds.slice(e.tracks.length);return i.splice(0,0,e.tracks.length,0),Array.prototype.splice.apply(e.tracks,i),e.tracks&&e.tracks.length>0&&a.playTracks(t,e.tracks),null})).catch(()=>{})},m.prototype.onTrackDelete=function(t){const e=t.target,i={entry:{track:t.data}},n=!l.isInLibrary(i),a=l.getParams(i,n);l.change(a),$(e.container).remove()},m.prototype.onClearClick=function(){window.confirm(i18n("page-users","Очистка истории прослушивания необратима и повлияет на ваши рекомендации."))&&s.post("history-clear",{},{nocache:!0}).then(()=>r.reload()).catch(()=>{})},m.prototype.onMoreLikedPlaylistsClick=function(){if(this.lockLikedPlaylistsRequest)return;this.lockLikedPlaylistsRequest=!0,this.likedPlaylistsPage+=1;const t={owner:this.owner,likedPlaylistsPage:this.likedPlaylistsPage};s.get("playlists-liked",t,{nocache:!0}).then(t=>{this.lockLikedPlaylistsRequest=!1,t.needMoreBookmarks||$(this.container).find(".page-users__section-button-more-playlists").addClass("_hidden"),this.data.bookmarks=this.data.bookmarks.concat(t.bookmarks),this.data.bookmarksPlaylistsIds=this.data.bookmarksPlaylistsIds.concat(t.bookmarksPlaylistsIds),t.bookmarks.forEach(t=>{const e=_.render({playlist:t});$(this.container).find(".page-users__section-liked-playlists").append(e)})}).catch(()=>{this.lockLikedPlaylistsRequest=!1})},m.prototype.selectItem=function(t){this.currSelected!==t.target&&(this.currSelected&&this.currSelected.setSelected(!1),(this.currSelected=t.target).setSelected(!0),t.target.openSidebar())},m.prototype.getContext=function(){const t=this.data.tracks,e=this.data.owner.login,i=this.data.owner.name;let n;return"history"!==this.what&&(n=t.filter((function(t){return t&&!t.error})).map((function(t){return{album:t.albums&&t.albums[0],track:t}}))),{id:"users:"+e+":"+this.what,entries:n,shortTitle:i,title:i18n("page-users","Треки пользователя %1",i),href:"/users/"+e}},m.prototype.patchLibrary=function(t){o&&o.user.login===this.owner&&"history"!==this.what&&l.refreshLocal(t,!0)},m.prototype.destroy=function(){u.off("loaded",this.onLoaded)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("users",m),t.exports=m},function(t,e,i,n){var a=i(231);t.exports={isOwner:function(t){var e=Mu.authData||{};return!(!e.user||!e.user.login)&&e.user.login===t.owner.login},stampText:function(t){return t?a("myMusic"):i18n("page-users","Пользователь")},authUserId:function(){var t=Mu.authData||{};return t.user&&t.user.uid?t.user.uid:null},getTitles:function(){return{albums:{subheadTitle:i18n("page-users","Альбомы"),emptyTitle:i18n("page-users","Пока нет альбомов"),emptySubtitle:i18n("page-users","Используйте сердечко, чтобы добавить альбом в этот раздел.")},podcasts:{subheadTitle:i18n("page-users","[feature/my-podcasts]Подкасты"),subheadTitleForRecent:i18n("page-users","[feature/recent-podcasts]Вы недавно слушали"),stubTitle:i18n("page-users","[feature/subscribe-to-podcast]Открывайте новые подкасты и подписывайтесь на них"),emptyTitleForOwner:i18n("page-users","[feature/mfront-3752]Попробуйте подкасты и книги"),emptyTitle:i18n("page-users","[feature/mfront-3752]Пока нет подкастов и книг"),emptySubtitleSubscribe:i18n("page-users","[feature/mfront-4026]Послушайте рекомендованные и&nbsp;подпишитесь на&nbsp;понравившиеся, чтобы не&nbsp;пропустить новые выпуски.")},kids:{emptyTitleForOwner:i18n("page-users","[feature/mfront-3281]Попробуйте детский раздел"),emptyTitle:i18n("page-users","[feature/mfront-3281]Пока ничего нет"),emptySubtitleForOwner:i18n("page-users","[feature/mfront-4026]Отмечайте сердечком любимые сказки, песни, колыбельные, и они появятся здесь."),emptySubtitle:i18n("page-users","[feature/mfront-3281]Пользователь еще ничего не добавил в этот раздел")}}},getUserPlaylists(t){const e=t.playlists.find(t=>3===t.kind);return{playlistIds:t.isOwner||e&&e.trackCount?t.playlistIds:t.playlistIds.filter(t=>3!==t),playlists:t.isOwner?t.playlists.filter(t=>[-1,3].includes(t.kind)):t.playlists.filter(t=>3===t.kind&&0!==t.trackCount)}},getBaseURL(){const t=new URL(window.location.href);return t.searchParams.delete("page"),t.toString()},makeIdsUniq:t=>clientSide&&window&&"all"===window.localStorage.getItem("likeFilter")?[...new Set(t)]:t,getShelfListTitle(t){let e;switch(t.type){case"saved":e=i18n("page-users","[feature/mfront-4554]Вы отложили");break;case"recently-played":e=i18n("page-users","[feature/recent-podcasts]Вы недавно слушали");break;case"new-episodes":e=i18n("page-users","[feature/mfront-4554]Новые выпуски")}return e},getShelfListData(t){let e=[];switch(t.type){case"saved":e=t.shelf.liked;break;case"recently-played":e=t.shelf.recentlyPlayed;break;case"new-episodes":e=Array.isArray(t.shelf.newEpisodes)?t.shelf.newEpisodes:[]}return e.map(t=>t.track)}}},function(t,e,i,n){var a={render:i(744)};clientSide&&(a.controller=i(524)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(596),e=i(143),n=i(745),a=i(752),s=i(750);return function(i){var o="",r=s.playlist(i);return i.isPlaceholder?o+=t.render({type:s.placeholderType(i),class:s.placeholderClasses(i)}):-1===r.kind?o+='<div class="playlist playlist_type_new deco-pane-secondary">'+e.render({type:"flat",icon:"plus-thin"})+"</div>":i.auto||r.generatedPlaylistType?o+=n(i):i.drag?o+='<div class="playlist playlist_drag">'+Mu.render("playlist-cover",s.playlist(i),"playlist__cover",200,!0)+"</div>":o+=a(i),o}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(746),s=i(751),o=i(750),function(t){return'<div class="playlist '+__escape(o.classes(t))+' playlist_auto-playlist" data-b="'+__escape(Mu.dotBlockRoot(t,"playlist",!0))+'">'+s(t)+'<div class="auto-playlist__data">'+a(Object.assign(t,{isAutoPlaylist:!0}))+"</div></div>"})},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(747),o=i(750),function(t){var e="",i=o.playlist(t),n=function(){var e=""+__escape(i.title);return o.showNotification(t)&&(e+=s.render({canBeShown:!0})),(i.owner||i.dummyCover)&&(e+=a.render({text:"",href:o.playlistUrl(t),class:"playlist__title-cover"})),e}();return e+='<div class="playlist__texts deco-text-overlay deco-text-overlay_small"><div class="playlist__title deco-typo typo-main" title="'+__escape(i.title)+'">'+a.render({content:n,class:"playlist__title-link"})+"</div>",t.isAutoPlaylist&&i.previewDescription?(e+='<div class="playlist__description deco-typo-secondary typo-add',t.hideDescriptionLinksStyle&&(e+=" playlist__description_hidden-links"),e+='">'+i.previewDescription+"</div>"):t.showDescription&&i.descriptionFormatted&&(e+='<div class="playlist__description deco-typo-secondary typo-add',t.hideDescriptionLinksStyle&&(e+=" playlist__description_hidden-links"),e+='">'+i.descriptionFormatted+"</div>"),e+="</div>"})},function(t,e,i,n){var a={render:i(748)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(749),function(t){return'<span class="playlist-notification" data-b='+__escape(Mu.dotBlockRoot(t,"playlist-notification",!0))+'><span class="playlist-notification__point deco-playlist-notification__point '+__escape(a.className(t))+'">&#9679;</span></span>'})},function(t,e,i,n){t.exports={className:function(t){var e="";return t.canBeShown&&(e="playlist-notification__point_ready"),e}}},function(t,e,i,n){t.exports={classes:function(t){var e=[];return!t.notSelectable&&e.push("playlist_selectable"),t.showDescription&&e.push("playlist_description"),t.auto&&e.push("auto-playlist__description"),t.auto&&t.auto.position&&e.push("auto-playlist__description_"+t.auto.position),e.join(" ")},placeholderType:function(t){return t.showDescription?"playlist-description":"playlist"},playlist:function(t){return t.playlist||t||{}},playlistUrl:function(t){var e=this.playlist(t);return e.owner?"/users/"+(e.owner||{}).login+"/playlists/"+e.kind:t.auto?"/playlist/"+e.urlPart:""},placeholderClasses:function(t){var e=["playlist"];return t.showDescription&&e.push("playlist_description"),e.join(" ")},showNotification:function(t){return t.auto&&t.auto.notification&&!["playlistOfTheDay","yearTop2019"].includes(t.auto.type)},playerEntity:function(t){return Object.assign({},t.playlist,t.auto)}}},function(t,e,i,n){var a,s,o;t.exports=(a=i(601),s=i(381),o=i(750),function(t){var e="",i=o.playlist(t),n=!t.playlist.type||t.playlist.ready;return e+='<div class="auto-playlist__cover">',t.hideActions?e+=s.render({type:"playlist",item:o.playerEntity(t),theme:"withoutButton"}):n&&(e+=a.render({playlist:o.playerEntity(t)})),e+=Mu.render("playlist-cover",i,"playlist__cover",200,!0)+"</div>"})},function(t,e,i,n){t.exports=function(){i(151);var t=i(599),e=i(601),n=i(318),a=i(381),s=(i(293),i(746)),o=i(750);return function(i){var r="",l=o.playlist(i);const c=i.listIndex+1;return r+='<div class="playlist '+__escape(o.classes(i))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"playlist",!0))+'" data-id="'+__escape(c)+'"> ',i.hideActions?r+=" "+a.render({type:"playlist",item:l,theme:"withoutButton"})+" ":r+=" "+e.render({playlist:l})+" ",r+=" "+Mu.render("playlist-cover",l,"playlist__cover",200,!0)+" "+s(i)+' <div class="playlist__info deco-typo-secondary typo-add"> ',i.showStamp&&l.madeFor?r+=" "+t.render({title:i18n("playlist","Обновлён"),date:l.modified,preposition:!0,class:"auto-playlist__stamp deco-typo-secondary typo-add"})+" ":(r+=" ",3!==l.kind&&(r+=" "+n.render({theme:"spin",count:l.likesCount||0,size:"tiny",buttonish:!0,playlist:l,emptyText:i18n("playlist","Нравится")})+" "),r+=" "),r+=" </div></div>"}}()},function(t,e,i,n){var a,s,o,r=function(t){this.templateName="page-wizard",this.noSidebar=!0,this.noFooter=!0,this.noTheme=!0,this.noPlayer=!0,t.query&&t.query.callback_url&&(this.callbackUrl=t.query.callback_url)};r.init=function(t){a=t.get("pages"),s=t.get("popups"),o=t.get("navigation")},r.prototype.fetchData=function(){return Promise.resolve()},r.prototype.onRender=function(){this.validateCallbackUrl(),this.$cont=$(this.container),a.on("loaded",this.onLoaded),a.on("unloading",this.onUnloading),$(document).keyup(t=>{"Escape"===t.key&&o.navigateTo(this.callbackUrl)})},r.prototype.validateCallbackUrl=function(){let t=this.callbackUrl;if(""===t||void 0===t)return void(this.callbackUrl="/home");try{t=decodeURIComponent(t)}catch(t){return void(this.callbackUrl="/home")}/(http|https):\/\/([\w.\-]*)\.yandex.(ru|kz|by)\/[\w#!:.?+=&%@!\-\/\\]*/.test(t)?this.callbackUrl=t:this.callbackUrl="/home"},r.prototype.onLoaded=function(){if($("body").addClass("page-wizard"),$(".head").hide(),$("html").css("overflow-y","hidden"),Mu&&Mu.authData&&Mu.authData.user&&0!=Mu.authData.user.uid){const t={callbackUrl:this.current.callbackUrl};s.toggle("wizard",t)}else o.navigateTo("/home")},r.prototype.onUnloading=function(){$("body").removeClass("page-wizard"),$(".head").show(),$("html").css("overflow-y","scroll")},r.prototype.destroy=function(){a.off("loaded",this.onLoaded),a.off("unloading",this.onUnloading)},"undefined"!=typeof Mu&&Mu.pages&&Mu.pages.register("wizard",r),t.exports=r},function(t,e,i,n){var a,s;t.exports=(a=i(755),s=i(57),function(t){var e='<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=edge" /><meta http-equiv="Content-type" content="text/html; charset=utf-8" />'+t.langMeta+'<meta name="viewport" content="width=device-width, initial-scale=0.7" />';e+='<meta name="skype_toolbar" content="skype_toolbar_parser_compatible" />',e+='<meta name="robots" content="noyaca" />'+t.title+'<link href="/index.css?v='+__escape(t.versions[t.packageName])+'" rel="stylesheet" type="text/css" /><link rel="icon" type="image/png" href="/favicon16.png" sizes="16x16" /><link rel="icon" type="image/png" href="/favicon32.png" sizes="32x32" /><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Яндекс Музыка" /><link rel="apple-touch-icon" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/apple-touch.60x60.png"><link rel="apple-touch-icon" sizes="76x76" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/apple-touch.76x76.png"><link rel="apple-touch-icon" sizes="120x120" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/apple-touch.120x120.png"><link rel="apple-touch-icon" sizes="152x152" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/apple-touch.152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/apple-touch.180x180.png">',t.Mu.settings.uatraits.isOldSafari&&(e+='<link rel="mask-icon" sizes="any" href="https://music.yandex.'+__escape(t.Mu.settings.tld)+'/blocks/common/website.svg" color="#FF0000">'),e+='<meta name="msApplication-ID" content="A025C540.Yandex.Music" /><meta name="msApplication-PackageFamilyName" content="A025C540.Yandex.Music_vfvw9svesycw6" />',t.appIndexing&&(e+='<link class="app-indexing" rel="alternate" href="android-app://ru.yandex.music/yandexmusic/'+__escape(t.path)+'" /><link class="app-indexing" rel="alternate" href="ios-app://520797969/yandexmusic/'+__escape(t.path)+'" />'),t.rum&&(e+=t.rum),e+='<script src="https://an.yandex.ru/system/adfox.js"><\/script> <link rel="manifest" href="/manifest.json" /></head><body class="theme-white"><script nonce="'+t.ctx.nonce+'">var Mu='+__escapeJS(JSON.stringify(t.Mu))+';<\/script><script src="https://yastatic.net/jquery/1.10.1/jquery.min.js"><\/script><script src="https://yastatic.net/jquery-ui/1.10.3/jquery-ui.min.js"><\/script><script src="https://yastatic.net/share2/share.js" type="text/javascript" charset="utf-8"><\/script><script src="/api/v2.1/index/'+__escape(t.ctx.hostname)+"?v="+__escape(t.versions["api-v21"])+'"><\/script><script src="https://payment-widget.ott.yandex.ru/payment-manager.js"><\/script>',t.ctx.isPrivateDev?e+='<script src="/.devTranslations/dist/'+__escape(t.Mu.settings.lang)+'.index.i18n.js"><\/script>':e+='<script src="/'+__escape(t.Mu.settings.lang)+".index.i18n.js?v="+__escape(t.versions[t.packageName])+'"><\/script>',e+='<script src="/index.js?v='+__escape(t.versions[t.packageName])+'"><\/script><div class="page-root page-root_no-player">'+t.content+'</div><div id="flash_player_overlay" style="z-index: 1; top: -99999px; left: -99999px;"></div><script nonce="'+t.ctx.nonce+'">Mu.init();<\/script>';var i=a(Mu.authData.user);return e+='<script nonce="'+t.ctx.nonce+'" id="recallable-script__superbrick">window.Ya && window.Ya.adfoxCode && window.Ya.adfoxCode.create({ownerId: 256152,containerId: "adfox_15738058366467023",cspNonce: "'+__escape(t.ctx.nonce)+'",params: {pp: "g",ps: "clni",p2: "gptq",puid1: '+__escape(i)+"}});<\/script>",t.editorialBannerParam=t.ctx.isDev?"cmyqy":"cmyqz",e+=' <script nonce="'+t.ctx.nonce+'" id="recallable-script__editorial">window.Ya && window.Ya.adfoxCode && window.Ya.adfoxCode.create({ownerId: 256152,containerId: \'adfox_160490615951345178\',cspNonce: "'+__escape(t.ctx.nonce)+'",params: {p1: "'+__escape(t.editorialBannerParam)+"\",p2: 'gzno',puid1: '',puid2: ''}});<\/script>"+s(t.ctx)+"</body></html>"})},function(t,e,i,n){t.exports=function(t){return t&&t.uid?t.isPremium?1:0:2}},function(t,e,i,n){t.exports=function(t){var e='<!DOCTYPE html><html><head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=edge" /><meta http-equiv="Content-type" content="text/html; charset=utf-8" /><link rel="icon" type="image/png" href="/favicon16.png" sizes="16x16" /><link rel="icon" type="image/png" href="/favicon32.png" sizes="32x32" /><title>Error - '+t.error.statusCode+"</title></head><body><h1>"+__escape(t.error.statusCode)+"</h1><h2>Что-то пошло не так</h2><p>Мы уже знаем о проблеме и чиним её. Попробуйте зайти позднее.</p>";return t.dev&&(e+="<p>"+__escape(t.error.message)+"</p><pre>"+__escape(t.error.stack)+"</pre>"),e+="</body>"}},function(t,e,i,n){var a,s=t=>t.split("&amp;").join("&#38;").split("&lt;").join("&#60;").split("&gt;").join("&#62;").split("&quot;").join("&#34;");e["doT_template_ads-block"]=(a=i(758),t=>s(a(t[0].data))),e["doT_template_api-debugger"]=(t=>e=>s(t(e[0].data)))(i(759)),e["doT_template_cast-button"]=(t=>e=>s(t(e[0].data)))(i(518)),e["doT_template_d-addition"]=(t=>e=>s(t(e[0].data)))(i(314)),e["doT_template_d-app-get-sms"]=(t=>e=>s(t(e[0].data)))(i(736)),e["doT_template_d-button"]=(t=>e=>s(t(e[0].data)))(i(144)),e["doT_template_d-button-group"]=(t=>e=>s(t(e[0].data)))(i(613)),e["doT_template_d-button-store"]=(t=>e=>s(t(e[0].data)))(i(732)),e["doT_template_d-collapsable-description"]=(t=>e=>s(t(e[0].data)))(i(760)),e["doT_template_d-copy"]=(t=>e=>s(t(e[0].data)))(i(192)),e["doT_template_d-devider"]=(t=>e=>s(t(e[0].data)))(i(222)),e["doT_template_d-equalizer"]=(t=>e=>s(t(e[0].data)))(i(761)),e["doT_template_d-explicit-mark"]=(t=>e=>s(t(e[0].data)))(i(412)),e["doT_template_d-flag"]=(t=>e=>s(t(e[0].data)))(i(154)),e["doT_template_d-header"]=(t=>e=>s(t(e[0].data)))(i(645)),e["doT_template_d-icon"]=(t=>e=>s(t(e[0].data)))(i(142)),e["doT_template_d-input"]=(t=>e=>s(t(e[0].data)))(i(140)),e["doT_template_d-link"]=(t=>e=>s(t(e[0].data)))(i(152)),e["doT_template_d-logo"]=(t=>e=>s(t(e[0].data)))(i(452)),e["doT_template_d-pager"]=(t=>e=>s(t(e[0].data)))(i(649)),e["doT_template_d-payment-show"]=(t=>e=>s(t(e[0].data)))(i(220)),e["doT_template_d-placeholder"]=(t=>e=>s(t(e[0].data)))(i(597)),e["doT_template_d-select"]=(t=>e=>s(t(e[0].data)))(i(168)),e["doT_template_d-share"]=(t=>e=>s(t(e[0].data)))(i(189)),e["doT_template_d-share-popup"]=(t=>e=>s(t(e[0].data)))(i(516)),e["doT_template_d-slider"]=(t=>e=>s(t(e[0].data)))(i(762)),e["doT_template_d-slider-vert"]=(t=>e=>s(t(e[0].data)))(i(167)),e["doT_template_d-subhead"]=(t=>e=>s(t(e[0].data)))(i(611)),e["doT_template_d-submitable-input"]=(t=>e=>s(t(e[0].data)))(i(738)),e["doT_template_d-tabs"]=(t=>e=>s(t(e[0].data)))(i(643)),e["doT_template_d-toggler"]=(t=>e=>s(t(e[0].data)))(i(333)),e["doT_template_d-tooltip"]=(t=>e=>s(t(e[0].data)))(i(201)),e.doT_template_lightlist=(t=>e=>s(t(e[0].data)))(i(687)),e.doT_template_loading=(t=>e=>s(t(e[0].data)))(i(763)),e["doT_template_log-in"]=(t=>e=>s(t(e[0].data)))(i(462)),e.doT_template_mbform=(t=>e=>s(t(e[0].data)))(i(292)),e["doT_template_mbform-wrapper"]=(t=>e=>s(t(e[0].data)))(i(536)),e["doT_template_multi-auth"]=(t=>e=>s(t(e[0].data)))(i(218)),e["doT_template_pay-promo-popup"]=(t=>e=>s(t(e[0].data)))(i(235)),e["doT_template_playlist-notification"]=(t=>e=>s(t(e[0].data)))(i(748)),e["doT_template_plus-badge"]=(t=>e=>s(t(e[0].data)))(i(224)),e["doT_template_plus-kids-popup"]=(t=>e=>s(t(e[0].data)))(i(238)),e["doT_template_social-bind"]=(t=>e=>s(t(e[0].data)))(i(766)),e.doT_template_speed=(t=>e=>s(t(e[0].data)))(i(513)),e.doT_template_spinner=(t=>e=>s(t(e[0].data)))(i(765)),e.doT_template_stamp=(t=>e=>s(t(e[0].data)))(i(600)),e.doT_template_user=(t=>e=>s(t(e[0].data)))(i(227)),e.doT_template_volume=(t=>e=>s(t(e[0].data)))(i(767))},function(t,e,i,n){t.exports=function(t){return'<div class="ads-block smalladv '+__escape(t.class?t.class:"")+'" data-b="'+__escape(Mu.dotBlockRoot(t,"ads-block",!0))+'"> <div class="ads-block__item"></div></div>'}},function(t,e,i,n){t.exports=function(t){return'<div class="api-debugger popup deco-pane-popup" data-b="'+__escape(Mu.dotBlockRoot(t,"api-debugger",!0))+'"><div class="api-debugger__log api-debugger__log_player"></div><div class="api-debugger__log api-debugger__log_source"></div><div class="api-debugger__log api-debugger__log_audio"></div><div class="api-debugger__log api-debugger__log_common"></div></div>'}},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){var e='<div class="d-collapsable-description typo deco-link-parent deco-link-parent_marked '+__escape(t.class?t.class:"")+'"data-b="'+__escape(Mu.dotBlockRoot(t,"d-collapsable-description",!0))+'">';return t.yandexLink?e+=__escape(t.description.replace(/\.+$/,""))+'<span class="deco-typo-secondary"> &mdash; </span>'+a.render({text:i18n("d-collapsable-description","ещё на Яндексе"),target:"_blank",style:"marked"}):e+=t.description,e+="</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(332),s=i(141),function(t){return'<div class="d-equalizer"data-b="'+__escape(Mu.dotBlockRoot(t,"d-equalizer",!0))+'"><div class="d-equalizer__button" title="'+__escape(i18n("d-equalizer","Эквалайзер"))+'">'+s.render({icon:"equalizer"})+'</div><div class="d-equalizer__popup deco-pane-popup"><div class="d-equalizer__select"></div><div class="d-equalizer__presets">'+a.render({checked:!1,onText:i18n("d-equalizer","Вкл"),offText:i18n("d-equalizer","Выкл")})+'</div><ul class="d-equalizer__bands"></ul></div></div>'})},function(t,e,i,n){t.exports=function(){var t=i(141),e=i(143),n=i(195);return function(i){var a="";i.items&&!Array.isArray(i.items)&&(i.items=[i.items]),a+='<div class="d-slider '+__escape(n.className(i))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"d-slider",!0))+'" ><div class="d-slider__container"><div class="d-slider__items-container"><div class="d-slider__items d-slider__items_animated">';for(var s,o=0;o<i.items.length;o++)s=i.items[o],a+=n.itemTemplate(i)(s);return a+="</div></div>","rounded-buttons"===i.theme?a+=e.render({size:"L",icon:"arrow-right",class:"d-slider__control d-slider__control_fwd",rounded:!0,type:"slider-control"})+e.render({size:"L",icon:"arrow-left",class:"d-slider__control d-slider__control_back",rounded:!0,type:"slider-control"}):"no-buttons"!==i.theme&&(a+='<div class="d-slider__control d-slider__control_fwd">'+t.render({icon:"arrow-right"})+'</div><div class="d-slider__control d-slider__control_back">'+t.render({icon:"arrow-left"})+"</div>"),a+="</div></div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(764),function(t){var e='<div class="loading deco-shade';return t.class&&(e+=" "+__escape(t.class)),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"loading",!0))+'"><div class="loading__spinner">'+a.render()+"</div></div>"})},function(t,e,i,n){var a={render:i(765)};t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="spinner"><span class="spinner__circle"></span></div>'}},function(t,e,i,n){t.exports=function(){var t=i(151),e=i(143);return function(i){var n='<div class="social-bind '+__escape(i.class?i.class:"")+" "+__escape(i.buttonClass?i.buttonClass:"")+'" data-b="'+__escape(Mu.dotBlockRoot(i,"social-bind",!0))+'">';return i.link?n+=t.render(Object.assign({text:i.text},i.link)):n+=e.render(Object.assign({text:i.text},i.button)),n+="</div>"}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(768),s=i(166),o=i(141),function(t){var e='<div class="volume '+__escape(t.class||"")+'" data-b="'+__escape(Mu.dotBlockRoot(t,"volume",!0))+'"><div class="volume__holder"></div><div class="volume__control deco-popup-menu deco-pane-popup deco-pane-arrow_'+__escape("down"===t.direction?"up":"down")+'">';return t.withoutEqualizer||(e+=a.render(t)),e+='<div class="volume__bar deco-popup-menu__item-group deco-pane-popup deco-pane-arrow_'+__escape("down"===t.direction?"up":"down")+'">'+s.render({class:"volume__slider"})+'</div></div><div class="volume__btn">'+o.render({icon:"volume-sprite",class:"volume__icon"})+"</div></div>"})},function(t,e,i,n){var a={render:i(761)};t.exports=a},function(t,e,i,n){var a,s=t=>t.split("&amp;").join("&#38;").split("&lt;").join("&#60;").split("&gt;").join("&#62;").split("&quot;").join("&#34;");e["doT_template_adfox-creative"]=(a=i(770),t=>s(a(t[0].data))),e.doT_template_album=(t=>e=>s(t(e[0].data)))(i(771)),e.doT_template_artist=(t=>e=>s(t(e[0].data)))(i(773)),e["doT_template_artist-pics"]=(t=>e=>s(t(e[0].data)))(i(775)),e["doT_template_audio-advert"]=(t=>e=>s(t(e[0].data)))(i(777)),e["doT_template_audio-animation"]=(t=>e=>s(t(e[0].data)))(i(782)),e["doT_template_auto-playlists"]=(t=>e=>s(t(e[0].data)))(i(783)),e.doT_template_bar=(t=>e=>s(t(e[0].data)))(i(794)),e["doT_template_bar-below"]=(t=>e=>s(t(e[0].data)))(i(844)),e["doT_template_bar-below-configurable"]=(t=>e=>s(t(e[0].data)))(i(274)),e.doT_template_branding=(t=>e=>s(t(e[0].data)))(i(845)),e["doT_template_button-bilet"]=(t=>e=>s(t(e[0].data)))(i(846)),e["doT_template_button-play"]=(t=>e=>s(t(e[0].data)))(i(848)),e["doT_template_button-radio"]=(t=>e=>s(t(e[0].data)))(i(853)),e["doT_template_collapsed-list"]=(t=>e=>s(t(e[0].data)))(i(854)),e.doT_template_context=(t=>e=>s(t(e[0].data)))(i(855)),e["doT_template_crackdown-popup"]=(t=>e=>s(t(e[0].data)))(i(289)),e["doT_template_d-album-slider"]=(t=>e=>s(t(e[0].data)))(i(865)),e["doT_template_d-album-summary"]=(t=>e=>s(t(e[0].data)))(i(866)),e["doT_template_d-artists"]=(t=>e=>s(t(e[0].data)))(i(869)),e["doT_template_d-bubble"]=(t=>e=>s(t(e[0].data)))(i(870)),e["doT_template_d-button-edit"]=(t=>e=>s(t(e[0].data)))(i(872)),e["doT_template_d-button-play__wrap"]=(t=>e=>s(t(e[0].data)))(i(873)),e["doT_template_d-chart-position"]=(t=>e=>s(t(e[0].data)))(i(419)),e["doT_template_d-chart-track"]=(t=>e=>s(t(e[0].data)))(i(874)),e["doT_template_d-circle-progress"]=(t=>e=>s(t(e[0].data)))(i(876)),e["doT_template_d-collective-access"]=(t=>e=>s(t(e[0].data)))(i(877)),e["doT_template_d-concert-inhouse"]=(t=>e=>s(t(e[0].data)))(i(878)),e["doT_template_d-context"]=(t=>e=>s(t(e[0].data)))(i(884)),e["doT_template_d-context-menu"]=(t=>e=>s(t(e[0].data)))(i(885)),e["doT_template_d-cover__wrapper"]=(t=>e=>s(t(e[0].data)))(i(396)),e["doT_template_d-emojis"]=(t=>e=>s(t(e[0].data)))(i(886)),e["doT_template_d-empty"]=(t=>e=>s(t(e[0].data)))(i(887)),e["doT_template_d-event"]=(t=>e=>s(t(e[0].data)))(i(889)),e["doT_template_d-generic-intro"]=(t=>e=>s(t(e[0].data)))(i(898)),e["doT_template_d-generic-page-head"]=(t=>e=>s(t(e[0].data)))(i(900)),e["doT_template_d-genres"]=(t=>e=>s(t(e[0].data)))(i(901)),e["doT_template_d-genres-popup"]=(t=>e=>s(t(e[0].data)))(i(902)),e["doT_template_d-hover"]=(t=>e=>s(t(e[0].data)))(i(905)),e["doT_template_d-lang-switcher"]=(t=>e=>s(t(e[0].data)))(i(906)),e["doT_template_d-like"]=(t=>e=>s(t(e[0].data)))(i(356)),e["doT_template_d-links"]=(t=>e=>s(t(e[0].data)))(i(907)),e["doT_template_d-more"]=(t=>e=>s(t(e[0].data)))(i(908)),e["doT_template_d-no-ads"]=(t=>e=>s(t(e[0].data)))(i(909)),e["doT_template_d-overhead"]=(t=>e=>s(t(e[0].data)))(i(911)),e["doT_template_d-overhead-mobile"]=(t=>e=>s(t(e[0].data)))(i(913)),e["doT_template_d-pill"]=(t=>e=>s(t(e[0].data)))(i(914)),e["doT_template_d-playlist-authors"]=(t=>e=>s(t(e[0].data)))(i(915)),e["doT_template_d-search"]=(t=>e=>s(t(e[0].data)))(i(916)),e["doT_template_d-station"]=(t=>e=>s(t(e[0].data)))(i(932)),e["doT_template_d-suggest"]=(t=>e=>s(t(e[0].data)))(i(935)),e["doT_template_d-track"]=(t=>e=>s(t(e[0].data)))(i(937)),e.doT_template_dislike=(t=>e=>s(t(e[0].data)))(i(938)),e["doT_template_dont-pay-popup"]=(t=>e=>s(t(e[0].data)))(i(940)),e["doT_template_entity-cover"]=(t=>e=>s(t(e[0].data)))(i(941)),e["doT_template_entity-cover_album"]=(t=>e=>s(t(e[0].data)))(i(943)),e["doT_template_entity-cover_track"]=(t=>e=>s(t(e[0].data)))(i(944)),e.doT_template_footer=(t=>e=>s(t(e[0].data)))(i(945)),e["doT_template_gdpr-popup"]=(t=>e=>s(t(e[0].data)))(i(450)),e.doT_template_head=(t=>e=>s(t(e[0].data)))(i(955)),e["doT_template_head-container"]=(t=>e=>s(t(e[0].data)))(i(959)),e["doT_template_head-kids"]=(t=>e=>s(t(e[0].data)))(i(974)),e.doT_template_hq=(t=>e=>s(t(e[0].data)))(i(975)),e["doT_template_iframe-config"]=(t=>e=>s(t(e[0].data)))(i(976)),e.doT_template_meta=(t=>e=>s(t(e[0].data)))(i(492)),e.doT_template_nav=(t=>e=>s(t(e[0].data)))(i(977)),e["doT_template_nav-kids"]=(t=>e=>s(t(e[0].data)))(i(978)),e["doT_template_page-line"]=(t=>e=>s(t(e[0].data)))(i(863)),e["doT_template_payment-popup-annoyer"]=(t=>e=>s(t(e[0].data)))(i(979)),e["doT_template_player-controls"]=(t=>e=>s(t(e[0].data)))(i(980)),e["doT_template_player-progress"]=(t=>e=>s(t(e[0].data)))(i(981)),e.doT_template_playlist=(t=>e=>s(t(e[0].data)))(i(744)),e.doT_template_playlist_auto=(t=>e=>s(t(e[0].data)))(i(745)),e.doT_template_playlist_base=(t=>e=>s(t(e[0].data)))(i(752)),e["doT_template_plus-kids-popup-annoyer"]=(t=>e=>s(t(e[0].data)))(i(982)),e["doT_template_plus-points"]=(t=>e=>s(t(e[0].data)))(i(983)),e.doT_template_rup=(t=>e=>s(t(e[0].data)))(i(984)),e["doT_template_rup-stations"]=(t=>e=>s(t(e[0].data)))(i(986)),e["doT_template_shelf-cell"]=(t=>e=>s(t(e[0].data)))(i(987)),e["doT_template_shelf-non-music"]=(t=>e=>s(t(e[0].data)))(i(988)),e.doT_template_sidebar=(t=>e=>s(t(e[0].data)))(i(992)),e["doT_template_stream-badge"]=(t=>e=>s(t(e[0].data)))(i(997)),e["doT_template_subscribe-to-user"]=(t=>e=>s(t(e[0].data)))(i(998)),e.doT_template_teaser=(t=>e=>s(t(e[0].data)))(i(557)),e["doT_template_teaser-nonmusic"]=(t=>e=>s(t(e[0].data)))(i(994)),e["doT_template_touch-player"]=(t=>e=>s(t(e[0].data)))(i(999)),e["doT_template_touch-player-advert"]=(t=>e=>s(t(e[0].data)))(i(1e3)),e["doT_template_touch-player-controls"]=(t=>e=>s(t(e[0].data)))(i(1001)),e["doT_template_touch-player-sequence"]=(t=>e=>s(t(e[0].data)))(i(564)),e["doT_template_ugc-loader"]=(t=>e=>s(t(e[0].data)))(i(1002)),e["doT_template_video-list"]=(t=>e=>s(t(e[0].data)))(i(1003)),e["doT_template_video-overlay"]=(t=>e=>s(t(e[0].data)))(i(1004)),e["doT_template_wizard-item"]=(t=>e=>s(t(e[0].data)))(i(581)),e["doT_template_wizard-me"]=(t=>e=>s(t(e[0].data)))(i(1005))},function(t,e,i,n){t.exports=function(t){return'<div class="adfox-creative adfox-creative__'+__escape(t.type)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"adfox-creative",!0))+'"> <div id="adfox_'+__escape(t.id)+'"></div></div>'}},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_;t.exports=(a=i(411),s=i(596),o=i(151),i(599),r=i(601),l=i(604),c=i(379),d=i(318),u=i(607),p=i(293),i(267),h=i(389),_=i(772),function(t){var e="",i=function(t){return"&zwj;"+("explicit"===t.contentWarning?a.render({type:t.type}):"")},n=t.album||t||{},m=t.chartPosition||n.chartPosition;const g=t.listIndex+1;if(t.isPlaceholder)e+=s.render({type:"album",class:"album"});else if("podcast"===n.type){e+='<div class="album '+__escape(_.classes(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"album",!0))+'" data-id="'+__escape(g)+'">'+r.render({album:n})+h.render({album:n,shouldShowBookmateBadge:_.shouldShowBookmateBadge(n)})+' <div class="album__bottom"> ',m&&(e+=' <div class="album__bottom-left album__chart-position typo-main"> <div class="album__chart-position-number">'+m.position+'</div> <div class="d-track__chart-progress '+__escape("d-track__chart-progress_"+m.progress)+'"> </div> </div> '),e+=' <div class="album__bottom-right"> <div class="album__title deco-typo typo-main" title="'+__escape(_.tooltip(t))+'"> '+o.render({href:"/album/"+n.id,content:function(t,e){return' <span class="no-breakable-explicit-title"> <span class="no-breakable-explicit-title__text">'+t.title+"</span>"+(e?i(t):"")+" </span>"}(n,!0),class:"album__caption"})+" </div> ";var f=t.description||n.shortDescription;e+=" ",f&&(e+=' <div class="album__description deco-typo-secondary typo-add deco-text-overlay deco-text-overlay_small" title="'+f+'" > '+f+" </div> "),e+=" ";var y=(n.userNewReleases||[]).length;e+=' <div class="album__podcast-info typo-add ',e+=y?"deco_with-marker":"deco-typo-secondary",e+='"> ',e+=y?" "+__escape(p(n.userNewReleases.length,i18n("album","[feature/new-episodes-counter]%s новый выпуск|%s новых выпуска|%s новых выпусков")))+" ":" "+d.render({theme:"spin",count:n.likesCount||0,size:"tiny",buttonish:!0,album:n,emptyText:i18n("album","[feature/podcast-subscribers]Подписаться")})+" ",e+=" </div> </div> </div></div>"}else e+='<div class="album '+__escape(_.classes(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"album",!0))+'" data-id="'+__escape(g)+'">',t.hideActions?e+=c.render({type:"album",item:n,theme:"withoutButton"}):e+=r.render({album:n}),t.showAsLink&&(e+='<a href="/album/'+__escape(n.id)+'" class="album__link" ></a>'),e+=h.render({album:n,size:"embigenned"===t.theme&&"Giant",shouldShowBookmateBadge:_.shouldShowBookmateBadge(n)})+' <div class="album__bottom"> ',m&&(e+=' <div class="album__bottom-left album__chart-position typo-main"> '+m.position+" </div> "),e+=' <div class="album__bottom-right"> <div class="album__title deco-typo typo-main" title="'+__escape(_.tooltip(t))+'"> '+o.render({href:"/album/"+n.id,text:n.title,class:"album__caption"})+" "+i(n)+" </div> ","embigenned"===t.theme||t.hideArtist||(e+=" "+function(t){return'<div class="album__artist deco-typo-secondary typo-add" title="'+__escape(t.tooltip)+'">'+l.render({artists:t.artists,style:"muted"})+"</div>"}(_.albumArtists(t))+" "),e+=" ",t.hideDetails||(e+=' <div class="album__year deco-typo-secondary typo-add"> ',_.showYear(t)&&(e+=" ","embigenned"===t.theme&&n.releaseDate?e+=" "+__escape(u(n.releaseDate,"%d %B %Y"))+" ":n.year&&(e+=" "+__escape(n.year)+" "),e+=" "),e+=" ","single"===n.type&&(e+=" ",!t.hideYear&&n.year&&(e+=" "+Mu.render("separator")+" "),e+=' <span class="album__type"> '+i18n("album","сингл")+" </span> "),e+=" ",n.version&&(e+=" ",(!t.hideYear&&n.year||"single"===n.type)&&(e+=" "+Mu.render("separator")+" "),e+=' <span class="album__version"> '+__escape(n.version)+" </span> "),e+=" </div> "),e+=" </div> </div></div>";return e})},function(t,e,i,n){var a=i(69);t.exports={classes:function(t){var e=[];return t.theme&&e.push("album_theme_"+t.theme),!t.notSelectable&&e.push("album_selectable"),t.album&&"podcast"===t.album.type&&e.push("album_podcast"),t.album&&"audiobook"===t.album.type&&e.push("album_audiobook"),t.class&&e.push(t.class),e.join(" ")},duplicates:function(t){var e=t.duplicates&&a(t.duplicates.length,i18n("album"," + ещё %s альбом| + ещё %s альбома| + ещё %s альбомов|"));return e?" "+e:""},tooltip:function(t){var e=this.duplicates(t),i=t.album||t||{};return i.version?i.title+" ("+i.version+")"+e:i.title+e},getArtists:function(t){return(t.artists||[]).reduce((function(t,e){return e.composer||e.various||t.push(e),t}),[])},getArtistsWithVarious:function(t){return(t.artists||[]).reduce((function(t,e){return e.composer||t.push(e),t}),[])},artistText:function(t){return t.reduce((function(t,e,i){return t+(i?", ":"")+(e=e.data||e).name+(e.decomposed&&e.decomposed.map(t=>t.name||t).join("")||"")}),"")},albumArtists:function(t){var e={},i=t.album||t||{},n=this.getArtists(i),a=this.getArtistsWithVarious(i);return n&&n.length>0?(e.artists=n,e.tooltip=this.artistText(n)):(e.artists=a,e.tooltip=this.artistText(a)),e.noLink=t.noLink,e},showYear:function(t){var e=t.album||t||{};return!t.hideYear&&(e.year||e.releaseDate)},shouldShowBookmateBadge:function(t){const e=Mu&&Mu.authData&&Mu.authData.user;if(!(Mu&&Mu.experiments&&"on"===Mu.experiments.WebBookmateOption&&e))return!1;if(e.hasOptions&&e.hasOptions.includes("bookmate"))return!1;const i=t.availableForPremiumUsers,n=Array.isArray(t.availableForOptions)&&t.availableForOptions.includes("bookmate");return!i&&n}}},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(596),s=i(601),o=i(604),r=i(669),l=i(397),c=i(774),function(t){var e="",i=t.artist||t||{};const n=t.listIndex+1;return t.isPlaceholder?e+=a.render({type:"artist",class:"artist"}):(e+='<div class="artist" data-b="'+__escape(Mu.dotBlockRoot(t,"artist",!0))+'" data-id="'+__escape(n)+'"><div class="artist__content">'+s.render({artist:i})+'<div class="artist__cover">'+l.render(Object.assign({size:"Giant"},t))+"</div>",c.ticketsAvailable(i)&&(e+='<div class="artist__ticket">'+Mu.render("ticket-link",{artist:i})+"</div>"),e+='<div class="artist__name deco-typo typo-main" title="'+__escape(i.name)+'">'+o.render({artists:[i]})+"</div>",i.genres&&i.genres.length&&(e+='<div class="artist__genres deco-typo-secondary typo-add">'+r.render({genres:i.genres})+"</div>"),t.artists&&t.artists.length&&(e+='<div class="artist__artists typo-add deco-typo-secondary"><span class="artist__static-text">'+__escape(t.artistsText)+"</span>"+o.render({artists:t.artists,nolink:!1,style:"muted"})+"</div>"),e+="</div></div>"),e})},function(t,e,i,n){var a=i(352);t.exports={ticketsAvailable:function(t){return t&&t.ticketsAvailable&&"ru"===a()}}},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(776),function(t){var e="",i=function(){var e='<div class="artist-pics__pic-wrapper deco-entity-image-placeholder">';return s.isEmpty(t)?e+='<img src="/blocks/artist-pics/placeholder-artist.svg" class="artist-pics__pic artist-pics__pic_empty" />':e+='<img src="'+__escape(s.imgUrl(t))+'" srcset="'+__escape(s.imgUrl(t))+", "+__escape(s.imgUrl(t,!0))+' 2x" class="artist-pics__pic" />',e+="</div>"}();e+='<div class="artist-pics '+__escape(s.classes(t))+'">';var n=s.yandexPicsUrl(t);if(s.isYandex(t)){e+=a.render({content:i,href:n,target:"_blank",class:"artist-pics__pic-wrapper"});var o="&#169; "+i18n("artist-pics","[feature/mfront-4200]Яндекс Картинки");e+=a.render({content:o,href:n,target:"_blank",style:"muted",class:"artist-pics__desc"})}else e+=i;return e+="</div>"})},function(t,e,i,n){var a=i(72),s={L:40,Giant:200};t.exports={classes:function(t){var e=[];return t.class&&e.push(t.class),e.push("artist-pics_size_"+this.getSize(t)),e.push("artist-pics_type_"+this.getType(t)),e.join(" ")},isEmpty:function(t){return!this.isYandex(t)&&!this.getUri(t)},isYandex:function(t){return t.pics&&t.pics.items&&t.pics.items.length>2},imgUrl:function(t,e){var i,n=s[this.getSize(t)];return e&&(n*=2),i="&n=3&w="+n+"&h="+n+"&q=100",this.isYandex(t)?t.pics.items[0].thumb+i:a(this.getUri(t),n)},getCover:function(t){return t&&t.artist&&t.artist.cover||{}},getUri:function(t){var e=this.getCover(t);return t.ignoreCoverType!==e.type&&e.uri},getSize:function(t){return t.size||"L"},yandexPicsUrl:function(t){return this.isYandex(t)&&"//yandex.ru/images/search"+t.pics.query},getType:function(t){var e=this.getCover(t);return this.isEmpty(t)?"empty":this.isYandex(t)?"yandex":e.type||""}}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(778),a=i(125);return function(i){var s="",o=a()?"audio-advert_touch":"audio-advert_desktop";return s+='<div class="audio-advert audio-advert_hidden audio-advert_expanded deco-pane '+__escape(o)+'" data-b="'+__escape(Mu.dotBlockRoot(i,"audio-advert",!0))+'"><div class="player-controls__btn player-controls__btn_pause audio-advert__button" title="'+__escape(i18n("audio-advert","Играть"))+' [P]">'+e.render({icon:"play"})+'</div><div class="audio-advert__block deco-pane-popup deco-pane-arrow_down deco_shadow">',a()||(s+=t.render({size:"M",icon:"box-with-arrow",rounded:!0,type:"overlay",attrs:{title:i18n("audio-advert","Свернуть")},class:"audio-advert__close"})),s+='<div class="audio-advert__content"></div>',a()||(s+='<span class="audio-advert__disable deco-pane">'+n.render({button:{rounded:!0},class:"audio-advert__no-ads",subtitle:"disableAds",metrika:"audio"})+"</span>"),s+="</div></div>"}}()},function(t,e,i,n){var a={render:i(779)};clientSide&&(a.controller=i(781)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(780),s=i(219),function(t){return"<noindex>"+s.render({from:t.metrika+"Adv",content:a(t),mainTip:"ad"})+"</noindex>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(151),n=i18n("no-ads","Отключить рекламу");return function(i){var a="",s='data-b="'+Mu.dotBlockRoot(i,"d-no-ads",!0)+'"';return i.button?(a+='<span class="d-no-ads '+__escape(i.class)+'" '+__escape(s)+">",i.button.size=i.button.size||"L",i.button.text=i.button.text||n,i.button.class="d-no-ads__button "+(i.button.class||""),i.button.type=i.button.type||"action",a+=t.render(i.button)+"</span>"):a+='<span class="d-no-ads '+__escape(i.class)+'" '+__escape(s)+">"+e.render({text:n,style:"marked"})+"</span>",a}}()},function(t,e,i,n){var a,s;Mu.blocks.register("d-no-ads",((s=function(){}).init=function(t){a=t.get("metrika")},s.prototype.init=function(){this.$cont=$(this.container),this.$cont.on("click",this.onClick.bind(this))},s.prototype.onClick=function(t){t.preventDefault();var e=this.data.metrika;e&&a.count({advDisable:e})},s))},function(t,e,i,n){t.exports=function(t){var e="";const i="black"===Mu.settings.theme?"black":"white";return e+='<div class="audio-animation" data-b="'+__escape(Mu.dotBlockRoot(t,"audio-animation",!0))+'"><div class="audio-animation__fallback" poster="/blocks/audio-animation/i/fallback-'+__escape(i)+'.jpeg"><video autoplay muted loop disablePictureInPicture webkit-playsinline playsinline pip="false"> <source src="/blocks/audio-animation/i/fallback-'+__escape(i)+'.mp4" type="video/mp4"> </video> <div class="audio-animation__fallback-fade"> <div class="audio-animation__fallback-fade-left"></div> <div class="audio-animation__fallback-fade-right"></div> </div></div><div class="audio-animation__fade audio-animation__fade-top"></div><div class="audio-animation__fade audio-animation__fade-bottom"></div></div>'}},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(784),s=i(785),o=i(793),r=i(402),function(t){var e="",i=a.preparePlaylists(t),n=function(t,e){var i='<div class="auto-playlists__item auto-playlists__item_'+t.data.type;return t.data.ready||t.ready||(i+=" auto-playlists__item_not-ready"),i+='"data-card="auto-'+__escape(t.data.idForFrom)+'">'+s.render({playlist:t.data,showDescription:!0,hideDescriptionLinksStyle:!0,auto:{notification:t.notify||t.data.notify,position:e&&!t.vertical?"horizontal":"",type:t.type}}),t.data.ready||t.ready||(i+='<div class="auto-playlists__item-hover local-theme-black" style="'+__escape(t.data.dummyRolloverCover?"background-image: url("+r(t.data.dummyRolloverCover.uri,200)+")":"")+'" ><div class="auto-playlists__item-hover-content"><div class="auto-playlists__placeholder-text auto-playlists__placeholder-desc typo-small">'+t.data.placeholder.description+"</div></div></div>"),i+="</div>"},l={render:n},c=i.length<=2;if(e+='<div class="auto-playlists" data-b="'+__escape(Mu.dotBlockRoot(t,"auto-playlists",!0))+'"><div class="auto-playlists__container',c||(e+=" auto-playlists__container_scrollable"),e+='">',c)for(var d=0;d<i.length;d++)e+=n(i[d],!0);else e+=o.render({items:i,itemTemplate:l,addClass:"page-main__slider",endless:!0,step:1,theme:"rounded-buttons"});return e+="</div></div>"})},function(t,e,i,n){var a=/(?=[A-Z])/g;t.exports={preparePlaylists:function(t){return t.forEach((function(t){!function(t){if(t.data.data)Object.assign(t.data,t.data.data)}(t),t.data.ready||t.ready||(t.data.cover=t.data.dummyCover,t.data.placeholder={title:i18n("page-feed","Скоро"),description:t.data.dummyDescription||""})})),t.forEach((function(t){t.data.idForFrom=t.data.idForFrom||(t.type?t.type.split(a).map((function(t){return t.toLowerCase()})).join("_"):"")})),t}}},function(t,e,i,n){var a={render:i(786)};clientSide&&(a.controller=i(792)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(596),e=i(143),n=i(787),a=i(791),s=i(789);return function(i){var o="",r=s.playlist(i);return i.isPlaceholder?o+=t.render({type:s.placeholderType(i),class:s.placeholderClasses(i)}):-1===r.kind?o+='<div class="playlist playlist_type_new deco-pane-secondary">'+e.render({type:"flat",icon:"plus-thin"})+"</div>":i.auto||r.generatedPlaylistType?o+=n(i):i.drag?o+='<div class="playlist playlist_drag">'+Mu.render("playlist-cover",s.playlist(i),"playlist__cover",200,!0)+"</div>":o+=a(i),o}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(788),s=i(790),o=i(789),function(t){return'<div class="playlist '+__escape(o.classes(t))+' playlist_auto-playlist" data-b="'+__escape(Mu.dotBlockRoot(t,"playlist",!0))+'">'+s(t)+'<div class="auto-playlist__data">'+a(Object.assign(t,{isAutoPlaylist:!0}))+"</div></div>"})},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(747),o=i(789),function(t){var e="",i=o.playlist(t),n=function(){var e=""+__escape(i.title);return o.showNotification(t)&&(e+=s.render({canBeShown:!0})),(i.owner||i.dummyCover)&&(e+=a.render({text:"",href:o.playlistUrl(t),class:"playlist__title-cover"})),e}();return e+='<div class="playlist__texts deco-text-overlay deco-text-overlay_small"><div class="playlist__title deco-typo typo-main" title="'+__escape(i.title)+'">'+a.render({content:n,class:"playlist__title-link"})+"</div>",t.isAutoPlaylist&&i.previewDescription?(e+='<div class="playlist__description deco-typo-secondary typo-add',t.hideDescriptionLinksStyle&&(e+=" playlist__description_hidden-links"),e+='">'+i.previewDescription+"</div>"):t.showDescription&&i.descriptionFormatted&&(e+='<div class="playlist__description deco-typo-secondary typo-add',t.hideDescriptionLinksStyle&&(e+=" playlist__description_hidden-links"),e+='">'+i.descriptionFormatted+"</div>"),e+="</div>"})},function(t,e,i,n){t.exports={classes:function(t){var e=[];return!t.notSelectable&&e.push("playlist_selectable"),t.showDescription&&e.push("playlist_description"),t.auto&&e.push("auto-playlist__description"),t.auto&&t.auto.position&&e.push("auto-playlist__description_"+t.auto.position),e.join(" ")},placeholderType:function(t){return t.showDescription?"playlist-description":"playlist"},playlist:function(t){return t.playlist||t||{}},playlistUrl:function(t){var e=this.playlist(t);return e.owner?"/users/"+(e.owner||{}).login+"/playlists/"+e.kind:t.auto?"/playlist/"+e.urlPart:""},placeholderClasses:function(t){var e=["playlist"];return t.showDescription&&e.push("playlist_description"),e.join(" ")},showNotification:function(t){return t.auto&&t.auto.notification&&!["playlistOfTheDay","yearTop2019"].includes(t.auto.type)},playerEntity:function(t){return Object.assign({},t.playlist,t.auto)}}},function(t,e,i,n){var a,s,o;t.exports=(a=i(601),s=i(381),o=i(789),function(t){var e="",i=o.playlist(t),n=!t.playlist.type||t.playlist.ready;return e+='<div class="auto-playlist__cover">',t.hideActions?e+=s.render({type:"playlist",item:o.playerEntity(t),theme:"withoutButton"}):n&&(e+=a.render({playlist:o.playerEntity(t)})),e+=Mu.render("playlist-cover",i,"playlist__cover",200,!0)+"</div>"})},function(t,e,i,n){t.exports=function(){i(151);var t=i(599),e=i(601),n=i(318),a=i(381),s=(i(293),i(788)),o=i(789);return function(i){var r="",l=o.playlist(i);const c=i.listIndex+1;return r+='<div class="playlist '+__escape(o.classes(i))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"playlist",!0))+'" data-id="'+__escape(c)+'"> ',i.hideActions?r+=" "+a.render({type:"playlist",item:l,theme:"withoutButton"})+" ":r+=" "+e.render({playlist:l})+" ",r+=" "+Mu.render("playlist-cover",l,"playlist__cover",200,!0)+" "+s(i)+' <div class="playlist__info deco-typo-secondary typo-add"> ',i.showStamp&&l.madeFor?r+=" "+t.render({title:i18n("playlist","Обновлён"),date:l.modified,preposition:!0,class:"auto-playlist__stamp deco-typo-secondary typo-add"})+" ":(r+=" ",3!==l.kind&&(r+=" "+n.render({theme:"spin",count:l.likesCount||0,size:"tiny",buttonish:!0,playlist:l,emptyText:i18n("playlist","Нравится")})+" "),r+=" "),r+=" </div></div>"}}()},function(t,e,i,n){var a,s,o;Mu.blocks.register("playlist",((o=function(){}).init=function(t){a=t.get("sidebars"),s=t.get("froms"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);0===$(t.target).closest("a").length&&e&&e.onClick(t)}))},o.prototype.init=function(){this.$cont=$(this.container),this.$info=this.$cont.find(".playlist__info"),this.$counter=this.$cont.find(".auto-playlist__counter"),this.$cover=this.$cont.find(".auto-playlist__cover"),this.auto=this.data.auto,Mu.blocks.forElem(this.$cont.closest(".d-slider").get(0)),this.delegate("button-play.click",this.updateAutoPlaylistCounter)},o.prototype.onClick=function(){this.triggerEvent({type:"playlist.click"})},o.prototype.setSelected=function(t){$(this.container).toggleClass("playlist_selected",t)},o.prototype.openSidebar=function(){var t={},e=this.playlist();if(e.owner){t.from=s.getCardFrom(this.container,"playlist"),t.owner=e.owner.login,t.kind=e.kind;var i=this.closestParent("event");i&&(t.eventId=i.data.id),a.show("playlist",t)}},o.prototype.hasNotification=function(){return this.auto&&this.auto.notification},o.prototype.playlist=function(){return this.data.playlist||this.data},o.prototype.prepareUpdatedData=function(t){var e=$.extend(!0,{},this.data),i=e.playlist.playCounter;return i.value=t.playCounter.value+1,i.description=t.playCounter.descriptionNext||t.playCounter.description,e},o.prototype.updateAutoPlaylistCounter=function(){var t=this.playlist();if("playlistOfTheDay"===t.generatedPlaylistType&&t.playCounter&&!t.playCounter.updated){var e=this.prepareUpdatedData(t).playlist,i=Mu.render("playlist-cover__counter",e);this.$counter.html(i),Mu.blocks.get("playlist-cover").initTooltip(this.$counter,e)}},o))},function(t,e,i,n){var a={render:i(762)};clientSide&&(a.controller=i(194)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(795),s=i(799),o=i(814),r=i(835),l=i(822),c=i(842),d=i(125),u=i(843),p=i(263),function(t){var e='<div class="bar';return d()&&(e+=" bar_touch"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"bar",!0))+'">',d()?e+='<div class="bar__content deco-pane-back">'+o.render()+a.render()+"</div>":(e+='<div class="bar__content">'+l.render()+r.render()+a.render()+c.render({class:"volume_bottom"}),p.canShowBarBranding()&&(e+=u({brandingLink:p.getBrandingLink(),brandingType:p.getType()})),e+="</div>"+s.render(t)),e+="</div>"})},function(t,e,i,n){var a={render:i(796)};clientSide&&(a.controller=i(797)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(778),a=i(125);return function(i){var s="",o=a()?"audio-advert_touch":"audio-advert_desktop";return s+='<div class="audio-advert audio-advert_hidden audio-advert_expanded deco-pane '+__escape(o)+'" data-b="'+__escape(Mu.dotBlockRoot(i,"audio-advert",!0))+'"><div class="player-controls__btn player-controls__btn_pause audio-advert__button" title="'+__escape(i18n("audio-advert","Играть"))+' [P]">'+e.render({icon:"play"})+'</div><div class="audio-advert__block deco-pane-popup deco-pane-arrow_down deco_shadow">',a()||(s+=t.render({size:"M",icon:"box-with-arrow",rounded:!0,type:"overlay",attrs:{title:i18n("audio-advert","Свернуть")},class:"audio-advert__close"})),s+='<div class="audio-advert__content"></div>',a()||(s+='<span class="audio-advert__disable deco-pane">'+n.render({button:{rounded:!0},class:"audio-advert__no-ads",subtitle:"disableAds",metrika:"audio"})+"</span>"),s+="</div></div>"}}()},function(t,e,i,n){var a,s,o,r,l,c=i(798);Mu.blocks.register("audio-advert",((l=function(){this.collapsed=!0,this.shown=!1}).init=function(t){a=t.get("player"),s=t.get("adapter"),o=t.get("metrika"),r=t.get("blocks").get("payment-popup-controller")},l.prototype.init=function(){a.allowVideoAdvert(this.videoAdvertPopup.bind(this)),this.$cont=$(this.container),this.$popup=this.$cont.find(".audio-advert__block"),this.$wrapper=this.$cont.find(".audio-advert__content"),this.$pause=this.$cont.find(".audio-advert__button"),this.$close=this.$cont.find(".audio-advert__close"),this.$body=$("body"),this.$bar=$(".bar"),s.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onStart.bind(this)),s.on(Mu.Adapter.EVENT_HIDE_ADVERT,this.onStop.bind(this)),s.on(Mu.Adapter.EVENT_EMPTY_ADVERT,this.onEnd.bind(this)),s.on(Mu.Adapter.EVENT_TOGGLE_PAUSE,this.onState.bind(this)),r.on("show",this.onPaymentShow.bind(this)),$(window).on("resize",this.onWindowResize.bind(this)),this.$wrapper.on("click","a",this.onClick.bind(this)),this.$close.on("click",this.onClose.bind(this)),this.$pause.on("click",this.togglePause.bind(this))},l.prototype.videoAdvertPopup=function(t){return t.video=!0,this.onStart(t),this.$wrapper.find(".audio-advert__video")[0]},l.prototype.onStart=function(t){this.$wrapper.html(c(t)),this.$videoWrap=this.$wrapper.find(".audio-advert__video-wrap"),this.$videoWrap.find(".audio-advert__expand").on("click",this.onExpand.bind(this)),this.collapsed=!(t.image||t.video),this.temporaryCollapsed=!1,this.shown=!0,this.data=t,this.$cont.toggleClass("audio-advert_media",!this.collapsed),this.toggleCollapsed(this.collapsed),this.onWindowResize(),this.$cont.removeClass("audio-advert_hidden")},l.prototype.onEnd=function(){this.$wrapper.empty()},l.prototype.onStop=function(){this.$cont.addClass("audio-advert_hidden"),this.$bar.removeClass("audio-advert_on"),this.shown=!1},l.prototype.onWindowResize=function(){this.collapsed||(this.$body.height()<550?this.temporaryCollapsed||(this.toggleCollapsed(!0),this.temporaryCollapsed=!0):this.temporaryCollapsed&&(this.toggleCollapsed(!1),this.temporaryCollapsed=!1))},l.prototype.onPaymentShow=function(){this.collapsed||this.onClose()},l.prototype.toggleCollapsed=function(t){this.$cont.toggleClass("audio-advert_collapsed",t),this.$cont.toggleClass("audio-advert_expanded",!t);var e=this.data&&(this.data.description||this.data.clickThroughUrl),i=t&&!e?i18n("audio-advert","[feature/fix-desktop-audio-advert]Не хочу так"):i18n("no-ads","Отключить рекламу");this.$cont.find(".d-no-ads__button .d-button__label").text(i),this.$popup.toggleClass("deco_shadow",!t),this.$popup.toggleClass("deco-pane-popup",!t),this.$popup.toggleClass("deco-pane",t),this.$videoWrap.toggleClass("deco_shadow",t)},l.prototype.onClose=function(){try{o.goal("ADV_POPUP",{"Аудио реклама":{"Закрытие попапа":s._buildAdvMetric(s.advertInfo.type,s.advertInfo.tag,s.advertInfo.data)}})}catch(t){}this.collapsed=!0,this.toggleCollapsed(this.collapsed)},l.prototype.onExpand=function(t){t.preventDefault(),t.stopPropagation();try{o.goal("ADV_POPUP",{"Аудио реклама":{"Переоткрытие попапа":s._buildAdvMetric(s.advertInfo.type,s.advertInfo.tag,s.advertInfo.data)}})}catch(t){}this.collapsed=!1,this.toggleCollapsed(this.collapsed)},l.prototype.onCanSkip=function(){this.$skip.addClass("audio-advert__skip_show")},l.prototype.onSkip=function(){},l.prototype.onClick=function(){s.advertClick()},l.prototype.onState=function(){this.$pause.attr("title",(s.isPlaying()?i18n("audio-advert","Пауза"):i18n("audio-advert","Играть"))+" [P]"),this.$pause.toggleClass("player-controls__btn_play",!s.isPlaying()),this.$pause.toggleClass("player-controls__btn_pause",s.isPlaying())},l.prototype.togglePause=function(){s.togglePause()},l))},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(125);return function(i){var n="";return i.video?(n+='<div class="audio-advert__video-wrap deco-pane-popup deco-pane-arrow_down">',e()||(n+=t.render({size:"M",icon:"box-with-arrow",iconRotation:"upside-down",rounded:!0,type:"overlay",attrs:{title:i18n("audio-advert","Развернуть")},class:"audio-advert__expand"})),n+='<div class="audio-advert__video"><video></video></div></div>'):i.image&&(n+='<div class="audio-advert__image"><img src="'+__escape(i.image)+'" alt="'+__escape(i.description)+'" title="'+__escape(i18n("audio-advert","Реклама"))+'" /></div>'),n+='<div class="audio-advert__captions deco-pane"><span class="audio-advert__title typo-default">'+__escape(i18n("audio-advert","[feature/preroll-news]Воспроизведение начнется сразу после рекламы"))+"</span>",i.clickThroughUrl?n+='<a class="audio-advert__description typo-link" href="'+__escape(i.clickThroughUrl)+'" rel="noopener" target="_blank">'+__escape(i18n("audio-advert","[feature/touch-player-advert]Узнать больше"))+"</a>":n+='<span class="audio-advert__description">'+__escape(i18n("audio-advert","[feature/fix-desktop-audio-advert]Сейчас вы слушаете музыку вперемешку с рекламой"))+"</span>",n+="</div>"}}()},function(t,e,i,n){var a={render:i(800)};clientSide&&(a.controller=i(801)),t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="bar-below bar-below_empty" data-b="'+__escape(Mu.dotBlockRoot(t,"bar-below"))+'"></div>'}},function(t,e,i,n){var a=i(802),s=i(812);const o=i(267),r=i(813),l=i(458);Mu.blocks.register("bar-below",function(){let t,e,i,n,c;var d=function(){Mu.eventize(this)};return d.init=function(a){t=a.get("auth"),e=a.get("adapter"),i=a.get("dataSrc"),n=a.get("metrika"),c=a.get("pages")},d.prototype.init=function(){this.$body=$("body"),this.$cont=$(this.container),this.$cont.on("click",".bar-below__close-control",this.hide.bind(this)),this.$cont.on("click",".bar-below-configurable__button.bar-below__close-control",()=>{$.cookie("closeBarBelow",1,{path:"/",expires:15})}),this.$cont.on("click",".bar-below__auth:not(.bar-below__auth_new) .bar-below__log-in",this.logIn.bind(this)),this.plusStyle(),this.unavaliableStyle(),e.on(Mu.Adapter.CRACKDOWN_PAUSE,this.showCrackdown.bind(this)),this.barBelowConfig=t.user.barBelow,this.reloadAccountStatus=this._reloadAccountStatus.bind(this)},d.prototype.destroy=function(){this.unsubscribeToAccountStatusChanges()},d.prototype.show=function(){var e=!1;this.data=this.getData();const i=t.user&&t.user.MBError;if(this.data&&!i){var s=$(a(this.data));if(s.size()){if(this.data.configurable){Mu.blocks.forElem(s.find(".bar-below-configurable")[0],"bar-below-configurable").on("close",()=>this.hide())}this.$cont.html(s),this.$content=s,Mu.blocks.initPendingBlocks(s),this.$cont.removeClass("bar-below_empty"),this.$body.addClass("body_bar-tall"),this.plusStyle(),this.unavaliableStyle(),this.$cont.removeClass("bar-below_process"),this.trigger("show",this),e=!0,!this.data.subscription||c.current&&c.current.noPlayer||n.count({"Показ предложения подписки":{from:"underPlayer"}},"Оплата подписки")}}else this.hide();return e},d.prototype.hide=function(){this.$cont.addClass("bar-below_empty"),this.$body.removeClass("body_bar-tall"),this.trigger("hide",this),this.unsubscribeToAccountStatusChanges()},d.prototype.isOpen=function(){return!this.$cont.hasClass("bar-below_empty")},d.prototype.getData=function(){const e=o().WebRedAlert;if("testClosing"===o().webBarBelowRubilnik&&!$.cookie("closeBarBelow"))return{configurable:!0,config:r.configForTest};if(t.isLoggedIn()&&!Mu.settings.uatraits.isMobile&&!Mu.settings.uatraits.isTablet){if("on"===e&&Mu.redAlerts&&Mu.redAlerts.musicAlert)return{redAlert:!0,config:Mu.redAlerts.musicAlert};if("testRed"===e)return{redAlert:!0,config:{texts:{"bar-text":"Мы не смогли произвести платёж с вашей карты. Обновите данные вашей карты или пополните баланс, иначе подписка Яндекс Плюс перестанет работать","bar-button-text":"Сменить карту"},clickUrl:"https://plus.yandex.ru/ "}}}return l.canUseMusicInRegion()||sessionStorage&&sessionStorage.getItem("emailStorage")?t.isLoggedIn()?this.crackdown&&!t.user.isPremium?{crackdown:!0}:this.barBelowConfig&&s.isFeatureAllowed()&&!$.cookie("closeBarBelow")?(this.subscribeToAccountStatusChanges(),{configurable:!0,config:s.getBarBelowConfig(this.barBelowConfig)}):t.user.isPremium||Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTablet?null:{subscription:!0}:{auth:!0}:{unavaliable:!0}},d.prototype.plusStyle=function(){this.$cont.toggleClass("bar-below_plus",!0)},d.prototype.unavaliableStyle=function(){var t=!(l.canUseMusicInRegion()||sessionStorage&&sessionStorage.getItem("emailStorage"));this.$cont.toggleClass("bar-below_unavaliable",t),this.$body.find(".bar").toggleClass("bar_unavaliable",t)},d.prototype.logIn=function(){t.showAuthForm(this.show.bind(this),"underPlayer")},d.prototype.showCrackdown=function(t){"muted"!==t&&(this.crackdown=!0,this.show())},d.prototype._reloadAccountStatus=function(){i.get("account-status",{},{nocache:!0}).then(t=>{const e=t.barBelow;return(null!=this.barBelowConfig&&null==e||null==this.barBelowConfig&&null!=e||null!=e&&this.barBelowConfig.alertType!==e.alertType)&&(this.barBelowConfig=e,this.show()),null}).catch((function(){}))},d.prototype.subscribeToAccountStatusChanges=function(){this.hasSubscribed||(window.addEventListener("focus",this.reloadAccountStatus),this.hasSubscribed=!0)},d.prototype.unsubscribeToAccountStatusChanges=function(){window.removeEventListener("focus",this.reloadAccountStatus),this.hasSubscribed=!1},d}())},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(a=i(141),s=i(803),o=i(804),r=i(805),l=i(806),c=i(808),d=i(809),u=i(811),function(t){var e='<div class="bar-below__content">';return t.withClose&&(e+='<div class="bar-below__close">'+a.render({icon:"cross-small"})+"</div>"),t.auth?e+=o(t):t.redAlert&&t.config&&t.config.texts&&t.config.texts["bar-text"]&&t.config.texts["bar-button-text"]?e+=c(t):t.subscription||t.crackdown?e+=s(t):t.unavaliable?e+=r(t):t.subscriptionEnding?e+=l(t):t.configurable&&u.canShowBar&&(e+=d.render(t)),e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(219),e=i(143);i(267),i(458);return function(i){var n="",a=""+e.render({text:i18n("bar-below","Оформить подписку"),rounded:!0,type:"default",class:"bar-below__subscription-button local-theme-white d-button_type_borderless"});return n+='<div class="bar-below__subscription"><div class="bar-below__subscription-description">'+__escape(i18n("bar-below","Слушайте музыку в высоком качестве и без рекламы"))+"</div>"+t.render({from:"underPlayer",content:a})+'</div><div class="bar-below__bg"></div><div class="bar-below__rainbow"></div>'}}()},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="bar-below__auth"><div class="bar-below__auth-image"></div><div class="bar-below__auth-text local-theme-white typo">'+i18n("bar-below","Зарегистрируйтесь и получите единую<br />коллекцию музыки на всех устройствах.")+'</div><div class="bar-below__auth-actions">'+t.render({class:"bar-below__action bar-below__log-in",text:i18n("bar-below","[feature/mfront-3861]Войти"),type:"action",rounded:!0})+"</div></div>"}}()},function(t,e,i,n){t.exports=function(t){return'<div class="bar-below__unavaliable"><div class="bar-below__unavaliable-description">'+i18n("bar-below","[feature/mfront-3990-1]К сожалению, Яндекс&nbsp;Музыка пока не играет в вашей стране")+"</div></div>"}},function(t,e,i,n){var a;t.exports=(a=i(807),function(t){var e="",i=a.getSubscriptionEndingData(t.type);return i&&(e+='<div class="bar-below__subscription-ending bar-below__subscription-ending_'+__escape(t.type)+'"><div class="bar-below__subscription-description">'+__escape(i.description)+"</div>"+dButton.render(i.button)+"</div>"),e})},function(t,e,i,n){const a=i(73);t.exports={getSubscriptionEndingData:function(t){return{underPlayer5db:{from:"underPlayer5db",description:i18n("bar-below","[feature/bb-styl]Музыка без ограничений и другие преимущества вот-вот закончатся"),button:{text:i18n("bar-below","[feature/bb-styl]Проверить подписку"),link:`https://plus.yandex.${a().tld}/?from=underPlayer5db`}},underPlayer14da:{from:"underPlayer14da",description:i18n("bar-below","[feature/bb-styl]Снизили цену на подписку специально для вас"),button:{text:i18n("bar-below","Подробнее"),link:"/pay?campaign=upsale99&from=underPlayer14da"}}}[t]||""}}},function(t,e,i,n){t.exports=function(){i(151),i(143);return function(t){var e="";const i=t.config&&t.config.texts&&t.config.texts["bar-text"],n=t.config&&t.config.texts&&t.config.texts["bar-button-text"];return e+='<div class="bar-below__red-alert"><div class="bar-below__red-alert_description">'+i+'</div><a href="'+__escape(t.config.clickUrl||"")+'" class="bar-below__red-alert_link">'+n+'</a></div><div class="bar-below__bg"></div><div class="bar-below__red"></div>'}}()},function(t,e,i,n){var a={render:i(810)};clientSide&&(a.controller=i(812)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(811),function(t){var e="",i=a.getConfigurableData(t.config);return i&&(e+='<div class="bar-below-configurable'+__escape(t.isTouch?" bar-below-configurable_touch":"")+'" style="'+__escape(i.barStyle)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"bar-below-configurable"))+'"><div class="bar-below-configurable__description" style="'+__escape(i.textStyle)+'">'+__escape(i.text)+"</div>",i.link?e+='<a href="'+__escape(i.link)+'" target="_blank" class="bar-below-configurable__button bar-below__button__action" style="'+__escape(i.buttonStyle)+'">'+__escape(i.buttonText)+"</a>":e+='<span class="bar-below-configurable__button bar-below__close-control bar-below__button__action" style="'+__escape(i.buttonStyle)+'">'+__escape(i.buttonText)+"</span>",i.closeButton&&(e+=' <span class="bar-below-configurable__button bar-below-configurable__button_default bar-below__close-control bar-below__button__action"> Закрыть </span> '),e+="</div>"),e})},function(t,e,i,n){t.exports={getConfigurableData:function(t){if(null==t)return null;const e=t.button||{};let i=t.button.uri||t.button.url;return null!=i&&i.length>0&&(i+=i.includes("?")?"&":"?",i+=t.from?"from="+t.from:""),{barStyle:`background: ${t.bgColor};`,textStyle:`color: ${t.textColor};`,text:t.text,link:i,buttonStyle:`background: ${e.bgColor};color: ${e.textColor};`,buttonText:e.text,closeButton:t.closeButton}},canShowBar:function(){return!$.cookie("closeBarBelow")}}},function(t,e,i,n){const a=i(267);class s{init(t){Mu.eventize(this),this.Auth=t.get("auth"),this.Metrika=t.get("metrika"),this.data=s.getBarBelowConfig(this.Auth.user.barBelow),null!=this.data.from&&(this.Metrika.count({BarBelow:{Shown:{type:this.data.from}}}),$(this.container).find(".bar-below__button__action").on("click",()=>this.Metrika.count({BarBelow:{ButtonClicked:{type:this.data.from}}}))),$(this.container).find(".bar-below__close-control").on("click",()=>this.trigger("close"))}destruct(){$(this.container).find(".bar-below__button__action").off("click"),$(this.container).find(".bar-below__close-control").off("click")}static getBarBelowConfig(t){return null!=t?Object.assign({},t,{from:t.alertType||"BarBelow-default"}):null}static isFeatureAllowed(){return"on"===a().webBarBelowRubilnik}}Mu.blocks.register("bar-below-configurable",s),t.exports=s},function(t,e,i,n){t.exports={configForTest:{text:"Подписка закончится через три дня. Вместе с ней закончатся музыка и подкасты без ограничений",bgColor:"#FF5038",textColor:"#FFFFFF",button:{text:"Оформить подписку",bgColor:"#FFFFFF",textColor:"#191919",url:"https://ya.ru/"},closeButton:!0}}},function(t,e,i,n){var a={render:i(815)};clientSide&&(a.controller=i(829)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(816),s=i(822),function(t){return'<div class="touch-player" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player",!0))+'"><div class="touch-player__header deco-pane_border-top deco-pane_border-bottom"></div><div class="touch-player__container deco-pane_border-bottom">'+a.render()+s.render()+'</div><div class="touch-player__below"><div class="touch-player__bar-below"></div><div class="touch-player__sequence-placeholder"></div></div></div>'})},function(t,e,i,n){var a={render:i(817)};clientSide&&(a.controller=i(820)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(818),function(t){return'<div class="touch-player-controls player-controls player-controls_empty" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-controls",!0))+'"><div class="player-controls__track-container"><div class="player-controls__btn_seq"></div></div><div class="player-controls__shot player-controls__btn_hidden typo deco-typo"></div>'+a.render()+'<div class="player-controls__controls-container"><div class="player-controls__btn player-controls__btn_repeat"><div class="d-icon d-icon_repeat"></div></div><div class="player-controls__btns"><div class="player-controls__btn player-controls__btn_prev"><div class="d-icon d-icon_track-prev"></div></div><div class="player-controls__btn player-controls__btn_play"><div class="d-icon d-icon_play"></div></div><div class="player-controls__btn player-controls__btn_next"><div class="d-icon d-icon_track-next"></div></div></div><div class="player-controls__btn player-controls__btn_seq"><div class="d-icon d-icon_playlist-next"></div></div><div class="player-controls__btn player-controls__btn_shuffle"><div class="d-icon d-icon_shuffle"></div></div></div></div>'})},function(t,e,i,n){var a={render:i(819)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(778),function(t){return'<div class="touch-player-advert hidden" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-advert",!0))+'"><div class="touch-player-advert__message"><div class="touch-player-advert__title typo-default">'+__escape(i18n("touch-player-advert","[feature/touch-player-advert]Реклама"))+'</div><div class="touch-player-advert__desc typo-default">'+__escape(i18n("touch-player-advert","[feature/touch-player-advert]Сейчас вы слушаете музыку вперемешку с рекламой"))+"</div></div>"+a.render({button:{rounded:!0,text:i18n("touch-player-advert","[feature/touch-player-advert]Не хочу так"),size:"L"},class:"audio-advert__no-ads",subtitle:"disableAds",metrika:"audio"})+"</div>"})},function(t,e,i,n){Mu.blocks.register("touch-player-controls",function(){var t,e,n,a,s="player-controls__btn_disabled",o=i(821),r=function(){};return r.init=function(i){t=ya.music.Player.repeatTypes,e=i.get("seq"),n=i.get("auth"),a=i.get("metrika")},r.prototype.init=function(){this.disableHiglight=!0,this.$cont=$(this.container),this.$body=$(document.body),["play","prev","next","shuffle","repeat","seq"].forEach(function(t){this["$"+t]=this.$cont.find(".player-controls__btn_"+t)}.bind(this)),this.$shuffleIcon=this.$shuffle.find(".d-icon"),this.$repeatIcon=this.$repeat.find(".d-icon"),this.$seqControls=this.$cont.find(".player-controls__seq-controls"),this.$trackContainer=this.$cont.find(".player-controls__track-container"),this.$shot=this.$cont.find(".player-controls__shot"),this.$trackControls=this.$cont.find(".player-controls__track-controls"),this.$play.on("click",this.onPlayClick.bind(this)),this.$prev.on("click",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("click",this.onPrevNextUpDown.bind(this,1)),this.$shuffle.on("click",this.toggleShuffle.bind(this)),this.$repeat.on("click",this.toggleRepeat.bind(this)),this.$prev.on("mousedown",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("mousedown",this.onPrevNextUpDown.bind(this,1)),this.$prev.on("mouseout",this.onPrevNextUpDown.bind(this,0)),this.$next.on("mouseout",this.onPrevNextUpDown.bind(this,0));var t=this.onStateChange.bind(this);e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t),e.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,t),e.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,t),e.on(Mu.PlayFlow.EVENT_SHOW_SHOT,t),e.on(Mu.PlayFlow.EVENT_HIDE_SHOT,t);var i=this.onTrackChange.bind(this);e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,i),e.on(Mu.PlayFlow.EVENT_EMPTY,i),e.on(Mu.PlayFlow.EVENT_SOURCE,this.onSourceChange.bind(this)),e.on(Mu.PlayFlow.EVENT_CONTROLS,this.onControlsChange.bind(this)),e.on(Mu.PlayFlow.EVENT_PROGRESS,this.updateBtnPrev.bind(this)),e.onReady(this.onSeqReady.bind(this)),this.setAutoShuffle(),this.onSourceChange(e.getSourceType()),this.onTrackChange()},r.prototype.onSeqReady=function(){e.on(Mu.PlayFlow.EVENT_STATE,this.sendButtonPress.bind(this))},r.prototype.sendButtonPress=function(t){var e="playing"===t,i="paused"===t;!this.lastState&&i||(e||i)&&this.lastState!==t&&(this.lastState=t,a.count({buttonPressed:e?"unpaused":"paused"}))},r.prototype.setAutoShuffle=function(){var t=Mu.blocks.get("app-wall"),i=t&&t.isInteractiveSplashscreenPage&&t.isInteractiveSplashscreenPage(Mu.pages.current||{}),a=e.getShuffle();return a||i||n.isPremium()||(e.toggleShuffle(!0,!0),a=!0),a},r.prototype.toggleShuffle=function(){n.isPremium()&&e.toggleShuffle()},r.prototype.toggleRepeat=function(){this.$repeat.hasClass(s)||e.toggleRepeat()},r.prototype.onPlayClick=function(){a.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play()}catch(t){}e.togglePause()},r.prototype.onStateChange=function(){var t=e.isPlaying(),i=e.getAdvert(),n=e.isEmpty()&&!i;this.$play.toggleClass("player-controls__btn_pause",t&&!n),this.$body.toggleClass("body_show-pause",t&&!i&&!n),this.onControlsChange(e.getControls()),this.$repeat.toggleClass(s,!!i),this.$shuffle.toggleClass(s,!!i)},r.prototype.onSourceChange=function(t){this.$cont.toggleClass("player-controls_radio","radio"===t),this.highlightSeq()},r.prototype.onControlsChange=function(){this.updateBtnPrev(),this.updateBtnNext(),this.toggleShot();var i=this.setAutoShuffle();this.$shuffle.toggleClass("player-controls__btn_on",i),this.$shuffleIcon.toggleClass("d-icon_shuffle",!i).toggleClass("d-icon_shuffle-gold",i);var n=e.getRepeat();this.$repeat.toggleClass("player-controls__btn_on",!!n).toggleClass("player-controls__btn_repeat_state1",n===t.ALL).toggleClass("player-controls__btn_repeat_state2",n===t.ONE),this.$repeatIcon.toggleClass("d-icon_repeat",!n).toggleClass("d-icon_repeat-gold",n===t.ALL).toggleClass("d-icon_repeat-one-gold",n===t.ONE)},r.prototype.toggleShot=function(){var t=e.getShot();this.$shot.toggleClass("player-controls__btn_hidden",!t),t&&this.$shot.text(t.shots[0].shotData.shotType.title)},r.prototype.updateBtnPrev=function(){var t=e.getPrevTrack(),i=e.isPlaying(),a=e.getAdvert(),o=e.isEmpty(),r=!n.isPremium()||o||!!a||!(t&&(!i||e.getPosition(!0)<=5))&&!(i||e.getCurrent()&&e.getPosition(!0)>0);this.$prev.toggleClass(s,r)},r.prototype.canSkip=function(){return this.countSkip()<5},r.prototype.countSkip=function(){if(n.isPremium())return 0;var t=(localStorage.getItem("skipStory")||"").split(","),e=Date.now();return t=t.filter((function(t){return e-t<36e5})),localStorage.setItem("skipStory",t.join(",")),t.length},r.prototype.updateBtnNext=function(){var t=e.getNextTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty()||!!n||!t&&!i,o=!a&&!this.canSkip();a=a||o,this.$next.toggleClass(s,a),this.$next.toggleClass("js-fail-skip",o)},r.prototype.onTrackChange=function(t){this.$cont.toggleClass("player-controls_empty",!t),t||this.$trackContainer.empty(),this.$play.toggleClass(s,e.isEmpty()),this.highlightSeq();var i=t&&t.title?{track:t,album:t.albums&&t.albums[0]}:null;if(this.lastTrack!==t){this.lastTrack=t,this.onStateChange();var n=this;n.animateDelay&&clearTimeout(n.animateDelay),n.animateDelay=setTimeout((function(){if(n.animateDelay=null,i&&n.currentEntry!==i){n.currentEntry=i;var t=o(i),e=n.$trackContainer.find(".player-controls__track");e.length?e.animate({opacity:0},{duration:80,complete:n.initTrack.bind(n,t)}):n.initTrack(t)}}),100)}},r.prototype.initTrack=function(t){var e=$(t);this.$trackContainer.html(e),e.addClass("player-controls__track_shown"),Mu.blocks.forElem(this.$trackContainer.find(".d-like")[0])},r.prototype.onPrevNextUpDown=function(t,i){if("mousedown"===i.type&&$(window).one("mouseup",this.onPrevNextUpDown.bind(this,0)),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),n.isPremium()||!(-1===t||1===t&&this.$next.hasClass(s))){if("mousedown"===i.type){if(!e.canNavigate()||!e.isPlaying()||e.getDuration()<=0)return;var a=this;this.scrollTimeout=setTimeout((function(){a.scrollTimeout=null,a.scrollTimer=setInterval(a.onPrevNextScroll.bind(a,t),15)}),500)}else this.hasScrolled||0===t||(-1===t&&(e.getPosition()>5||!e.getPrevTrack())?e.setPosition(0):e[t>0?"next":"prev"]());if(!n.isPremium()&&1===t){var o=(localStorage.getItem("skipStory")||"").split(",");o.push(Date.now()),localStorage.setItem("skipStory",o.join(","))}t&&(this.hasScrolled=!1)}},r.prototype.onPrevNextScroll=function(t){var i=e.getPosition();i+=.2*t,e.setPosition(i),this.hasScrolled=!0},r.prototype.highlightSeq=function(){var t=this;t.disableHiglight||(t.$seq.addClass("player-controls__btn_pulse"),setTimeout((function(){t.$seq.removeClass("player-controls__btn_pulse")}),600)),t.disableHiglight=!1},r}())},function(t,e,i,n){var a,s;t.exports=(a=i(318),s=function(t){return Mu.render("track_type_player",t)},function(t){return'<div class="player-controls__track"><div class="player-controls__wrapper">'+s(t)+'<div class="player-controls__track-controls">'+a.render({entry:{track:t.track},className:"player-controls__btn",theme:"player"})+"</div></div></div>"})},function(t,e,i,n){var a={render:i(823)};clientSide&&(a.controller=i(827)),t.exports=a},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(141),s=i(156),o=i(73),r=i(824),l=i(826),function(t){var e="",i=(a.render({icon:"cross-small"}),r());return e+='<div class="player-progress progress deco-progress" data-b="'+__escape(Mu.dotBlockRoot(t,"player-progress",!0))+'">',l(i,"transformerType")?e+='<div class="garage garage_left deco-pane-back"></div><div class="garage garage_right deco-pane-back"></div>':"venom"===i&&(e+='<div class="venom__head"></div><div class="venom__half-head"></div>'),e+='<div class="progress__bg"></div><div class="progress__bar progress__progress_muted"><div class="progress__line"></div></div><div class="progress__bar progress__progress"><div class="progress__line"> ',l(i,"transformerType")&&(e+=" ","rocket"===i&&(e+=' <div class="progress__line_static-background"></div> '),e+=" "),e+=' </div><div class="progress__line__branding">',l(i,"transformerType")?("bumblebee"===i&&s.isInCountry(225)&&"ru"===o().lang&&(e+='<div class="bubble bumblebee__bubble bumblebee__bubble_left"></div>'),e+='<div class="moving-slider '+__escape(i)+'"></div><div class="paused-slider '+__escape(i)+'"></div>'):"venom"===i&&(e+='<div class="venom__tongue"></div><div class="venom__tongue-tip"></div>'),e+='<div class="progress__head"></div></div></div><div class="progress__bar progress__text"><div class="progress__left"></div><div class="progress__right"></div></div></div>'})},function(t,e,i,n){const a=i(825),s=i(125);t.exports=function(t){if(s())return;const e=void 0===t||t;if("undefined"!=typeof window)try{const t=Mu.settings.extraPlayersInSettings,i=a()?Mu.settings.adPlayerTypePremium:Mu.settings.adPlayerType,n=Mu.Storage.create("localStorage");let s;const o=Mu.authData.user.uid,r=JSON.parse(n.getItem("playerBrandingType"))||{};if(r[o]&&(s=r[o].type.toLowerCase(),"off"===t[s]&&(s="default")),a()){const t=JSON.parse(n.getItem("premiumBrandingPlayer"))||{};if(!i&&t[o])return delete t[o],n.setItem("premiumBrandingPlayer",JSON.stringify(t)),s;if(i&&"off"===t[o])return s}return e&&i&&["225","225mp"].includes(Mu.settings.regions.working.toString())&&(s=i),s}catch(t){}}},function(t,e,i,n){t.exports=i(259)},function(t,e,i,n){t.exports=function(t,e){return{colorType:[],transformerType:["duck","bumblebee","winter","porsche","rocket"],patternType:["venom"],onlyAdvert:[]}[e].includes(t)}},function(t,e,i,n){var a=i(100),s=i(828),o=i(824);Mu.blocks.register("player-progress",function(){var t,e,i=function(t){var e=$(t);this.dom=t,this.progress=e.find(".progress__line")[0],this.progressLineStaticBackground=e.find(".progress__line_static-background"),this.progressBranding=e.find(".progress__line__branding")[0],this.fillPercent=0,this.cancelNextUpdate=!1};i.prototype.getWidth=function(){return this.dom.offsetWidth},i.prototype.updateFill=function(t){if(this.fillPercent=Math.max(0,Math.min(1,this.fillPercent)),t){if(i.setTransformWithoutAnimation(this.progress,`scaleX(${this.fillPercent})`),null!=this.progressBranding){const t=`translateX(${this.getBrandingTranslatePercent(this.fillPercent)}%)`;i.setTransformWithoutAnimation(this.progressBranding,t)}}else this.cancelNextUpdate||(this.progress.style.transform=`scaleX(${this.fillPercent})`,null!=this.progressBranding&&(this.progressBranding.style.transform=`translateX(${this.getBrandingTranslatePercent(this.fillPercent)}%)`));this.cancelNextUpdate=!1,this.progressLineStaticBackground&&this.progressLineStaticBackground.css({transform:`scaleX(${1/this.fillPercent})`})},i.setTransformWithoutAnimation=function(t,e){t&&($(t).addClass("progress__notransition"),t.style.transform=e,t.offsetHeight,$(t).removeClass("progress__notransition"))},i.prototype.stopAnimation=function(){this.cancelNextUpdate=!0;const t=window.getComputedStyle(this.progress).getPropertyValue("transform");if(i.setTransformWithoutAnimation(this.progress,t),this.progressBranding){const t=window.getComputedStyle(this.progressBranding).getPropertyValue("transform");i.setTransformWithoutAnimation(this.progressBranding,t)}},i.prototype.getBrandingTranslatePercent=function(t){let i;if("venom"!==e)i=100*(t-1);else{const e=this.progressBranding.offsetWidth;i=100*((e-62)*t/e-1)}return i};var n=function(t){var e=$(t);this.$dom=e,this.playProgress=new i(e.find(".progress__progress")[0]),this.loadProgress=new i(e.find(".progress__progress_muted")[0]),this.progressTextContainer=e.find(".progress__text"),this.$left=e.find(".progress__left"),this.$right=e.find(".progress__right"),this.$slash=e.find(".progress__slash"),this.fillPercent=0,this.changing=!1,this.userPos=-1,this.lastPosition=0,this.curr={left:"0:00",right:""},$(window).on("resize",function(){this.playProgress.updateFill(),this.loadProgress.updateFill()}.bind(this)),e.on("mousedown",this.onMouseDown.bind(this)),a()||this.setupTimeTooltip()};return n.EVENT_CLASS=".player-progress",n.EVENT_PROGRESS="progress-user",n.prototype.setupTimeTooltip=function(){this.cursorTooltip=Mu.blocks.get("d-tooltip").getTooltip(this.$dom,{class:"progress-bar-time-tooltip",isSmall:!0,side:"top"}),this.cursorTooltip&&this.$dom.on({mousemove:this.onMouseMove.bind(this),mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)})},n.prototype.init=function(i){var n=this;(t=i.get("seq")).on(Mu.PlayFlow.EVENT_PROGRESS,this.onTimeUpdate.bind(this));var a=this.onSeqChange.bind(this);t.on(Mu.PlayFlow.EVENT_SHOW_TRACK,a),t.on(Mu.PlayFlow.EVENT_EMPTY,a),t.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,this.onPause.bind(this)),t.on(Mu.PlayFlow.EVENT_TRACK_PLAY,(function(){n.$slash.show(),n.changeCursorIfNeeded()})),t.on(Mu.PlayFlow.EVENT_CHANGE,this.checkGenerativeStream.bind(this)),i.get("layout").on("resize",this.calculateOffsetLeft.bind(this)),this.calculateOffsetLeft(),this.onSeqChange(),e=o()},n.prototype.onPause=function(){this.playProgress.stopAnimation()},n.prototype.changeCursorIfNeeded=function(){t.isIdle()?this.$dom.addClass("progress__default__cursor"):this.$dom.removeClass("progress__default__cursor")},n.prototype.shouldStopProgress=function(){return t.isIdle()||t.isEmpty()&&!t.getAdvert()},n.prototype.onSeqChange=function(){this.shouldStopProgress()&&this.stop(),this.changeCursorIfNeeded(),this.checkGenerativeStream()},n.prototype.getPosX=function(t){var e=t.pageX;return a()&&(e-=t.currentTarget.offsetLeft),e},n.prototype.onMouseEnter=function(e){this.shouldStopProgress()||this.isTargetBrandingElement(e)||t.isGenerative()||this.cursorTooltip.show()},n.prototype.onMouseLeave=function(){this.cursorTooltip.hide()},n.prototype.onMouseMove=function(i){if(this.cursorTooltip.isOpen()||(this.onMouseEnter(i),this.cursorTooltip.isOpen()))if(this.cursorTooltip.isOpen()&&this.isTargetBrandingElement(i))this.onMouseLeave();else{var n="venom"===e?62:0,a=this.getPosX(i)-this.offsetLeft,o=this.playProgress.getWidth()-n,r=t.getDuration()*(a-n)/o,l=a-this.cursorTooltip.$cont.outerWidth()/2,c=s(r<0?0:r);this.cursorTooltip.updateContent({content:c}),this.cursorTooltip.$cont.css("left",l)}},n.prototype.isTargetBrandingElement=function(t){var i=this.getPosX(t);if("venom"===e&&i-this.offsetLeft-62<=0)return!0;return["moving-slider","paused-slider","bubble","garage","d-icon_cross-small","venom__head","venom__half-head"].some((function(e){return $(t.target).hasClass(e)}))},n.prototype.onMouseDown=function(e){if(this.calculateOffsetLeft(),!this.isTargetBrandingElement(e)){var i=this;if(t.canNavigate()){i.changing=!0,i.$dom.addClass("progress_drag");var n=this.getPosX(e);Mu.dnd(e,{onMove:function(t){i.onUserPosChange(i.getPosX(t),{move:!0})},onEnd:function(e,n){i.changing=!1,n||(i.updateWindow&&clearTimeout(i.updateWindow.timer),i.updateWindow={left:i.userPos,right:i.userPos>t.getPosition(!0)?t.getDuration(!0):i.userPos+1,timer:setTimeout((function(){i.updateWindow=null}),1e3)},t.setPosition(i.userPos,!0)),i.$dom.removeClass("progress_drag")}}),i.onUserPosChange(n)}}},n.prototype.onUserPosChange=function(i,n={}){var a="venom"===e?62:0,o=this.playProgress;o.fillPercent=(i-this.offsetLeft-a)/(this.playProgress.getWidth()-a),o.fillPercent<0?o.fillPercent=0:o.fillPercent>1&&(o.fillPercent=1);var r=t.getDuration()||0;this.userPos=o.fillPercent*r,this.lastPosition=this.userPos,!n.move&&this.$dom.trigger("progress-user",[this.userPos]);var l=s(this.userPos);l!==this.curr.left&&(this.curr.left=l,this.$left.text(r?l:"")),this.userPos<=0&&(o.fillPercent=0),this.playProgress.updateFill(!0)},n.prototype.onTimeUpdate=function(e){if(!t.getCurrent())return;var i=s(e.duration);this.curr.right=i;const n=e.duration===1/0;if(this.$right.text(e.duration&&!n?i:""),this.progressTextContainer.attr({"data-duration":e.duration}),!this.changing){var a=s(e.position);this.curr.left=a,this.$left.text(e.duration?a:""),e.position&&this.progressTextContainer.attr({"data-played-time":e.position.toFixed(2)});let t=!1;(!this.updateWindow||this.updateWindow.left<=e.position&&e.position<=this.updateWindow.right)&&(this.playProgress.fillPercent=e.duration?e.position/e.duration:0,t=this.lastPosition>=0&&Math.abs(e.position-this.lastPosition)>=1.5,this.lastPosition=e.position),this.loadProgress.fillPercent=e.duration?e.loaded/e.duration:0,this.playProgress.updateFill(t),this.loadProgress.updateFill()}},n.prototype.stop=function(){this.playProgress.fillPercent=0,this.loadProgress.fillPercent=0,this.playProgress.updateFill(!0),this.loadProgress.updateFill(),this.$left.text(""),this.$right.text("")},n.prototype.calculateOffsetLeft=function(){this.offsetLeft=this.$dom.offset().left},n.prototype.checkGenerativeStream=function(){t.isGenerative()&&(this.$dom.toggleClass("progress__default__cursor",t.isGenerative()),this.$left.text(""),this.$right.text(""),(t.isPlaying()||t.isPaused())&&(this.playProgress.cancelNextUpdate=!1,this.playProgress.fillPercent=1,this.playProgress.updateFill(!0)))},n}())},function(t,e,i,n){t.exports=function(t){if(void 0===t)return"";t=Math.floor(t);var e=Math.floor(t/60),i=t-60*e;return i<10&&(i="0"+i),e+":"+i}},function(t,e,i,n){var a,s=i(51),o=i(830),r=i(833),l=i(834),c=i(809),d="crackdown",u="preview",p="skip",h="artists",_="",m=[u],g=[u,_],f=[h];Mu.blocks.register("touch-player",function(){var t,e,i,n=function(){};return n.init=function(n){t=n.get("seq"),e=n.get("auth"),i=n.get("adapter"),n.get("layout"),a=ya.music.lib.trackId},n.prototype.init=function(){this.$cont=$(this.container),this.$header=this.$cont.find(".touch-player__header"),this.$seqPlaceholder=this.$cont.find(".touch-player__sequence-placeholder"),this.$barBelowWrap=this.$cont.find(".touch-player__bar-below"),this.$seqButton=this.$cont.find(".player-controls__btn_seq"),this.$track=this.$cont.find(".player-controls__track-container"),this.$controls=this.$cont.find(".player-controls__controls-container"),this.$advert=this.$cont.find(".touch-player-advert"),this.$noAds=this.$cont.find(".d-no-ads__button"),$(".page-root").on("click",".bar.bar_open",this.onBarOpenClick.bind(this)),$(".page-root").on("click",".button-play_full",this.onPlayClick.bind(this)),this.$cont.on("click",".player-controls__btn_seq",this.toggleSeq.bind(this)),this.$cont.on("click",".track__artists",t=>this.toggleSeq.call(this,t,h)),this.$cont.on("click",".js-fail-skip",this.failSkip.bind(this)),this.$cont.on("click",".touch-player__hide",this.toggleSeq.bind(this)),this.$noAds.on("click",this.onNoAdsClick.bind(this)),i.on(Mu.Adapter.CRACKDOWN_PAUSE,this.overrideType.bind(this,d)),i.on(Mu.Adapter.CRACKDOWN_UNPAUSE,this.overrideType.bind(this,_)),i.on(Mu.Adapter.PLAY_PREVIEW,this.overrideType.bind(this,u)),i.on(Mu.Adapter.PLAY_FULL,this.overrideType.bind(this,_)),t.on(Mu.PlayFlow.EVENT_SHOW_TRACK,this.showTrack.bind(this)),t.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.toggleGenerative.bind(this)),t.on(Mu.PlayFlow.EVENT_SOURCE,this.toggleGenerative.bind(this)),t.on(Mu.PlayFlow.EVENT_CHANGE,this.toggleGenerative.bind(this)),i.on(Mu.Adapter.EVENT_SHOW_ADVERT,this.onAdvertStart.bind(this)),i.on(Mu.Adapter.EVENT_EMPTY_ADVERT,this.onAdvertEnd.bind(this)),this.openSeqIfNeeded=this.openSeqIfNeeded.bind(this),this.placeholderMode=null},n.prototype.toggleGenerative=function(){$(".bar").toggleClass("_hidden",t.isGenerative())},n.prototype.isOverridableType=function(t){return m.includes(t)},n.prototype.isForceOpen=function(t){return!g.includes(t)},n.prototype.isForceClose=function(t){return f.includes(t)},n.prototype.canOverride=function(t){return t===_||!this.overridedType||this.isOverridableType(this.overridedType)},n.prototype.overrideType=function(t){!e.isPremium()&&this.canOverride(t)&&(this.overridedType=t,this.setPlaceholderPayment(t))},n.prototype.onBarOpenClick=function(t){$(t.target).is(".bar_open")&&this.toggleSeq()},n.prototype.onPlayClick=function(){this.seqListener||this.isOpen||(this.seqListener=t.on(Mu.PlayFlow.EVENT_CHANGE,this.openSeqIfNeeded))},n.prototype.failSkip=function(){this.isOpen&&this.overridedType===u||this.toggleSeq({},p)},n.prototype.showTrack=function(t){t&&s(e.isLoggedIn(),t)&&this.overrideType(u)},n.prototype.openSeqIfNeeded=function(){t.off(Mu.PlayFlow.EVENT_CHANGE,this.openSeqIfNeeded),this.seqListener=!1,this.isOpen||this.toggleSeq()},n.prototype.setHeader=function(){var e="";this.isOpen&&(e=r({title:this.isAdvertPlaying?i18n("touch-player","[feature/touch-player-advert]реклама"):t.context.title||""})),this.$header.html(e)},n.prototype.setPlaceholderPayment=function(t){this.$seqPlaceholder.html(l({type:t})),Mu.blocks.initPendingBlocks(this.$seqPlaceholder),this.placeholderMode=t,this.hideBarBelow()},n.prototype.setPlaceholderSeq=function(){var e=t.getTracks(),i=o.render({trackIds:e.map(a),tracks:e,entries:e.map(Mu.PlayFlow.trackToEntry),context:t.context});this.$seqPlaceholder.html(i),this.$seq=this.$cont.find(".touch-player-sequence"),Mu.blocks.initPendingBlocks(this.$cont);var n=Mu.blocks.forElem(this.$seq.find(".lightlist")[0]);n&&n.onRender&&n.onRender(),this.placeholderMode="SEQ"},n.prototype.renderBarBelow=function(){if(!e.user.barBelow)return;if("preview"===this.placeholderMode)return;"SEQ"!==this.placeholderMode&&this.clearPlaceholder(),this.$barBelowWrap.html(c.render({config:c.controller.getBarBelowConfig(e.user.barBelow),isTouch:!0}));const t=this.$barBelowWrap.find(".bar-below-configurable");Mu.blocks.forElem(t[0],"bar-below-configurable").on("close",()=>{e.isPremium()?this.hideBarBelow():this.setPlaceholderPayment()}),Mu.blocks.initPendingBlocks(this.$barBelowWrap)},n.prototype.hideBarBelow=function(){this.$barBelowWrap.find(".bar-below-configurable").addClass("bar-below-configurable_hidden"),this.isShowingBarBelow=!1},n.prototype.clearPlaceholder=function(){this.$seqPlaceholder.html(""),this.placeholderMode=null},n.prototype.toggleSeq=function(i,n){if(n!==h&&i&&i.stopPropagation&&i.stopPropagation(),n=this.overridedType||n||_,!(this.isOpen&&i&&i.target&&$(i.target).is(".player-controls__btn_seq"))){var a=t.isRadio(),s=e.isPremium();if(!a||e.isLoggedIn())if(this.isOpen=!this.isForceClose(n)&&(this.isForceOpen(n)||!this.isOpen),$(".bar").toggleClass("bar_open",this.isOpen),$(".bar").toggleClass("bar_radio",this.isOpen&&a&&s),this.$controls.toggleClass(this.isOpen?"disabled":"hidden",!!this.isAdvertPlaying),this.$seqButton.toggleClass("player-controls__btn_checked",this.isOpen),this.setHeader(),this.isOpen){if(Mu.layout.lockScroll(),c.controller.isFeatureAllowed()){if(this.renderBarBelow(),!s)return void(!this.placeholderMode&&this.setPlaceholderPayment(n))}else if(!s)return void this.setPlaceholderPayment(n);if(t.isRadio())return void this.clearPlaceholder();this.setPlaceholderSeq()}else Mu.layout.unlockScroll(),this.clearPlaceholder();else e.showAuthForm(function(){e.isLoggedIn()&&this.toggleSeq()}.bind(this),"player-radio-seq")}},n.prototype.onAdvertStart=function(t){this.toggleAdvert(t,!0)},n.prototype.onAdvertEnd=function(t){this.toggleAdvert(t,!1)},n.prototype.toggleAdvert=function(t,e){this.isAdvertPlaying=e,this.$track.toggleClass("hidden",e),this.$controls.toggleClass(this.isOpen?"disabled":"hidden",e),this.$advert.toggleClass("hidden",!e),this.setHeader(),this.setPlaceholderPayment(e?"advert":"");var i=!t||!t.image&&!t.video||!e;this.$seqPlaceholder.toggleClass("hidden",!i),$(".overlay").toggleClass("overlay_shown overlay_transparent",e),$(".bar").toggleClass("bar_with_advert",e)},n.prototype.onNoAdsClick=function(){$(".overlay").removeClass("overlay_shown"),i.togglePause(!0),this.openSeqIfNeeded(),this.$controls.removeClass("hidden")},n}())},function(t,e,i,n){var a={render:i(831)};clientSide&&(a.controller=i(832)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=function(t){return Mu.render("lightlist",t)},function(t){return'<div class="touch-player-sequence" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-sequence",!0))+'">'+a({type:"track",ids:t.trackIds,items:t.tracks,isOwner:t.isOwner,loadCount:3,templateEngine:"dot",itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,params:{showArtist:!0,type:"touch",nonSelectable:!0,actions:["like"]},itemHeight:64})+"</div>"})},function(t,e,i,n){Mu.blocks.register("touch-player-sequence",function(){var t,e=function(){};return e.init=function(e){t=e.get("seq")},e.prototype.init=function(){this.$cont=$(this.container),this.delegate("lightlist.getContext",this.getContext.bind(this))},e.prototype.getContext=function(){var t=$.extend({},this.data.context);return t._entries=null,t},e.prototype.onShow=function(){Mu.layout.lockScroll()},e.prototype.onHide=function(){Mu.layout.unlockScroll()},e.prototype.onDragEnd=function(e){if(!(e.insertAt<0||e.insertFrom<0)){var i=e.insertFrom,n=e.insertAt;n>i&&n--,t.move(i,n);var a=this.entries[i];e.insertFrom<e.insertAt?(this.entries.splice(n,0,a),this.entries.splice(i,1)):(this.entries.splice(i,1),this.entries.splice(n,0,a)),t.context.id="touch-player-sequence"}},e.prototype.onDelete=function(e){t.remove(e.index),this.entries.splice(e.index,1),t.context.id="touch-player-sequence"},e.prototype.onAdditionClick=function(t){var e=this.entries&&this.entries.filter((function(t){return!t.track||t.track.id&&!t.track.error}));t.target.data.entries=e},e}())},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){var e='<div class="touch-player__title typo-main">';return t.title&&(e+=__escape(i18n("touch-player","[feature/touch-player-1]Сейчас играет"))+" "+__escape(t.title)),e+='</div><div class="touch-player__hide">'+a.render({icon:"dropdown"})+"</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(219),s=i(461),o={default:i18n("touch-player","[feature/touch-player-1]Слушайте музыку без ограничений, оформив подписку"),crackdown:i18n("bar-below","Музыка не остановится, если оформить подписку"),preview:i18n("touch-player","[feature/preview-touch]Войдите, чтобы слушать треки целиком"),skip:i18n("touch-player","[feature/mfront-1550]Чтобы пропустить трек, подождите один час или слушайте без ограничений, оформив подписку"),advert:i18n("touch-player","[feature/mfront-3990-1]Яндекс&nbsp;Музыка — полностью легальный сервис. С помощью рекламы мы получаем деньги на лицензионные платежи правообладателям и на дальнейшее развитие сервиса.")},r={default:i18n("touch-player","[feature/touch-player-1]Подробнее о подписке"),advert:i18n("touch-player","[feature/touch-player-advert]Хочу слушать без рекламы")},function(t){var e='<div class="touch-player__payment"><div class="touch-player__payment-title">'+__escape(o[t.type]||o.default)+"</div>";return"preview"===t.type?e+=s.render({text:i18n("touch-player","[feature/preview-touch]Войти")}):e+=a.render({from:"restrictionPlayer",text:r[t.type]||r.default}),e+="</div>"})},function(t,e,i,n){var a={render:i(836)};clientSide&&(a.controller=i(839)),t.exports=a},function(t,e,i,n){t.exports=function(){i(267),i(14);var t=function(t){return Mu.render("radio-settings",t)},e=i(837);return function(i){return'<div class="player-controls player-controls_empty deco-player-controls" data-b="'+__escape(Mu.dotBlockRoot(i,"player-controls",!0))+'"><div class="player-controls__btn deco-player-controls__button player-controls__btn_prev" title="'+__escape(i18n("player-controls","Назад"))+' [K]"><div class="d-icon d-icon_track-prev"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_settings" title="'+__escape(i18n("player-controls","[feature/mfront-3789]Настроить поток"))+'">'+t({class:"d-icon d-icon_settings"})+'</div><div class="player-controls__btn deco-player-controls__button player-controls__btn_play" title="'+__escape(i18n("player-controls","Играть"))+' [P]"><div class="d-icon d-icon_play"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_next" title="'+__escape(i18n("player-controls","Вперед"))+' [L]"><div class="d-icon d-icon_track-next"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_seq" title="'+__escape(i18n("player-controls","Очередь прослушивания"))+'"><div class="d-icon d-icon_playlist-next"></div></div><div class="player-controls__track-container"></div><div class="player-controls__shot player-controls__btn_hidden typo deco-typo"></div><div class="player-controls__stream player-controls__btn_hidden typo deco-typo"></div> <div class="player-controls__speed-controls"></div><div class="player-controls__seq-controls">'+e.render(i)+'<div class="player-controls__btn deco-player-controls__button player-controls__btn_shuffle" title="'+__escape(i18n("player-controls","В случайном порядке"))+'"><div class="d-icon d-icon_shuffle"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_repeat" title="'+__escape(i18n("player-controls","Повторять"))+'"><div class="d-icon d-icon_repeat"></div></div></div></div>'}}()},function(t,e,i,n){var a={render:i(838)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(219),s=i(141),o=i(294),r=i(259),function(t){var e='<div class="hq" data-b="'+__escape(Mu.dotBlockRoot(t,"hq",!0))+'">',i='<div class="hq__icon player-controls__btn deco-player-controls__button" title="'+__escape(i18n("hq","Включить высокое качество"))+'">'+s.render({icon:"hq",noDeco:!0})+"</div>";return r()||!o().uid?e+=i:e+=a.render({content:i,from:"HQ",mainTip:"hq"}),e+="</div>"})},function(t,e,i,n){var a=i(513);const s=i(37);var o=i(840);const r=i(458),l=clientSide&&i(841),c=clientSide&&i(520);Mu.blocks.register("player-controls",function(){var t,e,i,n,d,u,p,h;let _,m,g;var f="player-controls__btn_hidden",y="player-controls__btn_disabled";var v=function(){};return v.init=function(a){t=ya.music.Player.repeatTypes,e=a.get("seq"),i=a.get("popups"),n=a.get("auth"),d=a.get("blocks").get("notify"),m=a.get("blocks").get("player-progress"),u=a.get("metrika"),p=a.get("blocks").get("force-auth-tooltip"),h=a.get("adapter"),_=a.get("dataSrc"),g=a.get("blocks")},v.prototype.init=function(){this.disableHiglight=!0,this.$cont=$(this.container),this.$body=$(document.body),["play","prev","next","shuffle","repeat","seq","settings"].forEach(function(t){this["$"+t]=this.$cont.find(".player-controls__btn_"+t)}.bind(this)),this.$shuffleIcon=this.$shuffle.find(".d-icon"),this.$repeatIcon=this.$repeat.find(".d-icon"),this.$seqControls=this.$cont.find(".player-controls__seq-controls"),this.$trackContainer=this.$cont.find(".player-controls__track-container"),this.$shot=this.$cont.find(".player-controls__shot"),this.$stream=this.$cont.find(".player-controls__stream"),this.$trackControls=this.$cont.find(".player-controls__track-controls"),this.$hq=this.$cont.find(".hq__icon"),this.$speedControls=this.$cont.find(".player-controls__speed-controls"),this.$bar=$(".bar"),this.radioSettings=Mu.blocks.forElem(this.$cont.find(".radio-settings")[0]),this.radioSettings.setOptions({position:{my:"left bottom",at:"left top-6",of:this.$settings[0]}}),n.isLoggedIn()&&n.isPremium()&&l&&l.castInit({Seq:e,Notify:d,Progress:m,Metrika:u,DataSrc:_,Blocks:g,Auth:n}),this.$settings.on("click",this.onSettingsClick.bind(this)),this.radioSettings.on("hide",this.onRadioSettingsClose.bind(this)),this.$seq.on("click",this.onSeqClick.bind(this)),i.on("unloaded",this.onPopupClose.bind(this)),this.$play.on("click",this.onPlayClick.bind(this)),this.$prev.on("click",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("click",this.onPrevNextUpDown.bind(this,1)),this.$shuffle.on("click",e.toggleShuffle.bind(e)),this.$repeat.on("click",e.toggleRepeat.bind(e)),this.$trackContainer.on("click",".player-controls__btn_dislike",this.onDislikeClick.bind(this)),this.$prev.on("mousedown",this.onPrevNextUpDown.bind(this,-1)),this.$next.on("mousedown",this.onPrevNextUpDown.bind(this,1)),this.$prev.on("mouseout",this.onPrevNextUpDown.bind(this,0)),this.$next.on("mouseout",this.onPrevNextUpDown.bind(this,0));var t=this.onStateChange.bind(this);e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,t),e.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.togglePlayButton.bind(this)),e.on(Mu.PlayFlow.EVENT_SHOW_ADVERT,t),e.on(Mu.PlayFlow.EVENT_HIDE_ADVERT,t),e.on(Mu.PlayFlow.EVENT_SHOW_SHOT,t),e.on(Mu.PlayFlow.EVENT_HIDE_SHOT,t);var a=this.onTrackChange.bind(this);e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,a),e.on(Mu.PlayFlow.EVENT_EMPTY,a),e.on(Mu.PlayFlow.EVENT_SOURCE,this.onSourceChange.bind(this)),e.on(Mu.PlayFlow.EVENT_CONTROLS,this.onControlsChange.bind(this)),e.on(Mu.PlayFlow.EVENT_PROGRESS,this.updateBtnPrev.bind(this)),e.onReady(this.onSeqReady.bind(this)),this.onSourceChange(e.getSourceType()),this.onTrackChange()},v.prototype.sendButtonPress=function(t){var e="playing"===t,i="paused"===t;!this.lastState&&i||(e||i)&&this.lastState!==t&&(this.lastState=t,u.count({buttonPressed:e?"unpaused":"paused"}))},v.prototype.onSeqReady=function(){if("flash"!==e.getType()){var t=$(a());this.$speedControls.html(t),Mu.blocks.forElem(t[0])}e.on(Mu.PlayFlow.EVENT_STATE,this.sendButtonPress.bind(this))},v.prototype.onStateChange=function(){const t=e.isPlaying(),i=e.getCurrent(),n=e.getAdvert(),a=e.getShot(),s=e.isEmpty()&&!n,o=e.isGenerative();this.$play.toggleClass("player-controls__btn_pause",t&&!s),this.$body.toggleClass("body_show-pause",t&&!n&&!s),this.$play.attr("title",!s&&i?(t?i18n("player-controls","Пауза"):i18n("player-controls","Играть"))+" [P]":""),this.onControlsChange(e.getControls()),this.$seq.toggleClass(y,!!n),this.$settings.toggleClass(y,!!n||!r.canUseMusicInRegion()),this.$trackContainer.toggleClass("player-controls__track-container_hidden-track",!!n||!!a||o),this.$shuffle.toggleClass(f,!!n),this.$repeat.toggleClass(f,!!n),this.$hq.toggleClass(f,!!n),this.$speedControls.find(".player-controls__btn").toggleClass(f,!!n)},v.prototype.onSourceChange=function(t){const e="fm_stream"===t,i="radio"===t;this.$cont.toggleClass("player-controls_radio",i),this.$cont.toggleClass("player-controls_stream",e),this.$bar.toggleClass("bar__stream",e),t?(this.radioSettings.isOpen()||this.radioSettings.onChangeSettings(),this.$settings.toggleClass(f,this.radioSettings.isEmpty())):this.$settings.addClass(f),this.highlightSeq(),this.radioSettings.isOpen()||this.radioSettings.onChangeSettings();var n=i?i18n("player-controls","История воспроизведения"):i18n("player-controls","Очередь прослушивания");this.$seq.attr("title",n),this.toggleStream()},v.prototype.onPlayClick=function(){if(r.canUseMusicInRegion()){"idle"===e.getState()&&(s.startMark("click-to-play"),h.setFlagValue("playOnUserInteraction",!0)),p.setTarget(this.$play),u.goal("PlayButtonPressed");try{Mu&&Mu.gtag&&Mu.gtag.play(),Mu&&Mu.newgtag&&Mu.newgtag.sendProductStream()}catch(t){}e.getConfig()&&"generative"===e.getConfig().type&&e.isPaused()?e.play():e.togglePause()}},v.getTitle=function(t,e){return t?(Array.isArray(t.artists)&&(i=t.artists.map((function(t){return t.name})).join(", ")),(i?i+" — ":"")+t.title+" ("+e+")"):e;var i},v.prototype.onControlsChange=function(i){this.$dislike=this.$trackControls.find(".player-controls__btn_dislike"),["dislike","shuffle","repeat"].forEach(function(t){this["$"+t].toggleClass(f,null===i[t])}.bind(this)),this.$dislike.toggleClass(y,!1===i.dislike);var n=e.getShuffle();this.$shuffle.toggleClass("player-controls__btn_on",n),this.$shuffleIcon.toggleClass("d-icon_shuffle",!n).toggleClass("d-icon_shuffle-gold",n);var a=e.getRepeat();this.$repeat.toggleClass("player-controls__btn_on",!!a).toggleClass("player-controls__btn_repeat_state1",a===t.ALL).toggleClass("player-controls__btn_repeat_state2",a===t.ONE),this.$repeatIcon.toggleClass("d-icon_repeat",!a).toggleClass("d-icon_repeat-gold",a===t.ALL).toggleClass("d-icon_repeat-one-gold",a===t.ONE);var s=e.getAdvert(),o=e.getShot(),r=e.isGenerative();this.$trackContainer.toggleClass("player-controls__track-container_hidden-track",!!s||!!o||r),this.updateBtnPrev(),this.updateBtnNext(),this.toggleShot(),this.toggleStream()},v.prototype.toggleShot=function(){var t=e.getShot();this.$shot.toggleClass(f,!t),t&&this.$shot.text(t.shots[0].shotData.shotType.title)},v.prototype.toggleStream=function(){this.$stream.toggleClass(f,!e.isGenerative()),e.isGenerative()&&e.getConfig()&&e.getConfig().title&&this.$stream.text(e.getConfig().title)},v.prototype.updateBtnPrev=function(){var t=e.getPrevTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty(),s=e.getPosition(!0)<=5,o=e.getCurrent()&&e.getPosition(!0)>0;a||n||!t||i&&!s?a||n||!i&&!o?(this.$prev.attr("title",""),this.$prev.addClass(y)):(this.$prev.attr("title",i18n("player-controls","Перемотка назад")),this.$prev.removeClass(y)):(this.$prev.attr("title",v.getTitle(t,i18n("player-controls","Назад")+" [K]")),this.$prev.removeClass(y))},v.prototype.updateBtnNext=function(){var t=e.getNextTrack(),i=e.isPlaying(),n=e.getAdvert(),a=e.isEmpty();a||n||!t?a||n||!i?(this.$next.attr("title",""),this.$next.addClass(y)):(this.$next.attr("title",i18n("player-controls","Перемотка вперёд [зажать]")),this.$next.removeClass(y)):(this.$next.attr("title",v.getTitle(t,i18n("player-controls","Вперёд")+" [L]")),this.$next.removeClass(y)),r.canUseMusicInRegion()||(this.$next.attr("title",""),this.$next.addClass(y))},v.prototype.onTrackChange=function(t){this.$cont.toggleClass("player-controls_empty",!t||!r.canUseMusicInRegion()),t||this.$trackContainer.empty(),this.togglePlayButton();var i=t&&(t.title||t.ugcTag)?{track:t,album:t.albums&&t.albums[0]}:null;if("flash"!==e.getType()){const t=["podcast-episode","audiobook"];i&&i.track&&t.includes(i.track.type)?(e.getShuffle()&&e.setShuffle(!1),e.getRepeat()&&e.setRepeat(!1),!this.$cont.hasClass("player-controls_podcast")&&this.$cont.addClass("player-controls_podcast")):(1!==e.getSpeed()&&e.setSpeed(1),this.$cont.hasClass("player-controls_podcast")&&this.$cont.removeClass("player-controls_podcast"))}if(this.lastTrack!==t){this.lastTrack=t,this.onStateChange();var n=this;n.animateDelay&&clearTimeout(n.animateDelay),n.animateDelay=setTimeout((function(){if(n.animateDelay=null,i&&n.currentEntry!==i){n.currentEntry=i;var t=o(i),e=n.$trackContainer.find(".player-controls__track");e.length?e.animate({opacity:0},{duration:80,complete:n.initTrack.bind(n,t)}):n.initTrack(t)}}),100)}},v.prototype.togglePlayButton=function(){this.$play.toggleClass(y,e.isEmpty()||!r.canUseMusicInRegion())},v.prototype.initTrack=function(t){var e=$(t);this.$trackContainer.html(e),e.addClass("player-controls__track_shown"),Mu.blocks.forElem(this.$trackContainer.find(".d-like")[0]),Mu.blocks.forElem(this.$trackContainer.find(".share")[0]),this.initTrackHoverActions(e),n.isLoggedIn()&&n.isPremium()&&l||$("#cast-button").hide()},v.prototype.initTrackHoverActions=function(t){var e=$(t),i=e.find(".track_type_player"),n=e.find(".player-controls__wrapper");i.on("mouseenter",(function(){e.addClass("player-controls__track_hover")})),n.on("mouseleave",(function(){e.removeClass("player-controls__track_hover")}))},v.prototype.onPrevNextUpDown=function(t,i){if(r.canUseMusicInRegion()){if("mousedown"===i.type&&$(window).one("mouseup",this.onPrevNextUpDown.bind(this,0)),this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=null),this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),"mousedown"===i.type){if(!e.canNavigate()||!e.isPlaying()||e.getDuration()<=0||0!==i.button)return;var n=this;this.scrollTimeout=setTimeout((function(){n.scrollTimeout=null,n.scrollTimer=setInterval(n.onPrevNextScroll.bind(n,t),15)}),500)}else this.hasScrolled||0===t||(-1===t&&(e.getPosition()>5||!e.getPrevTrack())?(e.setPosition(0),c&&c.connected&&(c.seek(0),c.logger("web","mousedown change time 0"))):(h.setFlagValue("playOnUserInteraction",!0),s.startMark("click-to-play"),e[t>0?"next":"prev"]()));t&&(this.hasScrolled=!1)}},v.prototype.onPrevNextScroll=function(t){var i=e.getPosition();i+=.2*t,e.setPosition(i),this.hasScrolled=!0},v.prototype.onDislikeClick=function(){n.isLoggedIn()||d.show("authRequired")},v.prototype.onSeqClick=function(){if(!e.isRadio()||n.isLoggedIn()){var t=i.toggle("sequence");t&&u.count({"sequence-popup":"current"}),this.$seq.toggleClass("player-controls__btn_checked",t)}else n.showAuthForm(function(){n.isLoggedIn()&&this.onSeqClick()}.bind(this),"player-radio-seq")},v.prototype.onSettingsClick=function(){if(r.canUseMusicInRegion()){var t=this;t.radioSettings.toggle().then((function(e){t.$settings.toggleClass("player-controls__btn_checked",e)}))}},v.prototype.onPopupClose=function(t){"sequence"===t.name&&this.$seq.removeClass("player-controls__btn_checked")},v.prototype.onRadioSettingsClose=function(){this.$settings.removeClass("player-controls__btn_checked")},v.prototype.highlightSeq=function(){var t=this;t.disableHiglight||(t.$seq.addClass("player-controls__btn_pulse"),setTimeout((function(){t.$seq.removeClass("player-controls__btn_pulse")}),600)),t.disableHiglight=!1},v}())},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(s=i(318),o=i(515),r=i(313),l=i(517),c=function(t){return Mu.render("track_type_player",t)},d=function(t){return Mu.render("dislike",t)},u={},function(t){var e='<div class="player-controls__track"><div class="player-controls__wrapper">'+c(t)+'<div class="player-controls__track-controls">'+s.render({entry:{track:t.track},className:"player-controls__btn deco-player-controls__button",theme:"player"})+r.render({entry:{track:t.track},style:"pure",hideSeq:!0,topmost:!0,button:{size:"S",attrs:{title:i18n("player-controls","[feature/add-player-plus-title]Добавить в плейлист")}},popup:{fixed:!0,position:{my:"center bottom",at:"center top"}},class:"player-controls__btn deco-player-controls__button player-controls__btn_add"});return a=t.track&&t.track.error||t.track&&"disk"===t.track.prefix||t.track&&(!t.track.albums||!t.track.albums.length)||t.track&&(!t.track.albums||!t.track.albums[0].id),u={track:t.track,tooltip:{text:i18n("player-controls","Поделиться треком")},fixed:!0,class:"player-controls__btn deco-player-controls__button player-controls__btn_share"+(a?" player-controls__btn_disabled":""),offset:2,btnSize:"S",theme:"flat"},t&&t.album&&t.album.id&&(u.albumId=t.album.id),e+=o.render(u)+d({entry:{track:t.track},class:"player-controls__btn deco-player-controls__button",theme:"player",size:"XL",track:!0})+'</div><div class="player-controls__btn-cast"> '+l.render()+" </div></div></div>"})},function(t,e,i,n){const a=i(520);let s=!1,o=!1,r=!1,l=!1,c=!1,d=!1,u=0;const p={pause:null,play:null},h=function(){};h._setDeviceText=t=>{const e=h._getDeviceElement();if(t.length){const i=new IntersectionObserver((i,n)=>{i.forEach(i=>{if(!i.isIntersecting)return;n.unobserve(i.target);let a=i18n("player-controls","[feature/mfront-3415]Играет на {device}");a=a.replace("{device}",t),e.text(a)})});e&&e[0]&&i.observe(e[0])}},h._getDeviceElement=()=>$(".cast-device"),h._getPlayElement=()=>$(".bar .player-controls__btn_play:not(.audio-advert__button)"),h._getPlayerElement=()=>$(".bar"),h._getVolumeElement=()=>$(".volume__btn"),h._showHideText=()=>h._getPlayerElement().toggleClass("bar_casting"),h._getPoster=t=>t?"https://"+t.replace("%%","400x400"):"https://music.yandex.ru/blocks/entity-cover/track_no-cover.svg",h.castInit=function(t){a.loadScript();const{Seq:e,Notify:i,Metrika:n,Blocks:_}=t;this.blocks=t,e.on(Mu.PlayFlow.EVENT_TRACK_PLAY,()=>this.onTrackPlay()),e.on(Mu.PlayFlow.EVENT_SHOW_PLAY,()=>this.onTrackPlay()),e.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,()=>this.onTrackPause()),e.on(Mu.PlayFlow.EVENT_SHOW_TRACK,t=>this.onTrackChange(t)),e.on(Mu.PlayFlow.EVENT_EMPTY,t=>this.onTrackChange(t)),e.on(Mu.Adapter.EVENT_PROGRESS,t=>this.onTimeUpdate(t)),e.on(Mu.Adapter.EVENT_CHANGE_REPEAT,()=>this.onChangeRepeat()),a.on("available",()=>{n.goal("chromecast",{event:"show"})}),a.on("connect",()=>{r=!1,document.cookie="chromecast="+a.device,n.goal("chromecast",{event:"connect"}),this._showHideText(),c=!0,this.castTrack(),window.castPlayer=a,$("body").on("keydown",this.onKeyboard.bind(this))}),a.on("disconnect",()=>{r||(r=!0,i.show("castDisconnected",{device:a.device})),document.cookie="chromecast=''",h._getPlayerElement().hasClass("bar_casting")&&h._showHideText(),e.mute(!1),e.next(),u=0,delete window.castPlayer,$("body").off("keydown",this.onKeyboard.bind(this))}),a.on("statechange",()=>{switch(l=!1,a.state){case"ended":this._setDeviceText(a.device),o&&(o=!1,setTimeout(()=>{a.play()},1e3));break;case"buffering":e.isPlaying()&&(s=!0,e.setPosition(e.getPosition()),e.trigger(Mu.PlayFlow.EVENT_SHOW_PAUSE)),a.title!==this.currentTrackTitle&&a.disconnect();break;case"playing":s&&(s=!1,e.trigger(Mu.PlayFlow.EVENT_SHOW_PLAY)),o=!0}}),a.on("error",()=>{window.chrome&&window.chrome.cast&&(n.goal("chromecast",{event:"error"}),h._getPlayerElement().hasClass("bar_casting")&&h._showHideText())}),a.on("pause",()=>{e.isPlaying()&&!1===p.pause&&(p.pause=!0,e.togglePause(),a.logger("mobile","pause"))}),a.on("playing",()=>{e.isPlaying()||p.play||(p.play=!0,e.togglePause(),a.logger("mobile","play"))}),a.on("timeupdate",()=>{const t=e.getPosition(),i=a.time;if(Math.abs(i-t)>1){if(c&&0===i&&t>0)return void(c=!1);c&&(c=!1),e.setPosition(i),a.logger("web","change time like chromecast"),a.logger("web",i),!d&&e.isPlaying()&&i<=3&&(this._getPlayElement().click(),a.logger("web","isPlaying and pause"),d=!0),this.isWakeUp&&a.duration-i<2&&(this.isWakeUp=!1,e.next(),a.logger("web","wake up?"))}this.lastTime=Date.now()}),a.on("currentTime",()=>{const t=Date.now();t>this.lastTime+4e3&&(setTimeout(()=>{e.isPlaying()||e.togglePause()},1e3),this.isWakeUp=!0,a.time&&e.setPosition(a._player.currentTime),this.lastTime=t),this.isLastTrack&&a.duration<a.time+2&&(e.togglePause(),a.logger("web","last track in queue"))}),a.on("volumechange",()=>{const t=_.forElem($(".volume__slider")[0]);a.webChangedVolume?a.webChangedVolume=!1:(a.phoneChangedVolume=!0,t.setPosition(a.volumeLevel),a.logger("mobile","volume change"))}),a.on("mediaIsEmpty",()=>{a.connected&&e.isPlaying()&&(a.duration-a.time>20?(a.recast(),a.logger("web","try to recast track")):(e.next(),a.logger("web","chromecast will go sleep, media is empty, click next track")))}),a.on("mediaLoaded",()=>{a.connected&&(e.getNextTrack()?this.isLastTrack=!1:this.isLastTrack=!0,e.isPlaying()||(e.togglePause(),a.logger("web","mediaLoaded and play")))})},h.castTrack=function(){const{Seq:t,DataSrc:e,Progress:i,Auth:n}=this.blocks,s=t.getCurrent()&&t.getCurrent().id;a.logger("web","cast track"),a.logger("web",a),s&&e.get("track",{track:s,withDownload:!0},{nocache:!0}).then(e=>{const{trackUrlMp3:o,track:r,isUgcTrack:l,downloadData:c}=e;if(d=!1,l){const e=this._getPoster(r.coverUri);$.ajax({url:c,dataType:"json",method:"GET",data:{format:"json",...n.user},success:function(i){const{host:n,path:o,s:l,ts:c}=i,d=`https://${n}/get-mp3/${l}/${c}${o}?track-id=${s}&play=false`;a.cast(d,{poster:e,title:r.title,volumeLevel:t.getVolume()>0?t.getVolume():a.volumeLevel,isSingleRepeat:1===t.getRepeat(),time:t.getPosition()})}})}else{const{coverUri:e,artists:i,title:n,albums:s}=r;this.currentTrackTitle=n,a.cast(o,{poster:this._getPoster(e),title:n,artist:i.map(t=>t.name).join(", "),albumName:s[0].title,volumeLevel:t.getVolume()>0?t.getVolume():a.volumeLevel,isSingleRepeat:1===t.getRepeat(),time:t.getPosition()})}this._setDeviceText(a.device),$(i.EVENT_CLASS).on(i.EVENT_PROGRESS,this.onProgressChange.bind(this))})},h.onTrackChange=function(t){t&&a&&a.connected&&this.castTrack()},h.onProgressChange=function(t,e){a&&a.connected&&a.seek(e)},h.onTrackPlay=function(t={}){const{Seq:e}=this.blocks;if(a&&a.connected){if(e.mute(!0),p.play)return void(p.play=!1);t.mediaLoaded||a.seek(e.getPosition(!0)),this.lastTime=Date.now(),"ended"===a.state||"paused"===a.state?setTimeout(()=>{e.isPlaying()&&a.play()},2e3):a.play()}},h.onTrackPause=function(){a&&a.connected&&(p.pause?p.pause=!1:s||(a.pause(),p.play=!1))},h.onTimeUpdate=function(t){const{Seq:e}=this.blocks;if(a&&a.connected){const i=t.position,n=a.time;t.position>5&&(p.pause=!1,p.play=!1),Math.abs(i-n)>1&&e.isPlaying()&&!l&&(l=!0,this.onTrackPlay(),a.play(),a.logger("web","play"))}},h.onChangeRepeat=function(){const{Seq:t}=this.blocks;a&&a.connected&&(1===t.getRepeat()?a.turnOnOrOffRepeat(!0):a.turnOnOrOffRepeat(!1))},h.onKeyboard=function(t){const{Blocks:e}=this.blocks,i=e.forElem($(".volume__slider")[0]);if(189===t.which||187===t.which){t.preventDefault();const e=187===t.which?1:-1;let n=a.volumeLevel+.1*e;n<0&&(n=0),a.volume(n),i.setPosition(n),a.logger("web","hotkey, set position: "+n)}48===t.which&&(a.muted?a.muted&&u>0&&setTimeout(()=>{a.logger("web","hotkey 0, we set volume: "+(u>0?u:.1)),a.logger("web",a),u>0?i.setPosition(u):i.setPosition(.1)},200):(u=a.volumeLevel,a.logger("web","hotkey 0, we saved volume: "+u)),this._getVolumeElement().click())},t.exports=h},function(t,e,i,n){var a={render:i(767)};t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="bar__branding bar__'+t.brandingType+'"><a href = "'+t.brandingLink+'" class="bar__branding_picture"></a> <a href = "'+t.brandingLink+'" class="bar__branding_text"></a></div>'}},function(t,e,i,n){t.exports=function(t){return'<div class="bar-below bar-below_empty" data-b="'+__escape(Mu.dotBlockRoot(t,"bar-below"))+'"></div>'}},function(t,e,i,n){t.exports=function(t){return'<div class="branding branding-pane" data-b="'+__escape(Mu.dotBlockRoot(t,"branding",!0))+'"></div>'}},function(t,e,i,n){var a,s;t.exports=(a=i(73),s=i(847),function(t){var e="";return"ru"==a().tld&&(t.sessionId?e+='<y:ticket data-session-id="'+__escape(t.sessionId)+'" data-template="'+__escape(t.template)+'" class="button-bilet" data-b="'+__escape(Mu.dotBlockRoot(t,"button-bilet",!0))+'">'+s(t)+"</y:ticket>":t.eventId&&(e+='<y:ticket data-event-id="'+__escape(t.eventId)+'" data-region-id="'+a().city+'" data-template="'+__escape(t.template)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"button-bilet",!0))+'" class="button-bilet">'+s(t)+"</y:ticket>")),e})},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){var i="";return"button-bilet_concert-inhouse"===e.template?i+='<div id="'+__escape(e.template)+'" class="button-bilet_concert-inhouse">'+t.render({text:i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"),size:"S",type:"action"})+"</div>":"button-bilet_concert-page"===e.template?i+='<div id="'+__escape(e.template)+'" class="button-bilet_concert-page">'+t.render({text:i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"),icon:"ticket-thin",size:"L",rounded:!0,type:"action"})+"</div>":"button-bilet_moana"===e.template&&(i+='<div id="button-bilet_moana" class="button-bilet_moana"><span class="page-moana__map-moana_button page-moana__map-moana_button_ticket">'+__escape(i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"))+"</span> </div>"),i}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(849),s=i(851),o=i(852),function(t){var e="";return t.theme?"withText"===t.theme?e+=a(Object.assign({icon:"radio"===t.type?"radio":"pp",contentBlockName:"button2__content"},t)):"withControls"===t.theme?e+=s(t):"withoutButton"===t.theme&&(e+=o(t)):e+=a(Object.assign({icon:"pp",contentBlockName:"button__content"},t)),e})},function(t,e,i,n){var a;t.exports=(a=i(850),function(t){return'<button class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+">"+Mu.render(t.contentBlockName,{icon:t.icon,attrs:a.getAttributesString(t),text:t.text},t.size)+"</button>"})},function(t,e,i,n){var a=i(385);t.exports={getClass:function(t){var e=["button-play"],i=this.getAttributes(t).disabled;t.theme?"withText"===t.theme?(e.push("button2","button2_rounded"),i&&e.push("button2_disabled"),t.size&&e.push("button2_size_"+t.size),t.icon&&e.push("button2_w-icon")):"withControls"===t.theme?(e.push("page-moana__map-play"),t.class&&i&&e.push(t.class+"_disabled")):"withoutButton"===t.theme&&e.push("button-play_full"):(e.push("button","button_round","button_action"),i&&e.push("button_disabled"),t.size&&e.push("button_size_"+t.size),t.icon&&e.push("button_ico"),t.checked&&e.push("button_checked"));var n=i?"deco-yate-button_disabled":"local-icon-theme-white";return e.push(n),t.class&&e.push(t.class),t.type&&e.push("button-play__type_"+t.type),e.join(" ")},getAttributes:function(t){var e=Object.assign({"data-b":Mu.dotBlockRoot(t,"button-play",!0),"data-idx":this.getIndex(t)},t.attrs||{}),i=this.isDisabled(t);return e.disabled=i,e.disabled||delete e.disabled,e},getAttributesString:function(t){var e=this.getAttributes(t);return Object.keys(e).reduce((function(t,i){return t+" "+i+'="'+e[i]+'"'}),"")},getIndex:function(t){return"playlist"===t.type?t.item.owner.uid+":"+t.item.kind:"day"===t.type?t.item.day:"radio"===t.type&&t.item&&t.item.id&&t.item.id.tag&&t.item.id.type?`${t.item.id.type}:${t.item.id.tag}`:t.item.id},isDisabled:function(t){return t.attrs&&t.attrs.disabled?t.attrs.disabled:a(t)?"disabled":""}}},function(t,e,i,n){var a;t.exports=(a=i(850),function(t){var e='<div class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+'><div class="button-play_pp';return t.class&&(e+=" "+__escape(t.class)+"_pp"),e+='"></div><div class="button-play_next',t.class&&(e+=" "+__escape(t.class)+"_next"),e+='"></div><div class="button-play_prev',t.class&&(e+=" "+__escape(t.class)+"_prev"),e+='"></div></div>'})},function(t,e,i,n){var a;t.exports=(a=i(850),function(t){return'<div class="'+__escape(a.getClass(t))+'" '+a.getAttributesString(t)+"></div>"})},function(t,e,i,n){t.exports=function(t){var e='<div class="button-radio deco-button deco-button-transparent';t.status.available||(e+=" button-radio_hidden"),e+='"data-b="'+__escape(Mu.dotBlockRoot(t,"button-radio",!0))+'"> ';var i=(t.class||"")+" js-radio button2_rounded deco-button-stylable";e+=" ";var n=t.isMain?" button-radio_active local-icon-theme-white":" button2_hollow";return e+=Mu.render("button2",{icon:"radio",text:t.text},["",i+n])+"</div>"}},function(t,e,i,n){var a,s,o;t.exports=(a=i(594),s=i(619),o=i(293),function(t){var e="",i=t.albums.slice(0,4),n=t.albums.slice(4),r=n.length,l="";"audiobook"===t.itemsType?l=1===r?i18n("collapsed-list","[feature/mfront-4024]Показать ещё одну аудиокнигу"):o(r,i18n("collapsed-list","[feature/mfront-4024]Показать ещё %s аудиокнигу|Показать ещё %s аудиокниги|Показать ещё %s аудиокниг|")):"podcast"===t.itemsType&&(l=1===r?i18n("collapsed-list","[feature/mfront-4024]Показать ещё один подкаст"):o(r,i18n("collapsed-list","[feature/mfront-4024]Показать ещё %s подкаст|Показать ещё %s подкаста|Показать ещё %s подкастов|")));var c=function(t){for(var e,i=' <div class="collapsed-list__items"> ',n=0;n<t.length;n++)e=t[n],i+=" "+a.render({album:e})+" ";return i+=" </div>"};return e+='<section class="collapsed-list '+__escape(t.mixClass||"")+'"> <h2 class="typo typo-h2_bold">'+t.title+"</h2> "+c(i)+" ",r&&(e+=" "+s.render({text:l,html:c(n),class:"collapsed-list__d-more"})+" "),e+="</section>"})},function(t,e,i,n){var a,s,o;t.exports=(a=i(793),s=i(856),o=i(862),function(t){var e="",i=""+a.render({items:t.entities,itemTemplate:s,addClass:"page-main__slider page-main__"+t.type,endless:t.entities.length>1,step:1,theme:"rounded-buttons"});return e+='<div class="page-main__line page-main__line_row">'+o.render(Object.assign(t,{noHover:!0,content:i}))+"</div>"})},function(t,e,i,n){var a={render:i(857)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(594),s=i(667),o=i(785),r=i(858),function(t){var e="";if("album"===t.context)e+=a.render({album:t.contextData,hideYear:!0});else if("artist"===t.context)e+=s.render({artist:t.contextData});else if("playlist"===t.context)e+=o.render({playlist:t.contextData,showStamp:!0});else if("station"===t.context)for(var i,n=0;n<t.length;n++)i=t[n],e+=r.render({item:i});return e})},function(t,e,i,n){var a={render:i(859)};clientSide&&(a.controller=i(861)),t.exports=a},function(t,e,i,n){t.exports=function(){const t=i(860),e=i(381);return function(i){var n="";const a=i.item;return n+='<div class="d-station" style="background-color: '+__escape(t.getBackgroundColor(a))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"d-station",!0))+'" > <img class="d-station__image" src="//'+__escape(t.getImageUrl(a))+'" /> <div class="d-station__shadow"></div> <span class="d-station__name">'+t.getName(a)+'</span> <div class="d-station__play"> '+e.render({item:t.getStation(a),type:"radio",size:"S",tooltipSide:"left"})+" </div></div>"}}()},function(t,e,i,n){t.exports={getName:function(t){return t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.name},getBackgroundColor:function(t){return t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.icon.backgroundColor},getImageUrl:function(t){const e=t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.icon.imageUrl;return e&&e.replace("%%","200x200")},getStation:function(t){return t&&t.data&&t.data.data&&t.data.data.station}}},function(t,e,i,n){Mu.blocks.register("d-station",function(){const t=function(){};return t.init=function(){this.domDelegate("click",(function(t){t.stopPropagation(),Mu.blocks.forElem(this).processClick(t)}))},t.prototype.init=function(){this.$cont=$(this.container),this.$playButton=this.$cont.find(".d-station__play .button-play"),this.setPlaying=this.setPlaying.bind(this),this.delegate("button-play.click",function(t){var e=this.data.item&&this.data.item.data.data.station.id;if(t.target.item.id.tag===e.tag){var i=Mu.blocks.forElem(this.container,"page-kids");i&&i.hiliteStation(e)}}.bind(this))},t.prototype.processClick=function(){this.$cont.find(".d-station__play .button-play").eq(0).click()},t.prototype.setPlaying=function(t){t?this.$cont.addClass("d-station_playing"):this.$cont.removeClass("d-station_playing");var e=this.$cont.find(".d-station__play .button-play")[0];Mu.blocks.forElem(e).setPlaying(t)},t}())},function(t,e,i,n){var a={render:i(863)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(864),s=i(151),o=function(t){return""+s.render({class:"page-line__show-all typo",text:t.text||i18n("page-main","[feature/refactor-main-page]Смотреть всё")})},r=function(t){var e='<div class="page-line__subtitle typo typo-h2_bold"> ';return"editorial"===t.what&&"album"===t.editorialType?e+=" <h1> "+s.render({content:t.title,noHoverColor:t.noHover||!t.href})+" </h1> ":e+=" "+s.render({content:t.title,noHoverColor:t.noHover||!t.href})+" ",t.href&&!t.description&&(e+=o(t)),e+="</div>",t.description&&(e+='<div class="page-line__description"><span class="page-line__description-text">'+t.description+"</span>",t.href&&(e+=o(t)+'<div class="page-line__description-clear"></div>'),e+="</div>"),e},function(t){var e='<div class="page-line page-line_'+__escape(t.type)+" ";return t.classes&&(e+=__escape(t.classes)),e+='" ',t.id&&(e+='id="'+__escape(t.id)+'"'),e+=' data-type="'+__escape(t.type)+'" data-card="'+__escape(a(t.typeForFrom)||t.cardOverride||"")+'" ',t.title&&(e+=' data-title="'+__escape(t.title)+'"'),e+=">",t.actions&&(e+=t.actions),t.hideHeader||(t.href?e+=s.render({href:t.href,arrow:!0,class:"page-line__subtitle-wrapper deco-link-wrapper "+(t.description?" page-line__subtitle-wrapper_description":""),content:r(t)}):e+=r(t)),t.content&&(e+=t.content),e+="</div>"})},function(t,e,i,n){t.exports=function(t){if(t&&t.replace)return t.replace(/-/g,"_")}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(594);return function(i){var n='<div class="d-album-slider" data-b="'+__escape(Mu.dotBlockRoot(i,"d-album-slider",!0))+'"><div class="d-album-slider__items">';if(i.items.length)for(var a,s=0;s<i.items.length;s++)a=i.items[s],n+=e.render({album:a,class:0===s?"d-album-slider__item_selected":"",notSelectable:!0});else n+=e.render({album:i.items,class:"d-album-slider__item_selected",notSelectable:!0});return n+="</div>",i.items.length>1&&(n+=t.render({type:"flat",icon:"paging-forward",class:"d-album-slider-forward"})+t.render({type:"flat",icon:"paging-backwards",class:"d-album-slider-back"})),n+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(293),s=i(592),o=i(593),i(867),r=i(604),l=i(151),c=function(t,e){var i='<div class="d-album-summary__content"><span class="d-album-summary__item typo">'+a(t.length,e)+"</span>";return t.length>2?i+='<span class="d-artists-many">'+r.render({artists:t,collapseLong:!0})+"</span>":i+=r.render({artists:t}),i+="</div>"},function(t){var e='<div class="d-album-summary';if(t.large&&(e+=" d-album-summary__large"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"d-album-summary",!0))+'">',!t.withoutArtists){e+='<div class="d-album-summary__pregroup">';var i=t.artists.filter((function(t){return!t.composer})),n=i.filter((function(t){return!t.various&&!t.error}));n.length?(e+=" ","audiobook"===t.type||"fairy-tale"===t.type?e+=" "+c(n,i18n("d-album-summary","[feature/mfront-3881]Чтец: |Чтецы: |Чтецы: |"))+" ":e+=" "+c(n,i18n("d-album-summary","Исполнитель: |Исполнители: |Исполнители: |"))+" "):i.length&&(e+=c(i,i18n("d-album-summary","Исполнитель: |Исполнители: |Исполнители: |")));var a=t.artists.filter((function(t){return t.composer&&!t.various}));a.length&&(e+=c(a,i18n("d-album-summary","Композитор: |Композиторы: |Композиторы: |"))),e+="</div>"}return t.genre&&s(t.genre,!0),e+='<div class="d-album-summary__group d-album-summary__item typo-disabled">',t.year&&(e+='<span class="typo deco-typo-secondary">'+__escape(t.year)+"</span>",t.genre&&(e+='<span class="separator">&nbsp;</span>')),t.genre&&s(t.genre,!0)&&(e+=l.render({text:s(t.genre,!0),class:"deco-link_mimic typo",href:o(t.genre)})),e+="</div></div>"})},function(t,e,i,n){var a={render:i(868)};t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return""+t.render({icon:"pen",attrs:{id:"buttonEdit"},size:"",rounded:!0,class:"d-button-edit"+e.class,type:"transparent"})}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=function(t,e){var i="";if(e&&(i+='<span class="deco-typo-secondary',t.class&&(i+=" "+__escape(t.class)),"translucent"===t.style&&(i+=" deco-typo-ternary"),i+='">, </span>'),t.noLink||t.artist.various||!t.artist.id)i+='<span class="deco-typo-secondary ',t.class&&(i+=__escape(t.class)),i+='">',t.artist.name?i+=__escape(t.artist.name):i+=__escape(t.artist),i+="</span>";else{var n=Object.assign({},t,{href:"/artist/"+t.artist.id,text:t.artist.name,title:t.artist.name});i+=a.render(n)}if(t.artist.decomposed)for(var o,r=0;r<t.artist.decomposed.length;r++)o=t.artist.decomposed[r],n=Object.assign({},t,{artist:o}),i+=s(n);return i},o=function(t,e){var i="";if(e&&(i+=", "),t.artist.name?i+=__escape(t.artist.name):i+=__escape(t.artist),t.artist.decomposed)for(var n,a=0;a<t.artist.decomposed.length;a++){n=t.artist.decomposed[a];var s=Object.assign({},t,{artist:n});i+=o(s)}return i},function(t){var e="",i=t.artists;if(i.hasOwnProperty("length")||(i=[i]),i=(i||[]).reduce((function(t,e){return!e.error&&t.push(e),t}),[]),e+='<span class="d-artists d-artists__expanded" data-b="'+__escape(Mu.dotBlockRoot(t,"d-artists",!0))+'">',t.collapseLong){for(var n=0,r=0,l=0;l<i.length;l++){p=i[l];var c=Object.assign({},t,{artist:p});(n+=o(c,l).length)<=70&&r++,r=r||1}if(n>70&&r<i.length-1){var d=i.slice(0,r),u=i.slice(r);for(l=0;l<d.length;l++)p=d[l],c=Object.assign({},t,{artist:p}),e+=s(c,l);for(e+=a.render({class:"my-link d-link_marked deco-link_marked d-artists__read-more",text:i18n("d-artists","[feature/six-artists] и еще %artistCount",{artistCount:u.length})})+'<span class="d-artists__rest"><span class="deco-typo-secondary">, </span>',l=0;l<u.length;l++)p=u[l],c=Object.assign({},t,{artist:p}),e+=s(c,l);e+="</span>"}else for(l=0;l<i.length;l++)p=i[l],c=Object.assign({},t,{artist:p}),e+=s(c,l)}else{var p;for(l=0;l<i.length;l++)p=i[l],c=Object.assign({},t,{artist:p}),e+=s(c,l)}return e+="</span>"})},function(t,e,i,n){var a,s;t.exports=(a=i(141),s=i(871),function(t){var e='<div class="'+__escape(s.className(t))+'">'+a.render({icon:t.icon,class:s.iconThemeClass(t)});return t.checked&&(e+='<div class="d-bubble__checkmark deco_shadow deco-pane">'+a.render({icon:"checkmark-green-fat"})+"</div>"),e+="</div>"})},function(t,e,i,n){t.exports={className:function(t){var e=["d-bubble"];if(t.checked)switch(t.icon){case"vkontakte":case"facebook":case"deezer":case"lastfm":case"wizard":case"wizard-muted":e.push("d-bubble__"+t.icon);break;default:e.push("deco-bubble")}else switch(t.icon){case"wizard":case"wizard-muted":e.push("d-bubble__"+t.icon);break;default:e.push("deco-bubble")}return e.join(" ")},iconThemeClass:function(t){return t.checked?"local-icon-theme-black":""}}},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return""+t.render({icon:"pen",attrs:{id:"buttonEdit"},size:"",rounded:!0,class:"d-button-edit"+e.class,type:"transparent"})}}()},function(t,e,i,n){var a;t.exports=(a=i(381),function(t){return'<span class="d-button-play__wrap" data-b='+__escape(Mu.dotBlockRoot(t,"d-button-play__wrap",!0))+">"+a.render(t)+"</span>"})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(318),s=i(429),o=i(604),r=i(151),l=i(596),c=i(379),d=i(875),u=i(402),p=i(108),function(t){var e="",i=p.theme("black").classes(!0),n=d.artists(t),h=d.artistCovers(t);if(e+='<div class="d-chart-track '+__escape(d.classes(t))+'"',t.wide&&h.length>0?e+=" style=\"background-image: url('"+__escape(u(h[0]))+"')\"":t.track.chart.bgColor&&(e+=' style="background-color: '+__escape(t.track.chart.bgColor)+'"'),e+='data-b="'+__escape(Mu.dotBlockRoot(t,"d-chart-track",!0))+'"><div class="d-chart-track__top"><div class="d-chart-track__covers">',!t.wide)if(h.length>0)for(var _,m=0;m<h.length;m++)_=h[m],e+='<span class="d-chart-track__cover-artist"style="background-image: url(\''+__escape(u(_,75))+"');background-image: -webkit-image-set(url('"+__escape(u(_,75))+"') 1x, url('"+__escape(u(_,150))+"') 2x);\"></span>";else if(n)for(var g,f=0;f<n.length;f++)g=n[f],e+='<span class="d-chart-track__cover-artist"style="background-image: url(\''+__escape(u(g.cover.uri,75))+"');background-image: -webkit-image-set(url('"+__escape(u(g.cover.uri,75))+"') 1x, url('"+__escape(u(g.cover.uri,150))+"') 2x);\"></span>";return e+='<span class="d-chart-track__cover-track">',t.track.coverUri?e+='<div class="d-chart-track__cover-pic"style="background-image: url(\''+__escape(u(t.track.coverUri,75))+"');background-image: -webkit-image-set(url('"+__escape(u(t.track.coverUri,75))+"') 1x, url('"+__escape(u(t.track.coverUri,150))+"') 2x);\"></div>":e+=l.render({type:"track-cover",class:"d-chart-track__cover-placeholder"}),e+='<div class="d-chart-track__play"><div class="d-chart-track__bubble"></div>',t.wide||(e+=c.render({type:"track",item:t.track})),e+="</div></span></div>",t.wide||(e+='<div class="d-chart-track__actions">'+a.render({entry:{track:t.track},size:"S",theme:"flat",className:"d-chart-track__like "+i})+s.render({track:t.track,type:"borderless",size:"S",class:i})+"</div>"),e+='<div class="d-chart-track__track-info '+__escape(i)+'">'+r.render({text:t.track.title,href:"/album/"+t.track.albums[0].id+"/track/"+t.track.id,class:"d-chart-track__title typo-h2 typo-display_regular"})+"<br/>"+o.render({artists:t.track.artists,class:"d-chart-track__artist typo-h2 typo-display_regular",style:"translucent"})+'</div></div><div class="d-chart-track__bottom"><div class="d-chart-track__bottom_left '+__escape(i)+'"><div class="d-chart-track__number typo-h1_big_regular deco-typo typo-display_regular">'+__escape(t.track.chart.position)+'</div><div class="vertical-devider"></div><div class="d-chart-track__description typo typo-display_regular">'+__escape(t.track.chart.description||"")+"</div></div>",t.wide&&(e+='<div class="d-chart-track__bottom_right d-chart-track__actions">'+c.render({type:"track",theme:Mu.settings.uatraits.isMobile?"":"withText",text:i18n("d-chart-track","[feature/ny-chart]Слушать"),item:t.track,size:"L"})+a.render({entry:{track:t.track},size:"L",className:"d-chart-track__like "+i})+s.render({track:t.track,size:"L",class:i})+"</div>"),e+="</div></div>"})},function(t,e,i,n){t.exports={classes:function(t){return t.wide?"d-chart-track_wide":""},artists:function(t){return t.track.artists},artistCovers:function(t){return t.track.chart.artistCovers||t.track.chart.artistCover&&[t.track.chart.artistCover]||[]}}},function(t,e,i,n){t.exports=function(t){var e="",i=2*Math.PI*6,n=.25*i,a=t.progress*i+" "+(1-t.progress)*i;return e+='<div class="d-circle-progress"> <svg width="14" height="14" viewBox="0 0 14 14"> <circle stroke="#DEDEDE" fill="none" r="'+__escape(6)+'" stroke-width="'+__escape(2)+'" cx="'+__escape(7)+'" cy="'+__escape(7)+'" /> <circle stroke="#FFDD60" fill="none" r="'+__escape(6)+'" stroke-width="'+__escape(2)+'" cx="'+__escape(7)+'" cy="'+__escape(7)+'" stroke-dashoffset="'+__escape(n)+'" stroke-dasharray="'+__escape(a)+'" /> </svg></div>'}},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return'<div class="d-collective-access" data-b="'+Mu.dotBlockRoot(t,"d-collective-access")+'">'+a.render({text:t.text||i18n("d-collective-access","Совместный доступ"),class:t.class||"",style:t.style||""})+"</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(879),s=i(607),o=i(151),r=i(880),function(t){var e='<div class="d-concert-inhouse" data-b="'+__escape(Mu.dotBlockRoot(t,"d-concert-inhouse",!0))+'">',i=t.afishaUrl.includes("?")?"&":"?",n=t.afishaUrl+i+"utm_source=music&utm_medium=artist";if(t.images.length){var l=a.random(0,t.images.length-1),c=t.images[l].replace("%%","s420x280");e+='<a class="d-concert-inhouse__showcase"href="'+__escape(n)+'"target="_blank"rel="noopener"style="background-image: url(\''+c+"')\"></a>"}else e+='<a class="d-concert-inhouse__showcase d-concert-inhouse__showcase-nopic" href="'+__escape(n)+'"></a>';return e+='<div class="d-concert-inhouse__ticket">',t["data-session-id"]&&(e+=r.render({sessionId:t["data-session-id"],template:"button-bilet_concert-inhouse"})),e+='</div><div class="d-concert-inhouse__content"><div class="d-concert-inhouse__date"><span class="d-concert-inhouse__date-day">'+__escape(s(t.datetime,"%d","",!0))+'</span><span class="d-concert-inhouse__date-month">'+__escape(s(t.datetime,"%h","",!0))+'</span></div><div class="d-concert-inhouse__details">'+o.render({class:"d-concert-inhouse__title",text:t.concertTitle,href:n})+'<span class="d-concert-inhouse__address">'+__escape(t.city)+'<span class="separator">&nbsp;</span>'+__escape(t.place)+"</span>",t.contentRating&&(e+='<span class="d-concert-inhouse__content-rating"><span class="separator">&nbsp;</span>'+__escape(t.contentRating)+"</span>"),e+="</div></div></div>"})},function(t,e,i,n){t.exports={random:function(t,e){var i=t-.5+Math.random()*(e-t+1);return i=Math.round(i)}}},function(t,e,i,n){var a={render:i(881)};clientSide&&(a.controller=i(883)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(73),s=i(882),function(t){var e="";return"ru"==a().tld&&(t.sessionId?e+='<y:ticket data-session-id="'+__escape(t.sessionId)+'" data-template="'+__escape(t.template)+'" class="button-bilet" data-b="'+__escape(Mu.dotBlockRoot(t,"button-bilet",!0))+'">'+s(t)+"</y:ticket>":t.eventId&&(e+='<y:ticket data-event-id="'+__escape(t.eventId)+'" data-region-id="'+a().city+'" data-template="'+__escape(t.template)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"button-bilet",!0))+'" class="button-bilet">'+s(t)+"</y:ticket>")),e})},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){var i="";return"button-bilet_concert-inhouse"===e.template?i+='<div id="'+__escape(e.template)+'" class="button-bilet_concert-inhouse">'+t.render({text:i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"),size:"S",type:"action"})+"</div>":"button-bilet_concert-page"===e.template?i+='<div id="'+__escape(e.template)+'" class="button-bilet_concert-page">'+t.render({text:i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"),icon:"ticket-thin",size:"L",rounded:!0,type:"action"})+"</div>":"button-bilet_moana"===e.template&&(i+='<div id="button-bilet_moana" class="button-bilet_moana"><span class="page-moana__map-moana_button page-moana__map-moana_button_ticket">'+__escape(i18n("button-bilet","[feature/rip-bilet-btn]Купить билет"))+"</span> </div>"),i}}()},function(t,e,i,n){var a,s;Mu.blocks.register("button-bilet",(a=i(25),(s=function(){}).init=function(){},s.initTicketDealer=a.debounce(500,!1,(function(){var t=Mu.settings.bilet,e=document.location.hostname||document.location.host;if(t&&"ru"===e.slice(-2))if(window.ticketDealer)window.ticketDealer.scan();else{var i=window.ticketDealer=[],n="";try{n=ya.music.info.platform.type}catch(t){}"pc"===n?(i.push(["setDefaultClientKey",t.clientKey]),i.push(["watchClicks",!0])):(i.push(["setDefaultClientKey",t.mobileClientKey]),i.push(["forceMobile",!0]),i.push(["watchClicks",!0]));var a="?"+(new Date).getTime()*Math.random(),s=document.createElement("script"),o=document.getElementsByTagName("script")[0];s.async=!0,s.src=t.url+a,o.parentNode.insertBefore(s,o)}})),s.prototype.init=function(){this.$cont=$(this.container),s.initTicketDealer()},s))},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(594),s=i(667),o=i(785),r=i(858),function(t){var e="";if("album"===t.context)e+=a.render({album:t.contextData,hideYear:!0});else if("artist"===t.context)e+=s.render({artist:t.contextData});else if("playlist"===t.context)e+=o.render({playlist:t.contextData,showStamp:!0});else if("station"===t.context)for(var i,n=0;n<t.length;n++)i=t[n],e+=r.render({item:i});return e})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(306);return function(i){var n="",a=e(i);return n+='<div class="d-context-menu ',i.rootClass&&(n+=i.rootClass),n+='" data-b="'+__escape(Mu.dotBlockRoot(i,"d-context-menu",!0))+'">'+t.render({size:i.size||"L",icon:"dots-horisontal",rounded:!0,class:"d-context-menu__opener "+(i.class||""),type:i.type||"transparent",disabled:a.isDisabled&&a.isDisabled(),not_handled:!0})+"</div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="d-emojis" data-b="'+__escape(Mu.dotBlockRoot(e,"d-emojis",!0))+'">'+t.render({type:"flat",size:"L",class:"d-emojis__button",icon:"emoji"})+"</div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(888),function(t){var e='<div class="d-empty'+__escape(a.additionalClass(t))+'"><div class="d-empty__desc"><p class="d-empty__title">'+t.title+"</p>",i=function(){var e="";return t.isOwner?e+=t.subtitle:t.subscribed||(e+=i18n("d-empty","[feature/mfront-2124]Пользователь ещё ничего не добавил в этот раздел.")),e}();i&&(e+='<p class="d-empty__subtitle">'+i+"</p>"),e+="</div>";var n=a.getUrl(t);return t.isOwner&&(e+=" ",t.img&&(e+=' <div class="d-empty__img"> <img src="'+__escape(n.url)+'" alt="Empty" /> </div> '),e+=" ",t.btn&&(e+=' <div class="d-empty__btn"> '+t.btn+" </div> "),e+=" ",t.link&&(e+=' <div class="d-empty__link"> '+t.link+" </div> ")),e+="</div>"})},function(t,e,i,n){t.exports={additionalClass:function(t){var e="";return t.isOwner||(e+=" d-empty_short"),t.img||(e+=" d-empty_no-img"),e},getUrl:function(t){var e;return"like"!==t.img&&"like-album"!==t.img&&"like-artist"!==t.img||(e="/blocks/d-empty/"+t.img+".png"),{url:e}}}},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(864),s=i(294),o=i(890),r=i(897),l=i(345),c=i(347),d=function(t){var e="";return t.typeForFrom?e+=__escape(t.typeForFrom):e+=__escape(t.type),e},u=function(t){var e='<div class="d-event" data-b="'+__escape(Mu.dotBlockRoot(t,"d-event",!0))+'" data-card="'+__escape(a(d(t)))+'">'+Mu.render("editorial",t.promo,[t.pageName,t.full]);return"mix"!==t.pageName&&(e+=l(t)),e+="</div>"},p=function(t){var e='<div class="d-event d-event_promo '+__escape(t.class||"")+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-event",!0))+'" data-card="'+__escape(a(d(t)))+'">'+Mu.render("promo",t.promo);return"mix"!==t.pageName&&(e+=l(t)),e+="</div>"},function(t){var e="";return c.isLayoutType(t)?e+=function(t){var e='<div class="d-event" data-b="'+__escape(Mu.dotBlockRoot(t,"d-event",!0))+'" data-card="'+__escape(a(d(t)))+'">';return"mix"!==t.pageName&&(e+=l(t)),t.title&&(e+='<div class="d-event__title typo-h3_regular deco-typo">'+r(t)+"</div>"),e+=o(t)+"</div>"}(t):c.isPromotionType(t)&&(c.showEventPromo(t)?e+=p(Object.assign({},t,{class:c.classEvent(t)})):"playlists"===t.promo.promotionType?e+=u(Object.assign({},t,{full:t.full||!s().uid})):c.showEventEditorial(t)?e+=u(t):e+=p(t)),e})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(891),s=i(652),o=i(894),r=i(895),l=i(347),c=i(594),d=function(t){var e="";return t.radioIsAvailable&&"all"!==t.genre&&(e+='<div class="d-event__controls">'+a.render({text:i18n("d-event","[feature/mfront-3789]Слушать поток жанра"),status:{available:!0},genre:t.genreRadio})+"</div>"),e},u=function(t){var e="";return 1===t.albums.length?e+='<div class="d-event__albums d-event__albums_single">'+c.render({album:t.albums[0]})+"</div>":e+=o({entities:t.albums,entityType:"album",limit:l.limit("album")}),e},p=function(t){return""+o({entities:t.artists,entityType:"artist",limit:l.limit("artist")})},function(t){var e="";if("shared-item"===t.type&&"playlist"===t.shareType)e+=r(t.playlist);else if("new-playlists"===t.type&&t.playlists)e+=o({entities:t.playlists,entityType:"playlist",limit:1});else if("genre-top"===t.type)t.tracks&&(e+=o({entities:t.tracks,entityType:"track",limit:l.limit("track")})),e+=d(Object.assign(t,{genreRadio:t.genre}));else if("social-popular-tracks"===t.type)e+=function(t){for(var e,i="",n=0;n<t.length;n++)e=t[n],i+=s.render({track:e.track,listIndex:n,type:"withCover"});return i}(t.socialTracks);else if("never-heard-from-library"===t.type)t.tracks?e+=o({entities:t.tracks,entityType:"track",limit:l.limit("track")}):t.albums?e+=u(t):t.artists&&(e+=p(t));else if("last-week-personal-popular-artists"===t.type&&t.artists)e+=p({artists:t.artists});else if(l.isTrackType(t)&&t.tracks)e+=o({entities:t.tracks,entityType:"track",limit:l.limit("track")});else if(l.isArtistType(t)&&t.artists)e+=p(t);else if("recommended-similar-artists"===t.type&&t.similarArtists)e+=p({artists:t.similarArtists});else if(l.isAlbumType(t)&&t.albums)e+=u(t);else if("recommended-similar-genre"===t.type&&t.tracks)e+=o({entities:t.tracks,entityType:"track",limit:l.limit("track")})+d(Object.assign(t,{genreRadio:t.similarGenre}));else if("recommended-artists-with-artists-from-history"===t.type){e+='<div class="d-event__artists">';for(var i,n=0;n<t.artistsWithArtistsFromHistory.length;n++)i=t.artistsWithArtistsFromHistory[n],e+=Mu.render("artist",{artist:i.artist,artists:i.artistsFromHistory,artistsText:i18n("d-event","Похоже на ")});e+="</div>"}else"recommended-genre-radio"===t.type&&(e+='<div class="d-event__radios">'+Mu.render("radio",t.genres[t.radioIsAvailable])+"</div>");return e})},function(t,e,i,n){var a={render:i(892)};clientSide&&(a.controller=i(893)),t.exports=a},function(t,e,i,n){t.exports=function(t){var e='<div class="button-radio deco-button deco-button-transparent';t.status.available||(e+=" button-radio_hidden"),e+='"data-b="'+__escape(Mu.dotBlockRoot(t,"button-radio",!0))+'"> ';var i=(t.class||"")+" js-radio button2_rounded deco-button-stylable";e+=" ";var n=t.isMain?" button-radio_active local-icon-theme-white":" button2_hollow";return e+=Mu.render("button2",{icon:"radio",text:t.text},["",i+n])+"</div>"}},function(t,e,i,n){Mu.blocks.register("button-radio",function(){var t,e,i,n,a,s=function(){};return s.init=function(a){t=a.get("seq"),e=a.get("froms"),i=a.get("dataSrc"),n=a.get("blocks").get("force-auth-tooltip"),this.domDelegate("click",(function(t){var e=Mu.blocks.forElem(this);e&&e.onClick(t)})),t.on(Mu.PlayFlow.EVENT_CHANGE,s.onSeqChanged)},s.onSeqChanged=function(){a&&(a.finished?(a.$icon.toggleClass("icon_rotate d-icon_rotate-animation",!1),s.clearCurrent()):a.finished=!0)},s.clearCurrent=function(){a&&(clearTimeout(a.maxDelay),clearTimeout(a.minDelay),a.finished=!1,a=null)},s.prototype.init=function(){this.$cont=$(this.container),this.$icon=this.$cont.find(".d-icon").eq(0),this.data.status&&!this.data.status.error||this.refresh()},s.prototype.onClick=function(i){var o=this.getRadioContext();if(o&&!a){var r=$(".button-radio");n.setTarget(r);var l=e.getBlockFrom(this.container,"radio"),c=this.getParams();o.from=l,(a=this).$icon.toggleClass("icon_rotate d-icon_rotate-animation",!0),a.minDelay=setTimeout(s.onSeqChanged,1e3),a.maxDelay=setTimeout((function(){a&&a.$icon.toggleClass("icon_rotate d-icon_rotate-animation",!1),s.clearCurrent()}),5e3),t.playRadio(o,c,i)}},s.prototype.refresh=function(){var t=this,e={};t.data.artist?(e.radio_tag=t.data.artist.id,e.radio_type="artist"):t.data.genre?(e.radio_tag=t.data.genre,e.radio_type="genre"):t.data.user?(e.radio_tag=t.data.user.uid,e.radio_type="user"):t.data.track&&(e.radio_tag=t.data.track.id,e.radio_type="track"),i.get("radio-available",e).then((function(e){t.$cont.toggleClass("button-radio_hidden",!e.available)}))},s.prototype.getRadioContext=function(){var t,e;if(this.data.genre){var i=yr.externals.genreName(this.data.genre).toLowerCase();t={shortTitle:i,title:i18n("button-radio","[feature/mfront-3789]Поток жанра")+" "+i,href:"/genre/"+this.data.genre}}else this.data.artist?t={shortTitle:e=this.data.artist.name,title:i18n("button-radio","[feature/mfront-3789]Поток исполнителей, похожих на")+" "+e,href:"/artist/"+this.data.artist.id}:this.data.track?t={shortTitle:e=this.data.track.title,title:i18n("button-radio","[feature/mfront-3789]Поток треков, похожих на")+" "+e,href:"/track/"+this.data.track.id}:this.data.user&&(t={shortTitle:e=this.data.user.name,title:i18n("button-radio","[feature/mfront-3789]Потоки пользователя")+" "+e,href:"/users/"+this.data.user.login+"/playlists"});return t},s.prototype.getParams=function(){var t;return this.data.genre?t={radio_tag:this.data.genre,radio_type:"genre"}:this.data.artist?t={radio_tag:this.data.artist.id,radio_type:"artist"}:this.data.track?t={radio_tag:this.data.track.id,radio_type:"track"}:this.data.user&&(t={radio_tag:this.data.user.uid,radio_type:"user"}),t},s}())},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(293),s=i(619),o=i(652),r=i(667),l=i(594),c=i(895),function(t){var e="",i=t.limit?t.entities.slice(0,t.limit):t.entities,n=t.limit?t.entities.slice(t.limit):"",d=n.length;e+='<div class="d-event__'+__escape(t.entityType)+'s">';for(var u,p=0;p<i.length;p++)u=i[p],"playlist"===t.entityType?e+=c(u):"track"===t.entityType?e+=o.render({track:u,listIndex:p,type:"withCover",showChartPosition:!0}):"album"===t.entityType?e+=l.render({album:u}):"artist"===t.entityType&&(u.augmentedArtist?e+=r.render(u.augmentedArtist):e+=r.render(u));if(d){var h={playlist:a(d,i18n("d-event","[feature/hide-tracks]Ещё один плейлист|Ещё %s плейлиста|Ещё %s плейлистов|")),artist:a(d,i18n("d-event","[feature/hide-tracks]Ещё один артист|Ещё %s артиста|Ещё %s артистов|")),album:a(d,i18n("d-event","[feature/hide-tracks]Ещё один альбом|Ещё %s альбома|Ещё %s альбомов|")),track:a(d,i18n("d-event","[feature/hide-tracks]Ещё один трек|Ещё %s трека|Ещё %s треков|"))},_=function(){for(var e,i="",a=0;a<n.length;a++)e=n[a],"track"===t.entityType?i+=o.render({track:e,listIndex:a,type:"withCover",showChartPosition:!0}):"album"===t.entityType?i+=l.render({album:e}):"artist"===t.entityType?e.augmentedArtist?i+=r.render(e.augmentedArtist):i+=r.render(e):i+=Mu.render(t.entityType,e);return i}();e+=s.render({size:"L",text:h[t.entityType],html:_})}return e+="</div>"})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(896),s=i(293),o=i(604),r=i(318),l=i(151),c=i(313),d=i(515),u=i(226),p=i(381),function(t){var e="",i="/users/"+__escape(t.playlist.owner.login)+"/playlists/"+__escape(t.playlist.kind);return e+='<div class="d-event__playlist" data-b="'+__escape(Mu.dotBlockRoot(t,"d-event__playlist",!0))+'">'+Mu.render("playlist-cover",t.playlist,"d-event__playlist-image")+'<div class="d-event__playlist-title">'+l.render({text:t.playlist.title,href:a(i)})+'</div><div class="d-event__playlist-info">'+u.render({user:t.playlist.owner,showName:!0,showLink:!0,showAvatar:!0,class:"d-event__playlist-owner"})+s(t.playlist.trackCount,i18n("d-event","%s трек|%s трека|%s треков|"))+'</div><div class="d-event__playlist-description">',t.someArtists&&(e+=__escape(i18n("d-event","В плейлисте:"))+o.render({artists:t.someArtists}),t.artistsCount>t.someArtists.length&&(e+=__escape(", …"))),e+='</div><div class="d-event__playlist-controls">'+p.render({type:"playlist",item:t.playlist,text:i18n("d-event","Слушать")}),3!=t.playlist.kind&&(e+=r.render({playlist:t.playlist,theme:"flat",size:"S"})),e+=c.render({playlist:t.playlist,style:"flat",button:{size:"S"}})+d.render({playlist:t.playlist,theme:"flat",btnSize:"M",class:"local-icon-theme-black"})+"</div></div>"})},function(t,e,i,n){t.exports=function(t){var e=/(?:^|\/)#!\/?(.*)$/.exec(t);return e?"/"+e[1]:t}},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(593),s=i(151),o=i(226),r=i(347),l=function(t){var e="";return"playlist"===t.type?e+=s.render({text:t.text,href:"/users/"+t.login+"/playlists/"+t.kind,style:"marked"}):"track"===t.type?e+=s.render({text:t.text,href:"/album/"+t.albumId+"/track/"+t.id,style:"marked"}):"label"===t.type?e+=s.render({text:t.text,href:"/label/"+t.id,style:"marked"}):"user"===t.type?e+=o.render({user:r.getUserData(t),showName:!0,showLink:!0,markedLink:!0}):"vkUser"===t.type?e+=s.render({text:t.text,href:"https://vk.com/id"+t.vkUserId,target:"_blank",style:"marked"}):"genre"===t.type?e+=s.render({text:t.text,href:a(t.name),style:"marked"}):"artist"===t.type?171==t.id?e+=__escape(t.text):e+=s.render({text:t.text,href:"/artist/"+t.id,style:"marked"}):"text"===t.type&&(e+=__escape(t.text)),e},function(t){for(var e,i="",n=0;n<t.title.length;n++)e=t.title[n],i+=l(e);return t.subtitle&&(i+='<div class="d-event__subtitle">'+l(t.subtitle)+"</div>"),i})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(899);return function(i){var a='<div class="d-generic-intro" data-b="'+__escape(Mu.dotBlockRoot(i,"d-generic-intro",!0))+'">';return i.pic&&(i.pic.html?a+=i.pic.html:i.pic.icon?a+='<span class="d-generic-intro__pic" '+n.picStyle(i.pic)+">"+e.render({icon:i.pic.icon})+"</span>":a+='<img class="d-generic-intro__pic" src="'+__escape(i.pic.src)+'" '+n.picStyle(i.pic)+"/>"),a+='<h1 class="d-generic-intro__header typo typo-h1_small">'+__escape(i.header)+'</h1><div class="d-generic-intro__description typo deco-typo-secondary">'+i.description+"</div>"+t.render({size:i.button.size||"XL",text:i.button.text,class:"d-generic-intro__button",type:"action",rounded:!0})+"</div>"}}()},function(t,e,i,n){t.exports={picStyle:function(t){var e="";if(t.style){var i=Object.keys(t.style);if(i.length){e+='style="';for(var n=0;n<i.length;n++)t.style.hasOwnProperty(i[n])&&(e+=i[n]+": "+t.style[i[n]]+";");e+='"'}}return e}}},function(t,e,i,n){t.exports=function(t){var e='<div class="d-generic-page-head">';return t.aside&&(e+='<div class="d-generic-page-head__aside">'+t.aside+"</div>"),e+='<div class="d-generic-page-head__main"><div class="d-generic-page-head__main-top">'+t.main+"</div>",(t.actions||t.sideActions)&&(e+='<div class="d-generic-page-head__main-bottom">',t.actions&&(e+='<div class="d-generic-page-head__main-actions">'+t.actions+"</div>"),t.sideActions&&(e+='<div class="d-generic-page-head__main-side-actions">'+t.sideActions+"</div>"),e+="</div>"),e+="</div></div>"}},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(592),o=i(593),function(t){var e="";t.genres=t.genres&&Array.isArray(t.genres)?t.genres:[t.genres],t.style=t.style||"muted",e+='<div class="d-genres" data-b="'+__escape(Mu.dotBlockRoot(t,"d-genres",!0))+'">';for(var i,n=0;n<t.genres.length;n++)if(i=t.genres[n])if(n&&(e+='<span class="',t.class&&(e+=__escape(t.class)),e+='">, </span>'),t.noLinks)e+='<span class="',t.class&&(e+=__escape(t.class)),e+='">'+__escape(s(i,!0))+"</span>";else{var r=Object.assign({},t,{href:o(i),title:s(i,!0),text:s(i,!0)});e+=a.render(r)}return e+="</div>"})},function(t,e,i,n){var a;t.exports=(a=i(903),function(t){var e='<div class="d-genres-popup typo deco-popup-menu deco-popup-menu__item-group';return t.class&&(e+=" "+__escape(t.class)),e+='">'+a(t)+"</div>"})},function(t,e,i,n){t.exports=function(){var t=i(904),e=i(141),n=i(143),a=function(t,e){return t.id===e||t.subGenres&&!!t.subGenres.find((function(t){return t.id===e}))};return function(i){var s="";i.hasBack&&(s+='<div class="d-genres-popup__back deco-popup-menu__item-group"><div class="d-addition__item deco-popup-menu__item">'+e.render({size:"M",class:"d-genres-popup__icon-back",icon:"arrow-left"})+'<span class="d-genres-popup__genre-text">'+__escape(i18n("d-genres-popup","Назад"))+"</span></div></div>");for(var o,r=0;r<i.list.length;r++)o=i.list[r],s+='<div class="d-genres-popup__genre d-addition__item deco-popup-menu__item ',a(o,i.current)&&(s+=" deco-popup-menu__item_checked"),s+='"d-type="'+__escape(o.id)+'"',o.subGenres&&(s+='d-sub="'+__escape(JSON.stringify(o.subGenres))+'"'),s+='><span class="d-genres-popup__genre-text">'+__escape(t(o.id))+"</span>",o.subGenres&&(s+=e.render({size:"M",icon:"arrow-right-thin",class:"d-genres-popup__genre-icon"})),s+="</div>";return i.button&&(s+='<div class="d-genres-popup__button">'+n.render(i.button)+"</div>"),s}}()},function(t,e,i,n){t.exports=i(181)},function(t,e,i,n){var a,s,o;t.exports=(a=i(318),s=i(515),o=i(379),function(t){var e='<div class="d-hover" data-b="'+Mu.dotBlockRoot(t,"d-hover",!0)+'"><div class="d-hover__actions">';return t.album?e+=a.render({album:t.album,theme:"hover"})+o.render({type:"album",item:t.album,class:"d-hover__play"})+s.render({album:t.album,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}):t.artist?e+=a.render({artist:t.artist,theme:"hover"})+o.render({type:"artist",item:t.artist,tracks:t.tracks,trackIds:t.trackIds,class:"d-hover__play"})+s.render({artist:t.artist,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}):t.playlist&&(3!==t.playlist.kind&&(e+=a.render({playlist:t.playlist,theme:"hover"})),e+=o.render({type:"playlist",item:t.playlist,class:"d-hover__play"}),3!==t.playlist.kind&&(e+=s.render({playlist:t.playlist,theme:"hover",btnSize:"M",class:"local-icon-theme-black"}))),e+='</div><div class="d-hover__overlap"></div></div>'})},function(t,e,i,n){t.exports=function(t){return'<div class="d-lang-switcher" data-b="'+__escape(Mu.dotBlockRoot(t,"d-lang-switcher",!0))+'"><div class="d-select"></div></div>'}},function(t,e,i,n){t.exports=function(){var t=i(151),e=i(143),n=i(141);return function(i){var a='<span class="d-links" data-b="'+__escape(Mu.dotBlockRoot(i,"d-links",!0))+'">',s=function(){var t="";return i.title?t+=__escape(i.title):i.content&&(t+=i.content),t+=n.render({icon:"arrow-up",rotate:"upside-down",class:"d-links__toggle-icon"})}();if("buttonish"!==i.type){var o=Object.assign({content:s,style:i.muted?"translucent":"",class:"d-links__toggle"},i.toggleOptions);a+=t.render(o)}else{o=Object.assign({text:i.title,icon:"arrow-up",iconRotation:"upside-down",iconPosition:"right",class:"d-links__toggle"},i.toggleOptions);a+=e.render(o)}a+='<ul class="d-links__popup popup deco-popup-menu deco_shadow-big">';for(var r,l=0;l<i.links.length;l++)a+='<li class="d-links__link deco-popup-menu__item">',(r=i.links[l]).class+=" d-links__link_text",r.noHoverColor=!0,a+=t.render(r)+"</li>";return a+="</ul></span>"}}()},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return'<div class="d-more '+__escape(e.class||"")+'"data-b="'+__escape(Mu.dotBlockRoot(e,"d-more",!0))+'">'+t.render({size:e.size,text:e.text,type:e.type,rounded:e.rounded})+"</div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(910),s=i(219),function(t){return"<noindex>"+s.render({from:t.metrika+"Adv",content:a(t),mainTip:"ad"})+"</noindex>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(151),n=i18n("no-ads","Отключить рекламу");return function(i){var a="",s='data-b="'+Mu.dotBlockRoot(i,"d-no-ads",!0)+'"';return i.button?(a+='<span class="d-no-ads '+__escape(i.class)+'" '+__escape(s)+">",i.button.size=i.button.size||"L",i.button.text=i.button.text||n,i.button.class="d-no-ads__button "+(i.button.class||""),i.button.type=i.button.type||"action",a+=t.render(i.button)+"</span>"):a+='<span class="d-no-ads '+__escape(i.class)+'" '+__escape(s)+">"+e.render({text:n,style:"marked"})+"</span>",a}}()},function(t,e,i,n){t.exports=function(){i(143);const t=i(912);return function(e){var i="";let n=Mu.experiments.advForTest?"R-A-740891-1":"R-A-336551-5";return i+='<div class="d-overhead" data-b="'+__escape(Mu.dotBlockRoot(e,"d-overhead",!0))+'"><div class="d-overhead__content">'+t.render({type:"brick",nohide:!0,settings:{order:50,enabled:!0,ru:{blocks:[n],adblocks:[n]},uk:{blocks:[n],adblocks:[n]}}})+"</div></div>"}}()},function(t,e,i,n){var a={render:i(758)};clientSide&&(a.controller=i(131)),t.exports=a},function(t,e,i,n){t.exports=function(){i(143),i(451);return function(t){return'<div class="d-overhead-mobile" data-b="'+__escape(Mu.dotBlockRoot(t,"d-overhead-mobile",!0))+'"><div class="d-overhead-mobile__content"></div></div>'}}()},function(t,e,i,n){t.exports=function(t){var e="";return t.href?e+='<a class="d-pill deco-link-pill '+__escape(t.className?t.className:"")+'" href="'+__escape(t.href)+'" title="'+__escape(t.title?t.title:t.text)+'">'+__escape(t.text)+"</a>":e+='<span class="d-pill deco-link-pill '+__escape(t.className?t.className:"")+'" title="'+__escape(t.title?t.title:t.text)+'">'+__escape(t.text)+"</span>",e}},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return'<div class="d-playlist-authors" data-b="'+Mu.dotBlockRoot(t,"d-playlist-authors")+'">'+a.render({text:t.text||i18n("d-playlist-authors","Изменить"),class:t.class||"",style:t.style||""})+"</div>"})},function(t,e,i,n){t.exports=function(){var t=i(917),e=i(143);return function(i){return'<div class="d-search d-search_closed" data-b="'+__escape(Mu.dotBlockRoot(i,"d-search",!0))+'"><div class="d-search__button__container">'+e.render({type:"flat",icon:"loupe",attrs:{tabindex:"2",type:"submit"},class:"d-search__button"})+"</div> "+t.render()+"</div>"}}()},function(t,e,i,n){var a={render:i(918)};clientSide&&(a.controller=i(921)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(139),i(143),s=i(919),function(t){return'<div class="d-suggest" data-b="'+__escape(Mu.dotBlockRoot(t,"d-suggest",!0))+'">'+a.render({size:"M","field-size":"S",class:"d-suggest__input deco-input__suggest",placeholder:i18n("d-suggest","[feature/search-podcast]Трек, альбом, исполнитель, подкаст"),suggest:!0,buttonRight:!1,buttonLeft:!0,checkDirection:!0,maxlength:100})+s(Object.assign({},{"popup-size":"S"},t))+"</div>"})},function(t,e,i,n){var a;t.exports=(a=i(920),function(t){return'<div class="'+__escape(a.popupClasses(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-suggest__popup",!0))+'"><div class="d-suggest__popup-content d-suggest__popup-content_empty"></div></div>'})},function(t,e,i,n){const{needsUserToBuyOption:a}=i(301);t.exports={albumId:function(t){return t.albumId?t.albumId:t.track.albums&&t.track.albums[0]&&t.track.albums[0].id},getEntry:function(t){var e=this.albumId(t);return{track:t.track,album:e?{id:e}:null}},isPodcast:function(t){return t.includes("podcast")},isAvailableForBookmate:function(t){return a(t)},isMobile:function(){var t={};try{t=ya.music.info.platform}catch(t){}if("pc"!==t.type&&("ios"===t.os||"android"===t.os||"windows"===t.os))return!0},album:function(t,e){if(t){if(!e)return t[0];for(var i,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i?void 0:t[0]}},popupClasses:function(t){return["d-suggest__popup deco-popup-suggest-menu","d-suggest__popup_size-"+t["popup-size"]].join(" ")}}},function(t,e,i,n){var a=i(25),s=i(922),o=i(923),r=i(931),l=i(378);Mu.blocks.register("d-suggest",function(){var t,e,i,n,c,d,u,p,h,_,m,g="suggest-history",f="deco-pane_show-hover-pressed",y="d-suggest-item__buttons",v="d-suggest__item",b=function(){Mu.eventize(this)};return b.init=function(a){t=a.get("pages"),e=a.get("dataSrc"),i=Mu.Storage.create("localStorage"),n=a.get("auth"),c=a.get("navigation"),d=a.get("hiliter"),u=a.get("metrika"),p=a.get("blocks").get("payment-popup-controller")},b.prototype.init=function(){var e=this;$(document),e.data=e.data||{},e.data.lastValue="",e.$cont=$(e.container),e.$input=e.$cont.find(".d-suggest__input"),e.$popup=e.$cont.find(".d-suggest__popup"),e.input=Mu.blocks.forElem(e.$input.get(0),"d-input"),e.popup=e.getPopup(),e.currentItem=-1,h=$.cookie("yandexuid"),e.showResults=e.showResults.bind(e),e.onLoading=e.onLoading.bind(e),e.onPageLoaded=e.onPageLoaded.bind(e),e.onFocus=e.onFocus.bind(e),e.onKeyUp=a.throttle(300,!1,e.onKeyUp.bind(e)),e.onKeyDown=e.onKeyDown.bind(e),e.onDisabledItemClick=e.onDisabledItemClick.bind(e),e.showAllResultsPage=e.showAllResultsPage.bind(e),e.onItemClick=e.onItemClick.bind(e),e.onSuggestButtonClick=e.onSuggestButtonClick.bind(e),e.chooseHistoryItem=e.chooseHistoryItem.bind(e),e.itemMouseEnter=e.itemMouseEnter.bind(e),e.itemMouseLeave=e.itemMouseLeave.bind(e),e.outsidePopupClick=e.outsidePopupClick.bind(e),e.recountLikes=e.recountLikes.bind(e),e.metrikaDataOnButton=e.metrikaDataOnButton.bind(e),e.$cont.on("click",".suggest-button",e.onSuggestButtonClick),e.$popup.on("click","."+v,e.onItemClick),e.$cont.on("mouseenter","."+v,e.itemMouseEnter),e.$cont.on("mouseleave","."+v,e.itemMouseLeave),e.$cont.on("click",".d-suggest__tooltip .d-link",(function(){p.show({from:"suggest"})})),e.$cont.on("click",".d-suggest__addition",(function(t){e.metrikaDataOnButton(t,"suggest_add")})),e.input.on("focus",e.onFocus),e.input.on("keyup",e.onKeyUp),e.input.on("keydown",e.onKeyDown),e.delegate("like",e.recountLikes),e.delegate("unlike",e.recountLikes),e.delegate("button-play.click",(function(t){e.setPlaying(t,"click")})),e.delegate("button-play.changed",(function(t){e.setPlaying(t,"changed")})),t.on("loading",e.onLoading),t.on("loaded",e.onPageLoaded)},b.prototype.setPlaying=function(t,e){var i,n=$(t.target.container).closest("."+v);n.hasClass("d-suggest__item_playing")?i="suggest_pause_button":(this.$allItemsArray.removeClass("d-suggest__item_playing"),n.addClass("d-suggest__item_playing"),i="suggest_play_button"),t.state||this.$allItemsArray.removeClass("d-suggest__item_playing"),"click"===e&&this.metrikaDataOnButton(t,i)},b.prototype.onLoading=function(t){this.close(),"search"!==t.name&&this.input.value("")},b.prototype.onPageLoaded=function(t){"search"===t.name&&(t.data.result.misspell.corrected?this.input.value(t.data.result.misspell.result):this.input.value(t.data.query.text))},b.prototype.onFocus=function(){this.currentItem=-1,this.showResults()},b.prototype.onSuggestButtonClick=function(t){this.showAllResultsPage();var e={url:"/search?text="+encodeURIComponent(this.input.value())};this.metrikaDataOnButton(t,"suggest_search_button",e)},b.prototype.onItemClick=function(t){var e=this.itemData(t),i={},n=$(t.target).attr("href")||"/search?text="+encodeURIComponent(e.$target.text());$(t.target).closest(".d-suggest__history").size()?(this.chooseHistoryItem(t.target),e.$target.closest(".d-suggest__delete-history").size()||(i.url=n),this.metrikaDataOnItem(t,i),m=0):$(t.target).closest("."+y).size()?$(t.target).closest(".button_disabled").size()&&this.onDisabledItemClick(t):(i.url=n,this.metrikaDataOnItem(t,i),m=0,this.triggerEvent({type:"search-navigate"}))},b.prototype.onDisabledItemClick=function(t){var e=this.itemData(t),i=n&&n.isLoggedIn(),a=r({type:e.type,isLoggedIn:i});if(e.entity.results[e.indexEntityItem][e.type]&&e.entity.results[e.indexEntityItem][e.type].availableForPremiumUsers||e.entity.results[e.indexEntityItem].availableForPremiumUsers){var s=$(t.target).closest(".d-suggest-item__play");Mu.blocks.get("d-tooltip").show(s,{content:a,container:this.$cont,type:"alert",event:"click",side:"bottom",fade:!0,wide:!0,theme:"black",class:"d-suggest__tooltip",onShow:function(){$(t.currentTarget).addClass(f)},onHide:function(){$(t.currentTarget).find("."+y).removeClass("d-suggest-item__buttons_visible"),$(t.currentTarget).removeClass(f)}})}},b.prototype.onKeyDown=function(t){switch(t.which){case 40:t.preventDefault(),this.move("down");break;case 38:t.preventDefault(),this.move("up")}},b.prototype.onKeyUp=function(t){if(40!==t.keyCode&&38!==t.keyCode)switch(t.which){case 13:if(-1===this.currentItem){var e={url:"/search?text="+encodeURIComponent(this.input.value())};this.metrikaDataOnEnter("suggest_enter_button",e),this.showAllResultsPage()}else this.itemPressEnter();this.close();break;default:m=m||(new Date).getTime(),this.currentItem=-1,this.$subtext&&this.$subtext.html("&#171;"+__escape(this.input.value())+"&#187;"),this.showResults()}},b.prototype.outsidePopupClick=function(t){0===$(t.target).closest(".d-suggest").length&&0===$(t.target).closest(".d-suggest__addition").length&&this.popup.isOpen&&this.close()},b.prototype.itemMouseLeave=function(t){$(t.toElement).closest(".d-suggest__tooltip").size()||($(t.currentTarget).removeClass(f),$(t.currentTarget).find("."+y).removeClass("d-suggest-item__buttons_visible"))},b.prototype.itemMouseEnter=function(t){var e=$(t.currentTarget);this.currentItem=this.$allItemsArray.index(e),this.$allItemsArray.removeClass(f),e.addClass(f),e.find("."+y).addClass("d-suggest-item__buttons_visible")},b.prototype.move=function(t){switch(!this.$allItemsArray[this.currentItem]||$(this.$allItemsArray[this.currentItem]).removeClass(f),t){case"up":this.currentItem=this.currentItem<=-1?this.$allItemsArray.length-1:this.currentItem-1;break;case"down":this.currentItem=this.currentItem===this.$allItemsArray.length-1?-1:this.currentItem+1}$(this.$allItemsArray[this.currentItem]).addClass(f),-1!==this.currentItem&&this.scrollPosition()},b.prototype.scrollPosition=function(){var t=$(this.$allItemsArray[this.currentItem]),e=t.position().top+t.outerHeight(),i=this.$popuEntity.scrollTop();e>this.$popup.height()?this.$popuEntity.stop().animate({scrollTop:i+e-this.$popup.height()}):0!==this.currentItem?t.position().top<0&&this.$popuEntity.stop().animate({scrollTop:i-$(t).outerHeight()-e}):this.$popuEntity.stop().animate({scrollTop:0})},b.prototype.showHistory=function(){this.data={},this.data.history=this.getUserHistory();var t=this.data.history.requests;t&&t.length>0?this.show(this.data):this.close()},b.prototype.showResults=function(){var t=this,e=t.input.value().trim();e?t.data&&e===t.data.lastValue&&t.data.entities&&t.data.entities.length>0?t.show():t.findDataByText(e).then((function(i){return t.data.lastValue=e,i&&"ok"===i.status&&i.entities&&i.entities.length>0?(t.data.entities=i.entities,t.show(t.data),t.metrikaDataOnShowResults()):(t.data.entities=[],t.close()),delete t.deferPending,null}),(function(){})).catch(t=>console.log(t)):(t.data.lastValue="",t.data={},t.deferPending&&t.deferPending.reject(),t.showHistory(),m=(new Date).getTime(),t.metrikaDataOnShowResults())},b.prototype.itemPressEnter=function(){var t,e,i,n=this.$allItemsArray[this.currentItem],a=this.input.value().trim(),s=a&&a.length;if(n){i=this.itemData(null,n);var o=$(i.$target).find(".d-suggest-item__wrapper-link");o.size()&&(t=$(o).attr("href"))}if(this.$history&&this.$history.size())return this.chooseHistoryItem(n),e={url:t=this.input.value()?"/search?text="+encodeURIComponent(this.input.value()):null,type:"history",delete_history:0},t||$.extend(e,{delete_history:"clean_history"}),void this.metrikaDataOnEnter("suggest_enter_button",e);if(!n||$(n).closest(".d-suggest__all-results").size()){t="/search?text="+encodeURIComponent(this.input.value());try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}}else if($(n).closest(".d-suggest__item_all-results").size()){t="/search?text="+encodeURIComponent(this.input.value())+"&type="+i.type+"s";try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}}else if(i.type)try{c.navigateTo(t),this.triggerEvent({type:"search-navigate"})}catch(t){}e={url:t,query:a,query_length:s},this.metrikaDataOnEnter("suggest_enter_button",e)},b.prototype.chooseHistoryItem=function(t){var e=$(t).closest("."+v),i=e.text();if(e.hasClass("d-suggest__delete-history")||e.parent().hasClass("d-suggest__delete-history"))this.deleteHistory();else{this.input.value(i);try{c.navigateTo("/search?text="+encodeURIComponent(this.input.value()),!0),this.triggerEvent({type:"search-navigate"})}catch(t){}}this.close()},b.prototype.findDataByText=function(t){var i=(t||"").trim();this.deferPending&&this.deferPending.reject();var n=new s;this.deferPending=n;var a=window.location.pathname.startsWith("/search");return i?e.post("suggest",{text:i,from:a?"musicserp":"suggest"}).then(n.resolve,n.reject).catch(t=>console.log(t)):n.reject(),this.deferPending.promise().catch((function(t){throw t}))},b.prototype.showAllResultsPage=function(){this.close(),this.data.history||(this.data.history=this.getUserHistory()),this.input.value().trim()&&this.saveEnquiry();try{c.navigateTo("/search?text="+encodeURIComponent(this.input.value())),this.triggerEvent({type:"search-navigate"})}catch(t){}},b.prototype.getUserHistory=function(){try{_=JSON.parse(i.getItem(g))||[]}catch(t){_=[]}var t={};return _.forEach((function(e){return e.uid===n.user.uid&&e.yuid===h?t=e:null})),t},b.prototype.deleteHistory=function(){this.data.history=this.getUserHistory(),_.splice(_.indexOf(this.data.history),1),i.setItem(g,JSON.stringify(_)),this.triggerEvent({type:"search-delete-history"}),this.close()},b.prototype.saveEnquiry=function(){var t=this,e=t.data.history&&t.data.history.requests||[];if(!t.input.value().trim())return!1;e.forEach((function(i,n){i===t.input.value().trim()&&e.splice(n,1)})),e.length>=10&&e.pop(),e.unshift($.trim(t.input.value()));var a={uid:n.user.uid,yuid:h,requests:e};0===Object.keys(_).length?(Object.assign(_,a),i.setItem(g,JSON.stringify([a]))):(0===Object.keys(t.data.history).length&&(Object.assign(t.data.history,a),_.push(t.data.history)),i.setItem(g,JSON.stringify(_)))},b.prototype.recountLikes=function(t){var e=$(t.target.container).closest("."+v),i=t.data.count||0;i?e.find(".d-suggest-item__likes").removeClass("d-suggest-item__likes-none"):e.find(".d-suggest-item__likes").addClass("d-suggest-item__likes-none"),this.$like=e.find(".d-suggest-item__likes-number"),this.$like.text(l(i));var n="like"===t.type?"suggest_like":"suggest_unlike";this.metrikaDataOnButton(t,n)},b.prototype.getPopup=function(){return this.popup||(this.popup=new(Mu.blocks.get("popup"))(this.$popup,{resize:!0,persistent:!0,toggable:!1,fade:!1,position:{my:"left top",at:"left bottom-3",of:this.$input}}),this.popup.position()),this.popup},b.prototype.show=function(t){var e=this;if(t){var i=$(o(t));Mu.blocks.initPendingBlocks(i),e.popup.hide(),e.popup.$cont.find(".d-suggest__popup-content").replaceWith(i),e.$popuEntity=e.$cont.find(".d-suggest__entities"),e.$allItemsArray=e.$popup.find("."+v),e.$items=e.$popup.find(".d-suggest__items"),e.$history=e.$popup.find(".d-suggest__history"),e.$subtext=e.popup.$cont.find(".d-suggest__all-results__subtext")}e.$popup.slideDown(100,(function(){e.popup.show(),d.hiliteAll()})),e.$subtext.html("&#171;"+__escape(e.input.value())+"&#187;")},b.prototype.close=function(){var t=this;t.popup.$cont.slideUp(100,(function(){t.popup.hide()}))},b.prototype.itemData=function(t,e){var i={};return i.$target=e||$(t.target.container||t.target).closest("."+v),i.indexEntity=this.$items&&this.$items.index(i.$target.closest(".d-suggest__items")),i.indexAllItem=this.$allItemsArray&&this.$allItemsArray.index(i.$target.closest("."+v)),i.indexEntityItem=i.indexEntity&&$(".d-suggest__items:nth-child("+(i.indexEntity+2)+") ."+v).index(i.$target),i.entity=this.data.entities&&this.data.entities[i.indexEntity],i.type=i.entity&&i.entity.type,i},b.prototype.metrikaDataOnButton=function(t,e,i){var n=this.itemData(t)||null,a=n.$target.find(".d-suggest-item__wrapper-link").attr("href"),s={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:n.indexAllItem+1||null,type:n.type||null,type_click_position:n.indexEntityItem+1||null,url:a,time_from_first_symbol:((new Date).getTime()-m)/1e3};i&&$.extend(s,i),this.sendMetrika(e,s)},b.prototype.metrikaDataOnEnter=function(t,e){var i={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:this.currentItem+1,time_from_first_symbol:((new Date).getTime()-m)/1e3};e&&$.extend(i,e),this.sendMetrika(t,i)},b.prototype.metrikaDataOnItem=function(t,e){var i,n=this.itemData(t),a={query:this.input.value().trim(),query_length:this.input.value().trim().length,click_position:n.indexAllItem+1,type_click_position:-1===n.indexEntityItem?n.indexAllItem+1:n.indexEntityItem+1,time_from_first_symbol:((new Date).getTime()-m)/1e3};if($(t.target).closest(".d-suggest__all-results").size()||$(t.target).closest(".d-suggest__item_all-results").size())n.$target.closest(".d-suggest__history").size()||(i="suggest_more",a.type=n.type||"all");else{var s=n.$target.closest(".d-suggest__delete-history").size();i="suggest_link",a.type=n.type||"history",a.delete_history=s?"clean_history":0}e&&$.extend(a,e),this.sendMetrika(i,a)},b.prototype.metrikaDataOnShowResults=function(){var t,e=0,i=0,n=0,a=0,s=0,o=0;if(this.data.entities||this.data.history){var r;if(this.data.entities)for(r=0;r<this.data.entities.length;r++)switch(t=this.data.entities[r].results.length,this.data.entities[r].type){case"artist":e=t;break;case"album":n=t;break;case"track":i=t;break;case"podcast":s=t;break;case"podcast-episode":a=t;break;case"playlist":o=t}var l={query:this.input.value().trim(),query_length:this.input.value().trim().length,time_from_first_symbol:m?((new Date).getTime()-m)/1e3:0,artists:Math.min(3,e),all_artists:e>3?1:0,albums:Math.min(3,n),all_albums:n>3?1:0,tracks:Math.min(3,i),all_tracks:i>3?1:0,podcasts:Math.min(3,s),all_podcasts:s>3?1:0,"podcast-episodes":Math.min(3,a),"all_podcast-episodes":a>3?1:0,playlists:Math.min(3,o),all_playlists:o>3?1:0,history_count:this.data.history&&this.data.history.requests?this.data.history.requests.length:0};this.sendMetrika("suggest_shown",l)}},b.prototype.sendMetrika=function(t,e){var i=e;t&&((i={})[t]=e),u.count({suggest:i})},b}())},function(t,e,i,n){t.exports=i(26)},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(151),s=i(221),o=i(924),r=i(925),l=i(928),c=i(929),d=i(930),function(t){var e='<div class="d-suggest__popup-content deco-popup-suggest-menu">'+s.render({});if(!t.entities&&t.history)e+=d(t.history);else if(t.entities.length){var i='<span class="d-suggest__all-results__wrapper">'+__escape(i18n("d-suggest","[feature/suggest-update]Все результаты по"))+'<span class="d-suggest__all-results__subtext typo"></span></span>';e+='<div class="d-suggest__entities">'+a.render({content:i,href:"/search?text="+encodeURIComponent(t.lastValue),arrow:!0,class:"d-suggest__all-results typo deco-popup-suggest-menu__border_top d-suggest__item d-suggest__item_low",noHoverColor:!0,style:"muted"});for(var n,u=0;u<t.entities.length;u++)"album"===(n=t.entities[u]).type||"podcast"===n.type?e+=o({results:n.results,text:t.lastValue,type:n.type}):"artist"===n.type?e+=r({results:n.results,text:t.lastValue}):"track"===n.type||"podcast-episode"===n.type?e+=l({results:n.results,text:t.lastValue,type:n.type}):"playlist"===n.type&&(e+=c({results:n.results,text:t.lastValue}));e+="</div>"}return e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(920),e=i(378),n=(i(151),i(141)),a=i(318),s=i(379),o=i(389),r=i(293);i(267);return function(i){var l="",c=t.isPodcast(i.type);l+='<div class="d-suggest__items ',l+=c?"d-suggest__items_type_podcast":"d-suggest__items_type_album",l+='"><div class="d-suggest-items__title typo-caps">'+(c?i18n("d-suggest","[feature/mfront-4181]Подкасты и книги"):i18n("d-suggest","Альбомы"))+"</div>";for(var d,u=0;u<i.results.slice(0,3).length;u++){d=i.results.slice(0,3)[u],l+='<div class="d-suggest__item ',l+=c?"d-suggest__item_podcast":"d-suggest__item-album",l+='" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/album/'+__escape(d.album.id)+'"></a>'+o.render({album:d.album,size:"L",class:"d-suggest-item__img-cover"})+'<div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+__escape(d.album.title)+"</div>";var p=(d.album.userNewReleases||[]).length;l+='<div class="d-suggest-item__title-secondary typo-small typo-suggest-item '+__escape(c&&p?"deco_with-marker":"deco-typo-secondary")+'">',c?t.isAvailableForBookmate(d.album)?l+='<span class="d-suggest-item__with-option">'+__escape(i18n("d-suggest","[feature/mfront-4656]С Плюсом и опцией Букмейт"))+"</span>":p?l+=__escape(r(d.album.userNewReleases.length,i18n("d-suggest","[feature/new-episodes-counter]%s новый выпуск|%s новых выпуска|%s новых выпусков"))):(l+='<span class="d-suggest-item__likes',d.likesCount||(l+=" d-suggest-item__likes-none"),l+='"> '+n.render({icon:"heart",rotate:!1})+' <span class="d-suggest-item__likes-number"> '+e(d.likesCount)+" </span> </span>"):l+=" "+d.album.artists.map(t=>t.name).join(", "),l+='</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+s.render({type:"album",item:d.album})+"</div>",t.isMobile()||(l+='<div class="d-suggest-item__buttons-optional">'+a.render({album:d.album,theme:"flat",size:"S"})+Mu.render("d-addition",{album:d.album,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),l+="</div></div>"}return l+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(920),i(378),s=i(926),i(151),o=i(318),r=i(397),l=i(381),function(t){for(var e,i='<div class="d-suggest__items d-suggest__items_type_artist"><div class="d-suggest-items__title typo-caps">'+i18n("d-suggest","Исполнители")+"</div>",n=0;n<t.results.slice(0,3).length;n++){e=t.results.slice(0,3)[n],i+='<div class="d-suggest__item d-suggest__item-artist" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/artist/'+__escape(e.artist.id)+'"></a><span class="d-suggest-item__img-cover">';var c=""+r.render({artist:e.artist});i+=s.render({content:c,class:"d-suggest-item__img-cover-artist"})+'</span><div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+e.artist.name+'</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+l.render({type:"artist",item:e.artist})+"</div>",a.isMobile()||(i+='<div class="d-suggest-item__buttons-optional">'+o.render({artist:e.artist,theme:"flat",count:e.artist.likesCount,size:"S"})+"</div>"),i+="</div></div>"}return i+="</div>"})},function(t,e,i,n){var a={render:i(927)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e="",i=t.class?t.class:"";return e+='<div class="d-cover__wrapper '+__escape(i)+'">'+t.content+"</div>"}},function(t,e,i,n){t.exports=function(){var t=i(920),e=(i(151),i(318)),n=i(379),a=i(389);i(267),i(267);return function(i){var s="",o=t.isPodcast(i.type);s+='<div class="d-suggest__items ',s+=o?" d-suggest__items_type_podcast-track ":"d-suggest__items_type_track",s+='"><div class="d-suggest-items__title typo-caps">'+(o?i18n("d-suggest","[feature/podcasts-in-suggest]Выпуски подкастов"):i18n("d-suggest","Треки"))+"</div>";for(var r,l=0;l<i.results.slice(0,3).length;l++)r=i.results.slice(0,3)[l],s+='<div class="d-suggest__item ',s+=o?" d-suggest__item-podcast-track ":"d-suggest__item-track",s+='" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/track/'+__escape(r.track.id)+'"></a>'+a.render({track:r.track,size:"L",class:"d-suggest-item__img-cover"})+'<div class="d-suggest-item__title typo typo-suggest-item ',o&&!t.isAvailableForBookmate(r.track)&&(s+="fixed-max-width"),s+='"><div class="d-suggest-item__title-main ',o&&!t.isAvailableForBookmate(r.track)&&(s+="line-clamp"),s+='">'+r.track.title+'</div><div class="d-suggest-item__title-secondary deco-typo-secondary typo-small typo-suggest-item"> ',o?t.isAvailableForBookmate(r.track)&&(s+='<span class="d-suggest-item__with-option">'+__escape(i18n("d-suggest","[feature/mfront-4656]С Плюсом и опцией Букмейт"))+"</span>"):s+=" "+r.track.artists.map(t=>t.name).join(", ")+" ",s+='</div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons ',o&&!t.isAvailableForBookmate(r.track)&&(s+="use-space"),s+='"><div class="d-suggest-item__play d-suggest-item__play__hover">'+n.render({type:"track",item:r.track})+"</div>",t.isMobile()||(s+='<div class="d-suggest-item__buttons-optional">'+e.render({entry:t.getEntry(r),theme:"flat",size:"S"})+Mu.render("d-addition",{entry:r,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),s+="</div></div>";return s+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(920),s=i(378),i(402),i(151),o=i(141),r=i(318),l=i(381),function(t){var e="";e+='<div class="d-suggest__items d-suggest__items_type_playlist"><div class="d-suggest-items__title typo-caps">'+i18n("d-suggest","Плейлисты")+"</div>";for(var i,n=0;n<t.results.slice(0,3).length;n++)i=t.results.slice(0,3)[n],e+='<div class="d-suggest__item d-suggest__item-playlist" data-card="search_suggest"><a class="d-suggest-item__wrapper-link" href="/users/'+__escape(i.playlist.owner.login)+"/playlists/"+__escape(i.playlist.kind)+'"></a><span class="d-suggest-item__img-cover deco-link">',i.playlist.cover.type&&"pic"==i.playlist.cover.type?e+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.playlist.cover.uri}},["",40,!0]):i.playlist.cover.type&&"mosaic"==i.playlist.cover.type?e+=Mu.render("playlist-cover",{cover:{type:"pic",uri:i.playlist.cover.itemsUri[0]}},["",40,!0]):e+=Mu.render("playlist-cover__empty",i.playlist,["",40,!0]),e+='</span><div class="d-suggest-item__title typo typo-suggest-item"><div class="d-suggest-item__title-main">'+i.playlist.title+'</div><div class="d-suggest-item__title-secondary deco-typo-secondary typo-small typo-suggest-item"><span class="d-suggest-item__likes',i.playlist.likesCount||(e+=" d-suggest-item__likes-none"),e+='">'+o.render({icon:"heart",rotate:!1})+'<span class="d-suggest-item__likes-number">'+s(i.playlist.likesCount)+'</span></span></div></div><div class="d-suggest-item__bubble"></div><div class="d-suggest-item__buttons"><div class="d-suggest-item__play">'+l.render({type:"playlist",item:i.playlist})+"</div>",a.isMobile()||(e+='<div class="d-suggest-item__buttons-optional">'+r.render({playlist:i.playlist,theme:"flat",count:i.playlist.likesCount,size:"S"})+Mu.render("d-addition",{playlist:i.playlist,style:"pure",class:"d-suggest__addition",button:{size:"S"}})+"</div>"),e+="</div></div>";return e+="</div>"})},function(t,e,i,n){t.exports=function(){var t=i(151);i(141);return function(e){var i='<div class="d-suggest__history">';if(e.requests){for(var n,a=0;a<e.requests.length;a++)n=e.requests[a],i+='<div class="d-suggest__item typo-suggest-item">'+__escape(n)+"</div>";i+=t.render({text:i18n("d-suggest","Очистить историю поиска"),arrow:!1,style:"marked",class:"d-suggest__item d-suggest__delete-history typo",asBlock:!0,noHoverColor:!0})}return i+="</div>"}}()},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){var e='<div class="d-suggest__link-subscription">';return"track"==t.type?e+=__escape(i18n("d-suggest","Трек доступен только подписчикам")):"album"==t.type&&(e+=__escape(i18n("d-suggest","Альбом доступен только подписчикам"))),e+="</br>",t.isLoggedIn?e+=a.render({text:i18n("d-suggest"," Оформить подписку"),style:"marked-yellow"}):e+=a.render({text:i18n("d-suggest","Войти или оформить подписку"),style:"marked-yellow"}),e+="</div>"})},function(t,e,i,n){t.exports=function(){const t=i(933),e=i(934);return function(i){var n="";const a=i.item;return n+='<div class="d-station" style="background-color: '+__escape(t.getBackgroundColor(a))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"d-station",!0))+'" > <img class="d-station__image" src="//'+__escape(t.getImageUrl(a))+'" /> <div class="d-station__shadow"></div> <span class="d-station__name">'+t.getName(a)+'</span> <div class="d-station__play"> '+e.render({item:t.getStation(a),type:"radio",size:"S",tooltipSide:"left"})+" </div></div>"}}()},function(t,e,i,n){t.exports={getName:function(t){return t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.name},getBackgroundColor:function(t){return t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.icon.backgroundColor},getImageUrl:function(t){const e=t&&t.data&&t.data.data&&t.data.data.station&&t.data.data.station.icon.imageUrl;return e&&e.replace("%%","200x200")},getStation:function(t){return t&&t.data&&t.data.data&&t.data.data.station}}},function(t,e,i,n){var a={render:i(848)};clientSide&&(a.controller=i(283)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(139),i(143),s=i(936),function(t){return'<div class="d-suggest" data-b="'+__escape(Mu.dotBlockRoot(t,"d-suggest",!0))+'">'+a.render({size:"M","field-size":"S",class:"d-suggest__input deco-input__suggest",placeholder:i18n("d-suggest","[feature/search-podcast]Трек, альбом, исполнитель, подкаст"),suggest:!0,buttonRight:!1,buttonLeft:!0,checkDirection:!0,maxlength:100})+s(Object.assign({},{"popup-size":"S"},t))+"</div>"})},function(t,e,i,n){var a;t.exports=(a=i(377),function(t){return'<div class="'+__escape(a.popupClasses(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"d-suggest__popup",!0))+'"><div class="d-suggest__popup-content d-suggest__popup-content_empty"></div></div>'})},function(t,e,i,n){t.exports=function(){const t=i(407),e=i(381),n=i(379),a=i(596),s=i(141),o=i(143),r=(i(420),i(429)),l=i(426),c=i(428),d=i(422),u=i(406),p=i(415),h=i(427),_=i(73);return function(i){var m="";if(i.isPlaceholder||!i.track)m+=a.render({type:t.placeholderType(i),class:"d-track"+t.class(i)});else{const a=t.twoColumns(i),g=Mu.dotBlockRoot(i,"d-track",!0);let f;i.trackListIndexes&&(f=i.trackListIndexes[i.listIndex]);const y=i.listIndex+1;m+='<div class="d-track'+__escape(t.class(i))+'" data-b="'+__escape(g)+'" data-id="'+__escape(y)+'" data-select-id="'+__escape(f)+'" data-tab="'+__escape(i.dataTab)+'" ',i.backgroundColor&&(m+='style="background-color: '+__escape(i.backgroundColor)+'; "'),m+='><div class="d-track__start-column">',i.showBest&&i.track&&i.track.best&&i.listIndex+1<100&&(m+=s.render({icon:"lightning"})),"touch"===i.type&&(i.error?m+='<div class="button-play_full"></div>':m+=e.render({type:"track",item:i.track,theme:"withoutButton"})+'<div class="d-track__play"></div>'),"light"===i.type?m+='<div class="d-track__play">'+n.render(t.getButtonPlayData(i))+"</div>":(t.showCover(i)?("chart"==i.type&&(m+='<div class="d-track__chart"><div class="d-track__chart-number typo deco-typo">',_().serverSide||(m+=__escape(i.listIndex+1)),m+='</div><div class="d-track__chart-progress-wrapper">',!_().serverSide&&0==i.listIndex&&i.track.chart&&(i.track.chart.progress="best-track"),m+='<div class="d-track__chart-progress'+__escape(i.track.chart?" d-track__chart-progress_"+i.track.chart.progress:"")+'"></div></div></div>'),m+=c(i)):!_().serverSide&&i.listIndex>=0&&(m+='<div class="d-track__id d-track__nohover deco-typo-secondary">',i.reverseNumbersOrder?m+=__escape(i.totalTracksNumber-i.listIndex):m+=__escape(i.listIndex+1),m+="</div>"),"player"!==i.type&&(m+='<div class="d-track__bubble"></div>',"touch"!==i.type&&(m+='<div class="d-track__play d-track__hover">'+n.render(t.getButtonPlayData(i))+"</div>"))),m+="</div>",a&&(m+='<div class="d-track__quasistatic-column">'+u(i)+"</div>"),m+='<div class="d-track__overflowable-column" '+t.rootTitle(i)+"> ";const v=t.isEpisode(i)&&i.track.pubDate;m+=" ";const b=t.shouldShow2Lines(i);m+=" ";const k=!i.inlineMeta&&i.showArtist;m+=" ";const w=v||b||k?" block-layout":"";m+=" ";v&&t.formatReleaseDate(i.track.pubDate);m+=" ";v&&t.isNewPodcastDate(i.track.pubDate);m+='<div class="d-track__overflowable-wrapper'+__escape(a?"":" deco-typo-secondary")+__escape(w)+'">',a||(m+=u(i)),"shelf-non-music"===i.type&&(m+=p(i)),t.isShelfPlaylist(i)||(m+=h(i)),m+="</div>","touch"===i.type&&(i.actions?m+=d(i):m+=""+o.render({icon:"cross-medium",type:"flat",class:"d-track__delete",size:"S"})),t.showInfoColumn(i)&&("shelf-non-music"!==i.type&&(m+=p(i)),m+='<div class="d-track__end-column">'+d(i),t.actionIsAllowed(i,"counter_like")||(t.actionIsAllowed(i,"bigAdd")||t.isRemoved(i)||(m+=r.render(t.getContextMenuData(i))),m+=l(i)),m+="</div>"),m+="</div></div>"}return m}}()},function(t,e,i,n){t.exports=function(){var t=i(939),e=i(322),n=i(141),a=i(143);return function(i){var s="",o=e(i),r=t.getTooltipText(o,i);return s+='<span class="dislike'+__escape(t.classes(i,o))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"dislike",!0))+'"">',"track"===i.theme?s+='<span class="dislike__icon-wrapper deco-track-dislike-icon-wrapper">'+n.render({icon:o?"circle-crossed_on_track":"circle-crossed_track",size:i.size,type:"flat",class:"dislike__icon deco-buttonish-dislike-icon-bright",title:r})+n.render({icon:"circle-crossed_track",size:i.size,type:"flat",class:"dislike__icon deco-buttonish-dislike-icon-pale",title:r})+"</span>":"player"===i.theme?s+=n.render({icon:o?"circle-crossed_on":"circle-crossed",noDeco:!0,title:r}):s+=a.render({icon:o?"circle-crossed_on":"circle-crossed",attrs:{title:r},size:i.size,rounded:!0}),s+="</span>"}}()},function(t,e,i,n){t.exports={classes:function(t,e){var i=[];e&&i.push("dislike_on"),t.class&&i.push(t.class),t.theme&&(i.push("dislike_theme-"+t.theme),"track"===t.theme&&("chart"===t.type?i.push("dislike__track-hover"):e||i.push("dislike__track-hover-hidden")));var n=i.join(" ");return n.length>0?" "+n:""},getTooltipText:function(t,e){const i=e.entry&&e.entry.track&&"podcast-episode"===e.entry.track.type;return t&&e.tooltip&&e.tooltip.removeText?e.tooltip.removeText:t?i?i18n("dislike","[feature/mfront-3026]Вы просили не предлагать этот выпуск вам"):i18n("dislike","[feature/visible-likes]Вы просили не предлагать этот трек вам"):e.tooltip&&e.tooltip.addText?e.tooltip.addText:i?i18n("dislike","[feature/mfront-3026]Нажмите, и мы не будем больше рекомендовать этот выпуск"):i18n("dislike","[feature/visible-likes]Нажмите, и мы не будем больше рекомендовать этот трек")}}},function(t,e,i,n){t.exports=function(t){return'<div class="dont-pay-popup local-theme-black" data-b="'+__escape(Mu.dotBlockRoot(t,"dont-pay-popup",!0))+'"></div>'}},function(t,e,i,n){var a,s;t.exports=(a=i(942),s={album:i(943),track:i(944)},function(t){var e="",i=a.entityType(t);return e+='<div class="entity-cover '+__escape(a.classes(t))+'">'+s[i](t),t.shouldShowBookmateBadge&&(e+=' <div class="entity-cover__bookmate-badge"></div>'),e+="</div>"})},function(t,e,i,n){var a=i(72),s={L:40,Large:50,Huge:200,Giant:260},o={album:"Huge",track:"Large"};t.exports={classes:function(t){var e=["deco-entity-image-placeholder"];return t.class&&e.push(t.class),this.coverUri(t)||e.push("entity-cover_no-cover"),e.push("entity-cover_size_"+this.getSize(t)),e.join(" ")},entityType:function(t){return t.playlist?"playlist":t.album?"album":"track"},coverUri:function(t){var e=t[this.entityType(t)]||{};return e.coverUri||e.cover},trackAlbum:function(t){var e=parseInt(t.track.albumId,10),i=t.track.albums||[];return i.find((function(t){return t.id===e}))||i&&i[0]},trackAlbumCover:function(t){var e=this.trackAlbum(t);return e&&(e.coverUri||e.cover)},isLink:function(t){var e;return!!this.entityType("track")&&(e=this.trackAlbum(t),"player"===t.type&&e&&e.id)},getSize:function(t){var e=this.entityType(t);return t.size||o[e]},imgUrl:function(t,e){var i=s[this.getSize(t)];return e&&(i*=2),a(this.coverUri(t),i)}}},function(t,e,i,n){var a;t.exports=(a=i(942),function(t){var e="";return a.coverUri(t)?e+='<img class="entity-cover__image deco-pane" src="'+__escape(a.imgUrl(t))+'" srcset="'+__escape(a.imgUrl(t))+", "+__escape(a.imgUrl(t,!0))+' 2x"/>':e+='<img class="entity-cover__image entity-cover__image_no-cover" src="/blocks/entity-cover/album_no-cover.svg"/>',e})},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(942),o=i(943),function(t){var e="",i=s.trackAlbum(t),n=function(){var e="";return s.coverUri(t)?e+='<img class="entity-cover__image deco-pane" src="'+__escape(s.imgUrl(t))+'" srcset="'+__escape(s.imgUrl(t))+", "+__escape(s.imgUrl(t,!0))+' 2x"/>':s.trackAlbumCover(t)?e+=o(Object.assign({album:i},t)):e+='<img class="entity-cover__image entity-cover__image_no-cover" src="/blocks/entity-cover/track_no-cover.svg"/>',e}();return s.isLink(t)?e+=a.render({href:"/album/"+i.id,title:i18n("entity-cover","[feature/entity-placeholders]Из альбома «%1»",i.title),content:n}):e+=n,e})},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(151),s=i(221),o=i(946),r=i(947),l=i(607),c=i(73),i(267),i(424),d=i(951),function(t){var e='<div class="footer" data-b="'+__escape(Mu.dotBlockRoot(t,"footer",!0))+'"><div class="footer__placeholder">'+s.render({})+'</div><div class="footer__main"><div class="footer__left"><div class="footer__static-wrapper"><div class="footer__static-text">'+a.render({href:d.copyrightUrl(),text:i18n("footer","Правообладателям"),target:"_blank"})+'</div><div class="footer__static-text">'+a.render({href:d.useOfTermUrl(),text:i18n("footer","Пользовательское соглашение"),target:"_blank"})+'</div><div class="footer__static-text">'+a.render({href:d.helpUrl(),text:i18n("footer","[feature/help-text]Справка"),target:"_blank"})+"</div>";c().isCIS&&(e+='<div class="footer__static-text">'+o()+"</div>"),e+='</div><div class="footer__age-disclaimer typo-secondary">'+i18n("footer","[feature/mfront-3990-1]Сервис Яндекс&nbsp;Музыка может содержать информацию, не&nbsp;предназначенную для&nbsp;несовершеннолетних")+"</div></div>";const i="ru"===c().tld?"//ya.ru/":"//yandex."+c().tld+"/";return e+='<div class="footer__right"><div class="footer__static-wrapper"><div class="footer__static-text">'+r.render({ru:"RU",en:"EN",hy:"HY",uz:"UZ",kk:"KK",uk:"UK",az:"AZ"})+'</div><div class="footer__static-wrapper footer__copyrights"><div class="footer__static-text">&copy; '+__escape(l(c().date,"%Y"))+"&#160;"+a.render({href:i,content:i18n("footer","[feature/mfront-4523]ООО &laquo;Яндекс.Медиасервисы&raquo;"),target:"_blank"})+'</div><div class="footer__static-text">'+a.render({href:`//yandex.${c().tld}/all`,content:i18n("footer","[feature/mfront-4522]Проект компании Яндекс"),target:"_blank"})+"</div></div></div></div></div></div>"})},function(t,e,i,n){var a;t.exports=(a=i(697),function(t){return""+a.render({title:i18n("footer","Подписаться"),links:[{href:"//twitter.com/yandexmusic",text:"Twitter",icon:"twitter-circle",target:"_blank",class:"footer__subscribe-link"},{href:"//vk.com/yandexmusic",content:"ВКонтакте",icon:"vkontakte-circle",target:"_blank",class:"footer__subscribe-link"},{href:"//www.youtube.com/c/MusicYandex",content:"YouTube",icon:"youtube-circle",target:"_blank",class:"footer__subscribe-link"},{href:"//www.tiktok.com/@yandex.music",content:"TikTok",icon:"tiktok-circle",target:"_blank",class:"footer__subscribe-link"}]})})},function(t,e,i,n){var a={render:i(948)};clientSide&&(a.controller=i(949)),t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="d-lang-switcher" data-b="'+__escape(Mu.dotBlockRoot(t,"d-lang-switcher",!0))+'"><div class="d-select"></div></div>'}},function(t,e,i,n){const a=i(73),s=i(153),o=i(14),r=i(352),l=i(950);Mu.blocks.register("d-lang-switcher",function(){let t;const e=function(){};return e.init=function(e){t=e.get("pages")},e.prototype.init=function(){this.$cont=$(this.container),t.on("loaded",this.rerenderSelect.bind(this))},e.prototype.rerenderSelect=function(){const t=$(l({items:this.getLinksList()}));Mu.blocks.initPendingBlocks(t),this.$cont.find(".d-select").replaceWith(t),this.$select=this.$cont.find(".d-select"),this.select=Mu.blocks.forElem(this.$select[0])},e.prototype.getLinksList=function(){const{sk:t}=o(),e=encodeURIComponent(window.location.href)||"",i=[];return Object.keys(this.data).forEach(n=>{const o=`https://yandex.${r()}/portal/set/lang/`,l=a().lang!==n&&`${o}?intl=${n}&retpath=${e}&sk=${t}`;i.push({href:l,target:"_self",icon:s.render({lang:n,class:"d-lang-switcher__icon",size:"S"}),title:this.data[n],selected:a().lang===n})}),i},e.prototype.destroy=function(){t.off("loaded",this.rerenderSelect.bind(this))},e}())},function(t,e,i,n){var a;t.exports=(a=i(354),function(t){return""+a.render({size:"S",type:"links",popupClass:"d-lang-switcher__popup",groups:[{items:t.items}]})})},function(t,e,i,n){var a=i(73),s=i(352),o=i(952);t.exports={useOfTermUrl:function(){return i18n("localized-links","[feature/mfront-289-footer-lnks]https://yandex.%tld/legal/music_termsofuse?lang=%lang",{lang:a().lang})},helpUrl:function(){return o("index.html")},copyrightUrl:function(){return i18n("localized-links","[feature/mfront-289-footer-lnks]https://yandex.%tld/support/music/performers-and-copyright-holders/copyright.html?lang=%lang",{tld:s()||"ru",lang:a().lang})}}},function(t,e,i,n){var a=i(953),s=i(954);t.exports=function(t){return i18n("localized-links","[feature/mfront-289-footer-lnks]https://yandex.%tld/support/music/%page?lang=%lang",{tld:a()||"ru",page:t,lang:s().lang})}},function(t,e,i,n){t.exports=i(352)},function(t,e,i,n){t.exports=i(73)},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(108),s=i(451),o=i(917),r=i(956),l=i(460),c=i(156),d=function(t){return Mu.render("head-progress",t)},function(t){var e='<div class="head deco-pane" data-b="'+__escape(Mu.dotBlockRoot(t,"head",!0))+'"><div class="head__wrap deco-devider"><div class="head__left">';return(c.isRussiaRegion()&&Mu.settings.uatraits.isMobile||!Mu.settings.uatraits.isMobile)&&(e+=s.render({text:i18n("head","Музыка"),theme:a.theme(Mu.settings.theme).get("logo")})),e+='<div class="head__search">'+o.render()+'</div></div><div class="head__nav">'+r.render({shouldShowRadioTab:!1})+'</div><div class="head__user">'+l()+'</div><div class="head__subnav',t.theme&&(e+=" theme theme_"+__escape(t.theme)),e+='"></div>'+d()+"</div></div>"})},function(t,e,i,n){var a={render:i(957)};clientSide&&(a.controller=i(958)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(747),function(t){var e='<div class="nav" data-b="'+__escape(Mu.dotBlockRoot(t,"nav",!0))+'"> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="main" href="/home"> '+__escape(i18n("nav","Главное"))+" "+a.render({nav:!0,canBeShown:!1})+' </a> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="non-music" href="/non-music"> '+__escape(i18n("nav","[feature/mfront-3737]Подкасты и книги"))+' </a> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="metatag" href="/genre"> '+__escape(i18n("nav","Жанры"))+" </a> ";return t.shouldShowRadioTab&&(e+=' <a class="nav__tab nav__link nav__tab_switch typo-nav typo-nav_contrast" data-name="radio" href="/radio"> '+__escape(i18n("nav","[feature/mfront-3789]Потоки"))+" </a> "),e+="</div>"})},function(t,e,i,n){Mu.blocks.register("nav",function(){var t,e,i,n,a,s,o=function(t){this.$dom=$(t)};return o.init=function(o){t=o.get("auth"),e=o.get("layout"),i=o.get("navigation"),n=Mu.Storage.create("localStorage"),a=o.get("pages"),s=o.get("dataSrc")},o.prototype.init=function(){var e=this;e.$cont=$(e.container),e.data&&e.data["subnav-node"]&&(this.$subnav=e.$dom.closest(".head").find(e.data["subnav-node"]),this.$subnav.addClass("nav__subnav"),this.openedSubnav="",this.$dom.find(".nav__tab_switch").on("click",this.onToggleSubnav.bind(this))),t.isLoggedIn()&&s.get("playlist-notification",{},{nocache:!0}).then((function(t){t.notify&&(e.$cont.find(".playlist-notification__point").addClass("playlist-notification__point_ready"),e.$cont.find(".nav__tab").has(".playlist-notification__point").addClass("nav__tab_is-notified"))})),a.on("loaded",this.onPageLoaded.bind(this))},o.prototype.onPageLoaded=function(e){var i=e.name;"users"!==i&&"playlist"!==i||!t.isLoggedIn()||e.owner!==t.user.login||(i="my"),this.$dom.find(".current").removeClass("current");var n=this.$dom.find(".nav__tab[data-name='"+e.what+"']");n.length||e.chartType||(n=this.$dom.find(".nav__tab[data-name='"+i+"']")),n.addClass("current"),this.currentSubItem=null,"404"!==i&&this.showSubnavByName(e.name)},o.prototype.onToggleSubnav=function(t){var e=$(t.target),s=e.data("name");if(!e.hasClass("nav__tab_disabled")&&"radio"!==s)if(e.hasClass("nav__tab_opened"))this.hideSubnav();else if(s===a.current.name)this.showSubnavByName(s);else{this.hideSubnav();var o=n.getItem("nav_"+s)||"";i.navigateTo("/"+s+"/"+o,!0)}},o.prototype.showSubnavByName=function(t){if("genre"===t){this.openedSubnav=t;var e=$(this.container).find(".nav__tab[data-name="+t+"]"),i={currentItem:this.getCurrentSubItem()};i.currentItem&&n.setItem("nav_"+t,i.currentItem),i.items=Mu.genres.structure,this.showSubnav(Mu.render("nav__genres",i),e)}else this.hideSubnav()},o.prototype.getCurrentSubItem=function(){return this.currentSubItem&&this.currentSubItem[this.openedSubnav]},o.prototype.showSubnav=function(t,i){if(this.$subnav){var n=!1;this.$subnav.html(t).slideDown({duration:300,step:function(){n||(e.moveSidebar(),e.moveBranding()),n=!n},complete:function(){e.moveSidebar(),e.moveBranding()}}),i.addClass("nav__tab_opened"),$(document).on("keydown",this._onKeydown=this.onKeydown.bind(this))}},o.prototype.hideSubnav=function(){this.$subnav&&(this.$subnav.html("").hide(),this.$dom.find(".nav__tab_opened").removeClass("nav__tab_opened"),this.openedSubnav="",this._onKeydown&&($(document).off("keydown",this._onKeydown),delete this._onKeydown),e.moveSidebar(),e.moveBranding())},o.prototype.onKeydown=function(t){27===t.keyCode&&this.keydownClosedPopup!==t.originalEvent&&this.hideSubnav(),delete this.keydownClosedPopup},o}())},function(t,e,i,n){var a;t.exports=(a=i(960),function(t){return'<div class="head-container"> '+a.render({theme:t.theme})+"</div>"})},function(t,e,i,n){var a={render:i(961)};clientSide&&(a.controller=i(971)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(108),s=i(451),i(917),o=i(962),i(956),r=i(965),l=i(968),c=i(156),d=function(t){return Mu.render("head-progress",t)},function(t){var e='<div class="head-kids deco-pane" data-b="'+__escape(Mu.dotBlockRoot(t,"head-kids",!0))+'"><div class="head-kids__wrap deco-devider"><div class="head-kids__left">';return(c.isRussiaRegion()&&Mu.settings.uatraits.isMobile||!Mu.settings.uatraits.isMobile)&&(e+=s.render({text:i18n("head-kids","[feature/mfront-3335]Музыка"),theme:a.theme(Mu.settings.theme).get("logo")})),e+='</div><div class="head-kids__controlls"><div class="head-kids__nav">'+r.render({shouldShowRadioTab:!1})+'</div><div class="head-kids__search">'+o.render()+'</div></div><div class="head-kids__user">'+l()+'</div><div class="head-kids__subnav',t.theme&&(e+=" theme theme_"+__escape(t.theme)),e+='"></div>'+d()+"</div></div>"})},function(t,e,i,n){var a={render:i(963)};clientSide&&(a.controller=i(964)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(917),e=i(143);return function(i){return'<div class="d-search d-search_closed" data-b="'+__escape(Mu.dotBlockRoot(i,"d-search",!0))+'"><div class="d-search__button__container">'+e.render({type:"flat",icon:"loupe",attrs:{tabindex:"2",type:"submit"},class:"d-search__button"})+"</div> "+t.render()+"</div>"}}()},function(t,e,i,n){Mu.blocks.register("d-search",function(){let t;const e=function(){Mu.eventize(this)};return e.init=function(t){Pages=t.get("pages")},e.prototype.init=function(){t=$(document),this.$headKidsControlls=t.find(".head-kids__controlls"),this.mediaQuery=window.matchMedia("(max-width: 960px)"),this.$cont=$(this.container),this.$searchButtonContainer=this.$cont.find(".d-search__button__container"),this.$suggest=this.$cont.find(".d-suggest"),this.suggest=Mu.blocks.forElem(this.$suggest.get(0),"d-suggest"),this.openSuggest=this.openSuggest.bind(this),this.closeSuggest=this.closeSuggest.bind(this),this.onOutsideSearchClick=this.onOutsideSearchClick.bind(this),this.closeSuggestOnBlur=this.closeSuggestOnBlur.bind(this),this.closeSuggestOnNavigate=this.closeSuggestOnNavigate.bind(this),this.mediaChangeHandler=this.mediaChangeHandler.bind(this),this.onPageLoaded=this.onPageLoaded.bind(this),this.onPageLoading=this.onPageLoading.bind(this),this.onResize=this.onResize.bind(this),this.isOpen=!1,this.$searchButtonContainer.on("click",this.openSuggest),this.suggest.input.on("blur",this.closeSuggestOnBlur),t.on("mousedown",this.onOutsideSearchClick),$(window).on("resize",this.onResize),this.delegate("search-navigate",this.closeSuggestOnNavigate),this.delegate("search-delete-history",this.closeSuggest),Pages.on("loaded",this.onPageLoaded),Pages.on("loading",this.onPageLoading)},e.prototype.mediaChangeHandler=function(t){t.matches&&!this.$headKidsControlls.hasClass("head-kids__controlls_collapsed")&&this.$headKidsControlls.addClass("head-kids__controlls_collapsed"),!t.matches&&this.$headKidsControlls.hasClass("head-kids__controlls_collapsed")&&this.$headKidsControlls.removeClass("head-kids__controlls_collapsed")},e.prototype.onPageLoaded=function(e){"search"===e.name&&(e.data.result.misspell.corrected?this.suggest.input.value(e.data.result.misspell.result):this.suggest.input.value(e.data.query.text),$(window).width()>960&&(this.$cont.removeClass("d-search_closed"),this.$cont.addClass("d-search_opened"),this.isOpen=!0,Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").addClass("search_opened")))},e.prototype.onPageLoading=function(t){"search"!==t.name&&this.closeSuggest()},e.prototype.openSuggest=function(){this.mediaQuery.matches&&this.$headKidsControlls.addClass("head-kids__controlls_collapsed"),Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").addClass("search_opened"),this.$cont.removeClass("d-search_closed"),this.$cont.addClass("d-search_opened"),this.isOpen=!0,this.suggest.input.focus(),this.suggest.onFocus(),this.mediaChangeHandler(this.mediaQuery),this.mediaQuery.addListener(this.mediaChangeHandler)},e.prototype.closeSuggest=function(){this.suggest.popup.$cont.slideUp(100,()=>{Mu.experiments.WebPromocodeMain&&t.find(".head-kids__promocode-link").removeClass("search_opened"),this.suggest.popup.hide(),this.$headKidsControlls.removeClass("head-kids__controlls_collapsed"),this.$cont.removeClass("d-search_opened"),this.$cont.addClass("d-search_closed"),this.isOpen=!1,this.mediaQuery.removeListener(this.mediaChangeHandler)})},e.prototype.closeSuggestPopup=function(){this.suggest.popup.$cont.slideUp(100,()=>{this.suggest.popup.hide(),this.$headKidsControlls.removeClass("head-kids__controlls_collapsed"),this.mediaQuery.removeListener(this.mediaChangeHandler)})},e.prototype.closeSuggestOnNavigate=function(t){(!this.suggest.input.value()||$(window).width()<=960)&&this.closeSuggest()},e.prototype.closeSuggestOnBlur=function(t){this.suggest.popup.isOpen||this.suggest.input.value()?0===$(t.target).closest(".d-input__field").length&&this.closeSuggestPopup():this.closeSuggest()},e.prototype.onOutsideSearchClick=function(t){0===$(t.target).closest(".d-search").length&&0===$(t.target).closest(".d-addition__popup").length&&(!this.suggest.input.value()||$(window).width()<=960)?this.closeSuggest():0===$(t.target).closest(".d-suggest__item").length&&$(window).width()>960&&this.closeSuggestPopup()},e.prototype.onResize=function(){$(window).width()<=960&&this.closeSuggest(),Mu.experiments.WebPromocodeMain&&this.isOpen?(t.find(".head-kids").addClass("station"),"none"==t.find(".promocode-link__text").css("display")||"hidden"==t.find(".promocode-link__text").css("visibility")?t.find(".icon__wrapper").css("pointer-events","auto"):t.find(".icon__wrapper").css("pointer-events","none")):t.find(".head-kids").removeClass("station")},e}())},function(t,e,i,n){var a={render:i(966)};clientSide&&(a.controller=i(967)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(747),function(t){var e='<div class="nav-kids" data-b="'+__escape(Mu.dotBlockRoot(t,"nav-kids",!0))+'"> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="main" href="/home"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Главное"))+" "+a.render({nav:!0,canBeShown:!1})+' </a> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="non-music" href="/non-music"> '+__escape(i18n("nav-kids","[feature/mfront-3737]Подкасты и книги"))+' </a> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="kids" href="/kids"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Детям"))+" </a> ";return t.shouldShowRadioTab&&(e+=' <a class="nav-kids__tab nav-kids__link nav-kids__tab_switch typo-nav typo-nav_contrast" data-name="radio" href="/radio"> '+__escape(i18n("nav-kids","[feature/mfront-3789]Потоки"))+" </a> "),e+=" ",Mu.authData.user.uid&&(e+=' <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="my" href="'+__escape("/users/"+Mu.authData.user.login+"/playlists")+'"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Коллекция"))+" </a> "),e+="</div>"})},function(t,e,i,n){const a="main",s="settings",o="import",r="search",l="playlist",c="metatag",d="label",u="tag",p="my",h="users",_="album",m="non-music",g="kids",f="radio",y="genre",v="artist",b="audiobook",k="podcast",w="fairy-tale";Mu.blocks.register("nav-kids",function(){let t,e,i,n,x,M,T="nav-kids__tab_opened";const S=function(t){this.$dom=$(t)};return S.init=function(a){t=a.get("auth"),e=a.get("layout"),i=a.get("navigation"),n=Mu.Storage.create("localStorage"),x=a.get("pages"),M=a.get("dataSrc")},S.prototype.init=function(){this.$cont=$(this.container),this.data&&this.data["subnav-node"]&&(this.$subnav=this.$dom.closest(".head").find(this.data["subnav-node"]),this.$subnav.addClass("nav-kids__subnav"),this.openedSubnav="",this.$dom.find(".nav-kids__tab_switch").on("click",this.onToggleSubnav.bind(this))),t.isLoggedIn()&&M.get("playlist-notification",{},{nocache:!0}).then(function(t){t.notify&&(this.$cont.find(".playlist-notification__point").addClass("playlist-notification__point_ready"),this.$cont.find(".nav-kids__tab").has(".playlist-notification__point").addClass("nav-kids__tab_is-notified"))}.bind(this)),x.on("loaded",this.onPageLoaded.bind(this))},S.prototype.onPageLoaded=function(e){let{name:i}=e;const n=e.data.type,f=!!e.data.childContent,y=t.isLoggedIn()&&e.owner===t.user.login;i===h&&e.what===m&&"audiobooks"===e.nonMusicSubPage&&(t.isLoggedIn()&&e.owner===t.user.login?e.what=p:e.what=""),i!==h&&i!==l||!y||(i=p),i===p&&e.what===g&&(e.what=p),i===h&&e.what===g&&(e.what=""),i===a&&"podcasts"===e.chartType&&(e.what=m),i===a&&e.podcastsCategory&&(i=m),i!==v&&i!==s&&i!==o&&i!==r&&i!==l&&i!==c&&i!==d&&i!==u&&i!==_||(e.what=a),i!==_||n!==b&&n!==k||f||(e.what=m),i!==_||n!==b&&n!==k&&n!==w||!f||(e.what=g),this.$dom.find(".current").removeClass("current");let x=this.$dom.find(".nav-kids__tab[data-name='"+e.what+"']");x.length||e.chartType||(x=this.$dom.find(".nav-kids__tab[data-name='"+i+"']")),x.addClass("current"),this.currentSubItem=null,"404"!==i&&this.showSubnavByName(e.name)},S.prototype.onToggleSubnav=function(t){const e=$(t.target),a=e.data("name");if(!e.hasClass("nav-kids__tab_disabled")&&a!==f)if(e.hasClass(T))this.hideSubnav();else if(a===x.current.name)this.showSubnavByName(a);else{this.hideSubnav();const t=n.getItem("nav-kids_"+a)||"";i.navigateTo("/"+a+"/"+t,!0)}},S.prototype.showSubnavByName=function(t){if(t!==y)return void this.hideSubnav();this.openedSubnav=t;const e=$(this.container).find(".nav-kids__tab[data-name="+t+"]"),i={currentItem:this.getCurrentSubItem()};i.currentItem&&n.setItem("nav-kids_"+t,i.currentItem),i.items=Mu.genres.structure,this.showSubnav(Mu.render("nav-kids__genres",i),e)},S.prototype.getCurrentSubItem=function(){return this.currentSubItem&&this.currentSubItem[this.openedSubnav]},S.prototype.showSubnav=function(t,i){if(!this.$subnav)return;let n=!1;this.$subnav.html(t).slideDown({duration:300,step:function(){n||(e.moveSidebar(),e.moveBranding()),n=!n},complete:function(){e.moveSidebar(),e.moveBranding()}}),i.addClass(T),$(document).on("keydown",this._onKeydown=this.onKeydown.bind(this))},S.prototype.hideSubnav=function(){this.$subnav&&(this.$subnav.html("").hide(),this.$dom.find("."+T).removeClass(T),this.openedSubnav="",this._onKeydown&&($(document).off("keydown",this._onKeydown),delete this._onKeydown),e.moveSidebar(),e.moveBranding())},S.prototype.onKeydown=function(t){27===t.keyCode&&this.keydownClosedPopup!==t.originalEvent&&this.hideSubnav(),delete this.keydownClosedPopup},S}())},function(t,e,i,n){var a,s,o;t.exports=(a=i(461),s=i(969),o=i(970),function(t){var e="";const i=o.getExperiments();return("shapka"===i.WebPromocodeMain||"all"===i.WebPromocodeMain)&&(e+=s()),e+=a.render({buttonType:"button",size:"L",class:"head-kids__button_login button_action",from:"button-header"})})},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(970),function(t){var e="",i=s.plusHost()+"/gift?serviceName=music&promoName=music_common",n='<div class="promocode-link__text">'+i18n("head-kids","[feature/mfront-4501]Активировать промокод")+'</div> <div title="'+i18n("head-kids","[feature/mfront-4501]Активировать промокод")+'" class="icon__wrapper"> <svg class="promocode-link__icon" width="24" height="24" fill-rule="evenodd" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)" fill="currentColor"><path d="m1.345 12.749.53.53-.53-.53Zm11.27-11.27-.53-.53.53.53Zm2.828 0-.53.53.53-.53Zm1.996 1.995.557.502a.75.75 0 0 0-.027-1.032l-.53.53Zm2.824 2.824.53-.53a.75.75 0 0 0-1.032-.027l.502.557Zm1.998 1.998-.53.53.53-.53Zm0 2.829.53.53-.53-.53Zm-11.27 11.27-.53-.53.53.53Zm-2.828 0-.53.53.53-.53ZM6.057 20.29l-.54-.52a.75.75 0 0 0 .01 1.05l.53-.53Zm-2.828-2.828-.53.53a.75.75 0 0 0 1.05.011l-.52-.54ZM.814 12.218a2.75 2.75 0 0 0 0 3.89l1.06-1.061a1.25 1.25 0 0 1 0-1.768l-1.06-1.06ZM12.084.948.814 12.218l1.06 1.061 11.271-11.27-1.06-1.06Zm3.89 0a2.75 2.75 0 0 0-3.89 0l1.061 1.06a1.25 1.25 0 0 1 1.768 0l1.06-1.06Zm1.995 1.996L15.973.948l-1.06 1.06 1.995 1.996 1.061-1.06Zm.073 2.751a1.25 1.25 0 0 1-.046-1.72L16.88 2.973a2.75 2.75 0 0 0 .1 3.784l1.061-1.06Zm1.72.046a1.25 1.25 0 0 1-1.72-.046l-1.06 1.06a2.75 2.75 0 0 0 3.783.1l-1.004-1.114Zm3.03 2.025-1.998-1.998-1.061 1.06 1.998 1.999 1.06-1.06Zm0 3.89a2.75 2.75 0 0 0 0-3.89l-1.061 1.06a1.25 1.25 0 0 1 0 1.769l1.06 1.06Zm-11.27 11.27 11.27-11.27-1.061-1.061-11.27 11.27 1.06 1.06Zm-3.89 0a2.75 2.75 0 0 0 3.89 0l-1.061-1.061a1.25 1.25 0 0 1-1.768 0l-1.06 1.06ZM5.526 20.82l2.106 2.105 1.06-1.06-2.105-2.106-1.06 1.06Zm-.028-2.8a1.25 1.25 0 0 1 .018 1.75l1.081 1.04a2.75 2.75 0 0 0-.038-3.851l-1.06 1.06Zm-1.75-.018a1.25 1.25 0 0 1 1.75.018l1.061-1.061a2.75 2.75 0 0 0-3.85-.038l1.04 1.081ZM.815 16.107l1.884 1.885L3.76 16.93l-1.884-1.884-1.06 1.06ZM10.046 13.647a1.5 1.5 0 1 1-2.121 2.121 1.5 1.5 0 0 1 2.121-2.12ZM12.875 10.819a1.5 1.5 0 1 1-2.122 2.121 1.5 1.5 0 0 1 2.122-2.121ZM15.703 7.99a1.5 1.5 0 1 1-2.121 2.122 1.5 1.5 0 0 1 2.121-2.122Z"/></g><defs><clipPath id="a"><path fill="currentColor" d="M0 0h24v24H0z"/></clipPath></defs></svg></div>';return e+='<div class="head-kids__promocode-link"> '+a.render({href:i,content:n,noHoverColor:!0})+"</div>"})},function(t,e,i,n){const a=i(73);t.exports={plusHost:()=>"https://plus.yandex."+a().tld,getExperiments:()=>Mu.experiments}},function(t,e,i,n){var a=i(120),s=i(972),o=i(968),r=i(973),l=i(156);Mu.blocks.register("head-kids",function(){var t,e,i,n,c=["artist","album","label","track","users","playlist","mix","tag","genre","tag","home","main","post","index","search","radio","metatag"],d=function(t){var e=$(t);this.$cont=e,this.$form=e.find("form"),this.$user=e.find(".head-kids__user"),this.$logo=e.find(".d-logo__ya"),this.$button=e.find(".head-kids__suggest-button"),this.$nav=e.find(".head-kids__nav"),Mu.eventize(this)};return d.init=function(){},d.prototype.init=function(s){e=s.get("auth"),i=s.get("metrika"),t=s.get("blocks"),n=s.get("pages"),DataSrc=s.get("dataSrc"),Storage=s.get("storage"),s.get("pages").on("loaded",this.onPageLoaded.bind(this)),this.onAuthInfo(e||{}),e.on("info",this.onAuthInfo.bind(this)),this.$button.on("click",function(t){this.trigger("buttonClick",t)}.bind(this)),this.$user.on("click",".head-kids__user-button",(function(){i.count({head:{my:"button"}})})),this.$user.on("click",".head-kids__user-tab",(function(){i.count({head:{my:"tab"}})})),this.$user.on("click",".head-kids__promocode-link",(function(){i.count("promocode_click")})),this.multiAuth=new(Mu.blocks.get("multi-auth"))({toggle:".head-kids__userpic"}),this.$user.on("click",".head-kids__userpic",function(t){t.preventDefault(),this.multiAuth&&this.multiAuth.show()}.bind(this)),this.yandexPlusState=a,this.onLoaded=this.onLoaded.bind(this),n.on("loaded",this.onLoaded)},d.prototype.destroy=function(){n.off("loaded",this.onLoaded)},d.prototype.onLoaded=function(){this.suggestLogin(),e&&e.user&&e.user.uid&&e.user.plus&&e.user.plus.hasPlus&&l.isRussiaRegion()},d.prototype.suggestLogin=function(){var t=this,i=$.cookie("yandexuid");if(!(e.isLoggedIn()||t.suggestPopup&&!0===t.suggestPopup.closed)&&i&&c.includes(Mu.pages.current.name)){i&&$.ajax({type:"GET",url:Mu.settings.passportApi+"suggested_accounts",data:{popup:"yes",yu:i},dataType:"json",xhrFields:{withCredentials:!0},success:function(n){if(n&&n.accounts&&n.accounts.length>0){const s=n.accounts[0];s.name=s.display_name,s.avatarHash=s.avatar&&s.avatar.default;var a=$(r(s));Mu.blocks.initPendingBlocks(a),t.suggestPopup?t.suggestPopup.$cont.html(a.html()):($(".head").append(a),t.suggestPopup=new(Mu.blocks.get("popup"))(a,{toggable:!0,appendable:!0,persistent:!0,notHideOnScroll:!0,resize:!0}),t.suggestPopup.$cont.on("click",".head-kids__suggest-agree",(function(){e.showAuthForm((function(){}),"suggest"),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head-kids__suggest-disagree",(function(){e.showAuthForm((function(){}),"suggest",{params:{mode:"adduser"}}),t.suggestPopup.hide()})),t.suggestPopup.$cont.on("click",".head-kids__suggest-close",(function(){var e=function(){t.suggestPopup.closed=!0,t.suggestPopup.hide()};$.ajax({type:"POST",url:Mu.settings.passportApi+"suggested_accounts/close",data:{yu:i},dataType:"json",xhrFields:{withCredentials:!0},error:e,success:e,cache:!1})}))),t.suggestPopup.show()}},cache:!1})}},d.prototype.onAuthInfo=function(e){(e=e.user||{}).login?(this.$user.html(s(e)),t.initPendingBlocks(this.$user),this.$nav.html(Mu.render("nav-kids",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)):(this.$user.html(o(e)),this.$nav.html(Mu.render("nav-kids",{shouldShowRadioTab:!0})),t.initPendingBlocks(this.$nav)),i.count({logined:e.uid?"yes":"no"}),i.count({premium:e.premium?"yes":"no"})},d.prototype.onPageLoaded=function(t){"users"!==t.name&&"playlist"!==t.name||!e.isLoggedIn()||t.owner!==e.user.login?this.$user.find(".head-kids__user-button").removeClass("current"):this.$user.find(".head-kids__user-button").addClass("current")},d}())},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(226),s=i(455),o=i(458),i(231),i(151),r=i(969),l=i(970),function(t){var e="";const i=l.getExperiments();return("shapka"===i.WebPromocodeMain||"all"===i.WebPromocodeMain)&&!t.havePlus&&(e+=r()),o.canUseMusicInRegion()&&(e+=s.render({class:"head-kids__plus-points"})),e+=a.render({user:t,size:"L",showAvatar:!0,class:"head-kids__userpic",showPlusMarker:!0})})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(151),a=i(226);return function(i){return'<div class="head-kids__suggest-popup">'+e.render({icon:"cross-small",class:"popup__close head-kids__suggest-close"})+'<div class="head-kids__suggest-info">'+a.render({user:i,size:"Large",showAvatar:!0,showName:!0,class:"typo_bold"})+'<span class="head-kids__suggest-question typo">'+__escape(", "+i18n("head-kids","это вы?"))+'</span></div><div class="head-kids__suggest-actions">'+t.render({size:"M",type:"action",text:i18n("head-kids","Да, войти"),class:"head-kids__suggest-agree"})+n.render({text:i18n("head-kids","Другой аккаунт"),class:"head-kids__suggest-disagree typo",style:"muted"})+"</div></div>"}}()},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(108),s=i(451),i(917),o=i(962),i(956),r=i(965),l=i(468),c=i(156),d=function(t){return Mu.render("head-progress",t)},function(t){var e='<div class="head-kids deco-pane" data-b="'+__escape(Mu.dotBlockRoot(t,"head-kids",!0))+'"><div class="head-kids__wrap deco-devider"><div class="head-kids__left">';return(c.isRussiaRegion()&&Mu.settings.uatraits.isMobile||!Mu.settings.uatraits.isMobile)&&(e+=s.render({text:i18n("head-kids","[feature/mfront-3335]Музыка"),theme:a.theme(Mu.settings.theme).get("logo")})),e+='</div><div class="head-kids__controlls"><div class="head-kids__nav">'+r.render({shouldShowRadioTab:!1})+'</div><div class="head-kids__search">'+o.render()+'</div></div><div class="head-kids__user">'+l()+'</div><div class="head-kids__subnav',t.theme&&(e+=" theme theme_"+__escape(t.theme)),e+='"></div>'+d()+"</div></div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(219),s=i(141),o=i(294),r=i(259),function(t){var e='<div class="hq" data-b="'+__escape(Mu.dotBlockRoot(t,"hq",!0))+'">',i='<div class="hq__icon player-controls__btn deco-player-controls__button" title="'+__escape(i18n("hq","Включить высокое качество"))+'">'+s.render({icon:"hq",noDeco:!0})+"</div>";return r()||!o().uid?e+=i:e+=a.render({content:i,from:"HQ",mainTip:"hq"}),e+="</div>"})},function(t,e,i,n){t.exports=(dButtonTpl=i(143),dInputTpl=i(139),function(t){return'<div class="iframe-config iframe-config__overlay" data-b="'+__escape(Mu.dotBlockRoot(t,"iframe-config",!0))+'"><div class="iframe-config__popup popup popup_modal"><div class="iframe-config__settings"><h2 class="iframe-config__header typo-h2-bold">'+__escape(i18n("iframe-config","[feature/mfront-123-new-iframe]Скопируйте код и вставьте на сайт"))+'</h2><div class="iframe-config__values"><div class="iframe-config__size"> <div class="iframe-config__input-container"> '+dInputTpl.render({class:"iframe-config__size-width local-theme-white",maxlength:6,pattern:/\d+(%|px)?/,chars:/[\d%px]/})+' <span class="iframe-config__size-x">X</span> '+dInputTpl.render({class:"iframe-config__size-height local-theme-white",maxlength:6,pattern:/\d+(%|px)?/,chars:/[\d%px]/})+" </div> "+dInputTpl.render({class:"iframe-config__html local-theme-white",readonly:!0})+" "+dButtonTpl.render({class:"iframe-config__copy-button",text:i18n("iframe-config","[feature/mfront-123-new-iframe]Скопировать код"),type:"action"})+' <span class="iframe-config__copy-success"> '+__escape(i18n("iframe-config","[feature/mfront-123-new-iframe]Код скопирован"))+' </span></div></div></div><div class="iframe-config__preview"><div class="iframe-config__iframe-resizer"><iframe class="iframe-config__iframe" src="/iframe"></iframe><div class="iframe-config__iframe-resizer-corner"></div></div></div>'+dButtonTpl.render({type:"flat",icon:"cross-medium",class:"local-icon-theme-white popup__close"})+" </div></div>"})},function(t,e,i,n){var a;t.exports=(a=i(747),function(t){var e='<div class="nav" data-b="'+__escape(Mu.dotBlockRoot(t,"nav",!0))+'"> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="main" href="/home"> '+__escape(i18n("nav","Главное"))+" "+a.render({nav:!0,canBeShown:!1})+' </a> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="non-music" href="/non-music"> '+__escape(i18n("nav","[feature/mfront-3737]Подкасты и книги"))+' </a> <a class="nav__tab nav__link typo-nav typo-nav_contrast" data-name="metatag" href="/genre"> '+__escape(i18n("nav","Жанры"))+" </a> ";return t.shouldShowRadioTab&&(e+=' <a class="nav__tab nav__link nav__tab_switch typo-nav typo-nav_contrast" data-name="radio" href="/radio"> '+__escape(i18n("nav","[feature/mfront-3789]Потоки"))+" </a> "),e+="</div>"})},function(t,e,i,n){var a;t.exports=(a=i(747),function(t){var e='<div class="nav-kids" data-b="'+__escape(Mu.dotBlockRoot(t,"nav-kids",!0))+'"> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="main" href="/home"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Главное"))+" "+a.render({nav:!0,canBeShown:!1})+' </a> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="non-music" href="/non-music"> '+__escape(i18n("nav-kids","[feature/mfront-3737]Подкасты и книги"))+' </a> <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="kids" href="/kids"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Детям"))+" </a> ";return t.shouldShowRadioTab&&(e+=' <a class="nav-kids__tab nav-kids__link nav-kids__tab_switch typo-nav typo-nav_contrast" data-name="radio" href="/radio"> '+__escape(i18n("nav-kids","[feature/mfront-3789]Потоки"))+" </a> "),e+=" ",Mu.authData.user.uid&&(e+=' <a class="nav-kids__tab nav-kids__link typo-nav typo-nav_contrast" data-name="my" href="'+__escape("/users/"+Mu.authData.user.login+"/playlists")+'"> '+__escape(i18n("nav-kids","[feature/mfront-3335]Коллекция"))+" </a> "),e+="</div>"})},function(t,e,i,n){t.exports=function(t){return'<div class="payment-popup-annoyer" data-b="'+__escape(Mu.dotBlockRoot(t,"payment-popup-annoyer",!0))+'"></div>'}},function(t,e,i,n){t.exports=function(){i(267),i(14);var t=function(t){return Mu.render("radio-settings",t)},e=i(837);return function(i){return'<div class="player-controls player-controls_empty deco-player-controls" data-b="'+__escape(Mu.dotBlockRoot(i,"player-controls",!0))+'"><div class="player-controls__btn deco-player-controls__button player-controls__btn_prev" title="'+__escape(i18n("player-controls","Назад"))+' [K]"><div class="d-icon d-icon_track-prev"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_settings" title="'+__escape(i18n("player-controls","[feature/mfront-3789]Настроить поток"))+'">'+t({class:"d-icon d-icon_settings"})+'</div><div class="player-controls__btn deco-player-controls__button player-controls__btn_play" title="'+__escape(i18n("player-controls","Играть"))+' [P]"><div class="d-icon d-icon_play"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_next" title="'+__escape(i18n("player-controls","Вперед"))+' [L]"><div class="d-icon d-icon_track-next"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_seq" title="'+__escape(i18n("player-controls","Очередь прослушивания"))+'"><div class="d-icon d-icon_playlist-next"></div></div><div class="player-controls__track-container"></div><div class="player-controls__shot player-controls__btn_hidden typo deco-typo"></div><div class="player-controls__stream player-controls__btn_hidden typo deco-typo"></div> <div class="player-controls__speed-controls"></div><div class="player-controls__seq-controls">'+e.render(i)+'<div class="player-controls__btn deco-player-controls__button player-controls__btn_shuffle" title="'+__escape(i18n("player-controls","В случайном порядке"))+'"><div class="d-icon d-icon_shuffle"></div></div><div class="player-controls__btn deco-player-controls__button player-controls__btn_repeat" title="'+__escape(i18n("player-controls","Повторять"))+'"><div class="d-icon d-icon_repeat"></div></div></div></div>'}}()},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(141),s=i(156),o=i(73),r=i(824),l=i(826),function(t){var e="",i=(a.render({icon:"cross-small"}),r());return e+='<div class="player-progress progress deco-progress" data-b="'+__escape(Mu.dotBlockRoot(t,"player-progress",!0))+'">',l(i,"transformerType")?e+='<div class="garage garage_left deco-pane-back"></div><div class="garage garage_right deco-pane-back"></div>':"venom"===i&&(e+='<div class="venom__head"></div><div class="venom__half-head"></div>'),e+='<div class="progress__bg"></div><div class="progress__bar progress__progress_muted"><div class="progress__line"></div></div><div class="progress__bar progress__progress"><div class="progress__line"> ',l(i,"transformerType")&&(e+=" ","rocket"===i&&(e+=' <div class="progress__line_static-background"></div> '),e+=" "),e+=' </div><div class="progress__line__branding">',l(i,"transformerType")?("bumblebee"===i&&s.isInCountry(225)&&"ru"===o().lang&&(e+='<div class="bubble bumblebee__bubble bumblebee__bubble_left"></div>'),e+='<div class="moving-slider '+__escape(i)+'"></div><div class="paused-slider '+__escape(i)+'"></div>'):"venom"===i&&(e+='<div class="venom__tongue"></div><div class="venom__tongue-tip"></div>'),e+='<div class="progress__head"></div></div></div><div class="progress__bar progress__text"><div class="progress__left"></div><div class="progress__right"></div></div></div>'})},function(t,e,i,n){t.exports=function(t){return'<div class="plus-kids-popup-annoyer" data-b="'+__escape(Mu.dotBlockRoot(t,"plus-kids-popup-annoyer",!0))+'"></div>'}},function(t,e,i,n){t.exports=function(t){return'<div class="plus-points '+__escape(t.class)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"plus-points",!0))+'"></div>'}},function(t,e,i,n){t.exports=function(){const t=i(141),e=(i(934),i(985));i(143),i(12);return function(i){return'<div class="rup" data-b="'+__escape(Mu.dotBlockRoot(i,"rup",!0))+'"><div class="rup__animation '+__escape(i.havePlus||"on"!==Mu.experiments.WebMyVibeFreemium?"":"rup__animation_disable")+'">'+e.render()+'</div><div class="rup__content '+__escape(i.havePlus||"on"!==Mu.experiments.WebMyVibeFreemium?"":"rup__content_disable")+'"><div class="rup__content-button '+__escape(i.havePlus||"on"!==Mu.experiments.WebMyVibeFreemium?"":"rup__content-button_disable")+'"><div class="rup__content-button-play">'+t.render({icon:"play"})+'</div><div class="rup__content-button-pause">'+t.render({icon:"pause"})+'</div><p class="rup__content-button-caption">'+i18n("rup","[feature/mfront-2998]Моя волна")+'</p></div><div class="rup__content-description">'+i18n("rup","[feature/mfront-3125]Бесконечный поток треков, который<br>подстраивается под вас")+"</div></div></div>"}}()},function(t,e,i,n){var a={render:i(782)};clientSide&&(a.controller=i(255)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(141),function(t){for(var e,i='<div class="rup-stations" data-b="'+__escape(Mu.dotBlockRoot(t,"rup-stations",!0))+'">',n=0;n<t.stations.length;n++){if(i+='<div class="rup-stations__item deco-popup-menu__item ',(e=t.stations[n]).showRupDescription&&(i+="rup-stations__item-large"),i+='" data-id="'+__escape(e.station.id.tag)+","+__escape(e.station.id.type)+'"><div class="rup-stations__item-active-icon">'+a.render({icon:"checkmark"})+'</div><div class="rup-stations__item-info"><p class="rup-stations__item-name">'+e.station.name+"</p>",e.showRupDescription&&(i+='<p class="rup-stations__item-description">'+e.rupDescription+"</p>"),i+='<p class="rup-stations__item-substation-name _hidden"></p></div>',e.station.children){i+='<div class="rup-stations__item-arrow deco-button"><div class="rup-stations__item-arrow-inner">'+a.render({icon:"arrow-up",rotate:"upside-down",class:"rup-stations__item-expand"})+'</div></div><div class="rup-stations__item-children deco-popup-menu deco-entity-bg">';for(var s,o=0;o<e.station.children.length;o++)s=e.station.children[o],i+='<div class="rup-stations__item deco-popup-menu__item" data-id="'+__escape(s.id.tag)+","+__escape(s.id.type)+'"><div class="rup-stations__item-active-icon">'+a.render({icon:"checkmark"})+'</div><span class="rup-stations__item-name">'+s.name+"</span></div>";i+="</div>"}i+="</div>"}return i+="</div>"})},function(t,e,i,n){t.exports=function(){const t=i(402),e=i(151),n=i(294);return function(i){var a="",s=function(){var e='<div class="shelf-cell__content shelf-cell__'+i.type+'"><div class="shelf-cell__icon"></div><div class="shelf-cell__text">';return"my-bookshelf"===i.type?e+=i18n("shelf-cell","[feature/mfront-4554]Моя полка"):e+=i18n("shelf-cell","[feature/mfront-4554]Новые выпуски"),e+='</div><div class="shelf-cell__covers"><div class="shelf-cell__cover shelf-cell__cover-img-2" ',i.covers[2]&&(e+='style="background-image: url('+__escape(t(i.covers[2],100))+');"'),e+='></div><div class="shelf-cell__cover shelf-cell__cover-img-1" ',i.covers[1]&&(e+='style="background-image: url('+__escape(t(i.covers[1],100))+');"'),e+='></div><div class="shelf-cell__cover shelf-cell__cover-img-0" ',i.covers[0]&&(e+='style="background-image: url('+__escape(t(i.covers[0],100))+');"'),e+="></div></div></div>"}();const o=n(),r=o&&o.login;return a+=e.render({href:"my-bookshelf"===i.type?`/users/${r}/podcasts/shelf/`:`/users/${r}/podcasts/shelf/new-episodes`,content:s,noHoverColor:!0,class:"shelf-cell"})}}()},function(t,e,i,n){t.exports=function(){const t=i(989),e=i(652),n=i(991);return function(i){for(var a,s='<div class="shelf-non-music">',o=0;o<i.entities.length;o++)"last-recently-played"===(a=i.entities[o]).type?s+=e.render({track:n.getTrack(a),type:"shelf-non-music",showBest:!0,activeTabInTrackLink:"track-list",dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1,nonSelectable:!0,backgroundColor:a.data&&a.data.color}):"new-episodes"!==a.type&&"my-bookshelf"!==a.type||(s+=t.render({type:a.type,covers:a.data&&a.data.covers||[]}));return s+="</div>"}}()},function(t,e,i,n){var a={render:i(990)};t.exports=a},function(t,e,i,n){t.exports=function(){const t=i(402),e=i(151),n=i(294);return function(i){var a="",s=function(){var e='<div class="shelf-cell__content shelf-cell__'+i.type+'"><div class="shelf-cell__icon"></div><div class="shelf-cell__text">';return"my-bookshelf"===i.type?e+=i18n("shelf-cell","[feature/mfront-4554]Моя полка"):e+=i18n("shelf-cell","[feature/mfront-4554]Новые выпуски"),e+='</div><div class="shelf-cell__covers"><div class="shelf-cell__cover shelf-cell__cover-img-2" ',i.covers[2]&&(e+='style="background-image: url('+__escape(t(i.covers[2],100))+');"'),e+='></div><div class="shelf-cell__cover shelf-cell__cover-img-1" ',i.covers[1]&&(e+='style="background-image: url('+__escape(t(i.covers[1],100))+');"'),e+='></div><div class="shelf-cell__cover shelf-cell__cover-img-0" ',i.covers[0]&&(e+='style="background-image: url('+__escape(t(i.covers[0],100))+');"'),e+="></div></div></div>"}();const o=n(),r=o&&o.login;return a+=e.render({href:"my-bookshelf"===i.type?`/users/${r}/podcasts/shelf/`:`/users/${r}/podcasts/shelf/new-episodes`,content:s,noHoverColor:!0,class:"shelf-cell"})}}()},function(t,e,i,n){t.exports={getTrack:t=>{const e=t.data&&t.data.playedItem;if(e&&e.type&&e.track)return e.track.shelfType=e.type,e.album&&e.album.durationLeft&&(e.track.albumStreamProgress={durationLeft:e.album.durationLeft,durationSec:e.album.durationSec}),"playlist"===e.type&&(e.track.playlist=e.playlist),e.track.shelfSection="recentlyPlayed",e.track}}},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(98),s=i(556),o=i(993),r=i(995),l=i(996),function(t){var e='<div class="sidebar__placeholder'+__escape(a()?" sidebar__sticky":"")+'" data-b="'+__escape(Mu.dotBlockRoot(t,"sidebar__placeholder",!0))+'"> <div class="sidebar deco-pane"> <div class="sidebar__under"> ';return s()&&(e+=" "+o.render(t)+" "),e+=" "+r.render(t)+'<div class="sidebar__ads"></div> </div> '+l.render({listenOn:"sidebars",class:"loading_sidebar"})+" </div></div>"})},function(t,e,i,n){const a=i(994),s=i(559),o={render:a};clientSide&&(o.controller=Mu.blocks.register("teaser-nonmusic",s)),t.exports=o},function(t,e,i,n){t.exports=function(){var t=i(294),e=i(143),n=i(226);return function(i){var a='<div class="teaser-nonmusic" data-b='+__escape(Mu.dotBlockRoot(i,"teaser-nonmusic",!0))+' style="display: none;">';return t().hasAvatar&&(a+='<div class="teaser-nonmusic__avatar-wrapper">'+n.render({user:t(),size:"L",showAvatar:!0})+"</div>"),a+='<div class="teaser-nonmusic__text local-theme-black deco-typo typo-h2">',t().firstName&&(a+='<div class="teaser-nonmusic__text-name"><span>'+__escape(t().firstName)+"</span>,</div>"),a+='<div class="teaser-nonmusic__text-main',t().firstName||(a+=" teaser-nonmusic__text_capitalize"),a+='"></div></div>'+e.render({size:"L",type:"action",rounded:!0,class:"teaser-nonmusic__button"})+"</div>"}}()},function(t,e,i,n){var a={render:i(557)};clientSide&&(a.controller=i(555)),t.exports=a},function(t,e,i,n){var a={render:i(763)};clientSide&&(a.controller=i(210)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(551),e=i(72),n=i(108),a=i(143),s=i(73);return function(i){var o="",r=s().uatraits,l=r.isMobile||r.isTablet,c=l?i18n("stream-badge","[feature/show-fm-play-button]Слушать"):null;if(t.prepareData(i),o+='<div class="stream-badge" data-b="'+__escape(Mu.dotBlockRoot(i,"stream-badge",!0))+'"><div class="stream-badge__station ',i.available&&(o+="stream-badge__station_available"),o+='">',i.available){o+='<div class="stream-badge__round stream-badge__round_shadow" ',i.color&&(o+='style="box-shadow: 0px 0px 100px 30px '+__escape(i.color)+'"'),o+='></div><div class="stream-badge__animation"><div class="stream-badge__round stream-badge__round_bg" style="',i.color&&(o+="background-color: "+__escape(i.color)+";"),o+='"></div><div class="stream-badge__pulse"><div class="stream-badge__pulse-circle"></div><div class="stream-badge__pulse-circle"></div><div class="stream-badge__pulse-circle"></div></div></div><div class="stream-badge__logo" ',i.imageUrl&&(o+='style="background-image: url('+__escape(e(i.imageUrl))+');"'),o+="></div>";var d='<div class="stream-badge__action">'+a.render({size:"L",icon:"play-small",text:c,type:"action",rounded:!0,class:"stream-badge__play"})+a.render({size:"L",icon:"pause-small",text:c,type:"action",rounded:!0,class:"stream-badge__pause"})+"</div>";l||(o+=d)}else o+='<div class="stream-badge__details typo '+__escape(n.theme("black").classes(!0))+'"><div class="stream-badge__text typo-h1">😔</div>',!1===i.available&&i.title?(o+='<div class="stream-badge__text typo-h3">'+i18n("stream-badge","[feature/fm-page]К сожалению, «%1»<br />не вещает в вашем регионе",i.title)+"</div>",i.showRadioButton&&(o+='<div class="stream-badge__text stream-badge__text_secondary typo">'+i18n("stream-badge","[feature/fm-page]Но у нас есть множество радиостанций, которые заполнят музыкой пустой эфир.")+"</div>"+a.render({text:i18n("stream-badge","[feature/mfront-4200]Слушать Яндекс Радио"),rounded:!0,href:"/radio",class:"stream-badge__button "+n.theme("black").classes(!0)}))):o+='<div class="stream-badge__text typo-h3">'+i18n("stream-badge","[feature/fm-page]К сожалению, станция<br />не найдена")+"</div>",o+='<div class="stream-badge__blur"></div></div>';return o+="</div>",i.available&&i.title&&(o+=l?d:'<div class="stream-badge__title typo typo-h2_bold '+__escape(n.theme("black").classes(!0))+'">'+__escape(i.title)+"</div>"),o+="</div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){var i='<div class="subscribe-to-user" data-b='+Mu.dotBlockRoot(e,"subscribe-to-user",!0)+" >";return e.user&&(i+='<div class="subscribe-to-user__actions"><div class="subscribe-to-user__actions-unsubscribe">'+t.render({text:i18n("subscribe-to-user","Вы подписаны"),size:"S",rounded:!0,class:"subscribe-to-user__button subscribe-to-user__button_subscribed subscribe-to-user__button_no-hover"})+t.render({text:i18n("subscribe-to-user","Отписаться"),size:"S",rounded:!0,class:"subscribe-to-user__button subscribe-to-user__button_unsubscribe subscribe-to-user__button_hover"})+'</div><div class="subscribe-to-user__actions-subscribe">'+t.render({text:i18n("subscribe-to-user","Подписаться"),size:"S",rounded:!0,class:"subscribe-to-user__button subscribe-to-user__button"})+"</div></div>"),i+="</div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(816),s=i(822),function(t){return'<div class="touch-player" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player",!0))+'"><div class="touch-player__header deco-pane_border-top deco-pane_border-bottom"></div><div class="touch-player__container deco-pane_border-bottom">'+a.render()+s.render()+'</div><div class="touch-player__below"><div class="touch-player__bar-below"></div><div class="touch-player__sequence-placeholder"></div></div></div>'})},function(t,e,i,n){var a;t.exports=(a=i(778),function(t){return'<div class="touch-player-advert hidden" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-advert",!0))+'"><div class="touch-player-advert__message"><div class="touch-player-advert__title typo-default">'+__escape(i18n("touch-player-advert","[feature/touch-player-advert]Реклама"))+'</div><div class="touch-player-advert__desc typo-default">'+__escape(i18n("touch-player-advert","[feature/touch-player-advert]Сейчас вы слушаете музыку вперемешку с рекламой"))+"</div></div>"+a.render({button:{rounded:!0,text:i18n("touch-player-advert","[feature/touch-player-advert]Не хочу так"),size:"L"},class:"audio-advert__no-ads",subtitle:"disableAds",metrika:"audio"})+"</div>"})},function(t,e,i,n){var a;t.exports=(a=i(818),function(t){return'<div class="touch-player-controls player-controls player-controls_empty" data-b="'+__escape(Mu.dotBlockRoot(t,"touch-player-controls",!0))+'"><div class="player-controls__track-container"><div class="player-controls__btn_seq"></div></div><div class="player-controls__shot player-controls__btn_hidden typo deco-typo"></div>'+a.render()+'<div class="player-controls__controls-container"><div class="player-controls__btn player-controls__btn_repeat"><div class="d-icon d-icon_repeat"></div></div><div class="player-controls__btns"><div class="player-controls__btn player-controls__btn_prev"><div class="d-icon d-icon_track-prev"></div></div><div class="player-controls__btn player-controls__btn_play"><div class="d-icon d-icon_play"></div></div><div class="player-controls__btn player-controls__btn_next"><div class="d-icon d-icon_track-next"></div></div></div><div class="player-controls__btn player-controls__btn_seq"><div class="d-icon d-icon_playlist-next"></div></div><div class="player-controls__btn player-controls__btn_shuffle"><div class="d-icon d-icon_shuffle"></div></div></div></div>'})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(119);return function(i){return'<div class="ugc-loader _hidden" data-b="'+__escape(Mu.dotBlockRoot(i,"ugc-loader",!0))+'"><span class="ugc-loader__button">'+t.render({text:i18n("ugc-loader","[feature/mfront-1524-ugc-drop]Загрузить трек"),size:"L",class:"js_open",rounded:!0,disabled:!e.canUseMusicInRegion()})+"</span></div>"}}()},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(141),s=i(151),i(143),o=i(624),r=function(t){var e='<div class="video-list__item" data-id="'+t.providerVideoId+'"><div class="video-list__item-pic local-icon-theme-black">';if(t.cover){var i=o.getVideoCover2x(t.cover);e+='<img class="video-list__item-cover" src="'+o.getVideoCover(t.cover)+'" ',i&&(e+='srcset="'+i+' 2x"'),e+=" />"}return e+='<div class="video-list__item-overlay"></div><div class="video-list__item-icons">'+a.render({icon:"play",class:"video__icon-play"})+a.render({icon:"pause",class:"video__icon-pause"})+'</div></div><div class="video-list__item-title">'+s.render({href:t.url,title:t.title,text:t.title,target:"_blank"})+"</div></div>"},function(t){for(var e,i='<div class="video-list" data-b="'+__escape(Mu.dotBlockRoot(t,"video-list",!0))+'"><div class="video-list__items">',n=0;n<o.filterItems(t).length;n++)e=o.filterItems(t)[n],i+=r(e);return i+="</div></div>"})},function(t,e,i,n){t.exports=function(){var t=i(576),e=(i(141),i(143)),n=i(793),a={render:function(t){return s(t)}},s=function(e){var i='<div class="video-overlay__slider-item deco-border">';if(e.cover){var n=t.getVideoCover2x(e.cover);i+='<img src="'+t.getVideoCover(e.cover)+'" ',n&&(i+='srcset="'+n+' 2x"'),i+=" />"}return i+='<span class="video-overlay__slider-item-title">'+__escape(e.title)+"</span></div>"};return function(i){return'<div class="video-overlay video-overlay_hidden" data-b="'+__escape(Mu.dotBlockRoot(i,"video-overlay",!0))+'"><div class="video-overlay__overlay"></div><div class="video-overlay__content">'+e.render({icon:"cross-medium",class:"video-overlay__close",rounded:!0,size:"M",type:"overlay"})+'<div class="video-overlay__player-container"><div class="video-overlay__player"></div></div><div class="video-overlay__slider">'+n.render({items:t.getAvailableItems(i.items),itemTemplate:a,endless:!1,shrink:!0,shrinkToIntegerItemCount:!0,theme:"video-overflow",decoIconTheme:"black"})+"</div></div></div>"}}()},function(t,e,i,n){t.exports=function(t){return'<div class="wizard-me" data-b="'+__escape(Mu.dotBlockRoot(t,"wizard-me"))+'">'+__escape(i18n("wizard-me","Я"))+'<div class="wizard-me__ripple"></div><div class="wizard-me__fill wizard-me__fill-50"></div><div class="wizard-me__fill wizard-me__fill-67"></div><div class="wizard-me__fill wizard-me__fill-83"></div><div class="wizard-me__fill wizard-me__fill-100"></div><div class="wizard-me__final-text">'+__escape(i18n("wizard-me","[feature/mfront-3157]Звучит отлично!"))+'<div class="wizard-me__final-subtext">'+i18n("wizard-me","[feature/mfront-3157]Уже собираем для вас рекомендации,<br> скоро сами всё услышите")+"</div></div></div>"}},function(t,e,i,n){var a,s=t=>t.split("&amp;").join("&#38;").split("&lt;").join("&#60;").split("&gt;").join("&#62;").split("&quot;").join("&#34;");e["doT_template_page-404"]=(a=i(1007),t=>s(a(t[0].data))),e["doT_template_page-500"]=(t=>e=>s(t(e[0].data)))(i(1009)),e["doT_template_page-album"]=(t=>e=>s(t(e[0].data)))(i(1010)),e["doT_template_page-apartment"]=(t=>e=>s(t(e[0].data)))(i(1025)),e["doT_template_page-artist"]=(t=>e=>s(t(e[0].data)))(i(1026)),e["doT_template_page-autoplaylist"]=(t=>e=>s(t(e[0].data)))(i(1080)),e["doT_template_page-cobain"]=(t=>e=>s(t(e[0].data)))(i(1081)),e["doT_template_page-entities"]=(t=>e=>s(t(e[0].data)))(i(1082)),e["doT_template_page-fm"]=(t=>e=>s(t(e[0].data)))(i(1091)),e["doT_template_page-hmac"]=(t=>e=>s(t(e[0].data)))(i(1097)),e["doT_template_page-kids"]=(t=>e=>s(t(e[0].data)))(i(1098)),e["doT_template_page-label"]=(t=>e=>s(t(e[0].data)))(i(1107)),e["doT_template_page-main"]=(t=>e=>s(t(e[0].data)))(i(1109)),e["doT_template_page-metatag"]=(t=>e=>s(t(e[0].data)))(i(1151)),e["doT_template_page-non-music"]=(t=>e=>s(t(e[0].data)))(i(1152)),e["doT_template_page-personal"]=(t=>e=>s(t(e[0].data)))(i(1159)),e["doT_template_page-personal-top2017"]=(t=>e=>s(t(e[0].data)))(i(1161)),e["doT_template_page-personal-top2018"]=(t=>e=>s(t(e[0].data)))(i(1162)),e["doT_template_page-playlist"]=(t=>e=>s(t(e[0].data)))(i(1164)),e["doT_template_popup-sequence"]=(t=>e=>s(t(e[0].data)))(i(1177)),e["doT_template_popup-wizard"]=(t=>e=>s(t(e[0].data)))(i(1182)),e["doT_template_page-predictions"]=(t=>e=>s(t(e[0].data)))(i(1186)),e["doT_template_page-radio"]=(t=>e=>s(t(e[0].data)))(i(1187)),e["doT_template_page-search"]=(t=>e=>s(t(e[0].data)))(i(1194)),e["doT_template_page-settings"]=(t=>e=>s(t(e[0].data)))(i(1202)),e["doT_template_sidebar-500"]=(t=>e=>s(t(e[0].data)))(i(1215)),e["doT_template_sidebar-album"]=(t=>e=>s(t(e[0].data)))(i(1216)),e["doT_template_sidebar-artist"]=(t=>e=>s(t(e[0].data)))(i(1218)),e["doT_template_sidebar-order-info"]=(t=>e=>s(t(e[0].data)))(i(1222)),e["doT_template_sidebar-playlist"]=(t=>e=>s(t(e[0].data)))(i(1224)),e["doT_template_sidebar-track"]=(t=>e=>s(t(e[0].data)))(i(1226)),e["doT_template_page-style-guide"]=(t=>e=>s(t(e[0].data)))(i(1237)),e["doT_template_page-tag"]=(t=>e=>s(t(e[0].data)))(i(1394)),e["doT_template_page-travel"]=(t=>e=>s(t(e[0].data)))(i(1395)),e["doT_template_page-users"]=(t=>e=>s(t(e[0].data)))(i(1396)),e["doT_template_page-wizard"]=(t=>e=>s(t(e[0].data)))(i(1419))},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(644),s=i(151),o=i(592),r=i(593),l=i(1008),function(t){var e='<div class="page-404" data-b="'+__escape(Mu.dotBlockRoot(t,"page-404",!0))+'">'+a.render({title:i18n("page-404","Ошибка 404")})+'<div class="page-404__description"><p>'+__escape(i18n("page-404","Вы попали на несуществующую страницу."))+"</p><p>"+__escape(i18n("page-404","Вероятно, это произошло из-за опечатки или неправильной раскладки клавиатуры."))+'</p></div><div class="page-404__link">',i=""+s.render({text:i18n("page-404","[feature/404-undefined]поделитесь ею с нами"),href:l("feedback"),style:"marked",target:"_blank"});if(e+=i18n("page-404","[feature/few-bugs]Если вы прошли сюда по&nbsp;ссылке, %1, пожалуйста.",i)+"</div>",t.genres&&t.genres.length>0){e+='<div class="page-404__subtitle">'+__escape(i18n("page-404","Выбирайте музыку по вкусу"))+'</div><div class="page-404__genres">';for(var n,c=0;c<t.genres.length;c++)"all"!==(n=t.genres[c]).id&&"other"!==n.id&&(c>1&&(e+="<span>, </span>"),e+=s.render({href:r(n.id),text:o(n.id,!0),style:"muted",target:t.target||""}));e+="</div>"}return e+="</div>"})},function(t,e,i,n){var a={feedback:"//feedback2.yandex.ru/newmusic/",feedbackMobile:"//yandex.ru/support/music/users/payment.html#problems",emailValidator:"//passport.yandex.{{TLD}}/profile/emails/list",agreementMobile:"//legal.yandex.ru/music_mobile_agreement/",lumiaMarketLink:"http://market.yandex.ru/catalog/91491/list?gfilter=1801946%3A8500761%2C1871151&gfilter=2142542726%3A-1347084400&gfilter=2142557976%3A-413129622%2C-1446900121&in-stock=1&how=ddate&from=musicapp",tld:"ru"};t.exports=function(t){return(a[t]||"").replace(/\{\{TLD\}\}/g,Mu.settings.tld)}},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(644),s=i(151),o=i(592),r=i(593),function(t){var e='<div class="page-500" data-b="'+__escape(Mu.dotBlockRoot(t,"page-500",!0))+'">'+a.render({title:i18n("page-500","Что-то пошло не так")})+'<div class="page-500__description"><p>'+__escape(i18n("page-500","Сайт не работает, но мы уже решаем эту проблему."))+"</p></div>",i=""+s.render({text:i18n("page-500","[feature/still-untranslated]обновить страницу"),class:"link_reload",style:"marked"});if(e+='<div class="page-500__link">'+i18n("page-500","Попробуйте %1.",i)+"</div>",t.genres&&t.genres.length>0){e+='<div class="page-500__subtitle">'+__escape(i18n("page-500","Выбирайте музыку по вкусу"))+'</div><div class="page-500__genres">';for(var n,l=0;l<t.genres.length;l++)"all"!==(n=t.genres[l]).id&&"other"!==n.id&&(l>1&&(e+="<span>, </span>"),e+=s.render({href:r(n.id),text:o(n.id,!0),class:"link_reload",style:"muted"}));e+="</div>"}return t.debug&&(e+=Mu.render("debug",t.error)),e+="</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(1011),s=i(1024),function(t){var e="";return"podcast"===t.type||"audiobook"===t.type?e+=a(t):e+=s(t),e})},function(t,e,i,n){t.exports=function(){var t=i(655),e=i(1012),n=i(1014),a=i(825),s=(i(1018),i(294)),o=i(1020),r=i(1013),l=i(219),c=i(429),d=(i(1021),i(604),i(318)),u=i(141),p=i(151),h=i(461),_=i(599),m=(i(1015),i(1016)),g=(i(686),i(594),i(389)),f=i(381),y=(i(354),i(610),i(293));i(178).apply,i(267),i(423);return function(i){var v="",b="podcast"===i.type,k="fairy-tale"===i.type,w="audiobook"===i.type||["audiobooksinenglish","fiction"].includes(i.genre);v+='<div class="page-album" data-b="'+__escape(Mu.dotBlockRoot(i,"page-album",!0))+'">';var x=function(){var t='<span class="page-album__best-tracks">'+u.render({icon:"lightning"})+_.render({title:i18n("page-album","[feature/podcasts-mini-fixups]Популярно у слушателей")})+"</span>",e=function(){var t="";return i.version&&(t+=__escape(i.version.length)),t}(),n=function(){var t=" "+_.render({entity:(k?i18n("page-album","[feature/mfront-3881]Аудиосказка"):w?i18n("page-album","[feature/mfront-3881]Аудиокнига"):r.pageTitle(i))+" "})+'<div class="page-album__title';i.title.length+e>25?t+=" typo-h1_small":t+=" typo-h1_big",t+='">',i.trackId?t+=p.render({text:i.title,href:"/album/"+i.id}):t+='<span class="deco-typo">'+__escape(i.title)+"</span>",i.version&&(t+='<span class="page-album__version',i.duplicates&&(t+=" link"),t+='">'+i.version+"</span>"),t+="</div>";const n=i.artists.filter((function(t){return!t.composer})),a=n.filter((function(t){return!t.various&&!t.error})),s=i.artists.filter((function(t){return t.composer&&!t.various}));return artistsList=(a.length>0?a:n.length>0?n:[]).concat(s),t}();return i.trackId?t+="<div>"+n+"</div>":t+="<h1>"+n+"</h1>",t}(),M=function(){var t="";t+=f.render({theme:"withText",type:"album",item:i,attr:r.goodTracks(i),text:i18n("page-album","Слушать"),class:"page-album__play"});let e=null;return b&&(e="countAndSubscribe"),t+=d.render({album:i,size:"L",className:"page-album__like",theme:e,count:b?i.likesCount:null})+c.render({album:i,canShowPlaybackProgressItems:!0})}();if(v+=m.render({aside:g.render({album:i}),main:x,actions:M}),!i.available||i.availablePartially){v+='<div class="page-album__rights-info">';var T=function(){var e="";return i.availablePartially?e+=o("availablePartially",!1,i.type)+" ":i.availableForPremiumUsers?e+=" "+o("availableForPremium",!1,i.type):i.startDate&&t("",i.startDate,!0)>0&&(e+=o("soonAvailable")),e}();if(v+=' <div class="page-album__disclaimer"><div class="page-album__disclaimer-title">'+T+"</div>",!a()){v+='<div class="page-album__disclaimer-actions">';var S=""+Mu.render("button",{text:i18n("page-album","Оформить подписку")},["XL","button_action"]);v+=l.render({from:"exclusiveContentAlbum",content:S})+"</div>"}if(v+='<div class="page-album__disclaimer-footer">',!s().uid){var $=""+h.render({text:i18n("page-album","авторизуйтесь"),from:"exclusiveContentAlbum"});v+=i18n("page-album","Если у вас уже есть подписка, %1.",$)}v+="</div></div></div>"}var L=i.volumes.slice();let P;b&&("asc"===i.dir||!i.dir&&"asc"===i.sortOrder)&&L.reverse();for(let t=0;t<i.volumes.length&&(P=i.volumes[t].filter(t=>"trailer"===t.podcastEpisodeType),!P.length);t++);return v+='<nav class="page-album__tabs deco-devider"><div class="page-album__tabs-item" data-nav-name="about">',v+=b?i18n("page-album","[feature/mfront-4022]о подкасте"):i18n("page-album","[feature/mfront-4022]о книге"),v+='</div><div class="page-album__tabs-item" data-nav-name="track-list">',v+=b?y(r.countTracks(i),i18n("page-album","[feature/mfront-4022]%s выпуск|%s выпуска|%s выпусков")):i18n("page-album","[feature/mfront-4022]оглавление"),v+="</div></nav>"+n(i)+e(i)+"</div>"}}()},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(1013),s=i(686),o=i(354),r=i(610),i(293),l=i(178).apply,function(t){var e="",i="podcast"===t.type,n=t.volumes.slice();i&&("asc"===t.dir||!t.dir&&"asc"===t.sortOrder)&&n.reverse(),e+='<section class="page-album__tab-section" data-nav-name="track-list"> ',i&&(e+=" "+o.render({resetable:!1,size:"S",items:a.getSortItems(t),class:"page-album__sort",popupClass:"page-album__sort-popup"})+" "+r.render({title:i18n("page-album","[feature/mfront-4022]Порядок проигрывания"),class:"page-album__track-list-title"})+" ");const c=a.getRealIndexes(t);e+=" ";for(var d,u=0;u<n.length;u++){if(d=n[u],e+=" ",t.volumes.length>1){e+=" ";var p=l(".albums[0].trackPosition.volume",d[0]);e+=" ",p=p.length>0?p[0]:u+1,e+=' <div class="page-album__vol"> ',e+=i?" "+i18n("page-album","[feature/mfront-2027]Сезон %1",p)+" ":" "+i18n("page-album","Диск %1",p)+" ",e+=" </div> "}e+=" ";var h=d.slice();e+=" ",i&&("asc"===t.dir||!t.dir&&"asc"===t.sortOrder)&&h.reverse(),e+=" ";var _=h.map((function(t){return t.realId}));e+=" ",h.length=Math.min(h.length,t.countTracks||150),e+=' <div class="page-album__tracks ',i&&(e+="with-cover"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"page-album__tab-section-track-list",!0))+'">';var m=a.getAlbumArtists(t);e+=" "+s.render({type:"track",ids:_,items:h,trackId:t.trackId,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",itemHeight:i?68:40,from:"album",params:{showArtist:!i,hideArtists:m,type:i?"withCover":null,showReleaseDate:i,showBest:!0,showChartPosition:!0,inlineMeta:!0,dirInTrackLink:t.dir,activeTabInTrackLink:"track-list",trackListIndexes:c[u],dataTab:"track-list"},onItemReady:function(t){var e=$(t.dom).find(".d-track__title"),i=e.find(".explicit-wrap");Mu.layout.updateExplicitMarkPosition(i,e)}})+"</div> "}return e+="</section>"})},function(t,e,i,n){t.exports={goodTracks:function(t){var e,i,n=t.volumes;if(!n.length)return{disabled:"disabled"};for(e in n)for(i in e)if(i.error||!i.available)return{disabled:"disabled"};return""},pageTitle:function(t){switch(t.type){case"single":return i18n("page-album","[feature/nonmusic-no-install]Сингл");case"podcast":return i18n("page-album","[feature/mfront-3672]Подкаст");default:return i18n("page-album","[feature/nonmusic-no-install]Альбом")}},getAlbumArtists:function(t){return t.artists.map((function(t){return t.id}))},countTracks:function(t){return t.volumes.reduce((function(t,e){return t+e.length}),0)},getRealIndexes:function(t){let e=0,i=0;const n=t.volumes.reduce((t,n)=>{t.push([]);for(let a=0;a<n.length;a++)t[i].push(e+1),e++;return i++,t},[]);return"asc"===t.dir&&(n.map(t=>{t.reverse()}),n.reverse()),n},getSortItems:function(t){var e=[{id:"desc",isDefault:!0,title:i18n("page-album","[feature/sort-podcast-episodes]сначала новые"),topTitle:i18n("page-album","[feature/sort-podcast-episodes]Сначала новые")},{id:"asc",title:i18n("page-album","[feature/sort-podcast-episodes]сначала старые"),topTitle:i18n("page-album","[feature/sort-podcast-episodes]Сначала старые")}],i=t.dir||t.sortOrder||"desc";return e.forEach((function(t){t.selected=i===t.id})),e},hasComposer:function(t){if(!t)return!1;for(const e of t)if(e.composer)return!0;return!1}}},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(594),s=i(604),o=i(151),r=i(1015),i(1016),l=i(423),c=i(652),d=i(1013),function(t){var e="",i="podcast"===t.type,n=t.volumes.slice();let u,p;n=t.volumes.slice();for(let e=0;e<t.volumes.length&&(u=t.volumes[e].filter((t,e)=>(p=e,"trailer"===t.podcastEpisodeType)),!u.length);e++);const h=t.artists.filter((function(t){return!t.composer})),_=h.filter((function(t){return!t.various&&!t.error})),m=t.artists.filter((function(t){return t.composer&&!t.various}));if(artistsList=(_.length>0?_:h.length>0?h:[]).concat(m),e+='<section class="page-album__tab-section" data-nav-name="about">',t.description&&(e+=r.render({description:t.description,class:"page-album__desc page-album__desc_tab",cutOfflength:200})),artistsList.length&&(e+='<div class="page-album__section-item"><div class="page-album__section-item-name"> ',"audiobook"===t.type||"fairy-tale"===t.type?e+=" "+(artistsList.length>1?i18n("page-album","[feature/mfront-4186]Чтецы:"):i18n("page-album","[feature/mfront-4022]Чтец:"))+" ":e+=" "+(artistsList.length>1?i18n("page-album","[feature/mfront-4186]Исполнители:"):i18n("page-album","[feature/mfront-4186]Исполнитель:"))+" ",e+=' </div><div class="page-album__section-item-value">',artistsList.length>2?e+='<span class="d-artists-many">'+s.render({artists:artistsList,collapseLong:!0})+"</span>":e+='<div class="page-album__artists-short">'+s.render({artists:artistsList})+"</div>",e+="</div></div>"),t.durationSec&&(e+='<div class="page-album__section-item"><div class="page-album__section-item-name">'+i18n("page-album","[feature/mfront-4022]Продолжительность:")+'</div><div class="page-album__section-item-value">'+l(1e3*t.durationSec,"long")+"</div></div>"),t.contentWarning&&(e+='<div class="page-album__section-item"><div class="page-album__section-item-name">'+__escape(i18n("page-album","[feature/mfront-4186]Возрастное ограничение:"))+'</div><div class="page-album__section-item-value">18+</div></div>'),t.labels.length){e+='<div class="page-album__section-item page-album__label page-album__label_section-about"><div class="page-album__section-item-name">',i?t.labels.length>1?e+=i18n("page-album","[feature/mfront-4175]Издатели:"):e+=i18n("page-album","[feature/mfront-4022]Издатель:"):t.labels.length>1?e+=i18n("page-album","[feature/mfront-4175]Лейблы:"):e+=i18n("page-album","[feature/mfront-4022]Лейбл:"),e+='</div><div class="page-album__section-item-value">';for(var g,f=0;f<t.labels.length;f++)g=t.labels[f],f>0&&f<t.labels.length&&(e+=","),e+=o.render({text:g.name,href:"/label/"+g.id});e+="</div></div>"}var y=d.getAlbumArtists(t);if(u&&u.length&&(e+='<div class="page-album__trailer">'+c.render({track:u[0],className:"page-album__d-track",type:i?"withCover":null,activeTabInTrackLink:"about",dirInTrackLink:t.dir,showBest:!0,listIndex:p,dataTab:"about",showReleaseDate:i,showArtist:!i,hideArtists:y})+"</div>"),i){const i=[];for(let t=0;t<n.length&&(i.push(...n[t]),!(i.length>=5));t++);var v;for(e+='<div class="page-album__last-podcasts"><div class="page-album__last-podcasts-description deco-link-wrapper d-link_arrow deco-link_arrow"><h2 class="page-album__last-podcasts-title typo typo-h2_bold deco-link">'+i18n("page-album","[feature/mfront-4022]Последние выпуски")+'</h2><span class="page-album__last-podcasts-view-all typo deco-link">'+i18n("page-album","[feature/mfront-4175]Смотреть все")+'</span></div><div class="page-album__last-podcasts-list">',f=0;f<i.slice(0,5).length;f++)v=i.slice(0,5)[f],e+=c.render({track:v,className:"page-album__d-track",type:"withCover",showBest:!0,listIndex:f,activeTabInTrackLink:"about",dirInTrackLink:t.dir,dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1,hideArtists:y});e+="</div></div>"}if(t.isPremiere)e+=Mu.render("share__buttons",{album:t},"page-album__share");else{if(t.duplicates){e+='<div class="page-album__subtitle page-album__subtitle_duplicates typo typo-h2_bold">'+i18n("page-album","Другие версии альбома")+'</div><div class="page-album__duplicates">';for(var b,k=0;k<t.duplicates.length;k++)b=t.duplicates[k],e+=a.render({album:b});e+="</div>"}e+='<div class="page-album__top"></div><div class="page-album__other-artist-albums"></div><div class="page-album__related-content"></div>'}return e+="</section>"})},function(t,e,i,n){var a={render:i(760)};clientSide&&(a.controller=i(161)),t.exports=a},function(t,e,i,n){var a={render:i(1017)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e='<div class="d-generic-page-head">';return t.aside&&(e+='<div class="d-generic-page-head__aside">'+t.aside+"</div>"),e+='<div class="d-generic-page-head__main"><div class="d-generic-page-head__main-top">'+t.main+"</div>",(t.actions||t.sideActions)&&(e+='<div class="d-generic-page-head__main-bottom">',t.actions&&(e+='<div class="d-generic-page-head__main-actions">'+t.actions+"</div>"),t.sideActions&&(e+='<div class="d-generic-page-head__main-side-actions">'+t.sideActions+"</div>"),e+="</div>"),e+="</div></div>"}},function(t,e,i,n){t.exports=i(1019)},function(t,e,i,n){t.exports=function(){var t=Mu.authData;return!!(t&&t.user&&t.user.adDisableable)}},function(t,e,i,n){i(120);const a=i(231);t.exports=function(t,e,i){const n=e?i18n("texts","трек"):i18n("texts","альбом");switch(t){case"availableForPremium":switch(i){case"audiobook":return i18n("unavailabilityTexts","[feature/mfront-4153]Эта аудиокнига доступна только для подписчиков. <span>Оформите подписку Плюс — вы сможете не только послушать эту аудиокнигу, но и скачать ее. Также вы получите дополнительные возможности в сервисах Яндекса.</span>");case"podcast":return i18n("unavailabilityTexts","[feature/mfront-4153]Этот подкаст доступен только для подписчиков. <span>Оформите подписку Плюс — вы сможете не только послушать этот подкаст, но и скачать его. Также вы получите дополнительные возможности в сервисах Яндекса.</span>");case"fairy-tale":return i18n("unavailabilityTexts","[feature/mfront-4153]Эта аудиосказка доступна только для подписчиков. <span>Оформите подписку Плюс — вы сможете не только послушать эту аудиосказку, но и скачать ее. Также вы получите дополнительные возможности в сервисах Яндекса.</span>");default:return i18n("texts","Этот %1 доступен только для подписчиков, так&nbsp;решил правообладатель. <span>Оформите подписку Плюс — вы сможете не только послушать этот альбом, но и скачать его. Также вы получите дополнительные возможности в сервисах Яндекса.</span>",n)}case"availablePartially":return"audiobook"===i?i18n("unavailabilityTexts","[feature/mfront-4153]Полностью эту аудиокнигу могут слушать только подписчики Яндекс Плюса <span>Оформите подписку — вы сможете не только послушать эту аудиокнигу, но и скачать ее на телефон.</span>"):"podcast"===i?i18n("unavailabilityTexts","[feature/mfront-4223]Полностью этот подкаст могут слушать только подписчики Яндекс Плюса <span>Оформите подписку — вы сможете не только послушать этот подкаст, но и скачать его на телефон.</span>"):i18n("unavailabilityTexts","[feature/mfront-4153]Полностью этот %1 пока могут слушать только подписчики Яндекс Плюса, так решил правообладатель. <span>Оформите подписку — вы сможете не только послушать этот %1, но и скачать его на телефон.</span>",n);case"notAvailable":return"audiobook"===i?i18n("unavailabilityTexts","[feature/mfront-3881]К сожалению, послушать эту аудиокнигу сейчас нельзя."):i18n("texts","К сожалению, послушать этот %1 сейчас нельзя.",n);case"soonAvailable":return i18n("texts","[feature/my-music-new-name]Этот альбом можно будет послушать совсем скоро. Можете пока нажать на кнопку с &#10084; — пластинка появится среди альбомов в разделе «%1», так что вы не забудете к ней вернуться.",a("myMusic"));default:return""}}},function(t,e,i,n){var a={render:i(1022)};clientSide&&(a.controller=i(1023)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(293),s=i(592),o=i(593),i(867),r=i(604),l=i(151),c=function(t,e){var i='<div class="d-album-summary__content"><span class="d-album-summary__item typo">'+a(t.length,e)+"</span>";return t.length>2?i+='<span class="d-artists-many">'+r.render({artists:t,collapseLong:!0})+"</span>":i+=r.render({artists:t}),i+="</div>"},function(t){var e='<div class="d-album-summary';if(t.large&&(e+=" d-album-summary__large"),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"d-album-summary",!0))+'">',!t.withoutArtists){e+='<div class="d-album-summary__pregroup">';var i=t.artists.filter((function(t){return!t.composer})),n=i.filter((function(t){return!t.various&&!t.error}));n.length?(e+=" ","audiobook"===t.type||"fairy-tale"===t.type?e+=" "+c(n,i18n("d-album-summary","[feature/mfront-3881]Чтец: |Чтецы: |Чтецы: |"))+" ":e+=" "+c(n,i18n("d-album-summary","Исполнитель: |Исполнители: |Исполнители: |"))+" "):i.length&&(e+=c(i,i18n("d-album-summary","Исполнитель: |Исполнители: |Исполнители: |")));var a=t.artists.filter((function(t){return t.composer&&!t.various}));a.length&&(e+=c(a,i18n("d-album-summary","Композитор: |Композиторы: |Композиторы: |"))),e+="</div>"}return t.genre&&s(t.genre,!0),e+='<div class="d-album-summary__group d-album-summary__item typo-disabled">',t.year&&(e+='<span class="typo deco-typo-secondary">'+__escape(t.year)+"</span>",t.genre&&(e+='<span class="separator">&nbsp;</span>')),t.genre&&s(t.genre,!0)&&(e+=l.render({text:s(t.genre,!0),class:"deco-link_mimic typo",href:o(t.genre)})),e+="</div></div>"})},function(t,e,i,n){var a;Mu.blocks.register("d-album-summary",((a=function(){Mu.eventize(this)}).prototype.init=function(){var t=$(this.container);this.$editor=t.find(".d-album-summary__edit"),this.$genre=this.$editor.find(".d-link"),this.$editButton=this.$editor.find(".d-button-edit"),this.$editButtonInner=this.$editButton.find(".d-button-inner"),Mu.blocks.get("d-tooltip").getTooltip(this.$editButton,{type:"alert",event:"hover",side:"bottom",class:"d-tooltip-edit",theme:"black",content:i18n("d-album-summary","Изменить жанр"),fade:!0})},a))},function(t,e,i,n){t.exports=function(){var t=i(655),e=i(825),n=(i(1018),i(294)),a=i(1020),s=i(1013),o=i(219),r=i(429),l=i(1021),c=i(604),d=i(318),u=i(141),p=i(151),h=i(461),_=i(599),m=i(1015),g=i(1016),f=i(686),y=i(594),v=i(389),b=i(381),k=i(354),w=i(610),x=i(293),M=i(178).apply;i(267);return function(i){var T="",S="podcast"===i.type,L="fairy-tale"===i.type,P="audiobook"===i.type||["audiobooksinenglish","fiction"].includes(i.genre);T+='<div class="page-album" data-b="'+__escape(Mu.dotBlockRoot(i,"page-album",!0))+'">';var C=function(){var t='<span class="page-album__best-tracks">'+u.render({icon:"lightning"})+_.render({title:i18n("page-album","[feature/podcasts-mini-fixups]Популярно у слушателей")})+"</span>",e=function(){var t="";return i.version&&(t+=__escape(i.version.length)),t}(),n=function(){var t=" "+_.render({entity:(L?i18n("page-album","[feature/mfront-3881]Аудиосказка"):P?i18n("page-album","[feature/mfront-3881]Аудиокнига"):s.pageTitle(i))+" "})+'<div class="page-album__title';i.title.length+e>25?t+=" typo-h1_small":t+=" typo-h1_big",t+='">',i.trackId?t+=p.render({text:i.title,href:"/album/"+i.id}):t+='<span class="deco-typo">'+__escape(i.title)+"</span>",i.version&&(t+='<span class="page-album__version',i.duplicates&&(t+=" link"),t+='">'+i.version+"</span>"),t+="</div>";const n=i.artists.filter((function(t){return!t.composer})),a=n.filter((function(t){return!t.various&&!t.error})),o=i.artists.filter((function(t){return t.composer&&!t.various}));return artistsList=(a.length>0?a:n.length>0?n:[]).concat(o),s.hasComposer(i.artists)?t+=l.render(i):artistsList.length>2?t+='<span class="d-artists-many">'+c.render({artists:artistsList,collapseLong:!0})+"</span>":t+='<div class="page-album__artists-short">'+c.render({artists:artistsList})+"</div>",t}();return i.trackId?t+="<div>"+n+"</div>":t+="<h1>"+n+"</h1>",i.description&&(t+=m.render({description:i.description,class:"page-album__desc",cutOfflength:60})),s.hasComposer(i.artists)||(t+=l.render(Object.assign({large:!0,editable:!0,withoutArtists:!0},i))),t}(),D=function(){var t="";t+=b.render({theme:"withText",type:"album",item:i,attr:s.goodTracks(i),text:i18n("page-album","Слушать"),class:"page-album__play"});let e=null;return S&&(e="countAndSubscribe"),t+=d.render({album:i,size:"L",className:"page-album__like",theme:e,count:S?i.likesCount:null})+r.render({album:i})}();if(T+=g.render({aside:v.render({album:i}),main:C,actions:D}),!i.available||i.availablePartially){T+='<div class="page-album__rights-info">';var E=function(){var e="";return i.availablePartially?e+=a("availablePartially",!1,i.type)+" ":i.availableForPremiumUsers?e+=" "+a("availableForPremium",!1,i.type):i.startDate&&t("",i.startDate,!0)>0&&(e+=a("soonAvailable")),e}();if(T+=' <div class="page-album__disclaimer"><div class="page-album__disclaimer-title">'+E+"</div>",!e()){T+='<div class="page-album__disclaimer-actions">';var A=""+Mu.render("button",{text:i18n("page-album","Оформить подписку")},["XL","button_action"]);T+=o.render({from:"exclusiveContentAlbum",content:A})+"</div>"}if(T+='<div class="page-album__disclaimer-footer">',!n().uid){var Y=""+h.render({text:i18n("page-album","авторизуйтесь"),from:"exclusiveContentAlbum"});T+=i18n("page-album","Если у вас уже есть подписка, %1.",Y)}T+="</div></div></div>"}T+=" ",S&&(T+=" "+k.render({resetable:!1,size:"S",items:s.getSortItems(i),class:"page-album__sort",popupClass:"page-album__sort-popup"})+" "+w.render({title:x(i.trackCount,i18n("page-album","[feature/mfront-4022]%s выпуск|%s выпуска|%s выпусков")),class:"page-album__episode-count"}));var I=i.volumes.slice();S&&("asc"===i.dir||!i.dir&&"asc"===i.sortOrder)&&I.reverse();for(var O,j=0;j<I.length;j++){if(O=I[j],i.volumes.length>1){var R=M(".albums[0].trackPosition.volume",O[0]);R=R.length>0?R[0]:j+1,T+='<div class="page-album__vol">',T+=S?i18n("page-album","[feature/mfront-2027]Сезон %1",R):i18n("page-album","Диск %1",R),T+="</div>"}T+=" ";var N=O.slice();S&&("asc"===i.dir||!i.dir&&"asc"===i.sortOrder)&&N.reverse();var z=N.map((function(t){return t.realId||t.id}));N.length=Math.min(N.length,i.countTracks||150),T+='<div class="page-album__tracks ',S&&(T+="with-cover"),T+='">';var H=s.getAlbumArtists(i);T+=f.render({type:"track",ids:z,items:N,trackId:i.trackId,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",itemHeight:S?68:40,from:"album",params:{showArtist:!S,hideArtists:H,type:S?"withCover":null,showReleaseDate:S,showBest:!0,showChartPosition:!0,inlineMeta:!0,dirInTrackLink:i.dir},onItemReady:function(t){var e=$(t.dom).find(".d-track__title"),i=e.find(".explicit-wrap");Mu.layout.updateExplicitMarkPosition(i,e)}})+"</div>"}if(i.labels.length){T+='<div class="page-album__label"><span>',T+=S?i18n("page-album","[feature/podcasts-mini-fixups]Издатель"):i18n("page-album","[feature/mfront-4022]Лейбл"),T+="</span>";var F;for(j=0;j<i.labels.length;j++)F=i.labels[j],j>0&&j<i.labels.length&&(T+=","),T+=p.render({text:F.name,href:"/label/"+F.id});T+="</div>"}if(i.isPremiere)T+=Mu.render("share__buttons",{album:i},"page-album__share");else{if(i.duplicates){T+='<div class="page-album__subtitle page-album__subtitle_duplicates typo typo-h2_bold">'+i18n("page-album","Другие версии альбома")+'</div><div class="page-album__duplicates">';for(var B,U=0;U<i.duplicates.length;U++)B=i.duplicates[U],T+=y.render({album:B});T+="</div>"}T+='<div class="page-album__top"></div><div class="page-album__other-artist-albums"></div><div class="page-album__related-content"></div>'}return T+="</div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(451),s=function(){return'<div class="page-apartment__cat"><div class="page-apartment__cat-head"></div><div class="page-apartment__cat-body page-apartment__cat-body_default"></div><div class="page-apartment__cat-tail"></div><div class="page-apartment__cat-back-paw"></div><div class="page-apartment__cat-front-paw page-apartment__cat-front-paw-1 page-apartment__cat-front-paw_hidden"></div><div class="page-apartment__cat-front-paw page-apartment__cat-front-paw-2 page-apartment__cat-front-paw_hidden"></div></div>'},function(t){return'<div class="page-apartment" data-b="'+__escape(Mu.dotBlockRoot(t,"page-apartment"))+'"><div class="page-apartment__header"><div class="page-apartment__header-logo">'+a.render({theme:"white"})+'</div></div><div class="page-apartment__wrapper"><div class="page-apartment__content"><div class="page-apartment__watch"><div class="page-apartment__watch-content"><div class="page-apartment__watch-face"><div class="page-apartment__watch-center"><div class="page-apartment__watch-minute-hand"><div class="page-apartment__watch-minute-hand-content"></div></div><div class="page-apartment__watch-hour-hand"><div class="page-apartment__watch-hour-hand-content"></div></div></div></div></div><div class="page-apartment__watch-pendulum"><div class="page-apartment__watch-pendulum-content"></div></div></div><div class="page-apartment__calendar"><div class="page-apartment__calendar-sheet"></div><div class="page-apartment__calendar-action"></div></div><div class="page-apartment__chandelier"></div><div class="page-apartment__table"><div class="page-apartment__table-newspaper"></div><div class="page-apartment__table-phone"><div class="page-apartment__table-phone-handset"></div></div></div><div class="page-apartment__window"><div class="page-apartment__window-view"><div class="page-apartment__window-nyancat-container"><div class="page-apartment__window-nyancat"></div><div class="page-apartment__window-nyancat-tail"></div></div><div class="page-apartment__window-ufo page-apartment__window-ufo_hidden"><div class="page-apartment__window-ufo-alien page-apartment__window-ufo-alien_hidden"></div><div class="page-apartment__window-ufo-ship"></div></div></div><div class="page-apartment__window-frame"></div>'+s()+'<div class="page-apartment__window-curtain"><div class="page-apartment__window-curtain-textile"></div></div></div><div class="page-apartment__chair"></div><div class="page-apartment__carpet"></div>'+function(t){var e='<div class="page-apartment__radio"><div class="page-apartment__radio-controller page-apartment__radio-controller-1" data-ids="[1336,1337,1344]"></div><div class="page-apartment__radio-controller page-apartment__radio-controller-2" data-ids="[1335,1340,1338,1339]"></div><div class="page-apartment__info"><div class="page-apartment__title">'+__escape(i18n("page-apartment","Песни эпохи покорения космоса."))+'</div><div class="page-apartment__subtitle">'+__escape(i18n("page-apartment","Слушайте и переключайте"))+'</div></div><div class="page-apartment__radio-bulb"></div><div class="page-apartment__radio-slider"></div><div class="page-apartment__radio-panel"></div><div class="page-apartment__radio-doily"></div><div class="page-apartment__radio-buttons"></div><div class="page-apartment__radio-share"> ',i="undefined"!=typeof window&&window.location.href;return e+=Mu.render("share__buttons",{apartment:t,link:i,size:"l"})+"</div></div>"}(t)+"</div></div></div>"})},function(t,e,i,n){t.exports=function(){i(669);var t=i(1027),e=i(397),n=function(t){return Mu.render("separator",t)},a=i(381),s=i(891),o=i(318),r=function(t){return Mu.render("dislike",t)},l=i(642),c=i(151),d=i(1016),u=i(599),p=i(515),h=i(1031);return function(i){var _='<div class="page-artist" data-b="'+__escape(Mu.dotBlockRoot(i,"page-artist",!0))+'"> ',m=function(){var e=' <div class="page-artist__stamp-entity">'+u.render({entity:t.stampTitle(i)})+'</div><h1 class="'+__escape(t.titleClass(i))+'">'+__escape(i.artist.name)+"</h1>";return i.artist.composer||(e+='<div class="page-artist__summary typo deco-typo-secondary">',i.artist.intYear&&(e+=__escape(i.artist.intYear)+n({})),i.artist.country&&(e+=__escape(i.artist.country)+n({})),e+=function(e){var i="",n=e.allSimilar&&t.getSomeSimilarArtists(e.allSimilar.slice(0,3),100);if(n&&n.length){i+=__escape(i18n("page-artist","[feature/similar-artists]Нравится слушателям: "))+'<span class="page-artist__main-similar-artists">';for(var a,s=0;s<n.length;s++)s&&(i+='<span class="deco-typo">, </span>'),(a=n[s]).id?i+=c.render({text:a.name,title:a.name,href:"/artist/"+a.id}):i+="<span>"+__escape(a.name)+"</span>";i+="</span>"}return i}(i)+"</div>"),e}(),g=""+a.render({type:"artist",item:i.artist,tracks:i.tracks,trackIds:i.trackIds,theme:"withText",text:i18n("page-artist","Слушать"),class:"page-artist__play"})+o.render({artist:i.artist,theme:"count",size:"L",count:i.artist.likesCount})+p.render({artist:i.artist,what:i.what,theme:"transparent",btnSize:"L"}),f=""+s.render({text:i18n("page-artist","[feature/mfront-3789]Поток"),status:i.radio,artist:i.artist,class:"button_left"})+r({artist:i.artist,tooltip:{removeText:i18n("page-artist","Разблокировать исполнителя"),addText:i18n("page-artist","Не рекомендовать исполнителя")},size:"L"});return _+=d.render({aside:e.render(Object.assign({size:"Giant",ignoreCoverType:"from-album-cover"},i)),main:m,actions:g,sideActions:f}),t.gotTabs(i)&&(_+='<div class="page-artist__tabs">'+l.render({currentId:i.what,items:t.tabs(i)})+"</div>"),_+=h(i)+"</div>"}}()},function(t,e,i,n){var a=i(1028),s=i(1029),o=i(1030),r=i(324),l=i(69);t.exports={stampTitle:function(t){return t.artist.composer?i18n("page-artist","Композитор"):i18n("page-artist","Исполнитель")},titleClass:function(t){var e=t.version?t.version:"";return"page-artist__title typo-h1"+(t.artist.name.length+e.length>25?" typo-h1_small":" typo-h1_big")},descriptionWithoutEndingDot:function(t){var e=t.artist.description;return s(e.text,".")?o(e.text,0,-1):e.text},searchLink:function(t){return"https://yandex."+Mu.settings.tld+"/search/?text="+encodeURIComponent(t.artist.name)+"&ento=yamusic%2Fartist%2F"+t.artist.id+"%3Bentlang%3D"+Mu.settings.tld+"&from=ymusic"},gotTabs:function(t){return t.hasPromotions||t.tracks&&t.tracks.length||t.albums&&t.albums.length||t.concerts&&t.concerts.length||t.videos&&t.videos.length||t.allSimilar&&t.allSimilar.length},tabs:function(t){var e="/artist/"+t.artist.id,i=[];return i.push({title:i18n("page-artist","Главное"),href:e,id:"",tabId:"main"}),t.tracks&&t.tracks.length>0&&i.push({title:i18n("page-artist","Треки"),href:e+"/tracks",id:"tracks"}),(t.albums&&t.albums.length>0||t.alsoAlbums&&t.alsoAlbums.length>0)&&i.push({title:i18n("page-artist","Альбомы"),href:e+"/albums",id:"albums"}),t.videos&&t.videos.length>0&&i.push({title:i18n("page-artist","Клипы"),href:e+"/videos",id:"videos"}),t.concerts&&t.concerts.length>0&&i.push({title:i18n("page-artist","Концерты"),href:e+"/concerts",id:"concerts"}),t.allSimilar&&t.allSimilar.length>0&&i.push({title:i18n("page-artist","Похожие"),href:e+"/similar",id:"similar"}),i.push({title:i18n("page-artist","Инфо"),href:e+"/info",id:"info"}),i},albumsTitle:function(t){var e=t.artist.counts,i="";return e.directAlbums>0&&e.directAlbums<=4&&e.alsoAlbums>0?i=i18n("page-artist","Популярные альбомы и сборники"):e.directAlbums>0?i=i18n("page-artist","Популярные альбомы"):e.alsoAlbums>0&&(i=i18n("page-artist","Популярные сборники")),i},links:function(t){var e=t.artist.links,i=t.socialCounters||{},n={official:100},s={vk:2,facebook:3,twitter:4,youtube:5,instagram:6,tiktok:7,kinopoisk:8,afisha:9,telegram:10,zen:11,bandlink:12};return e.sort((function(t,e){var i=(n[t.type]||100)+(s[t.socialNetwork]||100),a=(n[e.type]||100)+(s[e.socialNetwork]||100);return i===a?0:i<a?-1:1})).map((function(t){var e="vk"===t.socialNetwork?"vkontakte-circle":t.socialNetwork+"-circle",n="vk"===t.socialNetwork?i.vkontakte:i[t.socialNetwork];return{href:t.href,title:"official"===t.type?t.title:a(t.socialNetwork),icon:"official"===t.type?"globus":e,count:n,type:t.socialNetwork||"website"}}))},themedClass:function(t,e){return e?t+" "+t+"_"+e:t},href:function(t,e,i){var n="/artist/"+t.artist.id;if(e&&(n+=e),i){n+="?";for(var a=Object.keys(i),s=[],o=0;o<a.length;o++)s.push(a[o]+"="+i[a[o]]);n+=s.join("&")}return n},hasDescription:function(t){var e=t.artist&&t.artist.description,i=t.artist&&t.artist.handMadeDescription;return e||i},socialCount:function(t){return l(t,i18n("page-artist","%1 подписчик|%1 подписчика|%1 подписчиков|%1 подписчиков")).replace("%1",r(t," "))},oldLinks:function(t){var e=this.links(t);return e=e.reduce((function(t,e){return t.push({icon:e.icon,text:e.title,href:e.href}),t}),[])},getSomeSimilarArtists:function(t,e){for(var i,n=[],a=0,s=0;s<t.length;s++)a+(i=t[s]).name.length+1+1<e&&(n.push(i),a+=i.name.length);return n}}},function(t,e,i,n){t.exports=function(t){switch(t){case"youtube":return i18n("socialTitle","[feature/mfront-4068]YouTube");case"fb":case"facebook":return i18n("socialTitle","[feature/mfront-4068]Facebook");case"vk":case"vkontakte":return i18n("socialTitle","[feature/mfront-4068]ВКонтакте");case"twitter":return i18n("socialTitle","[feature/mfront-4068]Twitter");case"instagram":return i18n("socialTitle","[feature/mfront-4068]Instagram");case"tiktok":return i18n("socialTitle","[feature/mfront-4068]TikTok");case"kinopoisk":return i18n("socialTitle","[feature/mfront-3708]Кинопоиск");case"afisha":return i18n("socialTitle","[feature/mfront-3708]Яндекс Афиша");case"telegram":return i18n("socialTitle","[feature/mfront-4068]Telegram");case"zen":return i18n("socialTitle","[feature/mfront-4068]Дзен");case"bandlink":return i18n("socialTitle","[feature/mfront-4068]Bandlink");default:return""}}},function(t,e,i,n){t.exports=function(t,e){return"string"==typeof t&&t.endsWith(e)}},function(t,e,i,n){t.exports=function(t,e,i){return"string"!=typeof t?"":t.slice(e,i)}},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(1032),s=i(1037),o=i(1038),r=i(1039),l=i(1040),i(623),c=i(1041),d=i(1042),function(t){var e="";return"tracks"==t.what?e+=s(t):"albums"==t.what?e+=o(t):"similar"==t.what?e+=r(t):"concerts"==t.what?e+=l(t):(t.what,"videos"==t.what?e+=c(t):"info"==t.what?e+=d(t):e+=a(t)),e})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h;t.exports=(a=i(1027),s=i(1033),o=i(1034),r=i(652),l=i(151),c=i(667),d=i(594),u=i(785),p=i(610),h=i(891),function(t){var e="";if(t.videos&&t.videos.length){e+='<div class="page-artist__subhead">';var i=t.videos.length>4;e+=p.render({title:i18n("page-artist","Клипы"),link:i?a.href(t,"/videos"):null,linkTitle:i?i18n("page-artist","[feature/mfront-1599-more]Смотреть всё"):null,showMoreLink:i})+'</div><div class="page-artist__videos" data-card="videos">'+o.render({items:t.videos,visibleLength:4,goal:"artistVideoWatcher"})+"</div>"}if(t.tracks&&t.tracks.length){e+='<div class="page-artist__latest-container"><div class="page-artist__latest-main"><div class="page-artist__subhead">'+p.render({title:i18n("page-artist","Популярные треки"),link:a.href(t,"/tracks"),linkTitle:i18n("page-artist","[feature/mfront-1599-more]Смотреть всё"),showMoreLink:!0})+'</div><div class="page-artist__tracks_top_container"><div class="page-artist__tracks_top" data-card="top_tracks">',t.artist,t.artist.id;for(var n,_=0;_<t.tracks.length;_++){var m=(n=t.tracks[_]).artists&&1===n.artists.length&&!n.artists.decomposed&&[t.artist.id];e+=r.render({track:n,inlineMeta:!0,showArtist:!0,hideArtists:m,showChartPosition:!0,type:"withCover",listIndex:_})}e+="</div></div></div>",t.lastRelease&&t.albums&&t.albums.length>1&&(e+='<div class="page-artist__latest-side"><div class="page-artist__subhead">'+p.render({title:i18n("page-artist","Недавний релиз"),link:"/album/"+t.lastRelease.id,showAsLink:!0})+'</div><div class="page-artist__latest-album" data-card="last_release">'+d.render({album:t.lastRelease,theme:"embigenned"})+"</div></div>"),e+="</div>"}if(t.artist.counts.directAlbums||t.artist.counts.alsoAlbums){if(e+='<div class="page-artist__subhead">',t.albums&&t.albums.length>0){var g=t.albums.length>1?{showMoreLink:!0}:{showAsLink:!0};e+=p.render(Object.assign({title:a.albumsTitle(t),link:a.href(t,"/albums"),linkTitle:i18n("page-artist","[feature/mfront-1599-more]Смотреть всё")},g))}e+='</div><div class="page-artist__albums" data-card="top_albums">';for(var f,y=0;y<t.albums.slice(0,8).length;y++)f=t.albums.slice(0,8)[y],e+=d.render({album:f});e+="</div>"}if(t.playlists.length){e+='<div class="page-artist__subhead"><h2 class="typo typo-h2_bold page-artist__title-playlists">'+__escape(i18n("page-artist","Плейлисты"))+'</h2></div><div class="page-artist__playlists" data-card="artist_playlists">';for(var v,b=0;b<t.playlists.length;b++)v=t.playlists[b],e+=u.render({playlist:v});e+="</div>"}if(t.concerts&&t.concerts.length){var k=1==t.concerts.length;e+='<div class="page-artist__subhead">'+p.render({title:i18n("page-artist","Концерты"),link:k?null:a.href(t,"/concerts"),linkTitle:k?null:i18n("page-artist","[feature/mfront-1599-more]Смотреть всё"),showMoreLink:!k})+'</div><div class="page-artist__concerts">';for(var w,x=0;x<t.concerts.slice(0,3).length;x++)w=t.concerts.slice(0,3)[x],e+=s.render(w);e+="</div>"}t.artist.counts.similarCount&&(e+='<div class="page-artist__subhead"><div class="title title_hover page-artist__title-similar">',t.similar&&(e+=l.render({text:i18n("page-artist","[feature/mfront-1599-more]Смотреть всех"),href:a.href(t,"/similar"),arrow:!0,class:"typo"})),e+='<h2 class="title__label typo typo-h2_bold">'+__escape(i18n("page-artist","Похожие исполнители"))+"</h2>",t.radio&&(e+=h.render({text:i18n("page-artist","[feature/mfront-3789]Поток"),status:t.radio,artist:t.artist,class:"button_left"})),e+="</div></div>"),e+='<div class="page-artist__artists" data-card="similar_artists">';for(var M,T=0;T<t.similar.slice(0,9).length;T++)M=t.similar.slice(0,9)[T],e+=c.render({artist:M});return e+="</div>"})},function(t,e,i,n){var a={render:i(878)};t.exports=a},function(t,e,i,n){var a={render:i(1035)};clientSide&&(a.controller=i(1036)),t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(141),s=i(151),i(143),o=i(624),r=function(t){var e='<div class="video-list__item" data-id="'+t.providerVideoId+'"><div class="video-list__item-pic local-icon-theme-black">';if(t.cover){var i=o.getVideoCover2x(t.cover);e+='<img class="video-list__item-cover" src="'+o.getVideoCover(t.cover)+'" ',i&&(e+='srcset="'+i+' 2x"'),e+=" />"}return e+='<div class="video-list__item-overlay"></div><div class="video-list__item-icons">'+a.render({icon:"play",class:"video__icon-play"})+a.render({icon:"pause",class:"video__icon-pause"})+'</div></div><div class="video-list__item-title">'+s.render({href:t.url,title:t.title,text:t.title,target:"_blank"})+"</div></div>"},function(t){for(var e,i='<div class="video-list" data-b="'+__escape(Mu.dotBlockRoot(t,"video-list",!0))+'"><div class="video-list__items">',n=0;n<o.filterItems(t).length;n++)e=o.filterItems(t)[n],i+=r(e);return i+="</div></div>"})},function(t,e,i,n){Mu.blocks.register("video-list",function(){var t,e,i,n,a=function(){};return a.init=function(a){t=a.get("blocks"),e=a.get("metrika"),i=a.get("pages"),n=a.get("sidebars")},a.prototype.init=function(){this.$cont=$(this.container),this.$page=$(".page-root"),this.$items=this.$cont.find(".video-list__item"),this.$items.on("click",this.onVideoClick.bind(this)),this.$cont.closest(".page-artist").size()?this.from="artistPage":this.$cont.closest(".sidebar-track").size()?this.from="sidebarTrack":this.$cont.closest(".page-search").size()&&(this.from="searchResult");var t=window.location.href.split("?")[1],e=$.queryString(t).playVideo;if(e){var i=this.data.items.find(t=>t.providerVideoId===e),n=this.data.items.indexOf(i);this.from="artistPageAutoplay",n>=0&&this.playVideo(n)}},a.prototype.onVideoClick=function(t){if(this.data&&this.data.items&&this.data.items.length>0){var e=this.$items.has(t.target).closest(this.$items).index();this.triggerEvent({type:"video-list.click",currentTarget:t.currentTarget}),this.playVideo(e),t.preventDefault(),t.stopPropagation()}return!1},a.prototype.playVideo=function(a){var s;try{var o,r;switch(this.from){case"artistPage":case"artistPageAutoplay":r=i.current.data.id,(s={artistId:{}}).artistId[r]=1,o={video:"artistPageAutoplay"===this.from?{autoplayArtistPage:s}:{clickArtistPage:s}},e.count(o);break;case"sidebarTrack":r=n.current.data.track.id,(s={trackId:{}}).trackId[r]=1,o={video:{clickSidebarTrack:s}},e.count(o);break;case"searchResult":r=i.current.data.result.text,(s={searchText:{}}).searchText[r]=1,o={video:{clickSearchResult:s}},e.count(o)}}catch(t){}if(!this.videoOverlay){var l=Mu.render("video-overlay",{items:this.data.items,goal:this.data.goal,current:a,metrikaAdditionalData:s,from:this.from});this.videoOverlay=t.forElem($(l).get(0),"video-overlay"),this.$page.append(this.videoOverlay.$cont)}this.videoOverlay.show(),this.videoOverlay.play(a)},a}())},function(t,e,i,n){var a,s,o;t.exports=(a=i(1027),s=function(t){return Mu.render("table-head_track-album",t)},o=i(686),function(t){return'<div class="page-artist__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-artist","Треки"))+'</span></div><div class="page-artist__tracks">'+s({sortEnabled:!0,url:a.href(t,"/tracks"),sort:t.sort,dir:t.dir})+"<div>"+o.render({type:"track",ids:t.trackIds,items:t.tracks,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,params:{showAlbum:!0,showChartPosition:!0,hidePlaybackProgress:!0},isOwner:!0,itemHeight:40})+"</div></div>"})},function(t,e,i,n){var a,s,o;t.exports=(a=i(1027),s=i(686),o=i(612),function(t){var e="";return t.albumIds&&t.albumIds.length&&(e+='<div class="page-artist__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-artist","Альбомы"))+'</span><div class="page-artist__right-side page-artist__right-side_top">'+o.render({items:[{text:i18n("page-artist","по популярности"),href:a.href(t,"/albums",{sort:"rating"}),active:"rating"==t.sort},{text:i18n("page-artist","по дате выхода"),href:a.href(t,"/albums",{sort:"year"}),active:"year"==t.sort}],size:"S"})+'</div></div><div class="page-artist__albums">'+s.render({type:"album",ids:t.albumIds,items:t.albums,pageSize:50,itemHeight:300,itemWidth:230,itemTemplate:"album",placeholderTemplate:"album"})+"</div>"),t.alsoAlbumIds&&t.alsoAlbumIds.length&&(e+='<div class="page-artist__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-artist","Сборники"))+'</span></div><div class="page-artist__albums">'+s.render({type:"album",ids:t.alsoAlbumIds,items:t.alsoAlbums,pageSize:50,itemHeight:300,itemWidth:230,itemTemplate:"album",placeholderTemplate:"album"})+"</div>"),e})},function(t,e,i,n){var a;t.exports=(a=i(667),function(t){for(var e,i='<div class="page-artist__subhead"><span class="typo typo-h2_bold page-artist__title-similar">'+__escape(i18n("page-artist","Похожие исполнители"))+'</span></div><div class="page-artist__artists" data-card="similar_artists">',n=0;n<t.allSimilar.length;n++)e=t.allSimilar[n],i+=a.render({artist:e});return i+="</div>"})},function(t,e,i,n){var a;t.exports=(a=i(1033),function(t){for(var e,i='<div class="page-artist__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-artist","Концерты"))+'</span></div><div class="page-artist__concerts">',n=0;n<t.concerts.length;n++)e=t.concerts[n],i+=a.render(e);return i+="</div>"})},function(t,e,i,n){var a;t.exports=(a=i(1034),function(t){var e="";return t.videos&&t.videos.length&&(e+='<div class="page-artist__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-artist","Клипы"))+'</span></div><div class="page-artist__videos" data-card="videos">'+a.render({items:t.videos,goal:"artistVideoWatcher"})+"</div>"),e})},function(t,e,i,n){t.exports=function(){var t=i(1043),e=i(1065),n=i(1068),a=i(1069),s=i(1070),o=i(1071),r=i(1074),l=i(1077),c=(i(143),i(612));i(267),i(1027);return function(i){var d="",u=i.period||"months",p=i.isFullInfo;return d+='<div class="page-artist__info-container">'+e.render(i)+'<div class="page-artist__info-sections page-artist__info-row">',p&&(d+='<div class="page-artist__info-cell page-artist__info-cell_wide"><div class="page-artist__full-info-head"><h2 class="typo-h2 deco-title-h2">'+__escape(i18n("page-artist","[feature/artist-info-switcher]Статистика"))+"</h2>"+c.render({size:"S",items:[{text:i18n("page-artist","[feature/artist-info-switcher]Дни"),href:"/artist/"+i.artist.id+"/info?period=days",active:"days"===u},{text:i18n("page-artist","[feature/artist-info-switcher]Недели"),href:"/artist/"+i.artist.id+"/info?period=weeks",active:"weeks"===u},{text:i18n("page-artist","[feature/artist-info-switcher]Месяцы"),href:"/artist/"+i.artist.id+"/info?period=months",active:"months"===u}],class:"page-artist__period-switcher"})+"</div></div>"),d+='<div class="page-artist__info-cell',i.similarArtistInfos||(d+=" page-artist__info-cell_wide"),d+='"><div class="page-artist__info-row">',i.listenersDynamics&&i.listenersDynamics.length&&(d+='<div class="page-artist__info-cell',i.similarArtistInfos&&(d+=" page-artist__info-cell_wide"),d+='">'+t.render({currentCount:i.currentListeners,type:"listeners",data:i.listenersDynamics,isManagerControl:p,class:"page-artist__section page-artist__listeners-trends"})+"</div>"),i.streamsDynamics&&i.streamsDynamics.length&&p&&(d+='<div class="page-artist__info-cell',i.similarArtistInfos&&(d+=" page-artist__info-cell_wide"),d+='">'+t.render({currentCount:i.currentStreams,type:"streams",data:i.streamsDynamics,artist:i.artist,class:"page-artist__section page-artist__streams-trends"})+"</div>"),i.likeDynamics&&i.likeDynamics.length&&(d+='<div class="page-artist__info-cell',i.similarArtistInfos&&(d+=" page-artist__info-cell_wide"),d+='">'+t.render({currentCount:i.currentLikes||i.likesCount,type:"likes",data:i.likeDynamics,artist:i.artist,class:"page-artist__section page-artist__likes-trends"})+"</div>"),d+="</div></div>",i.similarArtistInfos&&(d+='<div class="page-artist__info-cell">'+o.render(i)+"</div>"),i.promotedPlaylists&&p&&(d+='<div class="page-artist__info-cell page-artist__info-cell_wide">'+l.render(i.promotedPlaylists)+"</div>"),i.audience&&p&&(d+='<div class="page-artist__info-cell page-artist__info-cell_wide">'+r.render(i.audience)+"</div>"),d+=s(i)+n(i)+a(i)+"</div></div>"}}()},function(t,e,i,n){var a={render:i(1044)};clientSide&&(a.controller=i(1064)),t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(141),s=i(221),i(318),o=i(1045),r=i(323),l=i(1061),c=i(1060),d=i(1063),function(t){var e="",i=c.getCaption({data:t.currentCount}),n="",u=t.currentCount&&null!=t.currentCount.count,p="";switch(t.type){case"listeners":n=i18n("page-artist","[feature/artist-info-switcher]Слушателей за %1",i),p=u?i18n("page-artist","[feature/mfront-1771]Не было прослушиваний"):i18n("page-artist","[feature/mfront-1771]Пока нет прослушиваний");break;case"likes":n=i18n("page-artist","[feature/artist-info-switcher]Лайков за %1",i),p=u?i18n("page-artist","[feature/mfront-1771]Нет лайков"):i18n("page-artist","[feature/mfront-1771]В этом месяце ещё не лайкали. Всё впереди!");break;case"streams":n=i18n("page-artist","[feature/artist-info-switcher]Прослушиваний за %1",i),p=u&&i18n("page-artist","[feature/mfront-1771]Не было прослушиваний")}var h=u?t.currentCount.count||0:t.currentCount||0,_='<div class="artist-trends__toggle">'+__escape(n)+a.render({icon:"arrow-up",rotate:"upside-down",class:"artist-trends__toggle-icon"})+"</div>",m=function(){var e='<div class="artist-trends__total-count-container"><span class="artist-trends__total-count">'+__escape(r(h," "))+'</span></div><div class="artist-trends__short">'+o.render({data:t.data,type:"line",useTheme:!0,class:"artist-trends__short-chart"})+'<div class="artist-trends__short-caption typo typo-add">',i=d.currentDiff(t),n=d.prevMonthCaption(t),a='<span class="artist-trends__diff '+__escape(i>0?"artist-trends__diff_more":"artist-trends__diff_less")+'">'+__escape(r(Math.abs(i)," "))+"</span>";return 0===h?e+=__escape(p):i>0?e+=u?i18n("page-artist","[feature/artist-info-switcher]На %1 больше, чем за %2",a,n):i18n("page-artist","[feature/mfront-1771]Пока на %1 больше, чем за %2",a,n):i<0?e+=u?i18n("page-artist","[feature/artist-info-switcher]На %1 меньше, чем за %2",a,n):i18n("page-artist","[feature/mfront-1771]Пока на %1 меньше, чем за %2",a,n):0===i&&(e+=u?i18n("page-artist","[feature/mfront-1771]Количество прослушиваний не изменилось"):i18n("page-artist","[feature/mfront-1771]Количество прослушиваний за последний месяц не изменилось")),e+='</div></div><div class="artist-trends__detail deco-pane-secondary">'+s.render({})+o.render({data:d.graphData(t.data,"months"===t.currentCount.period.type),type:"bar",skipFirstItemBelow:420,padding:{left:33,right:33},margin:{top:40,left:0,right:0,bottom:25},drawByRequest:!0,captionKey:"caption",class:"artist-trends__detail-chart"})+"</div>"}();return e+='<div class="artist-trends '+__escape(t.class)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"artist-trends",!0))+'">'+l.render({title:n,headerContent:_,bodyContent:m})+"</div>"})},function(t,e,i,n){var a={render:i(1046)};clientSide&&(a.controller=i(1048)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(1047),function(t){return'<div class="graph '+__escape(a.classes(t))+'" data-b="'+__escape(Mu.dotBlockRoot(t,"graph",!0))+'"><svg class="graph__canvas"></svg></div>'})},function(t,e,i,n){t.exports={classes:function(t){var e=[];return t.type&&e.push("graph_"+t.type),t.class&&e.push(t.class),t.useTheme&&(this.prevDiff(t.data)>=0?e.push("deco-chart_green"):e.push("deco-chart_red")),e.join(" ")},prevMonthCount:function(t){return t.slice(-1)[0].count},prevDiff:function(t){var e=t.slice(-2,-1)[0];return this.prevMonthCount(t)-e.count}}},function(t,e,i,n){var a=i(1049),s=i(1051),o=i(1057),r=i(1059),l=i(324),c=i(1060);Mu.blocks.register("graph",function(){var t,e=10,i=15,n=3,d=function(){};return d.init=function(e){t=e.get("pages")},d.prototype.init=function(){this.$cont=$(this.container),this.$canvas=this.$cont.find(".graph__canvas"),this.canvas=this.$canvas[0],this.margin=this.data.margin||{top:3,left:3,bottom:3,right:3},this.padding=this.data.padding||{},this.height=this.$cont.height(),this.graphData=this.data.data||[],this.pointCount=this.graphData&&this.graphData.length||0,t.on("loaded",this.onLoaded.bind(this))},d.prototype.onLoaded=function(){this.data.drawByRequest||(this.clear(),this.draw())},d.prototype.draw=function(){this.width=this.$cont.width(),this.height=this.$cont.height()||this.height,"line"===this.data.type?this.drawLineGraph():"bar"===this.data.type?this.drawBarGraph():"age-gender"===this.data.type&&this.drawAgeGenderGraph()},d.prototype.drawLineGraph=function(){var t=this.scaleLinearX(),e=this.scaleLinearY({dataKey:"count"}),i=o.line().defined(this.getDefinedData).x((function(e){return t(e.index)})).y((function(t){return e(t.count)})),n=this.getSvg();n.append("path").attr("class","graph__line deco-chart__line").attr("d",i),n.selectAll(".artist-trends__short-chart-dot").data(this.getLastPoint.bind(this)).enter().append("circle").attr("class","graph__dot deco-chart__dot").attr("cx",i.x()).attr("cy",i.y()).attr("r",2)},d.prototype.drawBarGraph=function(){this.drawBar({dataKey:"count",barClass:"graph__bar_rounded deco-chart-bar",splitThousands:!0}),this.addBarCount({dataKey:"count"}),this.addBarCaption()},d.prototype.drawAgeGenderGraph=function(){this.drawBar({dataKey:"male",barClass:"graph__bar_male",x:-8,additionalDataKeys:["female"],width:15,titleSuffix:" %",fixed:2}),this.drawBar({dataKey:"female",barClass:"graph__bar_female",x:7,additionalDataKeys:["male"],width:15,titleSuffix:" %",fixed:2}),this.addBarCaption()},d.prototype.drawBar=function(t){var i=this.scaleLinearY(t),n=this.getSvg(),a=[".graph__bar"];t.barClass&&a.push("."+t.barClass),n.selectAll(a.join("")).data(this.graphData.filter(this.getDefinedData).filter(this.shouldSkipItem.bind(this))).enter().append("rect").attr("class","graph__bar "+t.barClass).attr("x",function(e,i){return this.barPositionX(e,i)+(t.x||0)}.bind(this)).attr("y",(function(e){return i(e[t.dataKey])})).attr("width",t.width||e).attr("height",function(e){return this.height-this.margin.top-this.margin.bottom-i(e[t.dataKey])}.bind(this)).append("title").text((function(e){var i;return t.splitThousands&&(i=l(e[t.dataKey]," ")),t.fixed&&(i=e[t.dataKey].toFixed(t.fixed)),t.titleSuffix&&(i+=t.titleSuffix),i}))},d.prototype.addBarCaption=function(){this.getSvg().selectAll(".graph__bar-caption").data(this.graphData.filter(this.shouldSkipItem.bind(this))).enter().append("text").attr("class","graph__bar-caption typo-svg-small").attr("text-anchor","middle").text(function(t){return c.getCaption({data:t,key:this.data.captionKey})}.bind(this)).attr("x",this.barPositionX.bind(this)).attr("y",this.height-this.margin.top-n)},d.prototype.addBarCount=function(t){var e=this.getSvg(),n=this.scaleLinearY(t);e.selectAll(".graph__bar-count").data(this.graphData.filter(this.getDefinedData).filter(this.shouldSkipItem.bind(this))).enter().append("text").attr("class","typo-svg-small graph__bar-count").attr("text-anchor","middle").text((function(e){return l(e[t.dataKey]," ")})).attr("x",this.barPositionX.bind(this)).attr("y",(function(e){return n(e[t.dataKey])-i}))},d.prototype.barPositionX=function(t,i){var n=this.isNarrow()?this.pointCount-2:this.pointCount-1,a=this.padding.left+this.padding.right;return(this.width-e-a)/n*i+this.padding.left},d.prototype.getLastPoint=function(){return this.graphData.filter((function(t){return null!==t.count})).slice(-1)},d.prototype.scaleLinearY=function(t){var e=this.graphData.reduce((function(e,i){return e.push(i[t.dataKey]),t.additionalDataKeys&&t.additionalDataKeys.length>0&&t.additionalDataKeys.forEach((function(t){null!==i[t]&&e.push(i[t])})),e}),[]),i=a.scaleLinear().range([this.height-this.margin.top-this.margin.bottom,0]);return i.domain([0,s.max(e)]),i},d.prototype.scaleLinearX=function(){var t=a.scaleLinear().range([0,this.width-this.margin.left-this.margin.right]);return t.domain(s.extent(this.graphData,(function(t){return t.index}))),t},d.prototype.getDefinedData=function(t){return null!==t.count},d.prototype.shouldSkipItem=function(t){return!(this.isNarrow()&&1===t.index)},d.prototype.isNarrow=function(){return this.data.skipFirstItemBelow&&this.width<=this.data.skipFirstItemBelow},d.prototype.getSvg=function(){return r.select(this.canvas).datum(this.graphData).append("g").attr("transform","translate("+this.margin.left+", "+this.margin.top+")")},d.prototype.clear=function(){r.select(this.canvas).selectAll("g").remove()},d}())},function(t,e,i,n){!function(n,a){"object"==typeof e&&void 0!==t?a(e,i(1050),i(1051),i(1052),i(1054),i(1055),i(1056)):"function"==typeof define&&define.amd?define(["exports","d3-collection","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],a):a(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3,n.d3)}(this,(function(t,e,i,n,a,s,o){"use strict";function r(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function l(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var c=Array.prototype,d=c.map,u=c.slice,p={name:"implicit"};function h(){var t=e.map(),i=[],n=[],a=p;function s(e){var s=e+"",o=t.get(s);if(!o){if(a!==p)return a;t.set(s,o=i.push(e))}return n[(o-1)%n.length]}return s.domain=function(n){if(!arguments.length)return i.slice();i=[],t=e.map();for(var a,o,r=-1,l=n.length;++r<l;)t.has(o=(a=n[r])+"")||t.set(o,i.push(a));return s},s.range=function(t){return arguments.length?(n=u.call(t),s):n.slice()},s.unknown=function(t){return arguments.length?(a=t,s):a},s.copy=function(){return h(i,n).unknown(a)},r.apply(s,arguments),s}function _(){var t,e,n=h().unknown(void 0),a=n.domain,s=n.range,o=[0,1],l=!1,c=0,d=0,u=.5;function p(){var n=a().length,r=o[1]<o[0],p=o[r-0],h=o[1-r];t=(h-p)/Math.max(1,n-c+2*d),l&&(t=Math.floor(t)),p+=(h-p-t*(n-c))*u,e=t*(1-c),l&&(p=Math.round(p),e=Math.round(e));var _=i.range(n).map((function(e){return p+t*e}));return s(r?_.reverse():_)}return delete n.unknown,n.domain=function(t){return arguments.length?(a(t),p()):a()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],p()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],l=!0,p()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(l=!!t,p()):l},n.padding=function(t){return arguments.length?(c=Math.min(1,d=+t),p()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),p()):c},n.paddingOuter=function(t){return arguments.length?(d=+t,p()):d},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),p()):u},n.copy=function(){return _(a(),o).round(l).paddingInner(c).paddingOuter(d).align(u)},r.apply(p(),arguments)}function m(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return m(e())},t}function g(t){return+t}var f=[0,1];function y(t){return t}function v(t,e){return(e-=t=+t)?function(i){return(i-t)/e}:(i=isNaN(e)?NaN:.5,function(){return i});var i}function b(t){var e,i=t[0],n=t[t.length-1];return i>n&&(e=i,i=n,n=e),function(t){return Math.max(i,Math.min(n,t))}}function k(t,e,i){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=v(a,n),s=i(o,s)):(n=v(n,a),s=i(s,o)),function(t){return s(n(t))}}function w(t,e,n){var a=Math.min(t.length,e.length)-1,s=new Array(a),o=new Array(a),r=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++r<a;)s[r]=v(t[r],t[r+1]),o[r]=n(e[r],e[r+1]);return function(e){var n=i.bisect(t,e,1,a)-1;return o[n](s[n](e))}}function x(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function M(){var t,e,i,a,s,o,r=f,l=f,c=n.interpolate,p=y;function h(){return a=Math.min(r.length,l.length)>2?w:k,s=o=null,_}function _(e){return isNaN(e=+e)?i:(s||(s=a(r.map(t),l,c)))(t(p(e)))}return _.invert=function(i){return p(e((o||(o=a(l,r.map(t),n.interpolateNumber)))(i)))},_.domain=function(t){return arguments.length?(r=d.call(t,g),p===y||(p=b(r)),h()):r.slice()},_.range=function(t){return arguments.length?(l=u.call(t),h()):l.slice()},_.rangeRound=function(t){return l=u.call(t),c=n.interpolateRound,h()},_.clamp=function(t){return arguments.length?(p=t?b(r):y,_):p!==y},_.interpolate=function(t){return arguments.length?(c=t,h()):c},_.unknown=function(t){return arguments.length?(i=t,_):i},function(i,n){return t=i,e=n,h()}}function T(t,e){return M()(t,e)}function S(t,e,n,s){var o,r=i.tickStep(t,e,n);switch((s=a.formatSpecifier(null==s?",f":s)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=s.precision||isNaN(o=a.precisionPrefix(r,l))||(s.precision=o),a.formatPrefix(s,l);case"":case"e":case"g":case"p":case"r":null!=s.precision||isNaN(o=a.precisionRound(r,Math.max(Math.abs(t),Math.abs(e))))||(s.precision=o-("e"===s.type));break;case"f":case"%":null!=s.precision||isNaN(o=a.precisionFixed(r))||(s.precision=o-2*("%"===s.type))}return a.format(s)}function $(t){var e=t.domain;return t.ticks=function(t){var n=e();return i.ticks(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,i){var n=e();return S(n[0],n[n.length-1],null==t?10:t,i)},t.nice=function(n){null==n&&(n=10);var a,s=e(),o=0,r=s.length-1,l=s[o],c=s[r];return c<l&&(a=l,l=c,c=a,a=o,o=r,r=a),(a=i.tickIncrement(l,c,n))>0?(l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a,a=i.tickIncrement(l,c,n)):a<0&&(l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a,a=i.tickIncrement(l,c,n)),a>0?(s[o]=Math.floor(l/a)*a,s[r]=Math.ceil(c/a)*a,e(s)):a<0&&(s[o]=Math.ceil(l*a)/a,s[r]=Math.floor(c*a)/a,e(s)),t},t}function L(t,e){var i,n=0,a=(t=t.slice()).length-1,s=t[n],o=t[a];return o<s&&(i=n,n=a,a=i,i=s,s=o,o=i),t[n]=e.floor(s),t[a]=e.ceil(o),t}function P(t){return Math.log(t)}function C(t){return Math.exp(t)}function D(t){return-Math.log(-t)}function E(t){return-Math.exp(-t)}function A(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Y(t){return function(e){return-t(-e)}}function I(t){var e,n,s=t(P,C),o=s.domain,r=10;function l(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(r),n=function(t){return 10===t?A:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(r),o()[0]<0?(e=Y(e),n=Y(n),t(D,E)):t(P,C),s}return s.base=function(t){return arguments.length?(r=+t,l()):r},s.domain=function(t){return arguments.length?(o(t),l()):o()},s.ticks=function(t){var a,s=o(),l=s[0],c=s[s.length-1];(a=c<l)&&(h=l,l=c,c=h);var d,u,p,h=e(l),_=e(c),m=null==t?10:+t,g=[];if(!(r%1)&&_-h<m){if(h=Math.round(h)-1,_=Math.round(_)+1,l>0){for(;h<_;++h)for(u=1,d=n(h);u<r;++u)if(!((p=d*u)<l)){if(p>c)break;g.push(p)}}else for(;h<_;++h)for(u=r-1,d=n(h);u>=1;--u)if(!((p=d*u)<l)){if(p>c)break;g.push(p)}}else g=i.ticks(h,_,Math.min(_-h,m)).map(n);return a?g.reverse():g},s.tickFormat=function(t,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=a.format(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,r*t/s.ticks().length);return function(t){var a=t/n(Math.round(e(t)));return a*r<r-.5&&(a*=r),a<=o?i(t):""}},s.nice=function(){return o(L(o(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},s}function O(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function j(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function R(t){var e=1,i=t(O(e),j(e));return i.constant=function(i){return arguments.length?t(O(e=+i),j(e)):e},$(i)}function N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function z(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function H(t){return t<0?-t*t:t*t}function F(t){var e=t(y,y),i=1;function n(){return 1===i?t(y,y):.5===i?t(z,H):t(N(i),N(1/i))}return e.exponent=function(t){return arguments.length?(i=+t,n()):i},$(e)}function B(){var t=F(M());return t.copy=function(){return x(t,B()).exponent(t.exponent())},r.apply(t,arguments),t}function U(t){return new Date(t)}function q(t){return t instanceof Date?+t:+new Date(+t)}function W(t,e,n,a,s,o,r,l,c){var u=T(y,y),p=u.invert,h=u.domain,_=c(".%L"),m=c(":%S"),g=c("%I:%M"),f=c("%I %p"),v=c("%a %d"),b=c("%b %d"),k=c("%B"),w=c("%Y"),M=[[r,1,1e3],[r,5,5e3],[r,15,15e3],[r,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[s,1,36e5],[s,3,108e5],[s,6,216e5],[s,12,432e5],[a,1,864e5],[a,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function S(i){return(r(i)<i?_:o(i)<i?m:s(i)<i?g:a(i)<i?f:e(i)<i?n(i)<i?v:b:t(i)<i?k:w)(i)}function $(e,n,a,s){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(a-n)/e,r=i.bisector((function(t){return t[2]})).right(M,o);r===M.length?(s=i.tickStep(n/31536e6,a/31536e6,e),e=t):r?(s=(r=M[o/M[r-1][2]<M[r][2]/o?r-1:r])[1],e=r[0]):(s=Math.max(i.tickStep(n,a,e),1),e=l)}return null==s?e:e.every(s)}return u.invert=function(t){return new Date(p(t))},u.domain=function(t){return arguments.length?h(d.call(t,q)):h().map(U)},u.ticks=function(t,e){var i,n=h(),a=n[0],s=n[n.length-1],o=s<a;return o&&(i=a,a=s,s=i),i=(i=$(t,a,s,e))?i.range(a,s+1):[],o?i.reverse():i},u.tickFormat=function(t,e){return null==e?S:c(e)},u.nice=function(t,e){var i=h();return(t=$(t,i[0],i[i.length-1],e))?h(L(i,t)):u},u.copy=function(){return x(u,W(t,e,n,a,s,o,r,l,c))},u}function V(){var t,e,i,n,a,s=0,o=1,r=y,l=!1;function c(e){return isNaN(e=+e)?a:r(0===i?.5:(e=(n(e)-t)*i,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(a){return arguments.length?(t=n(s=+a[0]),e=n(o=+a[1]),i=t===e?0:1/(e-t),c):[s,o]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(r=t,c):r},c.unknown=function(t){return arguments.length?(a=t,c):a},function(a){return n=a,t=a(s),e=a(o),i=t===e?0:1/(e-t),c}}function G(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function K(){var t=F(V());return t.copy=function(){return G(t,K()).exponent(t.exponent())},l.apply(t,arguments)}function J(){var t,e,i,n,a,s,o,r=0,l=.5,c=1,d=y,u=!1;function p(t){return isNaN(t=+t)?o:(t=.5+((t=+s(t))-e)*(t<e?n:a),d(u?Math.max(0,Math.min(1,t)):t))}return p.domain=function(o){return arguments.length?(t=s(r=+o[0]),e=s(l=+o[1]),i=s(c=+o[2]),n=t===e?0:.5/(e-t),a=e===i?0:.5/(i-e),p):[r,l,c]},p.clamp=function(t){return arguments.length?(u=!!t,p):u},p.interpolator=function(t){return arguments.length?(d=t,p):d},p.unknown=function(t){return arguments.length?(o=t,p):o},function(o){return s=o,t=o(r),e=o(l),i=o(c),n=t===e?0:.5/(e-t),a=e===i?0:.5/(i-e),p}}function X(){var t=F(J());return t.copy=function(){return G(t,X()).exponent(t.exponent())},l.apply(t,arguments)}t.scaleBand=_,t.scalePoint=function(){return m(_.apply(null,arguments).paddingInner(1))},t.scaleIdentity=function t(e){var i;function n(t){return isNaN(t=+t)?i:t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=d.call(t,g),n):e.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return t(e).unknown(i)},e=arguments.length?d.call(e,g):[0,1],$(n)},t.scaleLinear=function t(){var e=T(y,y);return e.copy=function(){return x(e,t())},r.apply(e,arguments),$(e)},t.scaleLog=function t(){var e=I(M()).domain([1,10]);return e.copy=function(){return x(e,t()).base(e.base())},r.apply(e,arguments),e},t.scaleSymlog=function t(){var e=R(M());return e.copy=function(){return x(e,t()).constant(e.constant())},r.apply(e,arguments)},t.scaleOrdinal=h,t.scaleImplicit=p,t.scalePow=B,t.scaleSqrt=function(){return B.apply(null,arguments).exponent(.5)},t.scaleQuantile=function t(){var e,n=[],a=[],s=[];function o(){var t=0,e=Math.max(1,a.length);for(s=new Array(e-1);++t<e;)s[t-1]=i.quantile(n,t/e);return l}function l(t){return isNaN(t=+t)?e:a[i.bisect(s,t)]}return l.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:[e>0?s[e-1]:n[0],e<s.length?s[e]:n[n.length-1]]},l.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var e,a=0,s=t.length;a<s;++a)null==(e=t[a])||isNaN(e=+e)||n.push(e);return n.sort(i.ascending),o()},l.range=function(t){return arguments.length?(a=u.call(t),o()):a.slice()},l.unknown=function(t){return arguments.length?(e=t,l):e},l.quantiles=function(){return s.slice()},l.copy=function(){return t().domain(n).range(a).unknown(e)},r.apply(l,arguments)},t.scaleQuantize=function t(){var e,n=0,a=1,s=1,o=[.5],l=[0,1];function c(t){return t<=t?l[i.bisect(o,t,0,s)]:e}function d(){var t=-1;for(o=new Array(s);++t<s;)o[t]=((t+1)*a-(t-s)*n)/(s+1);return c}return c.domain=function(t){return arguments.length?(n=+t[0],a=+t[1],d()):[n,a]},c.range=function(t){return arguments.length?(s=(l=u.call(t)).length-1,d()):l.slice()},c.invertExtent=function(t){var e=l.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=s?[o[s-1],a]:[o[e-1],o[e]]},c.unknown=function(t){return arguments.length?(e=t,c):c},c.thresholds=function(){return o.slice()},c.copy=function(){return t().domain([n,a]).range(l).unknown(e)},r.apply($(c),arguments)},t.scaleThreshold=function t(){var e,n=[.5],a=[0,1],s=1;function o(t){return t<=t?a[i.bisect(n,t,0,s)]:e}return o.domain=function(t){return arguments.length?(n=u.call(t),s=Math.min(n.length,a.length-1),o):n.slice()},o.range=function(t){return arguments.length?(a=u.call(t),s=Math.min(n.length,a.length-1),o):a.slice()},o.invertExtent=function(t){var e=a.indexOf(t);return[n[e-1],n[e]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return t().domain(n).range(a).unknown(e)},r.apply(o,arguments)},t.scaleTime=function(){return r.apply(W(s.timeYear,s.timeMonth,s.timeWeek,s.timeDay,s.timeHour,s.timeMinute,s.timeSecond,s.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},t.scaleUtc=function(){return r.apply(W(s.utcYear,s.utcMonth,s.utcWeek,s.utcDay,s.utcHour,s.utcMinute,s.utcSecond,s.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},t.scaleSequential=function t(){var e=$(V()(y));return e.copy=function(){return G(e,t())},l.apply(e,arguments)},t.scaleSequentialLog=function t(){var e=I(V()).domain([1,10]);return e.copy=function(){return G(e,t()).base(e.base())},l.apply(e,arguments)},t.scaleSequentialPow=K,t.scaleSequentialSqrt=function(){return K.apply(null,arguments).exponent(.5)},t.scaleSequentialSymlog=function t(){var e=R(V());return e.copy=function(){return G(e,t()).constant(e.constant())},l.apply(e,arguments)},t.scaleSequentialQuantile=function t(){var e=[],n=y;function a(t){if(!isNaN(t=+t))return n((i.bisect(e,t)-1)/(e.length-1))}return a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,s=0,o=t.length;s<o;++s)null==(n=t[s])||isNaN(n=+n)||e.push(n);return e.sort(i.ascending),a},a.interpolator=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return t(n).domain(e)},l.apply(a,arguments)},t.scaleDiverging=function t(){var e=$(J()(y));return e.copy=function(){return G(e,t())},l.apply(e,arguments)},t.scaleDivergingLog=function t(){var e=I(J()).domain([.1,1,10]);return e.copy=function(){return G(e,t()).base(e.base())},l.apply(e,arguments)},t.scaleDivergingPow=X,t.scaleDivergingSqrt=function(){return X.apply(null,arguments).exponent(.5)},t.scaleDivergingSymlog=function t(){var e=R(J());return e.copy=function(){return G(e,t()).constant(e.constant())},l.apply(e,arguments)},t.tickFormat=S,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n(i.d3=i.d3||{})}(this,(function(t){"use strict";function e(){}function i(t,i){var n=new e;if(t instanceof e)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var a,s=-1,o=t.length;if(null==i)for(;++s<o;)n.set(s,t[s]);else for(;++s<o;)n.set(i(a=t[s],s,t),a)}else if(t)for(var r in t)n.set(r,t[r]);return n}function n(){return{}}function a(t,e,i){t[e]=i}function s(){return i()}function o(t,e,i){t.set(e,i)}function r(){}e.prototype=i.prototype={constructor:e,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var l=i.prototype;function c(t,e){var i=new r;if(t instanceof r)t.each((function(t){i.add(t)}));else if(t){var n=-1,a=t.length;if(null==e)for(;++n<a;)i.add(t[n]);else for(;++n<a;)i.add(e(t[n],n,t))}return i}r.prototype=c.prototype={constructor:r,has:l.has,add:function(t){return this["$"+(t+="")]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each},t.nest=function(){var t,e,r,l=[],c=[];function d(n,a,s,o){if(a>=l.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var r,c,u,p=-1,h=n.length,_=l[a++],m=i(),g=s();++p<h;)(u=m.get(r=_(c=n[p])+""))?u.push(c):m.set(r,[c]);return m.each((function(t,e){o(g,e,d(t,a,s,o))})),g}return r={object:function(t){return d(t,0,n,a)},map:function(t){return d(t,0,s,o)},entries:function(t){return function t(i,n){if(++n>l.length)return i;var a,s=c[n-1];return null!=e&&n>=l.length?a=i.entries():(a=[],i.each((function(e,i){a.push({key:i,values:t(e,n)})}))),null!=s?a.sort((function(t,e){return s(t.key,e.key)})):a}(d(t,0,s,o),0)},key:function(t){return l.push(t),r},sortKeys:function(t){return c[l.length-1]=t,r},sortValues:function(e){return t=e,r},rollup:function(t){return e=t,r}}},t.set=c,t.map=i,t.keys=function(t){var e=[];for(var i in t)e.push(i);return e},t.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},t.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n(i.d3=i.d3||{})}(this,(function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){var i;return 1===t.length&&(i=t,t=function(t,n){return e(i(t),n)}),{left:function(e,i,n,a){for(null==n&&(n=0),null==a&&(a=e.length);n<a;){var s=n+a>>>1;t(e[s],i)<0?n=s+1:a=s}return n},right:function(e,i,n,a){for(null==n&&(n=0),null==a&&(a=e.length);n<a;){var s=n+a>>>1;t(e[s],i)>0?a=s:n=s+1}return n}}}var n=i(e),a=n.right,s=n.left;function o(t,e){return[t,e]}function r(t){return null===t?NaN:+t}function l(t,e){var i,n,a=t.length,s=0,o=-1,l=0,c=0;if(null==e)for(;++o<a;)isNaN(i=r(t[o]))||(c+=(n=i-l)*(i-(l+=n/++s)));else for(;++o<a;)isNaN(i=r(e(t[o],o,t)))||(c+=(n=i-l)*(i-(l+=n/++s)));if(s>1)return c/(s-1)}function c(t,e){var i=l(t,e);return i?Math.sqrt(i):i}function d(t,e){var i,n,a,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(i=t[o])&&i>=i)for(n=a=i;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),a<i&&(a=i))}else for(;++o<s;)if(null!=(i=e(t[o],o,t))&&i>=i)for(n=a=i;++o<s;)null!=(i=e(t[o],o,t))&&(n>i&&(n=i),a<i&&(a=i));return[n,a]}var u=Array.prototype,p=u.slice,h=u.map;function _(t){return function(){return t}}function m(t){return t}function g(t,e,i){t=+t,e=+e,i=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+i;for(var n=-1,a=0|Math.max(0,Math.ceil((e-t)/i)),s=new Array(a);++n<a;)s[n]=t+n*i;return s}var f=Math.sqrt(50),y=Math.sqrt(10),v=Math.sqrt(2);function b(t,e,i){var n=(e-t)/Math.max(0,i),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=f?10:s>=y?5:s>=v?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=f?10:s>=y?5:s>=v?2:1)}function k(t,e,i){var n=Math.abs(e-t)/Math.max(0,i),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=f?a*=10:s>=y?a*=5:s>=v&&(a*=2),e<t?-a:a}function w(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function x(t,e,i){if(null==i&&(i=r),n=t.length){if((e=+e)<=0||n<2)return+i(t[0],0,t);if(e>=1)return+i(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+i(t[s],s,t);return o+(+i(t[s+1],s+1,t)-o)*(a-s)}}function M(t,e){var i,n,a=t.length,s=-1;if(null==e){for(;++s<a;)if(null!=(i=t[s])&&i>=i)for(n=i;++s<a;)null!=(i=t[s])&&n>i&&(n=i)}else for(;++s<a;)if(null!=(i=e(t[s],s,t))&&i>=i)for(n=i;++s<a;)null!=(i=e(t[s],s,t))&&n>i&&(n=i);return n}function T(t){if(!(a=t.length))return[];for(var e=-1,i=M(t,S),n=new Array(i);++e<i;)for(var a,s=-1,o=n[e]=new Array(a);++s<a;)o[s]=t[s][e];return n}function S(t){return t.length}t.bisect=a,t.bisectRight=a,t.bisectLeft=s,t.ascending=e,t.bisector=i,t.cross=function(t,e,i){var n,a,s,r,l=t.length,c=e.length,d=new Array(l*c);for(null==i&&(i=o),n=s=0;n<l;++n)for(r=t[n],a=0;a<c;++a,++s)d[s]=i(r,e[a]);return d},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=c,t.extent=d,t.histogram=function(){var t=m,e=d,i=w;function n(n){var s,o,r=n.length,l=new Array(r);for(s=0;s<r;++s)l[s]=t(n[s],s,n);var c=e(l),d=c[0],u=c[1],p=i(l,d,u);Array.isArray(p)||(p=k(d,u,p),p=g(Math.ceil(d/p)*p,u,p));for(var h=p.length;p[0]<=d;)p.shift(),--h;for(;p[h-1]>u;)p.pop(),--h;var _,m=new Array(h+1);for(s=0;s<=h;++s)(_=m[s]=[]).x0=s>0?p[s-1]:d,_.x1=s<h?p[s]:u;for(s=0;s<r;++s)d<=(o=l[s])&&o<=u&&m[a(p,o,0,h)].push(n[s]);return m}return n.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),n):t},n.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),n):e},n.thresholds=function(t){return arguments.length?(i="function"==typeof t?t:Array.isArray(t)?_(p.call(t)):_(t),n):i},n},t.thresholdFreedmanDiaconis=function(t,i,n){return t=h.call(t,r).sort(e),Math.ceil((n-i)/(2*(x(t,.75)-x(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,i){return Math.ceil((i-e)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var i,n,a=t.length,s=-1;if(null==e){for(;++s<a;)if(null!=(i=t[s])&&i>=i)for(n=i;++s<a;)null!=(i=t[s])&&i>n&&(n=i)}else for(;++s<a;)if(null!=(i=e(t[s],s,t))&&i>=i)for(n=i;++s<a;)null!=(i=e(t[s],s,t))&&i>n&&(n=i);return n},t.mean=function(t,e){var i,n=t.length,a=n,s=-1,o=0;if(null==e)for(;++s<n;)isNaN(i=r(t[s]))?--a:o+=i;else for(;++s<n;)isNaN(i=r(e(t[s],s,t)))?--a:o+=i;if(a)return o/a},t.median=function(t,i){var n,a=t.length,s=-1,o=[];if(null==i)for(;++s<a;)isNaN(n=r(t[s]))||o.push(n);else for(;++s<a;)isNaN(n=r(i(t[s],s,t)))||o.push(n);return x(o.sort(e),.5)},t.merge=function(t){for(var e,i,n,a=t.length,s=-1,o=0;++s<a;)o+=t[s].length;for(i=new Array(o);--a>=0;)for(e=(n=t[a]).length;--e>=0;)i[--o]=n[e];return i},t.min=M,t.pairs=function(t,e){null==e&&(e=o);for(var i=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);i<n;)s[i]=e(a,a=t[++i]);return s},t.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},t.quantile=x,t.range=g,t.scan=function(t,i){if(n=t.length){var n,a,s=0,o=0,r=t[o];for(null==i&&(i=e);++s<n;)(i(a=t[s],r)<0||0!==i(r,r))&&(r=a,o=s);return 0===i(r,r)?o:void 0}},t.shuffle=function(t,e,i){for(var n,a,s=(null==i?t.length:i)-(e=null==e?0:+e);s;)a=Math.random()*s--|0,n=t[s+e],t[s+e]=t[a+e],t[a+e]=n;return t},t.sum=function(t,e){var i,n=t.length,a=-1,s=0;if(null==e)for(;++a<n;)(i=+t[a])&&(s+=i);else for(;++a<n;)(i=+e(t[a],a,t))&&(s+=i);return s},t.ticks=function(t,e,i){var n,a,s,o,r=-1;if(i=+i,(t=+t)===(e=+e)&&i>0)return[t];if((n=e<t)&&(a=t,t=e,e=a),0===(o=b(t,e,i))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(a=Math.ceil(e-t+1));++r<a;)s[r]=(t+r)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(a=Math.ceil(t-e+1));++r<a;)s[r]=(t-r)/o;return n&&s.reverse(),s},t.tickIncrement=b,t.tickStep=k,t.transpose=T,t.variance=l,t.zip=function(){return T(arguments)},Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(n,a){"object"==typeof e&&void 0!==t?a(e,i(1053)):"function"==typeof define&&define.amd?define(["exports","d3-color"],a):a((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){"use strict";function i(t,e,i,n,a){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*i+(1+3*t+3*s-3*o)*n+o*a)/6}function n(t){var e=t.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),s=t[a],o=t[a+1],r=a>0?t[a-1]:2*s-o,l=a<e-1?t[a+2]:2*o-s;return i((n-a/e)*e,r,s,o,l)}}function a(t){var e=t.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*e),s=t[(a+e-1)%e],o=t[a%e],r=t[(a+1)%e],l=t[(a+2)%e];return i((n-a/e)*e,s,o,r,l)}}function s(t){return function(){return t}}function o(t,e){return function(i){return t+i*e}}function r(t,e){var i=e-t;return i?o(t,i>180||i<-180?i-360*Math.round(i/360):i):s(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?c:function(e,i){return i-e?function(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(n){return Math.pow(t+n*e,i)}}(e,i,t):s(isNaN(e)?i:e)}}function c(t,e){var i=e-t;return i?o(t,i):s(isNaN(t)?e:t)}var d=function t(i){var n=l(i);function a(t,i){var a=n((t=e.rgb(t)).r,(i=e.rgb(i)).r),s=n(t.g,i.g),o=n(t.b,i.b),r=c(t.opacity,i.opacity);return function(e){return t.r=a(e),t.g=s(e),t.b=o(e),t.opacity=r(e),t+""}}return a.gamma=t,a}(1);function u(t){return function(i){var n,a,s=i.length,o=new Array(s),r=new Array(s),l=new Array(s);for(n=0;n<s;++n)a=e.rgb(i[n]),o[n]=a.r||0,r[n]=a.g||0,l[n]=a.b||0;return o=t(o),r=t(r),l=t(l),a.opacity=1,function(t){return a.r=o(t),a.g=r(t),a.b=l(t),a+""}}}var p=u(n),h=u(a);function _(t,e){e||(e=[]);var i,n=t?Math.min(e.length,t.length):0,a=e.slice();return function(s){for(i=0;i<n;++i)a[i]=t[i]*(1-s)+e[i]*s;return a}}function m(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function g(t,e){var i,n=e?e.length:0,a=t?Math.min(n,t.length):0,s=new Array(a),o=new Array(n);for(i=0;i<a;++i)s[i]=x(t[i],e[i]);for(;i<n;++i)o[i]=e[i];return function(t){for(i=0;i<a;++i)o[i]=s[i](t);return o}}function f(t,e){var i=new Date;return t=+t,e=+e,function(n){return i.setTime(t*(1-n)+e*n),i}}function y(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function v(t,e){var i,n={},a={};for(i in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)i in t?n[i]=x(t[i],e[i]):a[i]=e[i];return function(t){for(i in n)a[i]=n[i](t);return a}}var b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k=new RegExp(b.source,"g");function w(t,e){var i,n,a,s=b.lastIndex=k.lastIndex=0,o=-1,r=[],l=[];for(t+="",e+="";(i=b.exec(t))&&(n=k.exec(e));)(a=n.index)>s&&(a=e.slice(s,a),r[o]?r[o]+=a:r[++o]=a),(i=i[0])===(n=n[0])?r[o]?r[o]+=n:r[++o]=n:(r[++o]=null,l.push({i:o,x:y(i,n)})),s=k.lastIndex;return s<e.length&&(a=e.slice(s),r[o]?r[o]+=a:r[++o]=a),r.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var i,n=0;n<e;++n)r[(i=l[n]).i]=i.x(t);return r.join("")})}function x(t,i){var n,a=typeof i;return null==i||"boolean"===a?s(i):("number"===a?y:"string"===a?(n=e.color(i))?(i=n,d):w:i instanceof e.color?d:i instanceof Date?f:m(i)?_:Array.isArray(i)?g:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?v:y)(t,i)}var M,T,S,$,L=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C(t,e,i,n,a,s){var o,r,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*i+e*n)&&(i-=t*l,n-=e*l),(r=Math.sqrt(i*i+n*n))&&(i/=r,n/=r,l/=r),t*n<e*i&&(t=-t,e=-e,l=-l,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(e,t)*L,skewX:Math.atan(l)*L,scaleX:o,scaleY:r}}function D(t,e,i,n){function a(t){return t.length?t.pop()+" ":""}return function(s,o){var r=[],l=[];return s=t(s),o=t(o),function(t,n,a,s,o,r){if(t!==a||n!==s){var l=o.push("translate(",null,e,null,i);r.push({i:l-4,x:y(t,a)},{i:l-2,x:y(n,s)})}else(a||s)&&o.push("translate("+a+e+s+i)}(s.translateX,s.translateY,o.translateX,o.translateY,r,l),function(t,e,i,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:i.push(a(i)+"rotate(",null,n)-2,x:y(t,e)})):e&&i.push(a(i)+"rotate("+e+n)}(s.rotate,o.rotate,r,l),function(t,e,i,s){t!==e?s.push({i:i.push(a(i)+"skewX(",null,n)-2,x:y(t,e)}):e&&i.push(a(i)+"skewX("+e+n)}(s.skewX,o.skewX,r,l),function(t,e,i,n,s,o){if(t!==i||e!==n){var r=s.push(a(s)+"scale(",null,",",null,")");o.push({i:r-4,x:y(t,i)},{i:r-2,x:y(e,n)})}else 1===i&&1===n||s.push(a(s)+"scale("+i+","+n+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,r,l),s=o=null,function(t){for(var e,i=-1,n=l.length;++i<n;)r[(e=l[i]).i]=e.x(t);return r.join("")}}}var E=D((function(t){return"none"===t?P:(M||(M=document.createElement("DIV"),T=document.documentElement,S=document.defaultView),M.style.transform=t,t=S.getComputedStyle(T.appendChild(M),null).getPropertyValue("transform"),T.removeChild(M),C(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),A=D((function(t){return null==t?P:($||($=document.createElementNS("http://www.w3.org/2000/svg","g")),$.setAttribute("transform",t),(t=$.transform.baseVal.consolidate())?C((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):P)}),", ",")",")"),Y=Math.SQRT2;function I(t){return((t=Math.exp(t))+1/t)/2}function O(t){return function(i,n){var a=t((i=e.hsl(i)).h,(n=e.hsl(n)).h),s=c(i.s,n.s),o=c(i.l,n.l),r=c(i.opacity,n.opacity);return function(t){return i.h=a(t),i.s=s(t),i.l=o(t),i.opacity=r(t),i+""}}}var j=O(r),R=O(c);function N(t){return function(i,n){var a=t((i=e.hcl(i)).h,(n=e.hcl(n)).h),s=c(i.c,n.c),o=c(i.l,n.l),r=c(i.opacity,n.opacity);return function(t){return i.h=a(t),i.c=s(t),i.l=o(t),i.opacity=r(t),i+""}}}var z=N(r),H=N(c);function F(t){return function i(n){function a(i,a){var s=t((i=e.cubehelix(i)).h,(a=e.cubehelix(a)).h),o=c(i.s,a.s),r=c(i.l,a.l),l=c(i.opacity,a.opacity);return function(t){return i.h=s(t),i.s=o(t),i.l=r(Math.pow(t,n)),i.opacity=l(t),i+""}}return n=+n,a.gamma=i,a}(1)}var B=F(r),U=F(c);t.interpolate=x,t.interpolateArray=function(t,e){return(m(e)?_:g)(t,e)},t.interpolateBasis=n,t.interpolateBasisClosed=a,t.interpolateCubehelix=B,t.interpolateCubehelixLong=U,t.interpolateDate=f,t.interpolateDiscrete=function(t){var e=t.length;return function(i){return t[Math.max(0,Math.min(e-1,Math.floor(i*e)))]}},t.interpolateHcl=z,t.interpolateHclLong=H,t.interpolateHsl=j,t.interpolateHslLong=R,t.interpolateHue=function(t,e){var i=r(+t,+e);return function(t){var e=i(t);return e-360*Math.floor(e/360)}},t.interpolateLab=function(t,i){var n=c((t=e.lab(t)).l,(i=e.lab(i)).l),a=c(t.a,i.a),s=c(t.b,i.b),o=c(t.opacity,i.opacity);return function(e){return t.l=n(e),t.a=a(e),t.b=s(e),t.opacity=o(e),t+""}},t.interpolateNumber=y,t.interpolateNumberArray=_,t.interpolateObject=v,t.interpolateRgb=d,t.interpolateRgbBasis=p,t.interpolateRgbBasisClosed=h,t.interpolateRound=function(t,e){return t=+t,e=+e,function(i){return Math.round(t*(1-i)+e*i)}},t.interpolateString=w,t.interpolateTransformCss=E,t.interpolateTransformSvg=A,t.interpolateZoom=function(t,e){var i,n,a=t[0],s=t[1],o=t[2],r=e[0],l=e[1],c=e[2],d=r-a,u=l-s,p=d*d+u*u;if(p<1e-12)n=Math.log(c/o)/Y,i=function(t){return[a+t*d,s+t*u,o*Math.exp(Y*t*n)]};else{var h=Math.sqrt(p),_=(c*c-o*o+4*p)/(2*o*2*h),m=(c*c-o*o-4*p)/(2*c*2*h),g=Math.log(Math.sqrt(_*_+1)-_),f=Math.log(Math.sqrt(m*m+1)-m);n=(f-g)/Y,i=function(t){var e,i=t*n,r=I(g),l=o/(2*h)*(r*(e=Y*i+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[a+l*d,s+l*u,o*r/I(Y*i+g)]}}return i.duration=1e3*n,i},t.piecewise=function(t,e){for(var i=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);i<n;)s[i]=t(a,a=e[++i]);return function(t){var e=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return s[e](t-e)}},t.quantize=function(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t(n/(e-1));return i},Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((i=i||self).d3=i.d3||{})}(this,(function(t){"use strict";function e(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function i(t,e){var i=Object.create(t.prototype);for(var n in e)i[n]=e[n];return i}function n(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),d=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),u=new RegExp("^rgba\\("+[o,o,o,s]+"\\)$"),p=new RegExp("^hsl\\("+[s,o,o]+"\\)$"),h=new RegExp("^hsla\\("+[s,o,o,s]+"\\)$"),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function f(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=r.exec(t))?(i=e[1].length,e=parseInt(e[1],16),6===i?y(e):3===i?new w(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===i?v(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===i?v(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=l.exec(t))?new w(e[1],e[2],e[3],1):(e=c.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=d.exec(t))?v(e[1],e[2],e[3],e[4]):(e=u.exec(t))?v(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=p.exec(t))?S(e[1],e[2]/100,e[3]/100,1):(e=h.exec(t))?S(e[1],e[2]/100,e[3]/100,e[4]):_.hasOwnProperty(t)?y(_[t]):"transparent"===t?new w(NaN,NaN,NaN,0):null}function y(t){return new w(t>>16&255,t>>8&255,255&t,1)}function v(t,e,i,n){return n<=0&&(t=e=i=NaN),new w(t,e,i,n)}function b(t){return t instanceof n||(t=f(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function k(t,e,i,n){return 1===arguments.length?b(t):new w(t,e,i,null==n?1:n)}function w(t,e,i,n){this.r=+t,this.g=+e,this.b=+i,this.opacity=+n}function x(){return"#"+T(this.r)+T(this.g)+T(this.b)}function M(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function T(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function S(t,e,i,n){return n<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new P(t,e,i,n)}function $(t){if(t instanceof P)return new P(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=f(t)),!t)return new P;if(t instanceof P)return t;var e=(t=t.rgb()).r/255,i=t.g/255,a=t.b/255,s=Math.min(e,i,a),o=Math.max(e,i,a),r=NaN,l=o-s,c=(o+s)/2;return l?(r=e===o?(i-a)/l+6*(i<a):i===o?(a-e)/l+2:(e-i)/l+4,l/=c<.5?o+s:2-o-s,r*=60):l=c>0&&c<1?0:r,new P(r,l,c,t.opacity)}function L(t,e,i,n){return 1===arguments.length?$(t):new P(t,e,i,null==n?1:n)}function P(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}function C(t,e,i){return 255*(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)}e(n,f,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:m,formatHex:m,formatHsl:function(){return $(this).formatHsl()},formatRgb:g,toString:g}),e(w,k,i(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:x,formatHex:x,formatRgb:M,toString:M})),e(P,L,i(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new P(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new P(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*e,a=2*i-n;return new w(C(t>=240?t-240:t+120,a,n),C(t,a,n),C(t<120?t+240:t-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var D=Math.PI/180,E=180/Math.PI,A=6/29,Y=3*A*A;function I(t){if(t instanceof j)return new j(t.l,t.a,t.b,t.opacity);if(t instanceof U)return q(t);t instanceof w||(t=b(t));var e,i,n=H(t.r),a=H(t.g),s=H(t.b),o=R((.2225045*n+.7168786*a+.0606169*s)/1);return n===a&&a===s?e=i=o:(e=R((.4360747*n+.3850649*a+.1430804*s)/.96422),i=R((.0139322*n+.0971045*a+.7141733*s)/.82521)),new j(116*o-16,500*(e-o),200*(o-i),t.opacity)}function O(t,e,i,n){return 1===arguments.length?I(t):new j(t,e,i,null==n?1:n)}function j(t,e,i,n){this.l=+t,this.a=+e,this.b=+i,this.opacity=+n}function R(t){return t>.008856451679035631?Math.pow(t,1/3):t/Y+4/29}function N(t){return t>A?t*t*t:Y*(t-4/29)}function z(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function H(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function F(t){if(t instanceof U)return new U(t.h,t.c,t.l,t.opacity);if(t instanceof j||(t=I(t)),0===t.a&&0===t.b)return new U(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*E;return new U(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function B(t,e,i,n){return 1===arguments.length?F(t):new U(t,e,i,null==n?1:n)}function U(t,e,i,n){this.h=+t,this.c=+e,this.l=+i,this.opacity=+n}function q(t){if(isNaN(t.h))return new j(t.l,0,0,t.opacity);var e=t.h*D;return new j(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(j,O,i(n,{brighter:function(t){return new j(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new j(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,i=isNaN(this.b)?t:t-this.b/200;return new w(z(3.1338561*(e=.96422*N(e))-1.6168667*(t=1*N(t))-.4906146*(i=.82521*N(i))),z(-.9787684*e+1.9161415*t+.033454*i),z(.0719453*e-.2289914*t+1.4052427*i),this.opacity)}})),e(U,B,i(n,{brighter:function(t){return new U(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new U(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return q(this).rgb()}}));var W=-.14861,V=1.78277,G=-.29227,K=-.90649,J=1.97294,X=J*K,Z=J*V,Q=V*G-K*W;function tt(t){if(t instanceof it)return new it(t.h,t.s,t.l,t.opacity);t instanceof w||(t=b(t));var e=t.r/255,i=t.g/255,n=t.b/255,a=(Q*n+X*e-Z*i)/(Q+X-Z),s=n-a,o=(J*(i-a)-G*s)/K,r=Math.sqrt(o*o+s*s)/(J*a*(1-a)),l=r?Math.atan2(o,s)*E-120:NaN;return new it(l<0?l+360:l,r,a,t.opacity)}function et(t,e,i,n){return 1===arguments.length?tt(t):new it(t,e,i,null==n?1:n)}function it(t,e,i,n){this.h=+t,this.s=+e,this.l=+i,this.opacity=+n}e(it,et,i(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new it(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new it(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*D,e=+this.l,i=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),a=Math.sin(t);return new w(255*(e+i*(W*n+V*a)),255*(e+i*(G*n+K*a)),255*(e+i*(J*n)),this.opacity)}})),t.color=f,t.cubehelix=et,t.gray=function(t,e){return new j(t,0,0,null==e?1:e)},t.hcl=B,t.hsl=L,t.lab=O,t.lch=function(t,e,i,n){return 1===arguments.length?F(t):new U(i,e,t,null==n?1:n)},t.rgb=k,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((i="undefined"!=typeof globalThis?globalThis:i||self).d3=i.d3||{})}(this,(function(t){"use strict";function e(t,e){if((i=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var i,n=t.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+t.slice(i+1)]}function i(t){return(t=e(Math.abs(t)))?t[1]:NaN}var n,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(t){if(!(e=a.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function r(t,i){var n=e(t,i);if(!n)return t+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}s.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return r(100*t,e)},r:r,s:function(t,i){var a=e(t,i);if(!a)return t+"";var s=a[0],o=a[1],r=o-(n=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=s.length;return r===l?s:r>l?s+new Array(r-l+1).join("0"):r>0?s.slice(0,r)+"."+s.slice(r):"0."+new Array(1-r).join("0")+e(t,Math.max(0,i+r-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var d,u=Array.prototype.map,p=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function h(t){var e,a,o=void 0===t.grouping||void 0===t.thousands?c:(e=u.call(t.grouping,Number),a=t.thousands+"",function(t,i){for(var n=t.length,s=[],o=0,r=e[0],l=0;n>0&&r>0&&(l+r+1>i&&(r=Math.max(1,i-l)),s.push(t.substring(n-=r,n+r)),!((l+=r+1)>i));)r=e[o=(o+1)%e.length];return s.reverse().join(a)}),r=void 0===t.currency?"":t.currency[0]+"",d=void 0===t.currency?"":t.currency[1]+"",h=void 0===t.decimal?".":t.decimal+"",_=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(u.call(t.numerals,String)),m=void 0===t.percent?"%":t.percent+"",g=void 0===t.minus?"-":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function y(t){var e=(t=s(t)).fill,i=t.align,a=t.sign,c=t.symbol,u=t.zero,y=t.width,v=t.comma,b=t.precision,k=t.trim,w=t.type;"n"===w?(v=!0,w="g"):l[w]||(void 0===b&&(b=12),k=!0,w="g"),(u||"0"===e&&"="===i)&&(u=!0,e="0",i="=");var x="$"===c?r:"#"===c&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M="$"===c?d:/[%p]/.test(w)?m:"",T=l[w],S=/[defgprs%]/.test(w);function $(t){var s,r,l,c=x,d=M;if("c"===w)d=T(t)+d,t="";else{var m=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:T(Math.abs(t),b),k&&(t=function(t){t:for(var e,i=t.length,n=1,a=-1;n<i;++n)switch(t[n]){case".":a=e=n;break;case"0":0===a&&(a=n),e=n;break;default:if(!+t[n])break t;a>0&&(a=0)}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),m&&0==+t&&"+"!==a&&(m=!1),c=(m?"("===a?a:g:"-"===a||"("===a?"":a)+c,d=("s"===w?p[8+n/3]:"")+d+(m&&"("===a?")":""),S)for(s=-1,r=t.length;++s<r;)if(48>(l=t.charCodeAt(s))||l>57){d=(46===l?h+t.slice(s+1):t.slice(s))+d,t=t.slice(0,s);break}}v&&!u&&(t=o(t,1/0));var $=c.length+t.length+d.length,L=$<y?new Array(y-$+1).join(e):"";switch(v&&u&&(t=o(L+t,L.length?y-d.length:1/0),L=""),i){case"<":t=c+t+d+L;break;case"=":t=c+L+t+d;break;case"^":t=L.slice(0,$=L.length>>1)+c+t+d+L.slice($);break;default:t=L+c+t+d}return _(t)}return b=void 0===b?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),$.toString=function(){return t+""},$}return{format:y,formatPrefix:function(t,e){var n=y(((t=s(t)).type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(i(e)/3))),o=Math.pow(10,-a),r=p[8+a/3];return function(t){return n(o*t)+r}}}}function _(e){return d=h(e),t.format=d.format,t.formatPrefix=d.formatPrefix,d}_({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=o,t.formatDefaultLocale=_,t.formatLocale=h,t.formatSpecifier=s,t.precisionFixed=function(t){return Math.max(0,-i(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(i(e)/3)))-i(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,i(e)-i(t))+1},Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((i=i||self).d3=i.d3||{})}(this,(function(t){"use strict";var e=new Date,i=new Date;function n(t,a,s,o){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(e){return t(e=new Date(e-1)),a(e,1),t(e),e},r.round=function(t){var e=r(t),i=r.ceil(t);return t-e<i-t?e:i},r.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},r.range=function(e,i,n){var s,o=[];if(e=r.ceil(e),n=null==n?1:Math.floor(n),!(e<i&&n>0))return o;do{o.push(s=new Date(+e)),a(e,n),t(e)}while(s<e&&e<i);return o},r.filter=function(e){return n((function(i){if(i>=i)for(;t(i),!e(i);)i.setTime(i-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;a(t,-1),!e(t););else for(;--i>=0;)for(;a(t,1),!e(t););}))},s&&(r.count=function(n,a){return e.setTime(+n),i.setTime(+a),t(e),t(i),Math.floor(s(e,i))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(o?function(e){return o(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var a=n((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?n((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,i){e.setTime(+e+i*t)}),(function(e,i){return(i-e)/t})):a:null};var s=a.range,o=n((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),r=o.range,l=n((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),c=l.range,d=n((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),u=d.range,p=n((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),h=p.range;function _(t){return n((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var m=_(0),g=_(1),f=_(2),y=_(3),v=_(4),b=_(5),k=_(6),w=m.range,x=g.range,M=f.range,T=y.range,S=v.range,$=b.range,L=k.range,P=n((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),C=P.range,D=n((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));D.every=function(t){return isFinite(t=Math.floor(t))&&t>0?n((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,i){e.setFullYear(e.getFullYear()+i*t)})):null};var E=D.range,A=n((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),Y=A.range,I=n((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),O=I.range,j=n((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),R=j.range;function N(t){return n((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var z=N(0),H=N(1),F=N(2),B=N(3),U=N(4),q=N(5),W=N(6),V=z.range,G=H.range,K=F.range,J=B.range,X=U.range,Z=q.range,Q=W.range,tt=n((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),et=tt.range,it=n((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?n((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i*t)})):null};var nt=it.range;t.timeDay=p,t.timeDays=h,t.timeFriday=b,t.timeFridays=$,t.timeHour=d,t.timeHours=u,t.timeInterval=n,t.timeMillisecond=a,t.timeMilliseconds=s,t.timeMinute=l,t.timeMinutes=c,t.timeMonday=g,t.timeMondays=x,t.timeMonth=P,t.timeMonths=C,t.timeSaturday=k,t.timeSaturdays=L,t.timeSecond=o,t.timeSeconds=r,t.timeSunday=m,t.timeSundays=w,t.timeThursday=v,t.timeThursdays=S,t.timeTuesday=f,t.timeTuesdays=M,t.timeWednesday=y,t.timeWednesdays=T,t.timeWeek=m,t.timeWeeks=w,t.timeYear=D,t.timeYears=E,t.utcDay=j,t.utcDays=R,t.utcFriday=q,t.utcFridays=Z,t.utcHour=I,t.utcHours=O,t.utcMillisecond=a,t.utcMilliseconds=s,t.utcMinute=A,t.utcMinutes=Y,t.utcMonday=H,t.utcMondays=G,t.utcMonth=tt,t.utcMonths=et,t.utcSaturday=W,t.utcSaturdays=Q,t.utcSecond=o,t.utcSeconds=r,t.utcSunday=z,t.utcSundays=V,t.utcThursday=U,t.utcThursdays=X,t.utcTuesday=F,t.utcTuesdays=K,t.utcWednesday=B,t.utcWednesdays=J,t.utcWeek=z,t.utcWeeks=V,t.utcYear=it,t.utcYears=nt,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(n,a){"object"==typeof e&&void 0!==t?a(e,i(1055)):"function"==typeof define&&define.amd?define(["exports","d3-time"],a):a((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){"use strict";function i(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function a(t,e,i){return{y:t,m:e,d:i,H:0,M:0,S:0,L:0}}function s(t){var s=t.dateTime,o=t.date,l=t.time,c=t.periods,d=t.days,u=t.shortDays,p=t.months,W=t.shortMonths,pt=h(c),Mt=_(c),Tt=h(d),St=_(d),$t=h(u),Lt=_(u),Pt=h(p),Ct=_(p),Dt=h(W),Et=_(W),At={a:function(t){return u[t.getDay()]},A:function(t){return d[t.getDay()]},b:function(t){return W[t.getMonth()]},B:function(t){return p[t.getMonth()]},c:null,d:I,e:I,f:z,g:X,G:Q,H:O,I:j,j:R,L:N,m:H,M:F,p:function(t){return c[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:wt,s:xt,S:B,u:U,U:q,V:V,w:G,W:K,x:null,X:null,y:J,Y:Z,Z:tt,"%":kt},Yt={a:function(t){return u[t.getUTCDay()]},A:function(t){return d[t.getUTCDay()]},b:function(t){return W[t.getUTCMonth()]},B:function(t){return p[t.getUTCMonth()]},c:null,d:et,e:et,f:ot,g:ft,G:vt,H:it,I:nt,j:at,L:st,m:rt,M:lt,p:function(t){return c[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:wt,s:xt,S:ct,u:dt,U:ut,V:ht,w:_t,W:mt,x:null,X:null,y:gt,Y:yt,Z:bt,"%":kt},It={a:function(t,e,i){var n=$t.exec(e.slice(i));return n?(t.w=Lt[n[0].toLowerCase()],i+n[0].length):-1},A:function(t,e,i){var n=Tt.exec(e.slice(i));return n?(t.w=St[n[0].toLowerCase()],i+n[0].length):-1},b:function(t,e,i){var n=Dt.exec(e.slice(i));return n?(t.m=Et[n[0].toLowerCase()],i+n[0].length):-1},B:function(t,e,i){var n=Pt.exec(e.slice(i));return n?(t.m=Ct[n[0].toLowerCase()],i+n[0].length):-1},c:function(t,e,i){return Rt(t,s,e,i)},d:T,e:T,f:D,g:k,G:b,H:$,I:$,j:S,L:C,m:M,M:L,p:function(t,e,i){var n=pt.exec(e.slice(i));return n?(t.p=Mt[n[0].toLowerCase()],i+n[0].length):-1},q:x,Q:A,s:Y,S:P,u:g,U:f,V:y,w:m,W:v,x:function(t,e,i){return Rt(t,o,e,i)},X:function(t,e,i){return Rt(t,l,e,i)},y:k,Y:b,Z:w,"%":E};function Ot(t,e){return function(i){var n,a,s,o=[],l=-1,c=0,d=t.length;for(i instanceof Date||(i=new Date(+i));++l<d;)37===t.charCodeAt(l)&&(o.push(t.slice(c,l)),null!=(a=r[n=t.charAt(++l)])?n=t.charAt(++l):a="e"===n?" ":"0",(s=e[n])&&(n=s(i,a)),o.push(n),c=l+1);return o.push(t.slice(c,l)),o.join("")}}function jt(t,s){return function(o){var r,l,c=a(1900,void 0,1);if(Rt(c,t,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(s&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(r=n(a(c.y,0,1))).getUTCDay(),r=l>4||0===l?e.utcMonday.ceil(r):e.utcMonday(r),r=e.utcDay.offset(r,7*(c.V-1)),c.y=r.getUTCFullYear(),c.m=r.getUTCMonth(),c.d=r.getUTCDate()+(c.w+6)%7):(l=(r=i(a(c.y,0,1))).getDay(),r=l>4||0===l?e.timeMonday.ceil(r):e.timeMonday(r),r=e.timeDay.offset(r,7*(c.V-1)),c.y=r.getFullYear(),c.m=r.getMonth(),c.d=r.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?n(a(c.y,0,1)).getUTCDay():i(a(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,n(c)):i(c)}}function Rt(t,e,i,n){for(var a,s,o=0,l=e.length,c=i.length;o<l;){if(n>=c)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(s=It[a in r?e.charAt(o++):a])||(n=s(t,i,n))<0)return-1}else if(a!=i.charCodeAt(n++))return-1}return n}return At.x=Ot(o,At),At.X=Ot(l,At),At.c=Ot(s,At),Yt.x=Ot(o,Yt),Yt.X=Ot(l,Yt),Yt.c=Ot(s,Yt),{format:function(t){var e=Ot(t+="",At);return e.toString=function(){return t},e},parse:function(t){var e=jt(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ot(t+="",Yt);return e.toString=function(){return t},e},utcParse:function(t){var e=jt(t+="",!0);return e.toString=function(){return t},e}}}var o,r={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,d=/[\\^$*+?|[\]().{}]/g;function u(t,e,i){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<i?new Array(i-s+1).join(e)+a:a)}function p(t){return t.replace(d,"\\$&")}function h(t){return new RegExp("^(?:"+t.map(p).join("|")+")","i")}function _(t){for(var e={},i=-1,n=t.length;++i<n;)e[t[i].toLowerCase()]=i;return e}function m(t,e,i){var n=l.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function g(t,e,i){var n=l.exec(e.slice(i,i+1));return n?(t.u=+n[0],i+n[0].length):-1}function f(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.U=+n[0],i+n[0].length):-1}function y(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.V=+n[0],i+n[0].length):-1}function v(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.W=+n[0],i+n[0].length):-1}function b(t,e,i){var n=l.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function k(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function w(t,e,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(i,i+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function x(t,e,i){var n=l.exec(e.slice(i,i+1));return n?(t.q=3*n[0]-3,i+n[0].length):-1}function M(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function T(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function S(t,e,i){var n=l.exec(e.slice(i,i+3));return n?(t.m=0,t.d=+n[0],i+n[0].length):-1}function $(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function L(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function P(t,e,i){var n=l.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function C(t,e,i){var n=l.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function D(t,e,i){var n=l.exec(e.slice(i,i+6));return n?(t.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function E(t,e,i){var n=c.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function A(t,e,i){var n=l.exec(e.slice(i));return n?(t.Q=+n[0],i+n[0].length):-1}function Y(t,e,i){var n=l.exec(e.slice(i));return n?(t.s=+n[0],i+n[0].length):-1}function I(t,e){return u(t.getDate(),e,2)}function O(t,e){return u(t.getHours(),e,2)}function j(t,e){return u(t.getHours()%12||12,e,2)}function R(t,i){return u(1+e.timeDay.count(e.timeYear(t),t),i,3)}function N(t,e){return u(t.getMilliseconds(),e,3)}function z(t,e){return N(t,e)+"000"}function H(t,e){return u(t.getMonth()+1,e,2)}function F(t,e){return u(t.getMinutes(),e,2)}function B(t,e){return u(t.getSeconds(),e,2)}function U(t){var e=t.getDay();return 0===e?7:e}function q(t,i){return u(e.timeSunday.count(e.timeYear(t)-1,t),i,2)}function W(t){var i=t.getDay();return i>=4||0===i?e.timeThursday(t):e.timeThursday.ceil(t)}function V(t,i){return t=W(t),u(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),i,2)}function G(t){return t.getDay()}function K(t,i){return u(e.timeMonday.count(e.timeYear(t)-1,t),i,2)}function J(t,e){return u(t.getFullYear()%100,e,2)}function X(t,e){return u((t=W(t)).getFullYear()%100,e,2)}function Z(t,e){return u(t.getFullYear()%1e4,e,4)}function Q(t,i){var n=t.getDay();return u((t=n>=4||0===n?e.timeThursday(t):e.timeThursday.ceil(t)).getFullYear()%1e4,i,4)}function tt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+u(e/60|0,"0",2)+u(e%60,"0",2)}function et(t,e){return u(t.getUTCDate(),e,2)}function it(t,e){return u(t.getUTCHours(),e,2)}function nt(t,e){return u(t.getUTCHours()%12||12,e,2)}function at(t,i){return u(1+e.utcDay.count(e.utcYear(t),t),i,3)}function st(t,e){return u(t.getUTCMilliseconds(),e,3)}function ot(t,e){return st(t,e)+"000"}function rt(t,e){return u(t.getUTCMonth()+1,e,2)}function lt(t,e){return u(t.getUTCMinutes(),e,2)}function ct(t,e){return u(t.getUTCSeconds(),e,2)}function dt(t){var e=t.getUTCDay();return 0===e?7:e}function ut(t,i){return u(e.utcSunday.count(e.utcYear(t)-1,t),i,2)}function pt(t){var i=t.getUTCDay();return i>=4||0===i?e.utcThursday(t):e.utcThursday.ceil(t)}function ht(t,i){return t=pt(t),u(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),i,2)}function _t(t){return t.getUTCDay()}function mt(t,i){return u(e.utcMonday.count(e.utcYear(t)-1,t),i,2)}function gt(t,e){return u(t.getUTCFullYear()%100,e,2)}function ft(t,e){return u((t=pt(t)).getUTCFullYear()%100,e,2)}function yt(t,e){return u(t.getUTCFullYear()%1e4,e,4)}function vt(t,i){var n=t.getUTCDay();return u((t=n>=4||0===n?e.utcThursday(t):e.utcThursday.ceil(t)).getUTCFullYear()%1e4,i,4)}function bt(){return"+0000"}function kt(){return"%"}function wt(t){return+t}function xt(t){return Math.floor(+t/1e3)}function Mt(e){return o=s(e),t.timeFormat=o.format,t.timeParse=o.parse,t.utcFormat=o.utcFormat,t.utcParse=o.utcParse,o}Mt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Tt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");var St=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.isoFormat=Tt,t.isoParse=St,t.timeFormatDefaultLocale=Mt,t.timeFormatLocale=s,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(n,a){"object"==typeof e&&void 0!==t?a(e,i(1058)):"function"==typeof define&&define.amd?define(["exports","d3-path"],a):a((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){"use strict";function i(t){return function(){return t}}var n=Math.abs,a=Math.atan2,s=Math.cos,o=Math.max,r=Math.min,l=Math.sin,c=Math.sqrt,d=Math.PI,u=d/2,p=2*d;function h(t){return t>1?0:t<-1?d:Math.acos(t)}function _(t){return t>=1?u:t<=-1?-u:Math.asin(t)}function m(t){return t.innerRadius}function g(t){return t.outerRadius}function f(t){return t.startAngle}function y(t){return t.endAngle}function v(t){return t&&t.padAngle}function b(t,e,i,n,a,s,o,r){var l=i-t,c=n-e,d=o-a,u=r-s,p=u*l-d*c;if(!(p*p<1e-12))return[t+(p=(d*(e-s)-u*(t-a))/p)*l,e+p*c]}function k(t,e,i,n,a,s,r){var l=t-i,d=e-n,u=(r?s:-s)/c(l*l+d*d),p=u*d,h=-u*l,_=t+p,m=e+h,g=i+p,f=n+h,y=(_+g)/2,v=(m+f)/2,b=g-_,k=f-m,w=b*b+k*k,x=a-s,M=_*f-g*m,T=(k<0?-1:1)*c(o(0,x*x*w-M*M)),S=(M*k-b*T)/w,$=(-M*b-k*T)/w,L=(M*k+b*T)/w,P=(-M*b+k*T)/w,C=S-y,D=$-v,E=L-y,A=P-v;return C*C+D*D>E*E+A*A&&(S=L,$=P),{cx:S,cy:$,x01:-p,y01:-h,x11:S*(a/x-1),y11:$*(a/x-1)}}function w(t){this._context=t}function x(t){return new w(t)}function M(t){return t[0]}function T(t){return t[1]}function S(){var t=M,n=T,a=i(!0),s=null,o=x,r=null;function l(i){var l,c,d,u=i.length,p=!1;for(null==s&&(r=o(d=e.path())),l=0;l<=u;++l)!(l<u&&a(c=i[l],l,i))===p&&((p=!p)?r.lineStart():r.lineEnd()),p&&r.point(+t(c,l,i),+n(c,l,i));if(d)return r=null,d+""||null}return l.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),l):n},l.defined=function(t){return arguments.length?(a="function"==typeof t?t:i(!!t),l):a},l.curve=function(t){return arguments.length?(o=t,null!=s&&(r=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=r=null:r=o(s=t),l):s},l}function $(){var t=M,n=null,a=i(0),s=T,o=i(!0),r=null,l=x,c=null;function d(i){var d,u,p,h,_,m=i.length,g=!1,f=new Array(m),y=new Array(m);for(null==r&&(c=l(_=e.path())),d=0;d<=m;++d){if(!(d<m&&o(h=i[d],d,i))===g)if(g=!g)u=d,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=d-1;p>=u;--p)c.point(f[p],y[p]);c.lineEnd(),c.areaEnd()}g&&(f[d]=+t(h,d,i),y[d]=+a(h,d,i),c.point(n?+n(h,d,i):f[d],s?+s(h,d,i):y[d]))}if(_)return c=null,_+""||null}function u(){return S().defined(o).curve(l).context(r)}return d.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),n=null,d):t},d.x0=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),d):t},d.x1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:i(+t),d):n},d.y=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),s=null,d):a},d.y0=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),d):a},d.y1=function(t){return arguments.length?(s=null==t?null:"function"==typeof t?t:i(+t),d):s},d.lineX0=d.lineY0=function(){return u().x(t).y(a)},d.lineY1=function(){return u().x(t).y(s)},d.lineX1=function(){return u().x(n).y(a)},d.defined=function(t){return arguments.length?(o="function"==typeof t?t:i(!!t),d):o},d.curve=function(t){return arguments.length?(l=t,null!=r&&(c=l(r)),d):l},d.context=function(t){return arguments.length?(null==t?r=c=null:c=l(r=t),d):r},d}function L(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function P(t){return t}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var C=E(x);function D(t){this._curve=t}function E(t){function e(e){return new D(t(e))}return e._curve=t,e}function A(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(E(t)):e()._curve},t}function Y(){return A(S().curve(C))}function I(){var t=$().curve(C),e=t.curve,i=t.lineX0,n=t.lineX1,a=t.lineY0,s=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return A(i())},delete t.lineX0,t.lineEndAngle=function(){return A(n())},delete t.lineX1,t.lineInnerRadius=function(){return A(a())},delete t.lineY0,t.lineOuterRadius=function(){return A(s())},delete t.lineY1,t.curve=function(t){return arguments.length?e(E(t)):e()._curve},t}function O(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}D.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var j=Array.prototype.slice;function R(t){return t.source}function N(t){return t.target}function z(t){var n=R,a=N,s=M,o=T,r=null;function l(){var i,l=j.call(arguments),c=n.apply(this,l),d=a.apply(this,l);if(r||(r=i=e.path()),t(r,+s.apply(this,(l[0]=c,l)),+o.apply(this,l),+s.apply(this,(l[0]=d,l)),+o.apply(this,l)),i)return r=null,i+""||null}return l.source=function(t){return arguments.length?(n=t,l):n},l.target=function(t){return arguments.length?(a=t,l):a},l.x=function(t){return arguments.length?(s="function"==typeof t?t:i(+t),l):s},l.y=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),l):o},l.context=function(t){return arguments.length?(r=null==t?null:t,l):r},l}function H(t,e,i,n,a){t.moveTo(e,i),t.bezierCurveTo(e=(e+n)/2,i,e,a,n,a)}function F(t,e,i,n,a){t.moveTo(e,i),t.bezierCurveTo(e,i=(i+a)/2,n,i,n,a)}function B(t,e,i,n,a){var s=O(e,i),o=O(e,i=(i+a)/2),r=O(n,i),l=O(n,a);t.moveTo(s[0],s[1]),t.bezierCurveTo(o[0],o[1],r[0],r[1],l[0],l[1])}var U={draw:function(t,e){var i=Math.sqrt(e/d);t.moveTo(i,0),t.arc(0,0,i,0,p)}},q={draw:function(t,e){var i=Math.sqrt(e/5)/2;t.moveTo(-3*i,-i),t.lineTo(-i,-i),t.lineTo(-i,-3*i),t.lineTo(i,-3*i),t.lineTo(i,-i),t.lineTo(3*i,-i),t.lineTo(3*i,i),t.lineTo(i,i),t.lineTo(i,3*i),t.lineTo(-i,3*i),t.lineTo(-i,i),t.lineTo(-3*i,i),t.closePath()}},W=Math.sqrt(1/3),V=2*W,G={draw:function(t,e){var i=Math.sqrt(e/V),n=i*W;t.moveTo(0,-i),t.lineTo(n,0),t.lineTo(0,i),t.lineTo(-n,0),t.closePath()}},K=Math.sin(d/10)/Math.sin(7*d/10),J=Math.sin(p/10)*K,X=-Math.cos(p/10)*K,Z={draw:function(t,e){var i=Math.sqrt(.8908130915292852*e),n=J*i,a=X*i;t.moveTo(0,-i),t.lineTo(n,a);for(var s=1;s<5;++s){var o=p*s/5,r=Math.cos(o),l=Math.sin(o);t.lineTo(l*i,-r*i),t.lineTo(r*n-l*a,l*n+r*a)}t.closePath()}},Q={draw:function(t,e){var i=Math.sqrt(e),n=-i/2;t.rect(n,n,i,i)}},tt=Math.sqrt(3),et={draw:function(t,e){var i=-Math.sqrt(e/(3*tt));t.moveTo(0,2*i),t.lineTo(-tt*i,-i),t.lineTo(tt*i,-i),t.closePath()}},it=-.5,nt=Math.sqrt(3)/2,at=1/Math.sqrt(12),st=3*(at/2+1),ot={draw:function(t,e){var i=Math.sqrt(e/st),n=i/2,a=i*at,s=n,o=i*at+i,r=-s,l=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(r,l),t.lineTo(it*n-nt*a,nt*n+it*a),t.lineTo(it*s-nt*o,nt*s+it*o),t.lineTo(it*r-nt*l,nt*r+it*l),t.lineTo(it*n+nt*a,it*a-nt*n),t.lineTo(it*s+nt*o,it*o-nt*s),t.lineTo(it*r+nt*l,it*l-nt*r),t.closePath()}},rt=[U,q,G,Q,Z,et,ot];function lt(){}function ct(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function dt(t){this._context=t}function ut(t){this._context=t}function pt(t){this._context=t}function ht(t,e){this._basis=new dt(t),this._beta=e}dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ct(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ut.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ht.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var n,a=t[0],s=e[0],o=t[i]-a,r=e[i]-s,l=-1;++l<=i;)n=l/i,this._basis.point(this._beta*t[l]+(1-this._beta)*(a+n*o),this._beta*e[l]+(1-this._beta)*(s+n*r));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _t=function t(e){function i(t){return 1===e?new dt(t):new ht(t,e)}return i.beta=function(e){return t(+e)},i}(.85);function mt(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function gt(t,e){this._context=t,this._k=(1-e)/6}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:mt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ft=function t(e){function i(t){return new gt(t,e)}return i.tension=function(e){return t(+e)},i}(0);function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vt=function t(e){function i(t){return new yt(t,e)}return i.tension=function(e){return t(+e)},i}(0);function bt(t,e){this._context=t,this._k=(1-e)/6}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function t(e){function i(t){return new bt(t,e)}return i.tension=function(e){return t(+e)},i}(0);function wt(t,e,i){var n=t._x1,a=t._y1,s=t._x2,o=t._y2;if(t._l01_a>1e-12){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,a=(a*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,d=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/d,o=(o*c+t._y1*t._l23_2a-i*t._l12_2a)/d}t._context.bezierCurveTo(n,a,s,o,t._x2,t._y2)}function xt(t,e){this._context=t,this._alpha=e}xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mt=function t(e){function i(t){return e?new xt(t,e):new gt(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Tt(t,e){this._context=t,this._alpha=e}Tt.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var St=function t(e){function i(t){return e?new Tt(t,e):new yt(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function $t(t,e){this._context=t,this._alpha=e}$t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lt=function t(e){function i(t){return e?new $t(t,e):new bt(t,0)}return i.alpha=function(e){return t(+e)},i}(.5);function Pt(t){this._context=t}function Ct(t){return t<0?-1:1}function Dt(t,e,i){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(i-t._y1)/(a||n<0&&-0),r=(s*a+o*n)/(n+a);return(Ct(s)+Ct(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(r))||0}function Et(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function At(t,e,i){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,r=(s-n)/3;t._context.bezierCurveTo(n+r,a+r*e,s-r,o-r*i,s,o)}function Yt(t){this._context=t}function It(t){this._context=new Ot(t)}function Ot(t){this._context=t}function jt(t){this._context=t}function Rt(t){var e,i,n=t.length-1,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=a[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(a[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function Nt(t,e){this._context=t,this._t=e}function zt(t,e){if((a=t.length)>1)for(var i,n,a,s=1,o=t[e[0]],r=o.length;s<a;++s)for(n=o,o=t[e[s]],i=0;i<r;++i)o[i][1]+=o[i][0]=isNaN(n[i][1])?n[i][0]:n[i][1]}function Ht(t){for(var e=t.length,i=new Array(e);--e>=0;)i[e]=e;return i}function Ft(t,e){return t[e]}function Bt(t){var e=t.map(Ut);return Ht(t).sort((function(t,i){return e[t]-e[i]}))}function Ut(t){for(var e,i=-1,n=0,a=t.length,s=-1/0;++i<a;)(e=+t[i][1])>s&&(s=e,n=i);return n}function qt(t){var e=t.map(Wt);return Ht(t).sort((function(t,i){return e[t]-e[i]}))}function Wt(t){for(var e,i=0,n=-1,a=t.length;++n<a;)(e=+t[n][1])&&(i+=e);return i}Pt.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:At(this,this._t0,Et(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,At(this,Et(this,i=Dt(this,t,e)),i);break;default:At(this,this._t0,i=Dt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}},(It.prototype=Object.create(Yt.prototype)).point=function(t,e){Yt.prototype.point.call(this,e,t)},Ot.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,n,a,s){this._context.bezierCurveTo(e,t,n,i,s,a)}},jt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===i)this._context.lineTo(t[1],e[1]);else for(var n=Rt(t),a=Rt(e),s=0,o=1;o<i;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}}this._x=t,this._y=e}},t.arc=function(){var t=m,o=g,w=i(0),x=null,M=f,T=y,S=v,$=null;function L(){var i,m,g=+t.apply(this,arguments),f=+o.apply(this,arguments),y=M.apply(this,arguments)-u,v=T.apply(this,arguments)-u,L=n(v-y),P=v>y;if($||($=i=e.path()),f<g&&(m=f,f=g,g=m),f>1e-12)if(L>p-1e-12)$.moveTo(f*s(y),f*l(y)),$.arc(0,0,f,y,v,!P),g>1e-12&&($.moveTo(g*s(v),g*l(v)),$.arc(0,0,g,v,y,P));else{var C,D,E=y,A=v,Y=y,I=v,O=L,j=L,R=S.apply(this,arguments)/2,N=R>1e-12&&(x?+x.apply(this,arguments):c(g*g+f*f)),z=r(n(f-g)/2,+w.apply(this,arguments)),H=z,F=z;if(N>1e-12){var B=_(N/g*l(R)),U=_(N/f*l(R));(O-=2*B)>1e-12?(Y+=B*=P?1:-1,I-=B):(O=0,Y=I=(y+v)/2),(j-=2*U)>1e-12?(E+=U*=P?1:-1,A-=U):(j=0,E=A=(y+v)/2)}var q=f*s(E),W=f*l(E),V=g*s(I),G=g*l(I);if(z>1e-12){var K,J=f*s(A),X=f*l(A),Z=g*s(Y),Q=g*l(Y);if(L<d&&(K=b(q,W,Z,Q,J,X,V,G))){var tt=q-K[0],et=W-K[1],it=J-K[0],nt=X-K[1],at=1/l(h((tt*it+et*nt)/(c(tt*tt+et*et)*c(it*it+nt*nt)))/2),st=c(K[0]*K[0]+K[1]*K[1]);H=r(z,(g-st)/(at-1)),F=r(z,(f-st)/(at+1))}}j>1e-12?F>1e-12?(C=k(Z,Q,q,W,f,F,P),D=k(J,X,V,G,f,F,P),$.moveTo(C.cx+C.x01,C.cy+C.y01),F<z?$.arc(C.cx,C.cy,F,a(C.y01,C.x01),a(D.y01,D.x01),!P):($.arc(C.cx,C.cy,F,a(C.y01,C.x01),a(C.y11,C.x11),!P),$.arc(0,0,f,a(C.cy+C.y11,C.cx+C.x11),a(D.cy+D.y11,D.cx+D.x11),!P),$.arc(D.cx,D.cy,F,a(D.y11,D.x11),a(D.y01,D.x01),!P))):($.moveTo(q,W),$.arc(0,0,f,E,A,!P)):$.moveTo(q,W),g>1e-12&&O>1e-12?H>1e-12?(C=k(V,G,J,X,g,-H,P),D=k(q,W,Z,Q,g,-H,P),$.lineTo(C.cx+C.x01,C.cy+C.y01),H<z?$.arc(C.cx,C.cy,H,a(C.y01,C.x01),a(D.y01,D.x01),!P):($.arc(C.cx,C.cy,H,a(C.y01,C.x01),a(C.y11,C.x11),!P),$.arc(0,0,g,a(C.cy+C.y11,C.cx+C.x11),a(D.cy+D.y11,D.cx+D.x11),P),$.arc(D.cx,D.cy,H,a(D.y11,D.x11),a(D.y01,D.x01),!P))):$.arc(0,0,g,I,Y,P):$.lineTo(V,G)}else $.moveTo(0,0);if($.closePath(),i)return $=null,i+""||null}return L.centroid=function(){var e=(+t.apply(this,arguments)+ +o.apply(this,arguments))/2,i=(+M.apply(this,arguments)+ +T.apply(this,arguments))/2-d/2;return[s(i)*e,l(i)*e]},L.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),L):t},L.outerRadius=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),L):o},L.cornerRadius=function(t){return arguments.length?(w="function"==typeof t?t:i(+t),L):w},L.padRadius=function(t){return arguments.length?(x=null==t?null:"function"==typeof t?t:i(+t),L):x},L.startAngle=function(t){return arguments.length?(M="function"==typeof t?t:i(+t),L):M},L.endAngle=function(t){return arguments.length?(T="function"==typeof t?t:i(+t),L):T},L.padAngle=function(t){return arguments.length?(S="function"==typeof t?t:i(+t),L):S},L.context=function(t){return arguments.length?($=null==t?null:t,L):$},L},t.area=$,t.areaRadial=I,t.curveBasis=function(t){return new dt(t)},t.curveBasisClosed=function(t){return new ut(t)},t.curveBasisOpen=function(t){return new pt(t)},t.curveBundle=_t,t.curveCardinal=ft,t.curveCardinalClosed=vt,t.curveCardinalOpen=kt,t.curveCatmullRom=Mt,t.curveCatmullRomClosed=St,t.curveCatmullRomOpen=Lt,t.curveLinear=x,t.curveLinearClosed=function(t){return new Pt(t)},t.curveMonotoneX=function(t){return new Yt(t)},t.curveMonotoneY=function(t){return new It(t)},t.curveNatural=function(t){return new jt(t)},t.curveStep=function(t){return new Nt(t,.5)},t.curveStepAfter=function(t){return new Nt(t,1)},t.curveStepBefore=function(t){return new Nt(t,0)},t.line=S,t.lineRadial=Y,t.linkHorizontal=function(){return z(H)},t.linkRadial=function(){var t=z(B);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return z(F)},t.pie=function(){var t=P,e=L,n=null,a=i(0),s=i(p),o=i(0);function r(i){var r,l,c,d,u,h=i.length,_=0,m=new Array(h),g=new Array(h),f=+a.apply(this,arguments),y=Math.min(p,Math.max(-p,s.apply(this,arguments)-f)),v=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=v*(y<0?-1:1);for(r=0;r<h;++r)(u=g[m[r]=r]=+t(i[r],r,i))>0&&(_+=u);for(null!=e?m.sort((function(t,i){return e(g[t],g[i])})):null!=n&&m.sort((function(t,e){return n(i[t],i[e])})),r=0,c=_?(y-h*b)/_:0;r<h;++r,f=d)l=m[r],d=f+((u=g[l])>0?u*c:0)+b,g[l]={data:i[l],index:r,value:u,startAngle:f,endAngle:d,padAngle:v};return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),r):t},r.sortValues=function(t){return arguments.length?(e=t,n=null,r):e},r.sort=function(t){return arguments.length?(n=t,e=null,r):n},r.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),r):a},r.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:i(+t),r):s},r.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),r):o},r},t.pointRadial=O,t.radialArea=I,t.radialLine=Y,t.stack=function(){var t=i([]),e=Ht,n=zt,a=Ft;function s(i){var s,o,r=t.apply(this,arguments),l=i.length,c=r.length,d=new Array(c);for(s=0;s<c;++s){for(var u,p=r[s],h=d[s]=new Array(l),_=0;_<l;++_)h[_]=u=[0,+a(i[_],p,_,i)],u.data=i[_];h.key=p}for(s=0,o=e(d);s<c;++s)d[o[s]].index=s;return n(d,o),d}return s.keys=function(e){return arguments.length?(t="function"==typeof e?e:i(j.call(e)),s):t},s.value=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),s):a},s.order=function(t){return arguments.length?(e=null==t?Ht:"function"==typeof t?t:i(j.call(t)),s):e},s.offset=function(t){return arguments.length?(n=null==t?zt:t,s):n},s},t.stackOffsetDiverging=function(t,e){if((r=t.length)>0)for(var i,n,a,s,o,r,l=0,c=t[e[0]].length;l<c;++l)for(s=o=0,i=0;i<r;++i)(a=(n=t[e[i]][l])[1]-n[0])>0?(n[0]=s,n[1]=s+=a):a<0?(n[1]=o,n[0]=o+=a):(n[0]=0,n[1]=a)},t.stackOffsetExpand=function(t,e){if((n=t.length)>0){for(var i,n,a,s=0,o=t[0].length;s<o;++s){for(a=i=0;i<n;++i)a+=t[i][s][1]||0;if(a)for(i=0;i<n;++i)t[i][s][1]/=a}zt(t,e)}},t.stackOffsetNone=zt,t.stackOffsetSilhouette=function(t,e){if((i=t.length)>0){for(var i,n=0,a=t[e[0]],s=a.length;n<s;++n){for(var o=0,r=0;o<i;++o)r+=t[o][n][1]||0;a[n][1]+=a[n][0]=-r/2}zt(t,e)}},t.stackOffsetWiggle=function(t,e){if((a=t.length)>0&&(n=(i=t[e[0]]).length)>0){for(var i,n,a,s=0,o=1;o<n;++o){for(var r=0,l=0,c=0;r<a;++r){for(var d=t[e[r]],u=d[o][1]||0,p=(u-(d[o-1][1]||0))/2,h=0;h<r;++h){var _=t[e[h]];p+=(_[o][1]||0)-(_[o-1][1]||0)}l+=u,c+=p*u}i[o-1][1]+=i[o-1][0]=s,l&&(s-=c/l)}i[o-1][1]+=i[o-1][0]=s,zt(t,e)}},t.stackOrderAppearance=Bt,t.stackOrderAscending=qt,t.stackOrderDescending=function(t){return qt(t).reverse()},t.stackOrderInsideOut=function(t){var e,i,n=t.length,a=t.map(Wt),s=Bt(t),o=0,r=0,l=[],c=[];for(e=0;e<n;++e)i=s[e],o<r?(o+=a[i],l.push(i)):(r+=a[i],c.push(i));return c.reverse().concat(l)},t.stackOrderNone=Ht,t.stackOrderReverse=function(t){return Ht(t).reverse()},t.symbol=function(){var t=i(U),n=i(64),a=null;function s(){var i;if(a||(a=i=e.path()),t.apply(this,arguments).draw(a,+n.apply(this,arguments)),i)return a=null,i+""||null}return s.type=function(e){return arguments.length?(t="function"==typeof e?e:i(e),s):t},s.size=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),s):n},s.context=function(t){return arguments.length?(a=null==t?null:t,s):a},s},t.symbolCircle=U,t.symbolCross=q,t.symbolDiamond=G,t.symbolSquare=Q,t.symbolStar=Z,t.symbolTriangle=et,t.symbolWye=ot,t.symbols=rt,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((i=i||self).d3=i.d3||{})}(this,(function(t){"use strict";var e=Math.PI,i=2*e,n=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,i,n){this._+="Q"+ +t+","+ +e+","+(this._x1=+i)+","+(this._y1=+n)},bezierCurveTo:function(t,e,i,n,a,s){this._+="C"+ +t+","+ +e+","+ +i+","+ +n+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(t,i,n,a,s){t=+t,i=+i,n=+n,a=+a,s=+s;var o=this._x1,r=this._y1,l=n-t,c=a-i,d=o-t,u=r-i,p=d*d+u*u;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=i);else if(p>1e-6)if(Math.abs(u*l-c*d)>1e-6&&s){var h=n-o,_=a-r,m=l*l+c*c,g=h*h+_*_,f=Math.sqrt(m),y=Math.sqrt(p),v=s*Math.tan((e-Math.acos((m+p-g)/(2*f*y)))/2),b=v/y,k=v/f;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*d)+","+(i+b*u)),this._+="A"+s+","+s+",0,0,"+ +(u*h>d*_)+","+(this._x1=t+k*l)+","+(this._y1=i+k*c)}else this._+="L"+(this._x1=t)+","+(this._y1=i);else;},arc:function(t,a,s,o,r,l){t=+t,a=+a,l=!!l;var c=(s=+s)*Math.cos(o),d=s*Math.sin(o),u=t+c,p=a+d,h=1^l,_=l?o-r:r-o;if(s<0)throw new Error("negative radius: "+s);null===this._x1?this._+="M"+u+","+p:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-p)>1e-6)&&(this._+="L"+u+","+p),s&&(_<0&&(_=_%i+i),_>n?this._+="A"+s+","+s+",0,1,"+h+","+(t-c)+","+(a-d)+"A"+s+","+s+",0,1,"+h+","+(this._x1=u)+","+(this._y1=p):_>1e-6&&(this._+="A"+s+","+s+",0,"+ +(_>=e)+","+h+","+(this._x1=t+s*Math.cos(r))+","+(this._y1=a+s*Math.sin(r))))},rect:function(t,e,i,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +i+"v"+ +n+"h"+-i+"Z"},toString:function(){return this._}},t.path=s,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){!function(i,n){"object"==typeof e&&void 0!==t?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n((i=i||self).d3=i.d3||{})}(this,(function(t){"use strict";var e="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t}function a(t){return function(){var i=this.ownerDocument,n=this.namespaceURI;return n===e&&i.documentElement.namespaceURI===e?i.createElement(t):i.createElementNS(n,t)}}function s(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(t){var e=n(t);return(e.local?s:a)(e)}function r(){}function l(t){return null==t?r:function(){return this.querySelector(t)}}function c(){return[]}function d(t){return null==t?c:function(){return this.querySelectorAll(t)}}function u(t){return function(){return this.matches(t)}}function p(t){return new Array(t.length)}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _(t,e,i,n,a,s){for(var o,r=0,l=e.length,c=s.length;r<c;++r)(o=e[r])?(o.__data__=s[r],n[r]=o):i[r]=new h(t,s[r]);for(;r<l;++r)(o=e[r])&&(a[r]=o)}function m(t,e,i,n,a,s,o){var r,l,c,d={},u=e.length,p=s.length,_=new Array(u);for(r=0;r<u;++r)(l=e[r])&&(_[r]=c="$"+o.call(l,l.__data__,r,e),c in d?a[r]=l:d[c]=l);for(r=0;r<p;++r)(l=d[c="$"+o.call(t,s[r],r,s)])?(n[r]=l,l.__data__=s[r],d[c]=null):i[r]=new h(t,s[r]);for(r=0;r<u;++r)(l=e[r])&&d[_[r]]===l&&(a[r]=l)}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function f(t){return function(){this.removeAttribute(t)}}function y(t){return function(){this.removeAttributeNS(t.space,t.local)}}function v(t,e){return function(){this.setAttribute(t,e)}}function b(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function k(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}}function w(t,e){return function(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function x(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function M(t){return function(){this.style.removeProperty(t)}}function T(t,e,i){return function(){this.style.setProperty(t,e,i)}}function S(t,e,i){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}}function $(t,e){return t.style.getPropertyValue(e)||x(t).getComputedStyle(t,null).getPropertyValue(e)}function L(t){return function(){delete this[t]}}function P(t,e){return function(){this[t]=e}}function C(t,e){return function(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}}function D(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new A(t)}function A(t){this._node=t,this._names=D(t.getAttribute("class")||"")}function Y(t,e){for(var i=E(t),n=-1,a=e.length;++n<a;)i.add(e[n])}function I(t,e){for(var i=E(t),n=-1,a=e.length;++n<a;)i.remove(e[n])}function O(t){return function(){Y(this,t)}}function j(t){return function(){I(this,t)}}function R(t,e){return function(){(e.apply(this,arguments)?Y:I)(this,t)}}function N(){this.textContent=""}function z(t){return function(){this.textContent=t}}function H(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function F(){this.innerHTML=""}function B(t){return function(){this.innerHTML=t}}function U(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function q(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V(){return null}function G(){var t=this.parentNode;t&&t.removeChild(this)}function K(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function J(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}A.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var X={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(X={mouseenter:"mouseover",mouseleave:"mouseout"}));function Z(t,e,i){return t=Q(t,e,i),function(e){var i=e.relatedTarget;i&&(i===this||8&i.compareDocumentPosition(this))||t.call(this,e)}}function Q(e,i,n){return function(a){var s=t.event;t.event=a;try{e.call(this,this.__data__,i,n)}finally{t.event=s}}}function tt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",i=t.indexOf(".");return i>=0&&(e=t.slice(i+1),t=t.slice(0,i)),{type:t,name:e}}))}function et(t){return function(){var e=this.__on;if(e){for(var i,n=0,a=-1,s=e.length;n<s;++n)i=e[n],t.type&&i.type!==t.type||i.name!==t.name?e[++a]=i:this.removeEventListener(i.type,i.listener,i.capture);++a?e.length=a:delete this.__on}}}function it(t,e,i){var n=X.hasOwnProperty(t.type)?Z:Q;return function(a,s,o){var r,l=this.__on,c=n(e,s,o);if(l)for(var d=0,u=l.length;d<u;++d)if((r=l[d]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=c,r.capture=i),void(r.value=e);this.addEventListener(t.type,c,i),r={type:t.type,name:t.name,value:e,listener:c,capture:i},l?l.push(r):this.__on=[r]}}function nt(t,e,i){var n=x(t),a=n.CustomEvent;"function"==typeof a?a=new a(e,i):(a=n.document.createEvent("Event"),i?(a.initEvent(e,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function at(t,e){return function(){return nt(this,t,e)}}function st(t,e){return function(){return nt(this,t,e.apply(this,arguments))}}var ot=[null];function rt(t,e){this._groups=t,this._parents=e}function lt(){return new rt([[document.documentElement]],ot)}function ct(t){return"string"==typeof t?new rt([[document.querySelector(t)]],[document.documentElement]):new rt([[t]],ot)}rt.prototype=lt.prototype={constructor:rt,select:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,i=e.length,n=new Array(i),a=0;a<i;++a)for(var s,o,r=e[a],c=r.length,d=n[a]=new Array(c),u=0;u<c;++u)(s=r[u])&&(o=t.call(s,s.__data__,u,r))&&("__data__"in s&&(o.__data__=s.__data__),d[u]=o);return new rt(n,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,i=e.length,n=[],a=[],s=0;s<i;++s)for(var o,r=e[s],l=r.length,c=0;c<l;++c)(o=r[c])&&(n.push(t.call(o,o.__data__,c,r)),a.push(o));return new rt(n,a)},filter:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,i=e.length,n=new Array(i),a=0;a<i;++a)for(var s,o=e[a],r=o.length,l=n[a]=[],c=0;c<r;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new rt(n,this._parents)},data:function(t,e){if(!t)return g=new Array(this.size()),d=-1,this.each((function(t){g[++d]=t})),g;var i,n=e?m:_,a=this._parents,s=this._groups;"function"!=typeof t&&(i=t,t=function(){return i});for(var o=s.length,r=new Array(o),l=new Array(o),c=new Array(o),d=0;d<o;++d){var u=a[d],p=s[d],h=p.length,g=t.call(u,u&&u.__data__,d,a),f=g.length,y=l[d]=new Array(f),v=r[d]=new Array(f);n(u,p,y,v,c[d]=new Array(h),g,e);for(var b,k,w=0,x=0;w<f;++w)if(b=y[w]){for(w>=x&&(x=w+1);!(k=v[x])&&++x<f;);b._next=k||null}}return(r=new rt(r,a))._enter=l,r._exit=c,r},enter:function(){return new rt(this._enter||this._groups.map(p),this._parents)},exit:function(){return new rt(this._exit||this._groups.map(p),this._parents)},join:function(t,e,i){var n=this.enter(),a=this,s=this.exit();return n="function"==typeof t?t(n):n.append(t+""),null!=e&&(a=e(a)),null==i?s.remove():i(s),n&&a?n.merge(a).order():a},merge:function(t){for(var e=this._groups,i=t._groups,n=e.length,a=i.length,s=Math.min(n,a),o=new Array(n),r=0;r<s;++r)for(var l,c=e[r],d=i[r],u=c.length,p=o[r]=new Array(u),h=0;h<u;++h)(l=c[h]||d[h])&&(p[h]=l);for(;r<n;++r)o[r]=e[r];return new rt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var n,a=t[e],s=a.length-1,o=a[s];--s>=0;)(n=a[s])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(t){function e(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}t||(t=g);for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s){for(var o,r=i[s],l=r.length,c=a[s]=new Array(l),d=0;d<l;++d)(o=r[d])&&(c[d]=o);c.sort(e)}return new rt(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var n=t[e],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,i=0,n=e.length;i<n;++i)for(var a,s=e[i],o=0,r=s.length;o<r;++o)(a=s[o])&&t.call(a,a.__data__,o,s);return this},attr:function(t,e){var i=n(t);if(arguments.length<2){var a=this.node();return i.local?a.getAttributeNS(i.space,i.local):a.getAttribute(i)}return this.each((null==e?i.local?y:f:"function"==typeof e?i.local?w:k:i.local?b:v)(i,e))},style:function(t,e,i){return arguments.length>1?this.each((null==e?M:"function"==typeof e?S:T)(t,e,null==i?"":i)):$(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?L:"function"==typeof e?C:P)(t,e)):this.node()[t]},classed:function(t,e){var i=D(t+"");if(arguments.length<2){for(var n=E(this.node()),a=-1,s=i.length;++a<s;)if(!n.contains(i[a]))return!1;return!0}return this.each(("function"==typeof e?R:e?O:j)(i,e))},text:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?H:z)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?F:("function"==typeof t?U:B)(t)):this.node().innerHTML},raise:function(){return this.each(q)},lower:function(){return this.each(W)},append:function(t){var e="function"==typeof t?t:o(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var i="function"==typeof t?t:o(t),n=null==e?V:"function"==typeof e?e:l(e);return this.select((function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(G)},clone:function(t){return this.select(t?J:K)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,i){var n,a,s=tt(t+""),o=s.length;if(!(arguments.length<2)){for(r=e?it:et,null==i&&(i=!1),n=0;n<o;++n)this.each(r(s[n],e,i));return this}var r=this.node().__on;if(r)for(var l,c=0,d=r.length;c<d;++c)for(n=0,l=r[c];n<o;++n)if((a=s[n]).type===l.type&&a.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?st:at)(t,e))}};var dt=0;function ut(){return new pt}function pt(){this._="@"+(++dt).toString(36)}function ht(){for(var e,i=t.event;e=i.sourceEvent;)i=e;return i}function _t(t,e){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}pt.prototype=ut.prototype={constructor:pt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},t.clientPoint=_t,t.create=function(t){return ct(o(t).call(document.documentElement))},t.creator=o,t.customEvent=function(e,i,n,a){var s=t.event;e.sourceEvent=t.event,t.event=e;try{return i.apply(n,a)}finally{t.event=s}},t.local=ut,t.matcher=u,t.mouse=function(t){var e=ht();return e.changedTouches&&(e=e.changedTouches[0]),_t(t,e)},t.namespace=n,t.namespaces=i,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new rt([document.querySelectorAll(t)],[document.documentElement]):new rt([null==t?[]:t],ot)},t.selection=lt,t.selector=l,t.selectorAll=d,t.style=$,t.touch=function(t,e,i){arguments.length<3&&(i=e,e=ht().changedTouches);for(var n,a=0,s=e?e.length:0;a<s;++a)if((n=e[a]).identifier===i)return _t(t,n);return null},t.touches=function(t,e){null==e&&(e=ht().touches);for(var i=0,n=e?e.length:0,a=new Array(n);i<n;++i)a[i]=_t(t,e[i]);return a},t.window=x,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i,n){var a=i(70);t.exports={getCaption:function({data:t,key:e}){var i=t&&t.period;if(!i)return t&&e&&t[e];var n=i.type;if("months"===n&&e)return t[e];var s="months"===n?a(i.start,"%b",null,null,!0).toLowerCase():a(i.start,"%d.%m"),o=a(i.end,"%d.%m");return"weeks"===n?s+(o?" - "+o:""):s}}},function(t,e,i,n){var a={render:i(1062)};t.exports=a},function(t,e,i,n){t.exports=function(t){var e='<div class="page-section deco-pane-secondary"><div class="page-section__header"><div class="page-section__title typo typo-medium"';return t.title&&(e+=' title="'+__escape(t.title)+'"'),e+=">",t.headerContent?e+=t.headerContent:e+=__escape(t.title),e+='</div></div><div class="page-section__body',t.toolbarContent&&(e+=" page-section__body_with-toolbar"),e+='">'+t.bodyContent+"</div>",t.toolbarContent&&(e+='<div class="page-section__toolbar">'+t.toolbarContent+"</div>"),e+="</div>"}},function(t,e,i,n){var a=i(70),s=i(1060);t.exports={graphData:function(t,e){return t.map(t=>{var i=this.getMonthCaption(t,e);return t.fullCaption=i,t.caption=i.toLowerCase().slice(0,3),t})},getMonthCaption:function(t,e){var i=new Date(t.period.end);return e&&i.setDate(i.getDate()-1),a(i.getTime(),"%b")},currentDiff:function(t){return(t.currentCount&&t.currentCount.count||t.currentCount||0)-this.prevMonth(t).count},prevMonth:function(t){const e="months"===t.currentCount.period.type,i=s.getCaption({data:t.currentCount}),n=this.graphData(t.data,e);if(!e){const t=-2;return(n&&n.slice(t))[0]}if(n){const t=n.findIndex(t=>t.fullCaption.toLowerCase()===i);return n.length>0&&n[t-1]}},prevMonthCaption:function(t){var e=this.prevMonth(t),i=e&&s.getCaption({data:e,key:"fullCaption"});return i&&i.toLowerCase()||""}}},function(t,e,i,n){var a;Mu.blocks.register("artist-trends",((a=function(){Mu.eventize(this)}).init=function(t){},a.prototype.init=function(){this.$cont=$(this.container),this.$detail=this.$cont.find(".artist-trends__detail"),this.$toggle=this.$cont.find(".artist-trends__toggle"),this.$toggleIcon=this.$toggle.find(".artist-trends__toggle-icon"),this.$detailChart=this.$cont.find(".artist-trends__detail-chart"),this.detailChart=Mu.blocks.forElem(this.$detailChart[0],"graph"),this.opened=!1,this.type=this.data.type||"listeners",this.$toggle.on("click",this.toggleOpened.bind(this)),this.handleClose=this.close.bind(this)},a.prototype.toggleOpened=function(){this.opened?this.close():this.open()},a.prototype.open=function(){this.detailChart.draw(),this.$cont.addClass("artist-trends_opened deco_shadow-light artist-trends_overlaid"),this.$detail.addClass("deco_shadow-light"),this.$toggleIcon.removeClass("d-icon_rotate-upside-down"),this.opened=!0,$("html, body").animate({scrollTop:this.$cont.offset().top-30},200),this.trigger("open"),$(window).on("resize",this.handleClose),$("body").on("click touchstart",this.handleClose)},a.prototype.close=function(t){this.isClosesClick(t)||(this.$cont.removeClass("artist-trends_opened deco_shadow-light"),this.$detail.removeClass("deco_shadow-light"),this.$toggleIcon.addClass("d-icon_rotate-upside-down"),this.opened=!1,this.detailChart.clear(),setTimeout(function(){this.opened||this.$cont.removeClass("artist-trends_overlaid")}.bind(this),300),this.trigger("close"),$(window).off("resize",this.handleClose),$("body").off("click touchstart",this.handleClose))},a.prototype.isClosesClick=function(t){var e=t&&("click"===t.type||"touchstart"===t.type),i=t&&$(t.target);return t&&e&&i.closest(this.$cont).is(this.$cont)},a))},function(t,e,i,n){var a={render:i(1066)};t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(141),s=i(402),o=i(293),r=i(108),l=i(1067),c=r.theme("black-contrast").classes(!0),d=function(t){var e='<div class="artist-photos__item '+__escape(c);return t.totalCount>=4&&(e+=" artist-photos__item_two-rows"),e+='"><div class="artist-photos__item-inner"><div class="artist-photos__image-wrap',t.text&&(e+=" artist-photos__image-wrap_show-caption"),e+='" data-item-index="'+__escape(t.index)+'"><img src="'+__escape(s(t.uri,400,null,255))+'" srcset="'+__escape(s(t.uri,800,null,510))+' 2x" class="artist-photos__image"/>',t.text?e+='<div class="artist-photos__caption typo">'+__escape(o(t.text,i18n("page-artist","[feature/upgrade-artist-stats]Ещё %s фото|Ещё %s фото|Ещё %s фото")))+"</div>":e+=a.render({icon:"eye",class:"artist-photos__caption artist-photos__caption_hidden"}),e+="</div></div></div>"},function(t){var e="",i=l.photo(t),n=i.length-4;if(i.length>1){e+='<div class="artist-photos"><div class="artist-photos__inner">';for(var a,s=0;s<i.slice(0,4).length;s++){a=i.slice(0,4)[s];var o=Object.assign({},a,{text:n>0&&3==s?n:null,index:s,totalCount:i.length});e+=d(o)}e+="</div></div>"}return e})},function(t,e,i,n){t.exports={photo:function(t){return(t.artist&&t.artist.allCovers||[]).filter((function(t){return"from-artist-photos"===t.type}))}}},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(1061),o=i(1027),function(t){var e="",i=t.artist.description,n=t.artist.handMadeDescription;if(o.hasDescription(t)){var r=function(){var e="";return n?e+='<div class="page-artist__description typo">'+t.artist.handMadeDescription+"</div>":i&&(e+='<div class="page-artist__description typo">'+__escape(o.descriptionWithoutEndingDot(t))+"</div>"),e}(),l=function(){var e="";return i&&(e+=a.render({href:o.searchLink(t),text:i18n("page-artist","[feature/upgrade-artist-stats]Ещё на Яндексе"),target:"_blank",rounded:!0,size:"L",class:"page-artist__lurk-more"})),e}();e+='<div class="page-artist__info-cell">'+s.render({title:i18n("page-artist","Об исполнителе"),bodyContent:r,toolbarContent:l})+"</div>"}return e})},function(t,e,i,n){t.exports=function(){i(143);var t=i(151),e=i(141),n=i(1061),a=i(1027),s=function(t){var i=e.render({icon:t.icon,class:"page-artist__link-icon"})+'<span class="page-artist__link-caption" data-type="'+__escape(t.type)+'">'+__escape(t.title)+"</span>";return t.count&&(i+='<span class="page-artist__link-count typo-secondary">'+a.socialCount(t.count)+"</span>"),i};return function(e){var i="",o=a.links(e),r=a.hasDescription(e);if(o.length){i+='<div class="page-artist__info-cell',r||(i+=" page-artist__info-cell_wide"),i+='">';var l=function(){for(var e,i='<div class="page-artist__links-container page-artist__info-row_wide">',n=0;n<o.length;n++)e=o[n],i+='<div class="page-artist__info-cell',r&&(i+=" page-artist__info-cell_wide"),i+='">'+t.render({content:s(e),href:e.href,noHoverColor:!0,class:"page-artist__link typo deco-pane_show-hover"})+"</div>";return i+="</div>"}();i+=n.render({title:i18n("page-artist","Официальные страницы"),bodyContent:l})+"</div>"}return i}}()},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(1061),s=i(323),o=i(607),r=function(t){return'<div class="page-artist__region"><span class="page-artist__region-caption typo">'+__escape(t.regionName)+'</span><span class="page-artist__region-count typo">'+__escape(s(t.count," "))+"</span></div>"},function(t){var e="",i=o(Date.now(),"%b").toLowerCase();if(t.regionListeners&&t.regionListeners.length){var n=function(){for(var e='<div class="page-artist__region-list page-artist__info-row_wide page-artist__section_regions"><div class="page-artist__info-cell page-artist__info-cell_half-row">',i=0;i<t.regionListeners.slice(0,5).length;i++)n=t.regionListeners.slice(0,5)[i],e+=r(n);e+='</div><div class="page-artist__info-cell page-artist__info-cell_half-row">';for(var n,a=0;a<t.regionListeners.slice(5).length;a++)n=t.regionListeners.slice(5)[a],e+=r(n);return e+="</div></div>"}();e+='<div class="page-artist__info-cell page-artist__info-cell_wide">'+a.render({title:i18n("page-artist","Количество слушателей в регионах за %1",i),bodyContent:n})+"</div>"}return e})},function(t,e,i,n){var a={render:i(1072)};t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d,u;t.exports=(a=i(323),s=i(151),o=i(397),r=i(1061),l=i(1045),c=i(1073),d=i(1060),u=function(t){var e="",i=t.artistListenersDynamics&&t.artistListenersDynamics.length&&c.prevDiff(t.artistListenersDynamics)>=0?"similar-artists-trends__artist-count_more":"similar-artists-trends__artist-count_less",n=function(){var e='<div class="similar-artists-trends__artist deco-pane_show-hover';return t.current&&(e+=" similar-artists-trends__artist_current"),e+='">',t.current&&(e+='<div class="similar-artists-trends__artist-mark"></div>'),e+=o.render({artist:t,class:"similar-artists-trends__artist-img"})+'<div class="similar-artists-trends__artist-name typo">'+__escape(t.name)+"</div>",t.artistListenersDynamics&&t.artistListenersDynamics.length&&(e+=l.render({data:c.getGraphData(t),type:"line",useTheme:!0,class:"similar-artists-trends__artist-chart "})),e+='<div class="similar-artists-trends__artist-count '+__escape(i)+'">',t.artistListenersDynamics&&t.artistListenersDynamics.length&&(e+=__escape(a(c.prevMonthCount(t.artistListenersDynamics)," "))),e+="</div></div>"}();return t.current?e+=n:e+=s.render({href:"/artist/"+t.id,content:n,noHoverColor:!0,class:"similar-artists-trends__artist-link"}),e},function(t){var e="",i=d.getCaption({data:t.similarArtistInfos.period}),n=function(){for(var e,i='<div class="similar-artists-trends">',n=0;n<t.similarArtistInfos.data.length;n++)e=t.similarArtistInfos.data[n],i+=u(Object.assign({isFullInfo:t.isFullInfo},e));return i+="</div>"}();return e+=r.render({title:i18n("page-artist","[feature/upgrade-artist-stats]Популярность похожих исполнителей за %1",i),bodyContent:n})})},function(t,e,i,n){t.exports={prevMonthCount:function(t){return t.slice(-1)[0].count},prevDiff:function(t){var e=t.slice(-2,-1)[0];return this.prevMonthCount(t)-e.count},getGraphData:function(t){return t.artistListenersDynamics}}},function(t,e,i,n){var a={render:i(1075)};clientSide&&(a.controller=i(1076)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(1045),s=i(1061),function(t){var e="",i='<div class="audience__header"><div class="audience__subtitle">'+__escape(i18n("page-artist","[feature/artist-stat-fullinfo]Пол и возраст"))+'</div><div class="audience__total"><div class="audience__total-gender audience__total-gender_male">'+__escape(i18n("page-artist","[feature/artist-stat-fullinfo]Мужчины"))+" "+__escape(t.total.male.toFixed(2))+' %</div><div class="audience__total-gender audience__total-gender_female">'+__escape(i18n("page-artist","[feature/artist-stat-fullinfo]Женщины"))+" "+__escape(t.total.female.toFixed(2))+" %</div></div></div>",n=""+a.render({data:t.data,type:"age-gender",padding:{left:33,right:33},margin:{top:40,left:0,right:0,bottom:25},captionKey:"category",class:"audience__chart"});return e+='<div class="audience" data-b="'+__escape(Mu.dotBlockRoot(t,"audience",!0))+'"><h2 class="audience__title deco-title-h2">'+__escape(i18n("page-artist","[feature/half-year]Аудитория за полгода"))+"</h2>"+s.render({headerContent:i,bodyContent:n})+"</div>"})},function(t,e,i,n){var a;Mu.blocks.register("audience",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.$graph=this.$cont.find(".graph"),this.graph=Mu.blocks.forElem(this.$graph[0],"graph"),$(window).on("resize",function(){this.graph.clear(),this.graph.draw()}.bind(this))},a))},function(t,e,i,n){var a={render:i(1078)};t.exports=a},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(151),s=i(599),o=i(1016),r=i(1061),l=i(323),c=i(607),d=i(1079),u=function(t){var e="",i=function(){var e="",i=t.image?300:200;return e+=Mu.render("playlist-cover",t,["",i,!0])}(),n=function(){var e='<div class="promoted-playlists__playlist-entity">'+s.render({entity:i18n("page-playlist","Плейлист")})+"</div>"+a.render({href:d.playlistUrl(t),text:t.title,class:"promoted-playlists__playlist-title typo-h1_big"});return t.description&&(e+='<div class="promoted-playlists__playlist-description typo">'+__escape(t.description)+"</div>"),e+='<div class="promoted-playlists__playlist-info typo">'+a.render({text:t.owner.name,href:"/users/"+t.owner.login,class:"promoted-playlists__playlist-author"})+s.render({title:"female"===t.owner.sex?i18n("page-playlist","обновила плейлист"):i18n("page-playlist","обновил плейлист"),date:t.updated,preposition:!0,class:"promoted-playlists__playlist-date",fontStyle:"typo"})+"</div>"}();return e+=o.render({aside:i,main:n})},p=function(t){var e='<div class="promoted-playlists__track deco-pane_show-hover" title="'+__escape(t.title)+'"><div class="promoted-playlists__track-inner typo"><div class="promoted-playlists__track-title">'+__escape(t.title)+'</div><div class="promoted-playlists__track-added-at promoted-playlists__added-at">';return t.timestamp&&(e+=__escape(c(new Date(t.timestamp),"%D.%m.%Y"))),e+='</div><div class="promoted-playlists__track-streams promoted-playlists__streams">',t.streams&&(e+=__escape(l(t.streams," "))),e+="</div></div></div>"},function(t){var e="",i='<div class="promoted-playlists__header deco-border"><div class="promoted-playlists__title" title="'+__escape(i18n("page-artist","[feature/artist-stat-playlists]Плейлисты с треками исполнителя"))+'">'+__escape(i18n("page-artist","[feature/artist-stat-playlists]Плейлисты с треками исполнителя"))+'</div><div class="promoted-playlists__added-at deco-typo-secondary typo-display_regular" title="'+__escape(i18n("page-artist","[feature/artist-stat-playlists]Дата добавления"))+'">'+__escape(i18n("page-artist","[feature/artist-stat-playlists]Дата добавления"))+'</div><div class="promoted-playlists__streams deco-typo-secondary typo-display_regular" title="'+__escape(i18n("page-artist","[feature/artist-info-switcher]Слушатели"))+'">'+__escape(i18n("page-artist","[feature/artist-info-switcher]Слушатели"))+"</div></div>",n=function(){for(var e,i="",n=0;n<t.length;n++){e=t[n],i+='<div class="promoted-playlists__playlist"><div class="promoted-playlists__playlist-header">'+u(e)+"</div>";for(var s,o=0;o<e.tracks.length;o++)s=e.tracks[o],i+=a.render({href:"/track/"+s.id,content:p(s),noHoverColor:!0});i+="</div>"}return i}();return e+='<div class="promoted-playlists">'+r.render({headerContent:i,bodyContent:n})+"</div>"})},function(t,e,i,n){t.exports={playlistUrl:function(t){var e=t.id&&t.id.split(":");return e&&"/users/"+t.owner.login+"/playlists/"+e[1]}}},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(402);return function(i){var n="";n+='<div class="page-autoplaylist" data-b="'+__escape(Mu.dotBlockRoot(i,"page-autoplaylist",!0))+'"><div class="page-autoplaylist__upper page-autoplaylist__upper-'+__escape(i.urlPart)+'"><div class="page-autoplaylist__upper-wrapper"><div class="page-autoplaylist__upper-wrapper-blur"><div class="page-autoplaylist__upper-blur page-autoplaylist__upper-blur-'+__escape(i.urlPart)+'"></div>';var a=i.autoplaylist&&i.autoplaylist.data.dummyCover;return a&&(n+='<div class="page-autoplaylist__upper-img" style="background-image: url(\''+__escape(e(a.uri,200))+"')\"></div>"),n+='</div><div class="page-autoplaylist__upper-title typo-h1_big deco-typo typo-display_bold">',i.autoplaylist.data.title&&(n+=i.autoplaylist.data.title),n+='</div><div class="page-autoplaylist__upper-text typo-h3_regular">',i.autoplaylist.data.dummyDescription&&(n+=i.autoplaylist.data.dummyDescription),n+="</div>",Mu.authData.user.uid||(n+=""+t.render({size:"XL",type:"action",text:i18n("page-autoplaylist","[feature/peremotka]Войти"),rounded:!0,class:"page-autoplaylist__login-btn"})),n+="</div></div></div>"}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(451),i(652),s=i(315),o=i(73),function(t){var e="",i=o().lang;return e+='<div class="page-cobain',i&&(e+=" page-cobain_"+__escape(i)),e+='" data-b="'+__escape(Mu.dotBlockRoot(t,"page-cobain",!0))+'"><div class="page-cobain__bg">'+function(t){for(var e='<div class="page-cobain__elements">',i=0;i<["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","b","r"].length;i++)e+='<div class="page-cobain__elements-item page-cobain__elements-item_'+__escape(["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","b","r"][i])+'"></div>';return e+="</div>"}()+'</div><div class="page-cobain__header">'+a.render({theme:"white"})+'</div><div class="page-cobain__share">'+s.render({cobain:t,rounded:!0,style:"black",size:"M"})+'</div><div class="page-cobain__overlay page-cobain__overlay_below "><div class="page-cobain__overlay-content"><span>'+__escape(i18n("page-cobain","Поверните экран"))+'</span></div></div><div class="page-cobain__info"><h1 class="page-cobain__title"><div class="page-cobain__title_part-1">'+i18n("page-cobain","Вы нашли старый магнитофон<br /> с кассетой «Нирваны».")+'</div><div class="page-cobain__title_part-2">'+i18n("page-cobain","Перемотайте<br /> на свою любимую песню.")+'</div><div class="page-cobain__title_part-3"</div></h1></div><div class="page-cobain__player"><div class="page-cobain__player-volume-wrap"><div class="page-cobain__player-volume"><div class="page-cobain__player-volume-progress"></div><div class="page-cobain__player-volume-handle"></div></div></div><div class="page-cobain__player-prev"></div><div class="page-cobain__player-play"></div><div class="page-cobain__player-next"></div><div class="page-cobain__player-cover"></div><div class="page-cobain__player-button"></div><div class="page-cobain__player-reel-1"></div><div class="page-cobain__player-reel-2"></div><div class="page-cobain__player-dynamic-1"></div><div class="page-cobain__player-dynamic-2"></div></div><div class="page-cobain__popup"><span class="popup__close"><i class="icon icon_size_L icon_cross_dark"></i></span><div class="page-cobain__popup-content"></div></div></div>'})},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(644),s=i(1083),o=i(1085),r=i(1087),l=i(1089),function(t){var e='<div class="page-entities" data-b='+__escape(Mu.dotBlockRoot(t,"page-entities"))+">"+a.render({title:"Сущности",tabs:{currentId:t.what,items:[{title:"Треки",class:"entities__tab-tracks",href:"/entities/tracks",id:"tracks"},{title:"Альбомы",class:"entities__tab-albums",href:"/entities/albums",id:"albums"},{title:"Плейлисты",class:"entities__tab-playlists",href:"/entities/playlists",id:"playlists"},{title:"Исполнители",class:"entities__tab-artists",href:"/entities/artists",id:"artists"}]}})+'<div class="page-entities__content">';return"tracks"===t.what?e+=s.render(t):"albums"===t.what?e+=o.render(t):"playlists"===t.what?e+=r.render(t):"artists"===t.what&&(e+=l.render(t)),e+="</div></div>"})},function(t,e,i,n){var a={render:i(1084)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(652),function(t){for(var e='<div class="entities__example tracks-example"><div class="tracks-example__title typo-h2_bold">d-track</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showAlbum: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showAlbum:!0,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track inlineMeta: true, showArtist: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,inlineMeta:!0,showArtist:!0,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true, hideArtists: [437407]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,hideArtists:[437407],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showBest: true, showArtist: true, hideArtists: [437407]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],(n=Function.mixin({},l)).best=Math.random()<.5,e+=a.render({listIndex:i,showArtist:!0,hideArtists:[437407],track:n,showBest:!0});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true, actions: ["like", "add", "share", "toggleVisibility", "remove"]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,actions:["like","dislike","toggleVisibility","remove"],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true, actions: ["bigAdd"]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,actions:["bigAdd"],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true, actions: ["bigAdd"], suggestSelectable: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,actions:["bigAdd"],suggestSelectable:!0,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showArtist: true, actions: ["counter"]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,showArtist:!0,actions:["counter"],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showChartPosition: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],(n=Function.mixin({},l)).chartPosition=20,e+=a.render({listIndex:i,showChartPosition:!0,track:n});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track showChartPosition: true, showAlbum: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],(n=Function.mixin({},l)).chartPosition=20,e+=a.render({listIndex:i,showChartPosition:!0,showAlbum:!0,track:n});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: withCover</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"withCover",track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: withCover, actions: ["bigAdd"]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"withCover",actions:["bigAdd"],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: withCover, actions: ["counter"]</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"withCover",actions:["counter"],track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: chart</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++){var n;l=t.tracks[i],(n=Function.mixin({},l)).chart={progress:[null,"up","down","new"][Math.round(3*Math.random())]},e+=a.render({listIndex:i,type:"chart",track:n})}for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: withCover, actions: ["bigAdd"], suggestSelectable: true</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"withCover",actions:["bigAdd"],suggestSelectable:!0,track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: light</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({type:"light",track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: player</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({type:"player",track:l});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track placeholder</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: withCover placeholder</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"withCover"});for(e+='</div><div class="tracks-example__title typo-h2_bold">d-track type: chart placeholder</div><div class="tracks-example__content">',i=0;i<t.tracks.length;i++)l=t.tracks[i],e+=a.render({listIndex:i,type:"chart"});e+='</div></div><div class="entities__example tracks-example"><div class="tracks-example__title typo-h2_bold">track</div><div class="tracks-example__content">';for(var s=0;s<t.tracks.length;s++)l=t.tracks[s],e+=Mu.render("track",l);e+='</div></div><div class="entities__example tracks-example"><div class="tracks-example__title typo-h2_bold">track_type_player</div><div class="tracks-example__content">';for(var o=0;o<t.tracks.length;o++)l=t.tracks[o],e+=Mu.render("track_type_player",{track:l});e+='</div></div><div class="entities__example tracks-example-sidebar"><div class="tracks-example__title typo-h2_bold">sidebar-track</div><div class="tracks-example__content">';for(var r=0;r<t.tracks.length;r++)l=t.tracks[r],e+=Mu.render("sidebar-track",{track:l});e+='</div></div><div class="entities__example tracks-example-sidebar with chart"><div class="tracks-example__title typo-h2_bold">sidebar-track</div><div class="tracks-example__content">';for(var l,c=0;c<t.tracks.length;c++)l=t.tracks[c],e+=Mu.render("sidebar-track",{track:l,chart:{progress:[null,"up","down","new"][Math.round(3*Math.random())],position:Math.ceil(20*Math.random())}});return e+="</div></div>"})},function(t,e,i,n){var a={render:i(1086)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(594),function(t){for(var e='<div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData}</div><div class="albums-example__content">',i=0;i<t.albums.length;i++)p=t.albums[i],e+=a.render({album:p});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, hideYear: true}</div><div class="albums-example__content">';for(var n=0;n<t.albums.length;n++)p=t.albums[n],e+=a.render({album:p,hideYear:!0});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, notSelectable: true}</div><div class="albums-example__content">';for(var s=0;s<t.albums.length;s++)p=t.albums[s],e+=a.render({album:p,notSelectable:!0});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, showAsLink: true}</div><div class="albums-example__content">';for(var o=0;o<t.albums.length;o++)p=t.albums[o],e+=a.render({album:p,showAsLink:!0});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">Подкасты {album: albumData, description: text}</div><div class="albums-example__content">';for(var r,l=0;l<t.podcasts.length;l++)r=t.podcasts[l],e+=a.render({album:r,description:r.description});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, isPlaceholder: true}</div><div class="albums-example__content">';for(var c=0;c<t.albums.length;c++)p=t.albums[c],e+=a.render({isPlaceholder:!0});e+='</div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, theme: "compact"}</div><div class="albums-example__content">';for(var d=0;d<t.albums.length;d++)p=t.albums[d],e+=a.render({album:p,theme:"compact"});e+='<div style="clear: both;"></div></div></div><div class="entities__example albums-example"><div class="albums-example__title typo-h3">{album: albumData, theme: "embigenned"}</div><div class="albums-example__content">';for(var u=0;u<t.albums.length;u++)p=t.albums[u],e+=a.render({album:p,theme:"embigenned"});e+='<div style="clear: both;"></div></div></div><div class="entities__example albums-example-sidebar"><div class="albums-example__title typo-h3">sidebar-album</div><div class="albums-example__content-sidebar">';for(var p,h=0;h<t.albums.length;h++)p=t.albums[h],e+=Mu.render("sidebar-album",p);return e+="</div></div>"})},function(t,e,i,n){var a={render:i(1088)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(785),function(t){for(var e='<div class="entities__example playlists-example"><div class="playlists-example__title typo-h3">playlist</div><div class="playlists-example__content">',i=0;i<t.playlists.length;i++)o=t.playlists[i],e+=a.render({playlist:o});e+='</div></div><div class="entities__example playlists-example"><div class="playlists-example__title typo-h3">playlist showDescription: true</div><div class="playlists-example__content">';for(var n=0;n<t.playlists.length;n++)o=t.playlists[n],e+=a.render({playlist:o,showDescription:!0});e+='</div></div><div class="entities__example playlists-example"><div class="playlists-example__title typo-h3">playlist isPlaceholder: true</div><div class="playlists-example__content">';for(var s=0;s<t.playlists.length;s++)o=t.playlists[s],e+=a.render({isPlaceholder:!0});e+='</div></div><div class="entities__example playlists-example"><div class="playlists-example__title typo-h3">playlist showDescription: true, isPlaceholder: true</div><div class="playlists-example__content">';for(var o,r=0;r<t.playlists.length;r++)o=t.playlists[r],e+=a.render({playlist:o,showDescription:!0,isPlaceholder:!0});return e+="</div></div>"})},function(t,e,i,n){var a={render:i(1090)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(667),function(t){for(var e='<div class="entities__example artists-example"><div class="artists-example__title typo-h3">artist</div><div class="artists-example__content">',i=0;i<t.artists.length;i++)n=t.artists[i],e+=a.render({artist:n});e+='</div></div><div class="entities__example artists-example"><div class="artists-example__title typo-h3">artist isPlaceholder: true</div><div class="artists-example__content">';for(var n,s=0;s<t.artists.length;s++)n=t.artists[s],e+=a.render({isPlaceholder:!0});return e+="</div></div>"})},function(t,e,i,n){var a,s,o,r,l,c;t.exports=(a=i(108),s=i(842),o=i(451),r=i(141),l=i(1092),c=i(1096),function(t){var e='<div class="page-fm" data-b="'+__escape(Mu.dotBlockRoot&&Mu.dotBlockRoot(t,"page-main"))+'">',i=t.available&&t.streamUrl;i&&(e+=s.render({withoutEqualizer:!0,direction:"down",class:a.theme("black").classes(!0)+" page-fm__volume volume_top"})),e+=" ";var n=c.getRandomAdvice(t);return e+='<div class="page-fm__content ',n&&(e+="with-advice"),e+='">',i&&(e+=o.render({theme:"white",class:"page-fm__logo",link:"none"})),e+=l.render({...t,autoplay:c.autoplay(t)})+"</div> ",n&&(e+=' <a class="page-fm__advice" href="https://music.yandex.ru/non-music/category/'+__escape(n.link||"")+'" target="_blank"> <img class="image" src="/pages/fm/i/'+__escape(n.image||n.category)+'.png" /> <div class="text">'+__escape(n.text)+'</div> <button class="close">'+r.render({icon:"close"})+"</button> </a> "),e+="</div>"})},function(t,e,i,n){var a={render:i(1093)};clientSide&&(a.controller=i(1095)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(1094),e=i(72),n=i(108),a=i(143),s=i(73);return function(i){var o="",r=s().uatraits,l=r.isMobile||r.isTablet,c=l?i18n("stream-badge","[feature/show-fm-play-button]Слушать"):null;if(t.prepareData(i),o+='<div class="stream-badge" data-b="'+__escape(Mu.dotBlockRoot(i,"stream-badge",!0))+'"><div class="stream-badge__station ',i.available&&(o+="stream-badge__station_available"),o+='">',i.available){o+='<div class="stream-badge__round stream-badge__round_shadow" ',i.color&&(o+='style="box-shadow: 0px 0px 100px 30px '+__escape(i.color)+'"'),o+='></div><div class="stream-badge__animation"><div class="stream-badge__round stream-badge__round_bg" style="',i.color&&(o+="background-color: "+__escape(i.color)+";"),o+='"></div><div class="stream-badge__pulse"><div class="stream-badge__pulse-circle"></div><div class="stream-badge__pulse-circle"></div><div class="stream-badge__pulse-circle"></div></div></div><div class="stream-badge__logo" ',i.imageUrl&&(o+='style="background-image: url('+__escape(e(i.imageUrl))+');"'),o+="></div>";var d='<div class="stream-badge__action">'+a.render({size:"L",icon:"play-small",text:c,type:"action",rounded:!0,class:"stream-badge__play"})+a.render({size:"L",icon:"pause-small",text:c,type:"action",rounded:!0,class:"stream-badge__pause"})+"</div>";l||(o+=d)}else o+='<div class="stream-badge__details typo '+__escape(n.theme("black").classes(!0))+'"><div class="stream-badge__text typo-h1">😔</div>',!1===i.available&&i.title?(o+='<div class="stream-badge__text typo-h3">'+i18n("stream-badge","[feature/fm-page]К сожалению, «%1»<br />не вещает в вашем регионе",i.title)+"</div>",i.showRadioButton&&(o+='<div class="stream-badge__text stream-badge__text_secondary typo">'+i18n("stream-badge","[feature/fm-page]Но у нас есть множество радиостанций, которые заполнят музыкой пустой эфир.")+"</div>"+a.render({text:i18n("stream-badge","[feature/mfront-4200]Слушать Яндекс Радио"),rounded:!0,href:"/radio",class:"stream-badge__button "+n.theme("black").classes(!0)}))):o+='<div class="stream-badge__text typo-h3">'+i18n("stream-badge","[feature/fm-page]К сожалению, станция<br />не найдена")+"</div>",o+='<div class="stream-badge__blur"></div></div>';return o+="</div>",i.available&&i.title&&(o+=l?d:'<div class="stream-badge__title typo typo-h2_bold '+__escape(n.theme("black").classes(!0))+'">'+__escape(i.title)+"</div>"),o+="</div>"}}()},function(t,e,i,n){t.exports={prepareData:function(t){return t&&t.streamUrl&&(t.streamUrl=t.streamUrl.replace(/^((?:http:|https:)?\/\/)(.*)/,"//$2")),t.showRadioButton=!1,t}}},function(t,e,i,n){var a,s,o=i(1094);Mu.blocks.register("stream-badge",((s=function(){Mu.eventize(this)}).init=function(t){a=t.get("seq")},s.prototype.init=function(){this.prepareData(),this.$cont=$(this.container),this.$action=this.$cont.find(".stream-badge__action"),this.onRefresh=this.refresh.bind(this),this.onClick=this.onClick.bind(this),this.$cont.on("click",this.onClick),a.on(Mu.PlayFlow.EVENT_SHOW_PLAY,this.onRefresh),a.on(Mu.PlayFlow.EVENT_SHOW_PAUSE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_TOGGLE_PAUSE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_SOURCE,this.onRefresh),a.on(Mu.PlayFlow.EVENT_CHANGE,this.onRefresh),this.refresh(),this.data.autoplay&&this.play()},s.prototype.prepareData=function(){o.prepareData(this.data)},s.prototype.onClick=function(t){t.preventDefault(),t.stopPropagation(),this.toggle()},s.prototype.toggle=function(){this.isPlaying()?this.pause():this.play()},s.prototype.refresh=function(){this.isPlaying()?this.$cont.addClass("stream-badge_active"):this.$cont.removeClass("stream-badge_active")},s.prototype.play=function(){this.isAvailable()&&(a.playFmStream(this.getContext(),this.getConfig(),!0),this.trigger("played"))},s.prototype.pause=function(){this.isPlaying()&&(a.pause(),this.trigger("paused"))},s.prototype.isAvailable=function(){return this.data.available&&this.data.streamUrl},s.prototype.isPlaying=function(){var t=a.getConfig();return a.isPlaying()&&t.url===this.data.streamUrl},s.prototype.getConfig=function(){return{url:this.data.streamUrl,radioId:this.data.radioId}},s.prototype.getContext=function(){return{title:this.data.title,radioId:this.data.radioId,from:"web-fm_page-stream-main"}},s))},function(t,e,i,n){t.exports={getRandomAdvice:t=>{var e=Math.floor(Math.random()*t.advices.length);return t.advices[e]},autoplay:t=>{if("undefined"==typeof window||"undefined"==typeof Mu)return!1;return Mu.settings&&Mu.settings.uatraits&&Mu.settings.uatraits.isMobile&&window.location.href.includes("play=1")}}},function(t,e,i,n){t.exports=function(t){return'<div class="typo-h2 hmac__userhash">userhash: '+t.userhash+"</div>"}},function(t,e,i,n){t.exports=function(){const t=i(635),e=i(644),n=(i(151),i(793)),a=i(764),s=i(1099),o=i(1103),r=i(1106),l=i(856),c=i(594),d=i(1101);return function(i){var u="";const p=i?i.what:"",h=["category","editorial-playlists","recently-played","popular","chart","album-chart","liked-playlist","liked-album","radio-stations"],_=["promotions","categories-tab"].concat(h);if(u+='<div class="page-kids" data-b="'+__escape(Mu.dotBlockRoot(i,"page-kids",!0))+'"> ',i.blocks&&!i.editorialType){u+=" "+e.render({title:i18n("page-kids","[feature/mfront-3337]%1",i.title)})+" ";for(var m,g=0;g<i.blocks.length;g++){if(u+=" ",(m=i.blocks[g]).entities){u+=" ";var f="";m.entities&&(f=m.entities[0]?m.entities[0].type:"");const e=f?"title_"+f:"",a=f?"block_"+f:"";if(u+=" ",_.includes(m.type)&&(u+=' <div class="page-kids__block-title typo typo-h2_bold '+__escape(e)+'">'+d.render(Object.assign(i,{href:m.entities.length>=5&&m.viewAllUrl||"",title:m.title,type:m.type}))+" </div> "),u+=" ",h.includes(m.type)){u+=' <div class="page-kids__block '+__escape(m.type)+" "+__escape(a)+'"> ';var y=m.entities.map(t=>(t.context=t.type,t.data.chartPosition?(t.context="album",t.contextData=t.data.album,t.contextData.chartPosition=t.data.chartPosition):t.contextData=t.data,t));u+=" ","radio-stations"===m.type&&(y=t.handleEntities(m.entities)),u+=" "+n.render({items:y,itemTemplate:l,addClass:`page-main__slider page-main__${m.type} ${m.entities.length<3?"one-row":""}`,endless:y.length>2,step:1,theme:"rounded-buttons"})+" </div> "}else if("promotions"===m.type)u+=" "+s.render(Object.assign(m,{hideHeader:!0,metrikaPath:{page:"kids",subPage:m.typeForFrom}}))+" ";else if("playlist-with-tracks"===m.type&&m.entities[0].data&&m.entities[0].data.data&&m.entities[0].data.data.kind){u+=' <div class="page-kids__block '+__escape(m.type)+'"> ';var v=m.entities[0].data;u+=" ",v.title=m.title,u+=" ",v.description=m.description,u+=" ",v.maxShowTracksCount=5,u+=" ",v.tracks=v.data.tracks,u+=" ",v.href="/users/"+v.data.owner.login+"/playlists/"+v.data.kind,u+=" "+o.render(v)+" </div> "}else if("categories-tab"===m.type){u+=' <div class="page-kids__block categories-tab"> ';y=m.entities.map(t=>(t.type="mix-link",t.data.url=t.data.url.replace("children-landing","kids"),t));u+=" "+Mu.render("mix",{withoutTitle:!0,entities:y})+" </div> "}u+=" "}u+=" "}u+=" "}else if(i.albums&&!i.editorialType){u+=' <h1 class="page-kids__block-title typo typo-h2_bold"> '+i.title+' </h1> <div class="page-kids__block albums">';for(var b,k=0;k<i.albums.length;k++)b=i.albums[k],u+=c.render({album:b});u+='</div><div class="page-kids__spinner"> '+a.render()+" </div> "}return u+=" ","editorial"===p&&(u+=" "+r(i)+" "),u+="</div>"}}()},function(t,e,i,n){var a={render:i(1100)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(1101),s=i(793),function(t){var e="",i=function(){var e='<div class="page-main__promotions';t.hideHeader||(e+=" page-main__promotions_with-header"),e+='">';var i={items:t.entities,itemTemplate:"promo-slider-item",addClass:"page-main__promo",endless:t.entities.length>2,step:2,theme:"rounded-buttons",metrikaPath:t.metrikaPath};return e+=s.render(i)+"</div>"}();return e+='<div class="page-main__line">'+a.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a={render:i(1102)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(864),s=i(151),o=function(t){return""+s.render({class:"page-line__show-all typo",text:t.text||i18n("page-main","[feature/refactor-main-page]Смотреть всё")})},r=function(t){var e='<div class="page-line__subtitle typo typo-h2_bold"> ';return"editorial"===t.what&&"album"===t.editorialType?e+=" <h1> "+s.render({content:t.title,noHoverColor:t.noHover||!t.href})+" </h1> ":e+=" "+s.render({content:t.title,noHoverColor:t.noHover||!t.href})+" ",t.href&&!t.description&&(e+=o(t)),e+="</div>",t.description&&(e+='<div class="page-line__description"><span class="page-line__description-text">'+t.description+"</span>",t.href&&(e+=o(t)+'<div class="page-line__description-clear"></div>'),e+="</div>"),e},function(t){var e='<div class="page-line page-line_'+__escape(t.type)+" ";return t.classes&&(e+=__escape(t.classes)),e+='" ',t.id&&(e+='id="'+__escape(t.id)+'"'),e+=' data-type="'+__escape(t.type)+'" data-card="'+__escape(a(t.typeForFrom)||t.cardOverride||"")+'" ',t.title&&(e+=' data-title="'+__escape(t.title)+'"'),e+=">",t.actions&&(e+=t.actions),t.hideHeader||(t.href?e+=s.render({href:t.href,arrow:!0,class:"page-line__subtitle-wrapper deco-link-wrapper "+(t.description?" page-line__subtitle-wrapper_description":""),content:r(t)}):e+=r(t)),t.content&&(e+=t.content),e+="</div>"})},function(t,e,i,n){var a={render:i(1104)};clientSide&&(a.controller=i(1105)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(652),s=i(1101),function(t){var e="",i=function(){for(var e,i='<div class="page-main__tracks tracks" data-b="'+__escape(Mu.dotBlockRoot(t,"tracks",!0))+'">',n=0;n<(t.entities||t.tracks).slice(0,t.maxShowTracksCount).length;n++){var s=(e=(t.entities||t.tracks).slice(0,t.maxShowTracksCount)[n]).episode||e.track||e.data.track;e.cover&&(s.coverUri=e.cover),i+=a.render({track:s,type:"withCover"})}return i+="</div>"}();return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a;Mu.blocks.register("tracks",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.delegate("button-play.getContext",this.getContext)},a.prototype.getContext=function(t){var e=t.target&&t.target.data||{};t.target.$cont=t.target.$cont||$(t.target.container);var i=e.item.albums&&e.item.albums[0],n=(this.data.entities||this.data.tracks).filter((function(t){const e=t.episode||t.track;return e&&!e.error})).map((function(t){const e=t.episode||t.track;return{album:e.albums&&e.albums[0],track:e}}));return{id:"track:"+e.item.id+(i&&i.id?":"+i.id:""),entries:n,shortTitle:this.data.title,title:this.data.title,href:this.data.href}},a))},function(t,e,i,n){var a,s;t.exports=(a=i(686),s=i(1101),function(t){var e="";const i="playlist"===t.editorialType?"playlist-enchanced":"album";"playlist"===t.editorialType&&(t.entities=t.entities.map(t=>`${t.uid}:${t.kind}`));var n='<div class="page-kids__albums '+__escape(t.classes)+'">'+a.render({type:i,ids:t.entities,itemHeight:300,itemWidth:230,itemTemplate:t.editorialType,placeholderTemplate:t.editorialType,params:{hideYear:!0}})+"</div>";return e+='<div class="page-kids__line">'+s.render(Object.assign(t,{content:n}))+"</div>"})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_;t.exports=(a=i(642),s=i(648),o=i(612),r=i(697),l=i(318),c=i(515),d=i(402),u=i(599),p=i(667),h=i(594),_=i(1108),function(t){var e="",i=_.links(t),n=_.isPublisher(t);if(e+='<div class="page-label" data-b="'+__escape(Mu.dotBlockRoot(t,"page-label",!0))+'"><div class="page-label__head ',t.label.image||(e+=" page-label__head_collapse "),e+='"data-b="'+__escape(Mu.dotBlockRoot(t,"page-label__head",!0))+'">',t.label.image?e+='<img class="page-label__cover" src="'+d(t.label.image,200)+'" />':e+='<img class="page-label__cover page-label__cover_default" src="/pages/label/page-label__default.png" />',e+='<div class="page-label__wrapper">'+u.render({entity:n?i18n("page-label","[feature/podcasts-mini-fixups]Издатель"):i18n("page-label","Лейбл")})+'<div class="page-label__title"><h1>'+__escape(t.label.name)+'</h1></div><div class="page-label__controls">'+l.render({label:t.label,size:"L",isPublisher:n})+"&#160;"+c.render({label:t.label,btnSize:"L",theme:"transparent"})+"</div>",t.label.descriptionFormatted&&(e+='<div class="page-label__desc">'+t.label.descriptionFormatted+"</div>"),e+='</div></div><div class="page-label__tabs" data-b="'+__escape(Mu.dotBlockRoot(t,"page-label__tabs",!0))+'">',i.length&&(e+=r.render({title:i18n("page-label","Официальные страницы"),links:i,muted:!0})),tabItems=[{title:n?i18n("page-label","[feature/rename-episodes]Выпуски"):i18n("page-label","Релизы"),href:"/label/"+t.label.id+"/albums",id:"albums"}],n||tabItems.push({title:i18n("page-label","Исполнители"),href:"/label/"+t.label.id+"/artists",id:"artists"}),e+=a.render({currentId:t.what,items:tabItems})+'</div><div class="page-label__section">',"albums"==t.what){if(t.albums){e+='<div class="page-label__subhead"><span class="typo typo-h2_bold">'+__escape(n?i18n("page-label","[feature/podcasts-mini-fixups]Подкасты"):i18n("page-label","Альбомы"))+'</span><div class="page-label__sort-by">'+o.render({size:"S",items:[{text:i18n("page-label","по популярности"),href:"/label/"+t.label.id+"/albums?sort=rating",active:"rating"==t.sort},{text:i18n("page-label","по дате выхода"),href:"/label/"+t.label.id+"/albums?sort=year",active:"year"==t.sort}]})+'</div></div><div class="page-label__albums">';for(var m,g=0;g<t.albums.length;g++)m=t.albums[g],e+=h.render({album:m});e+="</div>"}}else if("artists"==t.what){e+='<div class="page-label__subhead"><span class="typo typo-h2_bold">'+__escape(i18n("page-label","Исполнители"))+'</span></div><div class="page-label__artists">';for(var f,y=0;y<t.artists.length;y++)f=t.artists[y],e+=p.render({artist:f});e+="</div>"}if(e+="</div>",t.pager){var v=function(){var e="";return t.sort?e+="?sort="+t.sort:e+="",e}(),b="/label/"+t.label.id+"/"+t.what+v;e+=" "+s.render({pager:t.pager,baseUrl:b})}return e+="</div>"})},function(t,e,i,n){var a=i(503);t.exports={links:function(t){return(t.label&&t.label.links||[]).map(t=>{var e=this.socialIcon(t.href);return{text:t.title,icon:e,href:t.href}})},socialIcon:function(t){var e="globus";return t.includes("vk.com")?e="vkontakte-circle":t.includes("twitter.com")?e="twitter-circle":t.includes("facebook.com")?e="facebook-circle":t.includes("youtube.com")?e="youtube-circle":t.includes("instagram.com")&&(e="instagram-circle"),e},isPublisher:a}},function(t,e,i,n){t.exports=function(){i(825),i(267);var t=i(644),e=(i(143),i(1110)),n=i(1111),a=i(294),s=i(1112),o=i(1138),r=i(1142),l=i(1144),c=i(1147),d=i(1150);return function(i){var u="";const p=i?i.path:"",h=i?i.what:"",_=a().uid&&(!h||"home"===h||"today"===h);if(u+='<div class="page-main" data-b="'+__escape(Mu.dotBlockRoot&&Mu.dotBlockRoot(i,"page-main"))+'"> ',!i.chartType&&!i.editorialType&&!i.podcastsCategory){u+=' <div class="page-main__line page-main__line_nav '+(_?"page-main__line_nav_rup-enabled":"")+'" data-type="nav"> ';var m=[{title:i18n("page-main","Всё"),id:"home",href:p+"/home"},{title:i18n("page-main","Новые релизы"),id:"new-releases",href:p+"/new-releases"},{title:i18n("page-main","Чарт"),id:"chart",href:p+"/chart",class:"page-main__title-chart"},{title:i18n("page-main","Настроения и жанры"),id:"genres",href:p+"/genres"}];u+=" "+t.render({class:"page-main__title",title:i18n("nav","Главное"),tabs:{currentId:h||"home",items:m}})+" </div> "}return _&&(u+=e.render({havePlus:n.havePlus()})),h&&"home"!==h&&"today"!==h||(u+=s(i)),"new-releases"===h&&(u+=l(i)),"new-playlists"===h&&(u+=c(i)),"chart"===h&&(u+=o(i)),"genres"===h&&(u+=r(i)),u+=" ","editorial"===h&&(u+=" "+d(i)+" "),u+="</div>"}}()},function(t,e,i,n){var a={render:i(984)};clientSide&&(a.controller=i(534)),t.exports=a},function(t,e,i,n){t.exports={getExtendData:function(t,e){var i=this;e=e||1,(t=t||{}).leaves=t.leaves||[];var n={depth:1,countOfChildren:t.leaves.length};return t.leaves.forEach((function(t){var a=i.getExtendData(t,e+1),s=a.depth+1;n.depth<s&&(n.depth=s),n.countOfChildren+=a.countOfChildren})),1===e&&(n.countOfColumns=this.calculateCountOfColumns(n.depth,n.countOfChildren)),n},calculateCountOfColumns:function(){return 4},havePlus:function(){return Mu.authData.user.havePlus},needShowFeachersHeader:function(t){return"promotions"!==t.blocks[0].type},notEmpty:function(t){return"one-episode"===t.type?!!t.episode:t.entities&&t.entities.length},isContextType:function(t){return["recommended-playlists","recommended-albums","recommended-artists","artist-style-playlists","artist-best-playlists"].includes(t)}}},function(t,e,i,n){t.exports=function(){i(864),i(267),i(221);var t=i(1113),e=i(1115),n=i(1119),a=i(1122),s=i(1099),o=i(1127),r=i(1129),l=i(1131),c={"one-episode":i(1133),podcasts:i(1136),episodes:i(1103)},d=i(1111);return function(i){for(var u,p="",h=i?i.what:"",_=i?i.blocks:[],m=0;m<_.length;m++)(u=_[m]).what=h,"promotions"===u.type&&d.notEmpty(u)&&(p+=s.render(Object.assign(u,{hideHeader:!d.needShowFeachersHeader(i),metrikaPath:{page:"main",subPage:"main"}}))),"personal-playlists"===u.type&&(0===m&&(u.shouldNotShowTitle=!0),p+=a.render(u)),"new-releases"===u.type&&d.notEmpty(u)&&(p+=o.render(Object.assign(u,{href:i.path+"new-releases",description:i18n("page-main","[feature/refactor-main-page]Новые треки, альбомы и сборники"),classes:""}))),"new-playlists"===u.type&&d.notEmpty(u)&&(p+=r.render(Object.assign(u,{href:i.path+"/new-playlists",description:u.description||i18n("page-main","[feature/refactor-main-page]Новая музыка, собранная для вас нашей редакцией"),classes:""}))),"chart"===u.type&&d.notEmpty(u)&&(p+=n.render(Object.assign(u,{href:i.path+"/chart/tracks",title:u.title||i18n("page-main","Чарт"),description:i18n("page-main","[feature/mfront-3990-1]Треки, популярные на Яндекс&nbsp;Музыке прямо сейчас")}))),"mixes"===u.type&&d.notEmpty(u)&&(p+=l.render(Object.assign(u,{href:i.path+"/genres",title:u.title||i18n("page-main","Настроения и жанры"),description:i18n("page-main","[feature/refactor-main-page]Плейлисты, подобранные под настроение или по жанру")}))),"play-contexts"===u.type&&d.notEmpty(u)&&(p+=e.render(Object.assign(u,{entities:u.entities,title:u.title||i18n("page-main","Вы недавно слушали"),type:"recents"}))),d.isContextType(u.type)&&d.notEmpty(u)&&(p+=t.render(u)),["episodes","podcasts","one-episode"].includes(u.type)&&d.notEmpty(u)&&(p+=c[u.type].render(Object.assign(u,{href:i.path+"/non-music",title:i18n("page-main","[feature/mfront-3737]Подкасты и книги")})));return p}}()},function(t,e,i,n){var a={render:i(1114)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(793),s=i(856),o=i(1101),function(t){var e="",i=""+a.render({items:t.entities,itemTemplate:s,addClass:"page-main__slider page-main__"+t.type,endless:t.entities.length>1,step:1,theme:"rounded-buttons"});return e+='<div class="page-main__line page-main__line_row">'+o.render(Object.assign(t,{noHover:!0,content:i}))+"</div>"})},function(t,e,i,n){const a={render:i(1116)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(793),s=i(1101),o=i(1117),function(t){var e="",i=""+a.render({items:t.entities,itemTemplate:o,addClass:"page-main__slider page-main__"+t.type,endless:t.entities.length>1,step:1,theme:"rounded-buttons"});return e+='<div class="page-main__line page-main__line_row">'+s.render(Object.assign(t,{noHover:!0,content:i}))+"</div>"})},function(t,e,i,n){const a={render:i(1118)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(594),s=i(667),o=i(785),function(t){var e="";return"album"===t.data.context?e+=" "+a.render({album:t.data.payload,hideYear:!0}):"artist"===t.data.context?e+=" "+s.render({artist:t.data.payload}):"playlist"===t.data.context&&(e+=" "+o.render({playlist:t.data.payload,showStamp:!0})),e})},function(t,e,i,n){var a={render:i(1120)};clientSide&&(a.controller=i(1121)),t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(652),s=i(1101),function(t){var e="",i=function(){var e,i="",n=t.tracks||t.entities.map(t=>t.data.track);i+='<div class="page-main__chart column-chart" data-b="'+__escape(Mu.dotBlockRoot(t,"column-chart",!0))+'"><div class="page-main__chart_left">';for(var s=0;s<n.slice(0,5).length;s++)e=n.slice(0,5)[s],i+=a.render({track:e,listIndex:s,type:"chart",page:"home"});for(i+='</div><div class="page-main__chart_right">',s=0;s<n.slice(5,10).length;s++)e=n.slice(5,10)[s],i+=a.render({track:e,listIndex:s+5,type:"chart",page:"home"});return i+="</div></div>"}();return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a;Mu.blocks.register("column-chart",((a=function(){}).init=function(){},a.prototype.init=function(){this.$cont=$(this.container),this.delegate("button-play.getContext",this.getContext)},a.prototype.getContext=function(t){var e=t.target&&t.target.data||{};t.target.$cont=t.target.$cont||$(t.target.container);var i=e.item.albums&&e.item.albums[0];let n=[];return n=this.data.entities?this.data.entities.filter((function(t){return t.data&&t.data.track&&!t.data.track.error})).map((function(t){return{album:t.data.track.albums&&t.data.track.albums[0],track:t.data.track}})):this.data.tracks.slice(0,10).map((function(t){return{album:t.albums&&t.albums[0],track:t}})),{id:"track:"+e.item.id+(i&&i.id?":"+i.id:""),entries:n,shortTitle:this.data.title,title:this.data.title,href:this.data.href}},a))},function(t,e,i,n){var a={render:i(1123)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(294),s=i(1101),o=i(226),r=i(1124),function(t){var e="",i=t.entities.length>2?"small-margin":"",n=function(){var e="",i=function(){var t="";return a().firstName&&(t+=", "+__escape(a().firstName)),t}();if(!t.shouldNotShowTitle){e+='<div class="page-main__subtitle page-main__subtitle_autoplaylists">',a().hasAvatar&&(e+=o.render({user:a(),size:"L",showAvatar:!0})),e+='<h2 class="typo-h2_bold">';const n=Mu&&Mu.settings.uatraits&&(Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch)?"":i;t.title?e+=t.title+n:e+=i18n("page-main","[feature/refactor-main-page]Умные плейлисты для вас%1",n),e+="</h2></div>"}return e+='<div class="page-main__autoplaylists">'+r.render(t.entities)+"</div>"}();return e+='<div class="page-main__line page-main__line_row page-main__line_'+__escape(i)+'">'+s.render(Object.assign(t,{hideHeader:!0,content:n}))+"</div>"})},function(t,e,i,n){var a={render:i(1125)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(1126),s=i(785),o=i(793),r=i(402),function(t){var e="",i=a.preparePlaylists(t),n=function(t,e){var i='<div class="auto-playlists__item auto-playlists__item_'+t.data.type;return t.data.ready||t.ready||(i+=" auto-playlists__item_not-ready"),i+='"data-card="auto-'+__escape(t.data.idForFrom)+'">'+s.render({playlist:t.data,showDescription:!0,hideDescriptionLinksStyle:!0,auto:{notification:t.notify||t.data.notify,position:e&&!t.vertical?"horizontal":"",type:t.type}}),t.data.ready||t.ready||(i+='<div class="auto-playlists__item-hover local-theme-black" style="'+__escape(t.data.dummyRolloverCover?"background-image: url("+r(t.data.dummyRolloverCover.uri,200)+")":"")+'" ><div class="auto-playlists__item-hover-content"><div class="auto-playlists__placeholder-text auto-playlists__placeholder-desc typo-small">'+t.data.placeholder.description+"</div></div></div>"),i+="</div>"},l={render:n},c=i.length<=2;if(e+='<div class="auto-playlists" data-b="'+__escape(Mu.dotBlockRoot(t,"auto-playlists",!0))+'"><div class="auto-playlists__container',c||(e+=" auto-playlists__container_scrollable"),e+='">',c)for(var d=0;d<i.length;d++)e+=n(i[d],!0);else e+=o.render({items:i,itemTemplate:l,addClass:"page-main__slider",endless:!0,step:1,theme:"rounded-buttons"});return e+="</div></div>"})},function(t,e,i,n){var a=/(?=[A-Z])/g;t.exports={preparePlaylists:function(t){return t.forEach((function(t){!function(t){if(t.data.data)Object.assign(t.data,t.data.data)}(t),t.data.ready||t.ready||(t.data.cover=t.data.dummyCover,t.data.placeholder={title:i18n("page-feed","Скоро"),description:t.data.dummyDescription||""})})),t.forEach((function(t){t.data.idForFrom=t.data.idForFrom||(t.type?t.type.split(a).map((function(t){return t.toLowerCase()})).join("_"):"")})),t}}},function(t,e,i,n){var a={render:i(1128)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(594),s=i(1101),function(t){var e="",i=function(){for(var e,i='<div class="page-main__albums '+__escape(t.classes)+'">',n=0;n<t.entities.slice(0,4).length;n++)e=t.entities.slice(0,4)[n],i+=a.render({album:e.data,hideYear:!0});return i+="</div>"}();return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a={render:i(1130)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(785),s=i(1101),function(t){var e="",i=function(){for(var e,i='<div class="page-main__playlists '+t.classes+'">',n=0;n<t.entities.slice(0,4).length;n++)e=t.entities.slice(0,4)[n],i+=a.render({playlist:e.data,showDescription:!0});return i+="</div>"}();return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a={render:i(1132)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(1101),function(t){var e="",i='<div class="page-main__genres">'+Mu.render("mix",{withoutTitle:!0,entities:t.entities})+"</div>";return e+='<div class="page-main__line">'+a.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a={render:i(1134)};clientSide&&(a.controller=i(1135)),t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(402),s=i(1101),o=i(108),r=i(379),function(t){var e="",i=t.cover||t.tracks&&t.tracks[0]&&t.tracks[0].data.cover,n=function(){var e='<div class="page-main__one-track one-track" data-b="'+__escape(Mu.dotBlockRoot(t,"one-track",!0))+'"';return i&&(e+=' style="background-image: url('+__escape(a(i))+');"'),e+='><div class="'+__escape(o.theme("black").classes("local"))+' page-main__one-track-text-wrap"><h2 class="page-main__subtitle typo typo-h2_bold">'+__escape(t.title)+'</h2><div class="page-main__one-track-description typo">'+t.description+"</div></div>"+r.render({theme:"withText",type:"track",item:t.episode||t.tracks[0].data.track,text:i18n("page-main","[feature/main-non-music]Слушать"),size:"L",class:"page-main__play-button_one-track"})+"</div>"}();return e+='<div class="page-main__line page-main__line_'+__escape(t.type)+'">'+s.render(Object.assign(t,{hideHeader:!0,content:n}))+"</div>"})},function(t,e,i,n){Mu.blocks.register("one-track",function(){var t,e=function(){};return e.init=function(e){t=e.get("navigation")},e.prototype.init=function(){var e=this;this.$cont=$(this.container),this.buttonNode=this.$cont.find(".page-main__play-button_one-track").get(0),this.textWrapperNode=this.$cont.find(".page-main__one-track-text-wrap").get(0);const i=this.data.episode||this.data.tracks&&this.data.tracks[0]&&this.data.tracks[0].data.track;if(i&&i.id){var n="/track/"+i.id;this.$cont.on("click",(function(i){e.buttonNode!==i.target&&e.textWrapperNode!==i.target&&!e.buttonNode.contains(i.target)&&!e.textWrapperNode.contains(i.target)&&t.navigateTo(n)}))}},e}())},function(t,e,i,n){var a={render:i(1137)};t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(293),s=i(619),o=i(594),r=i(1101),function(t){var e="",i=(t.entities||t.albums).slice(0,4),n=(t.entities||t.albums).slice(4),l=n.length,c=function(){for(var e,r='<div class="page-main__albums">',c=0;c<i.length;c++)e=i[c],r+=o.render({album:e.data.podcast||e.data.album,description:e.data.description,lastUpdated:e.data.lastUpdated,chartPosition:e.data.chartPosition});var d=function(){for(var t,e="",i=0;i<n.length;i++)t=n[i],e+=o.render({album:t.data.podcast||t.data.album,description:t.data.description,lastUpdated:t.data.lastUpdated});return e}();return l&&(r+=s.render({size:"L",text:t.entities?a(l,i18n("page-main","[feature/main-non-music]Ещё %s подкаст|Ещё %s подкаста|Ещё %s подкастов|")):i18n("page-main","[feature/children-tab]Смотреть всё"),html:d})),r+="</div>"}();return e+='<div class="page-main__line">'+r.render(Object.assign(t,{content:c}))+"</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(1139),s=i(1140),function(t){var e="";return"tracks"===t.chartType||!t.chartType&&!t.podcastsCategory?e+=" "+a(t):("podcasts"===t.chartType||""===t.chartType&&t.podcastsCategory)&&(e+=" ",t.chart.type="podcasts",e+=" ",t.chart.category=t.podcastsCategory,e+=" "+s.render(t.chart)),e})},function(t,e,i,n){t.exports=function(){i(267);var t=i(864),e=i(293),n=i(619),a=i(515),s=i(785),o=i(686);i(354),i(1111);return function(i){return'<div class="page-main__line page-main__line_'+__escape(i.what)+'" data-type="'+__escape(i.what)+'" data-card="'+__escape(t(i.typeForFrom)||"chart")+'"><div class="page-main__chart no-head"><div class="page-main__playlist"><div class="page-main__playlist-head"><div class="page-main__playlist-actions"> '+a.render({title:i.chart.title,link:"/chart"+(i.chartType?"/"+i.chartType:""),theme:"transparent",btnSize:"L",class:"page-main__playlist-share"})+' </div><div class="page-main__playlist-title"> '+__escape(i.chart.title||i18n("page-main","[feature/mfront-3990-1]Треки, популярные на Яндекс&nbsp;Музыке прямо сейчас"))+' </div><div class="page-main__description"><span class="page-main__description-text">'+i.chart.description+'</span></div><div class="page-main__playlist-barrier"></div></div><div class="page-main__playlist-tracks">'+Mu.render("table-head_track-chart",i)+'<div class="page-main__playlist-tracks-list">'+o.render({type:"track",ids:i.chart.trackIds,items:i.chart.tracks,isOwner:!1,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",itemHeight:64,params:{type:"chart"}})+'</div></div><div class="page-main__playlist-bottom">'+function(t){var i=" ",a=t.similarPlaylists||t.otherChartPlaylists;if(a&&a.length){var o=a.slice(0,4),r=a.slice(4),l=r.length;i+='<div class="page-main__similar-playlists" data-card="similar_playlist"><h2 class="page-main__subtitle page-main__similar-subtitle deco-typo">'+__escape(i18n("page-playlist","Плейлисты с другими чартами"))+"</h2>";for(var c,d=0;d<o.length;d++)c=o[d],i+=s.render({playlist:c});if(l){var u=e(l,i18n("page-playlist","Показать ещё один плейлист|Показать ещё %s плейлиста|Показать ещё %s плейлистов")),p=function(){for(var t,e="",i=0;i<r.length;i++)t=r[i],e+=s.render({playlist:t});return e}();i+=n.render({text:u,html:p})}i+="</div>"}return i}(i.chart)+"</div></div></div></div>"}}()},function(t,e,i,n){var a={render:i(1141)};t.exports=a},function(t,e,i,n){var a,s,o;t.exports=(a=i(515),s=i(686),o=i(1101),function(t){var e="",i='<div class="page-main__playlist-actions">'+a.render({title:t.title,link:"/chart/"+t.chartType+(t.category?"/category/"+t.category:""),theme:"transparent",btnSize:"L",class:"page-main__playlist-share"})+"</div>",n='<div class="page-main__albums">'+s.render({type:"album",ids:t.albumIds,items:t.albums,itemHeight:"podcasts"===t.chartType?360:300,itemWidth:230,itemTemplate:"album",placeholderTemplate:"album"})+"</div>";return e+='<div class="page-main__line page-main__line_'+__escape(t.type)+" "+(t.category?"page-main__line_category":"")+'">'+o.render(Object.assign(t,{actions:i,content:n}))+"</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(1131),s=i(1143),function(t){return a.render(Object.assign(t,{title:t.title||i18n("page-main","Настроения и жанры"),type:"genres",description:""}))+'<div class="page-main__line page-main__line_metatags" data-type="metatags">'+s(t)+"</div>"})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(151),s=i(1111),o=function(t,e,i){var n="";if(t.leaves&&t.leaves.length&&0!==i){var a=i-1;n+='<ul class="page-main__metatags-children">';for(var s,l=0;l<t.leaves.length;l++){var c=(s=t.leaves[l]).leaves&&s.leaves.length||3===e.depth&&i+1===e.depth;n+='<li class="page-main__metatags-child '+__escape(c?"page-main__metatags-child_parental":"")+'">'+r(s)+o(s,a)+"</li>"}n+="</ul>"}return n},r=function(t){var e="";return t.tag&&t.href?e+=a.render({href:t.href,text:t.title,class:"page-main__metatags-link"}):e+=__escape(t.title),e},function(t){var e="";if(t.metatags&&t.metatags.length){e+='<div class="page-main__metatags">';for(var i,n=0;n<t.metatags.length;n++){i=t.metatags[n];var a=[],l=s.getExtendData(i);l.depth>=3&&a.push("page-main__metatags-line_deep"),l.countOfColumns>=1&&(a.push("page-main__metatags-line_columns"),a.push("page-main__metatags-line_columns-c"+l.countOfColumns)),e+='<div class="page-main__metatags-line '+__escape(a.join(" "))+'"><div class="page-main__metatags-root typo-h2_bold">'+r(i)+"</div>"+o(i,l,2)+"</div>"}e+="</div>"}return e})},function(t,e,i,n){t.exports=function(){i(1111);var t=i(1145);return function(e){return""+t.render(Object.assign(e,{title:e.title||i18n("page-main","Новые релизы"),cardOverride:"new_releases"}))}}()},function(t,e,i,n){var a={render:i(1146)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(686),s=i(1101),function(t){var e="",i='<div class="page-main__albums '+__escape(t.classes)+'">'+a.render({type:"album",ids:t.newReleases,itemHeight:300,itemWidth:230,itemTemplate:"album",placeholderTemplate:"album",params:{hideYear:!0}})+"</div>";return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a;t.exports=(a=i(1148),function(t){return""+a.render(Object.assign(t,{title:t.title||i18n("page-main","Плейлисты с новинками"),cardOverride:"new_playlists"}))})},function(t,e,i,n){var a={render:i(1149)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(686),s=i(1101),function(t){var e="",i='<div class="page-main__playlists '+t.classes+'">'+a.render({type:"playlist-enchanced",itemTemplate:"playlist",ids:t.newPlaylists.map((function(t){return t.uid+":"+t.kind})),pageSize:50,itemHeight:345,itemWidth:230,placeholderTemplate:"playlist",variablePlaceholder:!0,params:{showDescription:!0}})+"</div>";return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:i}))+"</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(686),s=i(1101),function(t){var e="";const i="playlist"===t.editorialType?"playlist-enchanced":"album";"playlist"===t.editorialType&&(t.entities=t.entities.map(t=>`${t.uid}:${t.kind}`));const n=t.editorialType+"s";var o='<div class="page-main__'+__escape(n)+" "+__escape(t.classes)+'">'+a.render({type:i,ids:t.entities,itemHeight:300,itemWidth:230,itemTemplate:t.editorialType,placeholderTemplate:t.editorialType,params:{hideYear:!0}})+"</div>";return e+='<div class="page-main__line">'+s.render(Object.assign(t,{content:o}))+"</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(639),s=i(646),function(t){return'<div class="page-metatag" data-b="'+__escape(Mu.dotBlockRoot(t,"page-metatag",!0))+'"> <div class="page-metatag__loader deco-shade"> '+Mu.render("spinner",{})+" </div> "+a(t)+" "+s(t)+"</div>"})},function(t,e,i,n){t.exports=function(){var t=i(1153),e=i(644),n=(i(151),i(793)),a=i(764),s=i(1099),o=i(1103),r=i(856),l=i(594);const c=i(1101),d=i(1154),u=i(1157),p=i(1158);return function(i){var h="";const _=i?i.what:"",m=["category","editorial-playlists","recently-played","popular","chart","album-chart","tag-compilation"],g=["promotions","categories-tab"].concat(m);if(h+='<div class="page-non-music" data-b="'+__escape(Mu.dotBlockRoot(i,"page-non-music",!0))+'"> ',i.blocks&&!i.editorialType){h+=" "+e.render({title:"Подкасты"===i.title?i18n("page-main","[feature/mfront-3737]Подкасты и книги"):i.title||i18n("page-main","[feature/mfront-3737]Подкасты и книги"),tabs:u.getTabs(i)})+" ";for(var f,y=0;y<i.blocks.length;y++){if(h+=" ",(f=i.blocks[y]).entities){h+=" ";var v="";f.entities&&(v=f.entities[0]?f.entities[0].type:"");const t=v?"title_"+v:"",e=v?"block_"+v:"";if(h+=" ",g.includes(f.type)){h+=' <div class="page-non-music__block-title typo typo-h2_bold '+__escape(t)+'"> ';let e="";"album-chart"===f.type?e=i.category?"/chart/podcasts/category/"+i.category:"/chart/podcasts":f.viewAllUrl&&f.entities.length>=5&&(e=f.viewAllUrl),h+=c.render(Object.assign(i,{href:e,title:f.title}))+" </div> "}if(h+=" ",m.includes(f.type)){h+=' <div class="page-non-music__block '+__escape(f.type)+" "+__escape(e)+'"> ';var b=f.entities.map(t=>(t.context=t.type,t.data.chartPosition?(t.context="album",t.contextData=t.data.album,t.contextData.chartPosition=t.data.chartPosition):t.contextData=t.data,t));h+=" "+n.render({items:b,itemTemplate:r,addClass:"page-main__slider page-main__"+f.type,endless:f.entities.length>1,step:1,theme:"rounded-buttons"})+" </div> "}else if("promotions"===f.type)h+=" "+s.render(Object.assign(f,{hideHeader:!0,metrikaPath:{page:"non-music",subPage:f.typeForFrom}}))+" ";else if("playlist-with-tracks"===f.type){h+=' <div class="page-non-music__block '+__escape(f.type)+'"> ';var k=f.entities[0].data;h+=" ",h+=" ",(k=k.data?k.data:k).title=f.title||k.title,h+=" ",k.description=f.title&&"personal-playlist"===f.entities[0].type?"":k.description,h+=" ",k.maxShowTracksCount=5,h+=" ",k.href="/users/"+k.owner.login+"/playlists/"+k.kind,h+=" "+o.render(k)+" </div> "}else if("categories-tab"===f.type){h+=' <div class="page-non-music__block categories-tab"> ';b=f.entities.map(t=>(t.type="mix-link",t));h+=" "+Mu.render("mix",{withoutTitle:!0,entities:b})+" </div> "}else"bookmate-banner"===f.type&&Mu&&Mu.experiments&&"on"===Mu.experiments.WebBookmateOption?h+=' <div class="page-non-music__block"> '+p(f)+" </div> ":"continue-listen"===f.type&&f.entities&&f.entities.length>0&&Mu&&Mu.experiments&&"on"===Mu.experiments.WebPodcastsShelf&&(h+=' <div class="page-non-music__block">'+c.render({title:f.title,type:"shelf"})+d.render({entities:f.entities})+" </div> ");h+=" "}h+=" "}h+=" "}else if(i.albums&&!i.editorialType){h+=' <h1 class="page-non-music__block-title typo typo-h2_bold"> '+i.title+' </h1> <div class="page-non-music__block albums">';for(var w,x=0;x<i.albums.length;x++)w=i.albums[x],h+=l.render({album:w});h+='</div><div class="page-non-music__spinner"> '+a.render()+" </div> "}return h+=" ","editorial"===_&&(h+=" "+t(i)+" "),h+="</div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(686),s=i(1101),function(t){var e="";const i="playlist"===t.editorialType?"playlist-enchanced":"album";"playlist"===t.editorialType&&(t.entities=t.entities.map(t=>`${t.uid}:${t.kind}`));var n='<div class="page-non-music__albums '+__escape(t.classes||"")+'">'+a.render({type:i,ids:t.entities,itemHeight:300,itemWidth:230,itemTemplate:t.editorialType,placeholderTemplate:t.editorialType,params:{hideYear:!0}})+"</div>";return e+='<div class="page-non-music__line">'+s.render(Object.assign(t,{content:n}))+"</div>"})},function(t,e,i,n){var a={render:i(1155)};t.exports=a},function(t,e,i,n){t.exports=function(){const t=i(989),e=i(652),n=i(1156);return function(i){for(var a,s='<div class="shelf-non-music">',o=0;o<i.entities.length;o++)"last-recently-played"===(a=i.entities[o]).type?s+=e.render({track:n.getTrack(a),type:"shelf-non-music",showBest:!0,activeTabInTrackLink:"track-list",dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1,nonSelectable:!0,backgroundColor:a.data&&a.data.color}):"new-episodes"!==a.type&&"my-bookshelf"!==a.type||(s+=t.render({type:a.type,covers:a.data&&a.data.covers||[]}));return s+="</div>"}}()},function(t,e,i,n){t.exports={getTrack:t=>{const e=t.data&&t.data.playedItem;if(e&&e.type&&e.track)return e.track.shelfType=e.type,e.album&&e.album.durationLeft&&(e.track.albumStreamProgress={durationLeft:e.album.durationLeft,durationSec:e.album.durationSec}),"playlist"===e.type&&(e.track.playlist=e.playlist),e.track.shelfSection="recentlyPlayed",e.track}}},function(t,e,i,n){t.exports={getTabs:t=>{if(!(t.blocks&&t.blocks.length&&Mu&&Mu.experiments&&"on"===Mu.experiments.WebBookmateOption))return;const e=t.blocks.find(t=>"menu-tab"===t.type);if(!e)return;const i=e.entities.map(t=>({href:t.data.url,id:t.data.url,title:t.data.title})),n=[{href:"/non-music",id:"/non-music",title:i18n("page-non-music","[feature/mfront-4650]Всё")},...i];return{currentId:window&&window.location.pathname||"/non-music",items:n}}}},function(t,e,i,n){t.exports=function(){const t=i(143);return function(e){var i='<div class="bookmate-banner"> <div class="bookmate-banner__content"> <div class="bookmate-banner__content-logo"></div> <div class="bookmate-banner__content-text"> '+i18n("page-non-music","[feature/mfront-4654]Раздел Аудиокниги стал больше на&nbsp;50&nbsp;000&nbsp;книг — и доступен с&nbsp;опцией&nbsp;Bookmate")+" </div> ";const n=Mu&&Mu.settings&&Mu.settings.tld||"ru";i+=" ";const a=window&&window.location.href?encodeURIComponent(window.location.href):"";return i+=" "+t.render({size:"L",text:i18n("page-non-music","[feature/mfront-4654]Подробнее"),class:"bookmate-banner__content-button",rounded:!0,type:"rainbow",href:`http://plus.yandex.${n}/bookmate?retpath=${a}`,target:"_self"})+' <div class="bookmate-banner__cover bookmate-banner__cover-1"></div> <div class="bookmate-banner__cover bookmate-banner__cover-2"></div> <div class="bookmate-banner__cover bookmate-banner__cover-3"></div> </div></div>'}}()},function(t,e,i,n){var a,s;t.exports=(a=i(451),s=i(1160),function(t){var e='<div class="page-personal" data-b="'+__escape(Mu.dotBlockRoot(t,"page-personal",!0))+'"><div class="page-personal__content"><img class="page-personal__bg" src=""></img><div class="page-personal__header"><div class="page-personal__header-logo">'+a.render({theme:"white",type:""})+a.render({})+'</div></div><div class="page-personal__afisha"><img class="page-personal__afisha-img" src="">';t.my.personal||(e+='<div class="page-personal__disclaimer">'+i18n("page-personal","[feature/mfront-3990-1]Афиша вашего летнего фестиваля могла бы быть такой. Слушайте чаще Яндекс&nbsp;Музыку, и в следующем году она будет лучше отвечать вашим музыкальным вкусам!")+"</div>"),e+='</img></div><div class="page-personal__share"><span>'+__escape(i18n("page-personal","Поделитесь афишей с друзьями"))+'</span><div class="page-personal__share-buttons">';var i=Mu.render("meta",{page:{name:"personal"},value:"title"});return e+=Mu.render("share__buttons",{title:i,link:s.getUrl(t)},["share__buttons_round-colors-borderless"])+"</div> </div></div></div>"})},function(t,e,i,n){t.exports={getUrl:function(t){return t.isAuth?"/personal/"+t.sharingUser+"/":t.my&&t.my.refId?"/personal/ref/"+t.my.refId+"/":"/personal/"}}},function(t,e,i,n){var a,s,o;t.exports=(a=i(451),s=i(461),o=i(677),function(t){var e='<div class="page-personal-top2017" data-b="'+__escape(Mu.dotBlockRoot(t,"page-personal-top2017",!0))+'"><div class="page-personal-top2017__content"><div class="page-personal-top2017__afisha"><div class="page-personal-top2017__header"><div class="page-personal-top2017__header-logo">'+a.render({theme:"black",type:""})+'</div></div><div class="page-personal-top2017__afisha-info">';if(t.isAuth&&0===t.my.minutes)e+='<h1 class="page-personal-top2017__afisha-title typo-h1_big">'+__escape(i18n("page-personal-top2017","Холодно и пусто"))+'</h1><br/><span class="page-personal-top2017__afisha-result typo-h2">'+__escape(i18n("page-personal-top2017","Возможно, вы и слушали музыку, но не у нас"))+"</span>";else if(t.isAuth){e+='<h1 class="page-personal-top2017__afisha-title typo-h1_small">'+i18n("page-personal-top2017","В 2017 году музыка<br /> не отпускала вас")+'</h1><span class="page-personal-top2017__afisha-duration">'+t.my.text+'</span><br/><span class="page-personal-top2017__afisha-result typo-h2">'+t.my.secondaryText+"</span>";var i=o.defineStep(t.my.minutes);e+='<div class="page-personal-top2017__results"><div class="page-personal-top2017__step"><div class="page-personal-top2017__step-result"><span class="page-personal-top2017__step-text">'+__escape(i.comment)+"</span></div></div>",15!=i.step?e+='<span class="page-personal-top2017__results-max">'+__escape(i18n("page-personal-top2017","Меломан года"))+"</span>":e+='<span class="page-personal-top2017__results-max page-personal-top2017__results-max-red">'+__escape(i18n("page-personal-top2017","Вы меломан года"))+"</span>",e+="</div>"}else e+='<h1 class="page-personal-top2017__afisha-invitation typo-h1_big">'+__escape(i18n("page-personal-top2017","Заходите-заходите"))+'</h1><br/><span class="page-personal-top2017__afisha-result typo-h2">'+s.render({text:i18n("page-personal-top2017","Авторизуйтесь")})+i18n("page-personal-top2017",", чтобы узнать сколько музыки<br />вы наслушали в 2017 году")+"</span>";return t.isAuth&&(e+='<div class="page-personal-top2017__share"><div class="page-personal-top2017__share-buttons">'+Mu.render("share__buttons",{personal_top2017:t,services:"vkontakte,twitter,odnoklassniki,telegram",link:o.getUrl(t)},["share__buttons_black share__buttons_round"])+"</div></div>"),e+="</div></div></div></div>"})},function(t,e,i,n){t.exports=function(){var t=i(451),e=(i(151),i(315)),n=i(143),a=i(1163),s=i(108);return function(i){var o='<div class="page-personal-top2018 ';return i.isAuth||(o+=" not-logged-in"),o+=" "+__escape(s.theme("black").classes(!0))+'" data-b="'+__escape(Mu.dotBlockRoot(i,"page-personal-top2018",!0))+'"><div class="page-personal-top2018__content page-personal-top2018__bg"><div class="page-personal-top2018__board" style="background-image: url(\''+__escape(a.getBgImage(i))+'\')"><div class="page-personal-top2018__header"><div class="page-personal-top2018__header-logo">'+t.render({theme:"white"})+'</div></div><div class="page-personal-top2018__board-info',i.isAuth||(o+=" not-logged-in"),o+='">',i.isAuth&&!i.userData.minutes?o+='<h1 class="page-personal-top2018__board-title deco-typo typo-h1_big">'+__escape(i18n("page-personal-top2018","[feature/music-going-crazy]Что-то не зажгло"))+'</h1><br/><span class="page-personal-top2018__board-result typo-h2">'+__escape(i18n("page-personal-top2018","[feature/music-going-crazy]Возможно, вы и слушали музыку, но не у нас"))+"</span>":i.isAuth?o+='<h1 class="page-personal-top2018__board-title deco-typo typo-h3_regular">'+i18n("page-personal-top2018","[feature/music-going-crazy]В 2018 году музыка зажигала вас")+'</h1><span class="page-personal-top2018__board-duration deco-typo ">'+i.userData.text+'</span><br/><span class="page-personal-top2018__board-result typo-h3_regular">'+i.userData.secondaryText+"</span>":o+='<h1 class="page-personal-top2018__board-invitation deco-typo typo-h1_small">'+i18n("page-personal-top2018","[feature/music-going-crazy]Если музыка зажигает, значит вам это нужно")+'</h1><br/><div class="page-personal-top2018__board-result deco-typo typo">'+i18n("page-personal-top2018","[hotfix/hide-newplaylists-tab]Авторизуйтесь, чтобы узнать, сколько музыки вы наслушали в 2018 году")+n.render({size:"L",type:"action",text:i18n("page-personal-top2018","[feature/music-going-crazy]Войти"),rounded:!0,class:"page-personal-top2018__login-btn"})+"</div>",i.isAuth&&(o+='<div class="page-personal-top2018__share"><div class="page-personal-top2018__share-buttons">'+e.render({personal_top2018:i,services:"vkontakte,twitter,odnoklassniki,telegram",link:a.getUrl(i),rounded:!0,size:"L"})+"</div></div>"),o+="</div></div></div></div>"}}()},function(t,e,i,n){t.exports={getUrl:function(t){return t.sharingUser?"/personal/top2018/"+t.sharingUser:"/personal/top2018/"},getBgImage:function(t){return Mu.settings.uatraits&&(Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch)?t.userData.imageMobileUrl:t.userData.imageUrl}}},function(t,e,i,n){t.exports=function(){var t=i(122),e=i(1165),n=i(599),a=i(785),s=i(1166),o=i(684),r=i(690),l=i(691),c=i(696),d=i(692),u=i(693),p=i(1170),h=i(1016),_=i(619),m=i(1015),g=i(143),f=function(t){return'<div class="page-playlist__bottom"><div class="page-playlist__recommends page-playlist__recommends_empty"></div>'+y(t)+"</div>"},y=function(t){var i="";if(t.similarPlaylists&&t.similarPlaylists.length){var n=t.similarPlaylists.slice(0,4),s=t.similarPlaylists.slice(4),o=s.length;i+='<div class="page-playlist__similar-playlists" data-card="similar_playlist"><h2 class="page-playlist__subtitle typo typo-h2_bold">'+__escape(i18n("page-playlist","Похожие плейлисты"))+"</h2>";for(var r,l=0;l<n.length;l++)r=n[l],i+=a.render({playlist:r});if(o){var c=1===o?i18n("page-playlist","Показать ещё один плейлист"):e(o,i18n("page-playlist","Показать ещё %s плейлист|Показать ещё %s плейлиста|Показать ещё %s плейлистов|")),d=function(){for(var t,e="",i=0;i<s.length;i++)t=s[i],e+=a.render({playlist:t});return e}();i+=_.render({text:c,html:d})}i+="</div>"}return i};return function(e){return'<div class="page-playlist" data-b='+__escape(Mu.dotBlockRoot(e,"page-playlist"))+' data-card="'+__escape(e.playlist.idForFrom?e.playlist.idForFrom:"playlist")+'" >'+function(e,i){var a="",s=i&&i.user&&i.user.uid==e.owner.uid||!1,_=i&&i.user&&e.madeFor&&e.madeFor.userInfo&&i.user.uid==e.madeFor.userInfo.uid||!1,y=(t(e,i.user&&i.user.uid||0),3==e.kind);e.trackCount?e.trackCount:e.tracks&&e.tracks.length;a+='<div class="page-playlist__head">';var v=""+c(Object.assign(e,{isOwner:s})),b=function(){var t='<div class="page-playlist__stamp-entity">'+n.render({entity:i18n("page-playlist","Плейлист"),seoTag:"h2"})+'</div><div class="page-playlist__stamp">';return e.duration&&(t+=n.render({title:i18n("page-playlist","Длительность"),duration:e.duration,class:"page-playlist__duration"})),t+="</div>",s&&!y?(t+='<div class="page-playlist__title-wrapper">',e.title&&e.title.length>25?t+='<input type="text" class="page-playlist__title page-playlist__title_edit typo-h1_small deco-input deco-input_editable" maxlength="36" title="'+__escape(i18n("page-playlist","Переименовать"))+'" value="'+__escape(e.title)+'" /><div class="page-playlist__title-emojis page-playlist__title-emojis-small">'+Mu.render("d-emojis",{wrapper:"page-playlist__title-wrapper",field:"page-playlist__title",position:{at:"right+1 bottom"}})+"</div>":t+='<input type="text" class="page-playlist__title page-playlist__title_edit typo-h1_big deco-input deco-input_editable" maxlength="36" title="'+__escape(i18n("page-playlist","Переименовать"))+'" value="'+__escape(e.title)+'" /><div class="page-playlist__title-emojis">'+Mu.render("d-emojis",{wrapper:"page-playlist__title-wrapper",field:"page-playlist__title",position:{at:"right+1 bottom"}})+"</div>",t+="</div>"):e.title&&e.title.length>25?t+='<h1 class="page-playlist__title typo-h1 typo-h1_small">'+__escape(e.title)+"</h1>":t+='<h1 class="page-playlist__title typo-h1 typo-h1_big">'+__escape(e.title)+"</h1>",y||(t+=s?u(e):m.render({description:e.descriptionFormatted,class:"page-playlist__desc"})),t+=l(e)}(),k=function(){var t="";return s&&(t+='<span class="page-playlist__access-controls">'+Mu.render("ugc-loader",{uploadBlock:".page-playlist__upload",kind:e.kind})+"</span>"),e.generatedPlaylistType&&!_&&(t+='<div class="page-playlist__controls_float_right">'+g.render({rounded:!0,text:i18n("page-playlist","[feature/redirect-button]Слушать свой плейлист"),size:"L",class:"page-playlist__feedback-link",href:d.userPlaylistUrl(e.urlPart)})+"</div>"),t}();return a+=h.render({aside:v,main:b,actions:r(e),sideActions:!!k.length&&k})+'</div>\x3c!--<div class="page-playlist__line"/>--\x3e<div class="page-playlist__upload"></div>',!s&&e.doNotIndex&&y?a+='<div class="page-users__caption">'+__escape(i18n("page-playlist","[feature/mfront-3180-private]Пользователь предпочёл скрыть свою музыку"))+"</div>":a+=p.render({playlist:e})+'<div class="page-playlist__tracks-wrapper">'+o(e)+"</div>",a+=f(e)}(e.playlist,e.auth)+s.render({playlist:e.playlist})+"</div>"}}()},function(t,e,i,n){t.exports=i(69)},function(t,e,i,n){var a={render:i(1167)};clientSide&&(a.controller=i(1169)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(226),e=i(151),n=i(143),a=i(1168);return function(i){return'<div class="playlist-collective-popup deco_shadow" data-b='+__escape(Mu.dotBlockRoot(i,"playlist-collective-popup",!0))+'><div class="playlist-collective-popup__background"></div><div class="playlist-collective-popup__screen playlist-collective-popup__screen_visible '+(a.isLongLogin(i.playlist.owner.login)?"playlist-collective-popup__screen_long":"")+'"><div class="playlist-collective-popup__message">'+t.render({user:i.playlist.owner,size:"L",showAvatar:!0,showName:!0})+'<span class="playlist-collective-popup__message-text">&nbsp;'+__escape(i18n("page-playlist","приглашает вас стать соавтором в этом плейлисте"))+'</span></div><div class="playlist-collective-popup__actions">'+n.render({text:i18n("page-playlist","Принять"),rounded:!0,type:"action",class:"playlist-collective-popup__agree"})+e.render({style:"translucent",text:i18n("page-playlist","Отклонить"),class:"typo local-theme-black playlist-collective-popup__disagree"})+'</div></div><div class="playlist-collective-popup__screen"><div class="playlist-collective-popup__alert"><span class="playlist-collective-popup__alert-text">'+__escape(i18n("page-playlist","Теперь вы можете добавлять треки в этот плейлист"))+'</span></div><div class="playlist-collective-popup__actions">'+n.render({text:i18n("page-playlist","Понятно"),rounded:!0,type:"action",class:"playlist-collective-popup__disagree"})+"</div></div></div>"}}()},function(t,e,i,n){t.exports={isLongLogin:t=>t&&t.length>=20}},function(t,e,i,n){Mu.blocks.register("playlist-collective-popup",function(){var t,e,i,n=function(){Mu.eventize(this)};return n.init=function(n){t=n.get("auth"),e=n.get("dataSrc"),i=n.get("navigation")},n.prototype.init=function(){this.token=this.data.token||"",this.$cont=$(this.container),this.$page=this.$cont.closest(".page-playlist"),this.$bg=this.$cont.find(".playlist-collective-popup__background"),this.$screens=this.$cont.find(".playlist-collective-popup__screen"),this.onResize=this.onResize.bind(this),this.onAgree=this.onAgree.bind(this),this.onDisagree=this.onDisagree.bind(this),Mu.pages.on("loaded",this.onResize),$(window).on("resize",this.onResize),this.$cont.on("click",".playlist-collective-popup__agree",this.onAgree),this.$cont.on("click",".playlist-collective-popup__disagree",this.onDisagree)},n.prototype.destroy=function(){Mu.pages.off("loaded",this.onResize),$(window).off("resize",this.onResize),this.$cont.off("click",".playlist-collective-popup__agree",this.onAgree),this.$cont.off("click",".playlist-collective-popup__disagree",this.onDisagree)},n.prototype.showByToken=function(i){var n=this;if(n.token=i||n.token,n.token){var a=function(){n.onResize(),n.$cont.addClass("playlist-collective-popup_visible")},s={action:"check",token:n.token,uid:n.data.playlist.owner.uid,kind:n.data.playlist.kind};t.isLoggedIn()?e.get("playlist-access",s,{nocache:!0}).then((function(t){t&&t.canBeAdded&&setTimeout((function(){a()}),200)})):a()}},n.prototype.hide=function(){this.$cont.removeClass("playlist-collective-popup_visible")},n.prototype.onResize=function(){this.$cont.css({width:this.$page.width()+"px",left:this.$page.offset().left+"px"})},n.prototype.onAgree=function(){var n=this;if(t.isLoggedIn()){if(parseInt(n.data.playlist.owner.uid)!==parseInt(t.user.uid)){n.$screens.toggleClass("playlist-collective-popup__screen_visible"),n.$bg.addClass("playlist-collective-popup__background_hidden"),setTimeout((function(){n.$bg.removeClass("playlist-collective-popup__background_hidden")}),200),n.trigger("agreeing",n);var a={action:"join",token:n.token,uid:n.data.playlist.owner.uid,kind:n.data.playlist.kind};e.post("playlist-access",a,{nocache:!0}).then((function(t){t&&"ok"===t.status&&n.trigger("agreed",n)}))}}else t.showAuthForm((function(){var t=document.location.pathname;i.pushState(t+"?token="+n.token,!0)}),null,null,!0)},n.prototype.onDisagree=function(){this.hide()},n}())},function(t,e,i,n){var a={render:i(1171)};clientSide&&(a.controller=i(1172)),t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(139),function(t){return'<div class="playlist-filter-suggest with-cover" data-b='+__escape(Mu.dotBlockRoot(t,"playlist-filter-suggest",!0))+' data-card="filter_suggest" >'+a.render({style:"transparent",wide:!0,placeholder:i18n("page-playlist","Поиск трека"),iconLeft:"loupe",iconRight:"cross-small",hasClear:!0,class:"playlist-filter-suggest__input"})+"</div>"})},function(t,e,i,n){const a="playlist-filter-suggest__track",s="playlist-filter-suggest__track_collapsed",o="playlist-filter-suggest__result-block_empty",r=i(25),l=i(1173),c=i(1174),d=i(1175),u=i(1176);Mu.blocks.register("playlist-filter-suggest",function(){let t,e,i,n,p;const h=function(){Mu.eventize(this)};return h.init=function(a){t=a.get("auth"),e=a.get("pages"),i=a.get("dataSrc"),n=a.get("hiliter"),p=a.get("layout")},h.prototype.init=function(){const t=this;t._isAuthor=l.isAuthor(t.data.playlist),t._tracksCount=t.data.playlist.trackCount,t._loadedPages=[],t.$cont=$(t.container),t.$window=$(window),t.$input=t.$cont.find(".playlist-filter-suggest__input"),t.$result=t.$cont.find(".playlist-filter-suggest__result"),t.input=Mu.blocks.forElem(t.$input.get(0)),t.onLoaded=t.onLoaded.bind(t),t.onScroll=r.throttle(500,!0,t.onScroll.bind(t)),t.delegate("track.add",t.onTrackAddClick.bind(t)),t.delegate("track.delete",t.onTrackDeleteClick.bind(t)),t.delegate("button-play.getContext",t.getContext),t.input&&(t.input.on("keyup",t.onChange.bind(t)),t.input.on("clear",t.onClear.bind(t)),t.input.on("focus",t.onFocus.bind(t))),e.on("loaded",t.onLoaded),e.on("unloading",t.destroy.bind(t)),t.$window.on("scroll resize",t.onScroll),(!c.isAvailable()||Mu.settings.uatraits.isMobile||Mu.settings.uatraits.isTouch)&&t.$cont.addClass("playlist-filter-suggest_unavailable")},h.prototype.destroy=function(){this.socket&&this.socket.destroy(),e.off("loaded",this.onLoaded),this.$window.off("scroll resize",this.onScroll)},h.prototype.initSocket=function(){const t=this;return i.get("user-token",{}).then((function(e){return t.token=e.token,t.socket?t.socketRefresh():(t.socket=new c(Mu.settings.socket+"playlists/websocket",{playlistId:`${t.data.playlist.owner.uid}:${t.data.playlist.kind}`},{token:t.token,debug:Mu.settings.isLogMode,requiredAuth:!1}),t.socket.connect())}))},h.prototype.socketRefresh=function(){const t=this;return t.socket?t.socket.isOpen()?t.socket.request("refresh"):t.socket.reconnect():Promise.reject(new Error("Socket is not exist"))},h.prototype.onLoaded=function(){const t=this;!c.isAvailable()||!t.input||t.data.playlist&&t.data.playlist.tracks&&t.data.playlist.tracks.length>0||(t.input.toggleActive(!0),t.onFocus())},h.prototype.onChange=function(t,e){const i=this;(e=(e||"").trim())?i.findResult(e).then((function(){i.show()}),(function(){i.hide()})):i.hide()},h.prototype.onFocus=function(){this.initSocket()},h.prototype.onClear=function(){this.input.value(""),this.hide()},h.prototype.onScroll=function(){const t=this;t.isShownResult()&&t.getVisiblePagesList().forEach((function(e){t._loadedPages[e]||t.loadPage(e).then((function(){t.show()}))}))},h.prototype.onTrackAddClick=function(e){const i=this;if(e.stopBubble=!0,i.isShownResult()){const n=Object.assign({},e.data),r=$(e.target&&e.target.container),l=i.data.playlist.kind===Mu.constants.KIND_LIKE,c=t.user.settings.addNewTrackOnPlaylistTop||l;n.order=c?0:i._tracksCount;const d=i.isEmptyResult(),p=$(u({isAuthor:i._isAuthor,tracks:[n],className:s,withHeader:d}));if(p.addClass(s),Mu.blocks.initPendingBlocks(p),(i._loadedPages[0].suggestTracks||[]).find((function(t,e){return t.id===n.id&&(i._loadedPages[0].suggestTracks.splice(e,1),!0)})),d&&i.$resultFromPlaylist.removeClass(o),c&&!d)i._loadedPages.forEach((function(t){t.playlistTracks&&t.playlistTracks.length>0&&t.playlistTracks.forEach((function(t){t.order+=1}))})),i.show(),p.insertBefore(i.$resultFromPlaylist.find("."+a).first()),i._loadedPages[0].playlistTracks.unshift(n);else{i.$resultFromPlaylist.append(p);const t=c?0:i._loadedPages.length-1;i._loadedPages[t].playlistTracks=(i._loadedPages[t].playlistTracks||[]).concat(n)}setTimeout((function(){p.removeClass(s),r.addClass(s),setTimeout((function(){i.$resultFromSuggest.find("."+a).not("."+s).size()||i.$resultFromSuggest.addClass(o)}),300)}),0),i._total+=1,i._tracksCount+=1,i.trigger("add",n)}},h.prototype.onTrackDeleteClick=function(t){const e=this;if(t.stopBubble=!0,e.isShownResult()){const i=Object.assign({},t.data),n=$(t.target&&t.target.container);let a=-1,r=-1;e.getVisiblePagesList().forEach((function(t){(e._loadedPages[t].playlistTracks||[]).forEach((function(e,n){e.order===i.order?(r=n,a=t):r>=0&&(e.order-=1)}))})),a>=0&&r>=0&&e._loadedPages[a].playlistTracks.splice(r,1),n.addClass(s),setTimeout((function(){e.isEmptyResult()?(e.$resultFromPlaylist.addClass(o).empty(),e.isEmptySuggest()&&(e.input.value(""),e.hide())):e.show()}),300),e._total-=1,e._tracksCount-=1,e.trigger("delete",i,i.order)}},h.prototype.getVisiblePagesList=function(){const t=[],e=this.$resultFromPlaylist.find("."+a);if(!e.size())return t;const i=e.height(),n=e.first().offset().top,s=Math.round(Math.max(0,(this.$window.scrollTop()-n)/i)),o=this.$window.scrollTop()>n?this.$window.height():this.$window.height()-(n-this.$window.scrollTop()),r=Math.max(0,Math.floor(o/i)),l=Math.min(s,e.size()),c=Math.min(l+r,e.size());return this._loadedPages.forEach((function(e,i){const n=[100*i,100*i+100];(l>=n[0]&&l<=n[1]||c>=n[0]&&c<=n[1])&&t.push(i)})),t},h.prototype.isEmptyResult=function(){return void 0===this._loadedPages.find((function(t){return(t.playlistTracks||[]).find((function(t){return t}))}))},h.prototype.isEmptySuggest=function(){return!(this._loadedPages[0]&&this._loadedPages[0].suggestTracks&&this._loadedPages[0].suggestTracks.length)},h.prototype.findResult=function(t,e){const i=this;if(i.socket&&t){const n=i._value!==t;return e=n?0:parseInt(e,10)||0,i._value=t,i._loadedPages=n?[]:i._loadedPages,n||!i._loadedPages[e]?i.socket.request("search",{part:t,page:e,pageSize:100}).then((function(t){return 0===e&&(i._total=t.pager.total,i._loadedPages=new Array(Math.ceil(i._total/100)).fill(void 0)),t&&t.playlistTracks&&(t.playlistTracks=t.playlistTracks.map(l.playlistTrackMap)),i._loadedPages[e]={playlistTracks:t.playlistTracks,suggestTracks:t.suggestTracks},t})):Promise.resolve(i._loadedPages[e])}return Promise.reject({})},h.prototype.loadPage=function(t){const e=this;return t=parseInt(t,10)||0,e._loadedPages[t]?Promise.resolve(e._loadedPages[t]):e._loadedPages.length-1>=t?e.findResult(e._value,t):Promise.resolve({})},h.prototype.updatePlaylist=function(t){this.data.playlist=t&&t.playlist||this.data.playlist,this._tracksCount=this.data.playlist.trackCount},h.prototype.show=function(){const t=$(d({value:this._value,isAuthor:this._isAuthor,suggestTracks:this._loadedPages[0]?this._loadedPages[0].suggestTracks:[],playlistTracks:this.getLoadedTracks(!0)}));Mu.blocks.initPendingBlocks(t),this.$result.remove(),this.$cont.append(t),this.$result=t,this.$resultFromPlaylist=this.$result.find(".playlist-filter-suggest__result-block_playlist"),this.$resultFromSuggest=this.$result.find(".playlist-filter-suggest__result-block_suggest"),n.hilitePage(Mu.pages.current),this.onShow(),this.trigger("show")},h.prototype.onShow=function(){this.$result.find(".explicit-wrap").each((t,e)=>{var i=$(e),n=i.closest(".d-track__title");p.updateExplicitMarkPosition(i,n)})},h.prototype.getLoadedTracks=function(t){const e=this;return e._loadedPages.map((function(i,n){return i&&i.playlistTracks&&i.playlistTracks.length>0?i.playlistTracks:t?e._loadedPages.length-1===n?new Array(100-(100*e._loadedPages.length-e._total)):new Array(100):[]})).reduce((function(t,e){return t.concat(e)}),[])},h.prototype.getFoundTracks=function(){return this._loadedPages&&this._loadedPages.length>0?this._loadedPages[0].suggestTracks:[]},h.prototype.hide=function(){this._value="",this._loadedPages=[],this.$result.empty(),this.trigger("hide")},h.prototype.isShownResult=function(){return this._value&&this._loadedPages&&this._loadedPages.length>0},h.prototype.getContext=function(t){const e=this;t.stopBubble=!0;const{playlist:i}=e.data;let n,a;return e.$resultFromPlaylist.has(t.target&&t.target.container).size()?(a=e.getLoadedTracks(),n={id:"playlist-filter:"+i.kind,href:`/users/${i.owner.login}/playlists/${i.kind}`,entries:a.map((function(t){return{album:t.albums[0],track:t}}))}):(a=e.getFoundTracks(),n={id:"playlist-suggest:"+i.kind,href:`/users/${i.owner.login}/playlists/${i.kind}`,entries:a.map((function(t){return{album:t.albums[0],track:t}}))}),n},h}())},function(t,e,i,n){const a=i(14),s=i(122);t.exports={isAuthor:t=>s(t,a().uid),isEmptyPlaylist:t=>!t||!(t.playlistTracks&&t.playlistTracks.length),isEmptySuggest:t=>!t||!(t.suggestTracks&&t.suggestTracks.length),isEmptyResult(t){return this.isEmptyPlaylist(t)&&this.isEmptySuggest(t)},playlistTrackMap:t=>(t.chart&&(t.chartPosition=t.chart.position),t)}},function(t,e,i,n){const a=i(103),s=function(t,e){Error.call(this,t||"Unknown error"),this.name="SocketError",this.canRetry=e};(s.prototype=Object.create(Error.prototype)).constructor=s;const o=function(t,e,i){if(!o.isAvailable())throw new s("WebSocket is not supported");this._url=o.prepareUrl(t,e),this._isAuthorized=!1,this._disconnected=!1,this._pendingRequests={},this._deferredActions=[],this._options=Object.assign({token:"",debug:!1,keepAlive:!1,requiredAuth:!1},i)};o.isAvailable=function(){return!("undefined"==typeof window||!window.WebSocket)},o.prepareUrl=function(t,e){t="string"==typeof t&&t?t:"/",e=e||{};const i=[];for(const t in e)e.hasOwnProperty(t)&&i.push(`${t}=${encodeURIComponent(e[t])}`);const n=t.indexOf("?");return n>0?t=n===t.length-1?t:t+"&":t+="?",t+=i.join("&")},o.prototype._auth=function(){const t=this;return t._isAuthorized=!1,t.request("auth",{user:t._options.token}).then((function(e){t._isAuthorized=!!(t._options.requiredAuth&&e.success||!t._options.requiredAuth),t.isAuthorized()?t._connecting.resolve({success:!0}):t._connecting.reject(new s("Authorization failed",!0))}),(function(){t._connecting.reject(new s("Authorization failed",!0))}))},o.prototype._send=function(t,e,i){const n=this,o=`${t}-${Date.now()+Math.random()}`,r=JSON.stringify(Object.assign({reqId:o,action:t},e)),l=new a;n._pendingRequests[o]=l;const c=setTimeout((function(){l.reject(new s("Request timed out",i))}),1e4),d=function(){delete n._pendingRequests[o],clearTimeout(c)};l.promise().then(d,d);try{n._ws.send(r),n._log("send",r)}catch(t){l.reject(t)}return l.promise()},o.prototype._onMessage=function(t){const e=this;let i;try{i=JSON.parse(t&&t.data||{}),i=i&&i.result||i}catch(t){i={}}const n=i.reqId||"";if(e._log("response",i),n){const t=e._pendingRequests[n];if(!t)throw new o("Response was late");t.resolve(i)}else e._log("undefined request id")},o.prototype._onClose=function(t){const e=this;e._log("closed",t),t.wasClean&&e._options.keepAlive&&!e.isDisconnected()?e.reconnect():e._connecting&&e._connecting.reject(new s("Socket is disconnected"))},o.prototype._onError=function(t){throw new s(t&&t.message||"Unknown error")},o.prototype._log=function(...t){if(this._options.debug){const e=t.splice(0,1);console.log(`[${(new Date).toLocaleTimeString()}] Socket: ${e}`,...t)}},o.prototype.connect=function(){const t=this;if(t.isOpen())return t.isAuthorized()?this._connecting.promise():t._auth();if(t._connecting)return t._connecting.promise();t._log("connection"),t._connecting=new a,t._ws=new window.WebSocket(t._url),t._ws.addEventListener("open",t._auth.bind(t)),t._ws.addEventListener("message",t._onMessage.bind(t)),t._ws.onclose=t._onClose.bind(t),t._ws.addEventListener("error",t._onError.bind(t));const e=setTimeout((function(){t._ws.close(),t._connecting.reject(new s("Socket connection timed out"))}),5e3),i=function(){clearTimeout(e)};return t._connecting.promise().then((function(){i(),t._deferredActions.forEach((function(e){e.bind(t)()})),t._deferredActions=[]}),i),this._connecting.promise()},o.prototype.reconnect=function(t){const e=this;t=t||5;let i=0;if(e.isOpen())return Promise.reject(new s("Socket is already connected"));if(e.isDisconnected())return Promise.reject(new s("Socket is disconnected"));if(e._reconnecting)return e._reconnecting;const n=new a,o=function(){e._connecting=null,e.connect().then((function(){n.resolve(),e._reconnecting=null}),(function(a){a.canRetry=a.canRetry&&++i>=t||!1,a.canRetry?setTimeout(o,1e3):(n.reject(a),e._reconnecting=null)}))};return e._log("reconnection"),o(),e._reconnecting=n.promise(),e._reconnecting},o.prototype.destroy=function(){return this._disconnected=!0,this.isOpen()&&this._ws.close(),this._ws=null,this._connecting=null,Promise.resolve({success:!0})},o.prototype.request=function(t,e,i){const n=this;let o=0;i=i||5;const r=new a,l=function(){n._send(t,e,o<i).then(r.resolve,(function(t){o++,o>=i&&(t.canRetry=!1),t.canRetry?setTimeout(l,300):r.reject(t)}))};return n.isOpen()?l():n.isDisconnected()?r.reject(new s("Socket is disconnected")):n._options.keepAlive?(n._deferredActions.push(l),n.reconnect().then(l)):r.reject(new s("Socket is disconnected")),r.promise()},o.prototype.isOpen=function(){return!(!this._ws||this._ws.readyState!==this._ws.OPEN)},o.prototype.isAuthorized=function(){return this._isAuthorized},o.prototype.isDisconnected=function(){return this._disconnected},t.exports=o},function(t,e,i,n){var a,s,o;t.exports=(a=i(688),s=i(1173),o=i(1176),function(t){var e='<div class="playlist-filter-suggest__result">';return s.isEmptyResult(t)||s.isEmptyPlaylist(t)&&!t.isAuthor?e+='<div class="playlist-filter-suggest__result-container">'+a.render({type:"emptyResult",href:"/search?text="+encodeURIComponent(t.value)})+"</div>":(e+='<div class="playlist-filter-suggest__result-container"><div class="playlist-filter-suggest__result-block playlist-filter-suggest__result-block_playlist '+__escape(s.isEmptyPlaylist(t)?"playlist-filter-suggest__result-block_empty":"")+'" data-card="filtered">'+o({tracks:t.playlistTracks,isAuthor:t.isAuthor,withHeader:!0})+"</div>",t.isAuthor&&(e+='<div class="playlist-filter-suggest__result-block playlist-filter-suggest__result-block_suggest '+__escape(s.isEmptySuggest(t)?"playlist-filter-suggest__result-block_empty":"")+'" data-card="suggested"><div class="playlist-filter-suggest__title">'+__escape(i18n("page-playlist","Поиск по каталогу"))+"</div>"+o({tracks:t.suggestTracks,isAuthor:t.isAuthor,actions:["bigAdd"]})+"</div>"),e+="</div>"),e+="</div>"})},function(t,e,i,n){t.exports=function(){var t,e=i(652);i(267);return function(i){var n="";if(i.tracks&&i.tracks.length){i.actions?t=i.actions:(t=["like","dislike"],i.isAuthor&&t.push("remove"));for(var a,s=0;s<i.tracks.length;s++)(a=i.tracks[s])?a.deleted||(n+=e.render({type:"withCover",listIndex:a.order||(i.firstIndex||0)+s,showArtist:!0,showChartPosition:!0,track:a,actions:t,className:"playlist-filter-suggest__track"+(i.className?" "+i.className:"")})):n+=e.render({isPlaceholder:!0,className:"playlist-filter-suggest__track"})}return n}}()},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(1178),n=i(1180),a=i(1181);return function(i){var s='<div class="popup-sequence" data-b="'+__escape(Mu.dotBlockRoot(i,"popup-sequence",!0))+'">'+e(i)+'<span class="popup-sequence__close-wrapper"> '+t.render({type:"flat",icon:"cross-medium",class:"popup__close"})+' </span><div class="popup-sequence__content">';return"history"===i.what?s+=n(i):s+=a(i),s+="</div></div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(313),e=i(642),n=i(143),a=i(1179);return function(i){var s='<div class="popup-sequence__header deco-devider"><div class="popup-sequence__header-content"><div class="popup-sequence__buttons-bar">';return"history"!==i.what&&(s+=t.render({hideSeq:!0,topmost:!0,entries:i.entries,popup:{fixed:!0,position:{my:"center top+10",at:"center bottom"}},button:{icon:"",text:i18n("popup-sequence","Сохранить как плейлист"),size:"S",rounded:!1},class:"popup-sequence__button-save"})),s+=n.render({type:"transparent",class:"popup-sequence__button-clear",text:i18n("popup-sequence","Очистить"),size:"S",disabled:!i.tracks.length})+"</div>"+e.render({currentId:i.what,items:a.getTabs(i)})+"</div></div>"}}()},function(t,e,i,n){t.exports={getTabs:function(t){var e=[];return t.radio||e.push({title:i18n("popup-sequence","Очередь прослушивания"),id:"sequence",class:"popup-sequence__seq-tab"}),t.auth.user.login&&e.push({title:i18n("popup-sequence","История"),id:"history",class:"popup-sequence__history-tab"}),e}}},function(t,e,i,n){t.exports=function(){var t=i(686);i(267);return function(e){return'<div class="popup-sequence__tracks"><div class="popup-sequence__tracks-list">'+t.render({type:"track",ids:e.trackIds,items:e.tracks,isOwner:!1,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",nonSelectable:!0,showChartPosition:!0},itemHeight:64,onItemReady:function(t){var e=$(t.dom).find(".d-track__title"),i=e.find(".explicit-wrap");Mu.layout.updateExplicitMarkPosition(i,e)}})+"</div></div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(151),e=i(686);i(267);return function(i){var n='<div class="popup-sequence__tracks">';if(i.context.title){n+='<div class="popup-sequence__context"><span class="popup-sequence__title">'+__escape(i18n("popup-sequence","Сейчас играет"))+":</span>";var a=i.titleWithLink?i.context.href:"",s=Array.isArray(i.context.title)?i.context.title.join("|"):i.context.title,o=i.nonMusic&&i.context.shortTitle?i.context.shortTitle:s;n+=t.render({href:a,text:o,style:i.titleWithLink?"muted":"",noHoverColor:!i.titleWithLink})+"</div>"}return n+='<div class="popup-sequence__tracks-list">'+e.render({type:"track",ids:i.trackIds,items:i.tracks,isOwner:!1,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",actions:["like","dislike","remove"],showChartPosition:!0,hidePlaybackProgress:!0},itemHeight:64,draggable:!0,onItemReady:function(t){var e=$(t.dom).find(".d-track__title"),i=e.find(".explicit-wrap");Mu.layout.updateExplicitMarkPosition(i,e)}})+"</div></div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(702),e=i(1183),n=i(143);return function(i){return'<div class="popup-wizard deco-pane" data-b="'+__escape(Mu.dotBlockRoot(i,"popup-wizard",!0))+'"><span class="popup-wizard__close-wrapper">'+n.render({type:"flat",icon:"cross-medium",class:"popup-wizard__close"})+'</span><div class="popup-wizard__legend">'+e.render(i)+'<div class="popup-wizard__text popup-wizard__text-genres">'+i18n("popup-wizard","Выберите любимые жанры")+'<div class="popup-wizard__subtext">'+i18n("popup-wizard","[feature/mfront-3157]Это поможет получать более точные и интересные рекомендации")+'</div></div><div class="popup-wizard__text popup-wizard__text-artists">'+i18n("popup-wizard","Выберите любимых исполнителей")+'<div class="popup-wizard__subtext">'+i18n("popup-wizard","[feature/mfront-3157]Это поможет получать более точные и интересные рекомендации")+"</div></div>"+n.render({size:"L",rounded:!0,class:"popup-wizard__prev",icon:"arrow-left"})+n.render({text:i18n("popup-wizard","Далее"),size:"L",type:"action",rounded:!0,class:"button_action popup-wizard__next"})+'</div><div class="popup-wizard__content">'+t(i.genres)+'</div></div><div class="popup-wizard__exit deco-pane"> <div class="popup-wizard__exit-content"> <div class="popup-wizard__exit-img"></div> <div class="popup-wizard__exit-head popup-wizard__exit-head_genres"> '+i18n("popup-wizard","Пропустить выбор жанров?")+' </div> <div class="popup-wizard__exit-head popup-wizard__exit-head_artists"> '+i18n("popup-wizard","Пропустить выбор исполнителей?")+' </div> <div class="popup-wizard__exit-text"> '+i18n("popup-wizard","Вы можете пропустить этот шаг,<br/> но точность рекомендаций существенно снизится.")+" </div> "+n.render({text:i18n("popup-wizard","Выбрать жанры"),size:"L",rounded:!0,type:"action",class:"button_action popup-wizard__no-exit"})+" <br/> "+n.render({text:i18n("popup-wizard","Пропустить"),size:"L",rounded:!0,class:"popup-wizard__really-exit"})+" </div></div>"}}()},function(t,e,i,n){var a={render:i(1184)};clientSide&&(a.controller=i(1185)),t.exports=a},function(t,e,i,n){t.exports=function(t){return'<div class="wizard-me" data-b="'+__escape(Mu.dotBlockRoot(t,"wizard-me"))+'">'+__escape(i18n("wizard-me","Я"))+'<div class="wizard-me__ripple"></div><div class="wizard-me__fill wizard-me__fill-50"></div><div class="wizard-me__fill wizard-me__fill-67"></div><div class="wizard-me__fill wizard-me__fill-83"></div><div class="wizard-me__fill wizard-me__fill-100"></div><div class="wizard-me__final-text">'+__escape(i18n("wizard-me","[feature/mfront-3157]Звучит отлично!"))+'<div class="wizard-me__final-subtext">'+i18n("wizard-me","[feature/mfront-3157]Уже собираем для вас рекомендации,<br> скоро сами всё услышите")+"</div></div></div>"}},function(t,e,i,n){var a,s=Mu&&Mu.utils.promiseTransitioned;Mu.blocks.register("wizard-me",((a=function(){}).prototype.ripple=function(){var t=this.container;t.classList.remove("wizard-me_ripple"),setTimeout((function(){t.classList.add("wizard-me_ripple")}),30)},a.prototype.fill=function(t){if(t!==this.percent){var e=this.container,i=$(e);switch(t){case 0:100===this.percent?(i.removeClass("wizard-me_100"),s(e).then((function(){i.removeClass("wizard-me_50")}))):i.removeClass("wizard-me_50 wizard-me_67 wizard-me_83");break;case 50:i.addClass("wizard-me_50"),i.removeClass("wizard-me_67 wizard-me_83");break;case 67:i.addClass("wizard-me_67"),this.percent>67&&i.removeClass("wizard-me_"+this.percent);break;case 83:i.addClass("wizard-me_83"),this.percent>83&&i.removeClass("wizard-me_"+this.percent);break;case 100:0===this.percent?(i.addClass("wizard-me_50"),s(e).then((function(){i.addClass("wizard-me_100")}))):i.addClass("wizard-me_67 wizard-me_83 wizard-me_100")}this.percent=t}},a.prototype.runFinalAnim=function(){var t=this.container,e=t.parentNode.parentNode,i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=n.left-i.left+(n.width-i.width)/2,o=n.top-i.top+(n.height-i.height)/2,r=Math.sqrt(a*a+o*o),l=Math.atan2(o,a)-20*Math.PI/180;return a=r*Math.cos(l),o=r*Math.sin(l),t.style.transform="rotate(20deg) translate("+a+"px, "+o+"px) rotate(-20deg)",t.classList.add("wizard-me_final0"),s(t).then((function(){return t.classList.add("wizard-me_final1"),s(t)})).then((function(){return t.classList.add("wizard-me_final2"),s(t)}))},a))},function(t,e,i,n){t.exports=function(){var t=i(294),e=i(451),n=i(226),a=i(143);i(652);return function(i){var s="",o=t();return s+='<div class="page-predictions">'+function(t){var i='<div class="page-predictions__header"><div class="page-predictions__header-logo">'+e.render({theme:"white"})+"</div>";return o.uid&&(i+=n.render({user:o,showLink:!0,class:"page-predictions__header-login"})),i+="</div>"}()+'<div class="page-predictions__popup-wrapper"></div><div class="page-predictions__monkey-container"><div class="page-predictions__monkey"><div class="page-predictions__monkey-bg"></div><div class="page-predictions__monkey-body"></div><div class="page-predictions__monkey-eyebrow"></div><div class="page-predictions__monkey-hand"></div><div class="page-predictions__monkey-ball"></div><div class="page-predictions__monkey-note-1"></div><div class="page-predictions__monkey-note-2"></div><div class="page-predictions__monkey-disc-1"></div><div class="page-predictions__monkey-disc-2"></div><div class="page-predictions__monkey-controller-1"></div><div class="page-predictions__monkey-controller-2"></div><div class="page-predictions__monkey-controller-3"></div><div class="page-predictions__monkey-progress"></div></div>'+Mu.render("snowfall",i)+Mu.render("overlay",i)+'<div class="page-predictions__action"><div class="page-predictions__title">'+__escape(i18n("page-predictions","[feature/mfront-3349]Музыкальные предсказания"))+'</div><div class="page-predictions__subtitle">'+__escape(i18n("page-predictions","[feature/mfront-3349]Узнайте, под знаком какой песни пройдёт для вас год"))+"</div>"+a.render({text:i18n("page-predictions","[feature/mfront-3349]Узнать"),size:"L",type:"action",class:"button_prediction"})+"</div></div></div>"}}()},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(644),s=i(1188),o=i(1191),r=i(1193),function(t){var e='<div class="page-radio"data-b="'+__escape(Mu.dotBlockRoot(t,"page-radio",!0))+'">'+a.render({title:i18n("page-radio","[feature/mfront-3789]Потоки"),tabs:{currentId:t.activeTab,items:t.tabs}});return"overview"===t.activeTab?e+=s(t):"neuromusic"===t.activeTab&&t.generativeStations&&t.generativeStations.length>0?e+=r({generativeStations:t.generativeStations}):"genre"===t.activeTab?e+=o(t.library.types.genre):"mood"===t.activeTab?e+=o(t.library.types.mood):"activity"===t.activeTab?e+=o(t.library.types.activity):"epoch"===t.activeTab&&(e+=o(t.library.types.epoch)),e+="</div>"})},function(t,e,i,n){var a,s;t.exports=(a=i(1189),s=i(1190),function(t){var e="";const i=s.filterStation(t.dashboard.stations);e+='<div class="page-radio__dashboard '+__escape(s.isMyWaveOff()?"page-radio__dashboard_disabled":"")+'">';for(var n,o=0;o<i.slice(0,4).length;o++)n=i.slice(0,4)[o],e+=a(n);return e+="</div>"})},function(t,e,i,n){var a;t.exports=(a=i(1190),function(t){var e="",i=function(t){return Mu.render("radio-station",t)};return e+='<div class="page-radio__dashboard-column" data-station-tag="'+__escape(a.getStationIdTag(t.station))+'">'+i({station:t.station,theme:"dashboard"})+"</div>"})},function(t,e,i,n){t.exports={filterStation:t=>"on"!==Mu.experiments.WebMyVibeFreemium||Mu.authData.user.havePlus?t:t.filter(t=>{if("onyourwave"!==t.station.id.tag)return t}),getStationIdTag:t=>t&&t.id&&t.id.tag,isMyWaveOff:()=>"on"===Mu.experiments.WebMyVibeFreemium&&!Mu.authData.user.havePlus}},function(t,e,i,n){t.exports=function(t){var e="",n=i(1192);e+='<div class="page-radio__main-genres">';for(var a=0;a<t.children.length;a++)e+=n(t.children[a]);return e+="</div>"}},function(t,e,i,n){t.exports=function(t){var e="";return e+='<div class="page-radio__station">'+function(t){return Mu.render("radio-station",t)}({station:t})+"</div>"}},function(t,e,i,n){t.exports=function(){i(1189);var t=function(t){return Mu.render("radio-station",t)};return function(e){for(var i,n='<div class="page-radio__dashboard">',a=0;a<e.generativeStations.length;a++)i=e.generativeStations[a],n+='<div class="page-radio__dashboard-column">'+t({station:i})+"</div>";return n+="</div>"}}()},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(1195),s=i(1196),o=i(1197),r=i(1199),function(t){var e='<div class="page-search" data-b="'+__escape(Mu.dotBlockRoot(t,"page-search"))+'">',i=t.result.counts.artists+t.result.counts.albums+t.result.counts.tracks+t.result.counts.podcasts+t.result.counts.podcast_episodes+t.result.counts.playlists;return e+=a(t.result.misspell),0==i&&(e+=s(t)),0!=i&&t.result.counts.artists!=i&&t.result.counts.albums!=i&&t.result.counts.tracks!=i&&t.result.counts.podcasts!=i&&t.result.counts.podcast_episodes!=i&&t.result.counts.playlists!=i&&(e+=o(t)),e+=r(t)+"</div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(151);return function(i){var n="";if(i.corrected)n+='<div class="page-search__misspell">'+__escape(i18n("page-search","«%1» — запрос исправлен",i.orig))+t.render({size:"S",text:i18n("page-search","Отменить"),use_link:!0,href:"/search?text="+encodeURIComponent(i.orig)+"&nocorrect=1",class:"page-search__misspell-button"})+"</div>";else if(i.result){n+='<div class="page-search__misspell">';var a=""+e.render({text:i.result,href:"/search?text="+encodeURIComponent(i.result)});n+=i18n("page-search","Быть может, вы искали «%1»?",a)+"</div>"}return n}}()},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){var e="",i=t.result.misspell.orig||t.result.text;return e+='<div class="page-search__empty">'+i18n("page-search","[feature/mfront-3990-1]В библиотеке Яндекс&nbsp;Музыки пока нет исполнителей, альбомов и треков с таким названием")+"&nbsp;— "+a.render({text:i18n("page-search","Поискать на Яндексе"),href:"//yandex."+Mu.settings.tld+"/yandsearch?text="+(i?encodeURIComponent(i):""),target:"_blank"})+"</div>"})},function(t,e,i,n){var a,s,o;t.exports=(a=i(612),s=i(293),o=i(1198),function(t){var e="",i="/search?text="+encodeURIComponent(t.result.text),n=t.query.type,r={artists:i18n("page-search","%s исполнитель|%s исполнителя|%s исполнителей|"),albums:i18n("page-search","%s альбом|%s альбома|%s альбомов|"),tracks:i18n("page-search","%s трек|%s трека|%s треков|"),podcasts:i18n("page-search","[feature/mfront-3737]%s подкаст/книга|%s подкаста/книги|%s подкастов/книг|"),podcast_episodes:i18n("page-search","[feature/podcasts-in-search]%s выпуск|%s выпуска|%s выпусков|"),playlists:i18n("page-search","%s плейлист|%s плейлиста|%s плейлистов|")},l=o.getBlocksInOrder(t.result,"switch");e+='<div class="page-search__switch">';for(var c,d=[{text:i18n("page-search","Всё"),href:i,active:"all"===n}],u=0;u<l.length;u++)c=l[u],t.result.counts[c]&&d.push({text:s(t.result.counts[c],r[c]),href:i+"&type="+c,active:n===c});return e+=a.render({items:d,size:"S"})+"</div>"})},function(t,e,i,n){t.exports={getBlocksInOrder:function(t,e){var i=["artists","albums","tracks","podcasts","podcast_episodes","playlists"],n=[];return"switch"===e?n=i:(i.forEach((function(e){t[e]&&void 0!==t[e].order&&(n[t[e].order]=e)})),t.videos&&t.videos.order&&n.push("videos")),n}}},function(t,e,i,n){var a,s,o,r,l;t.exports=(a=i(648),s=i(1200),o=i(1201),r=i(1198),l=function(t,e,i){var n="";return t[i]&&(n+=o({type:i,result:t,filter:e})),n},function(t){for(var e,i="",n=t.query.type,o=t.result.counts,c=(o.artists,o.albums,o.tracks,o.podcasts,o.podcast_episodes,r.getBlocksInOrder(t.result,"serp")),d=0;d<c.length;d++)e=c[d],t.result&&(i+=l(t.result,n,e));return t.result.pager&&(i+=a.render({pager:t.result.pager,baseUrl:s("/search?text="+encodeURIComponent(t.result.text)+"&type="+n,t.result.extendedParams)})),i})},function(t,e,i,n){t.exports=i(79)},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h;t.exports=(a=i(652),s=i(594),o=i(667),r=i(785),l=i(1034),c=i(1124),d=i(610),p={artists:{tabLink:u=function(t,e){return"/search?text="+encodeURIComponent(t.text)+"&type="+e},title:i18n("page-search","Исполнители"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всех")},albums:{tabLink:u,title:i18n("page-search","Альбомы"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё")},tracks:{tabLink:u,title:i18n("page-search","Треки"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё")},podcasts:{tabLink:u,title:i18n("page-search","[feature/mfront-3737]Подкасты и книги"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё")},podcast_episodes:{tabLink:u,title:i18n("page-search","[feature/mfront-2172]Выпуски подкастов"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё")},playlists:{tabLink:u,title:i18n("page-search","Плейлисты"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё")},videos:{tabLink:function(t){return"//yandex."+__escape(Mu.settings.tld)+"/video/search?text="+encodeURIComponent(t.text)+"&vcat=music&vfpm=1"},title:i18n("page-search","Видео"),titleLink:i18n("page-search","[feature/mfront-1599-more]Смотреть всё"),target:"_blank"}},(h={artists:function(t){return o.render({artist:t})},albums:function(t){return s.render({album:t})},tracks:function(t){return a.render({track:t,type:"withCover",showChartPosition:!0,hidePlaybackProgress:!0})},playlists:function(t){if(t.type&&!t.ready){var e={vertical:!0,data:t};return c.render([e])}return r.render({playlist:t})},videos:function(t,e){return l.render({items:t,goal:"searchVideoWatcher",origin:"search|"+e.text})}}).podcasts=h.albums,h.podcast_episodes=function(t){return t.type="podcast-episode",h.tracks(t)},function(t){var e="",i=t.result[t.type];if(i.items&&i.items.length){if(e+='<div class="page-search__snippet page-search__'+__escape(t.type)+" serp-snippet",t.filter!==t.type&&(e+=" serp-snippet_compact"),e+='">',t.filter!==t.type){var n=p[t.type],a=!t.result.pager&&t.result.counts[t.type]>1,s=a?n.tabLink(t.result,t.type):null;e+=d.render({title:n.title,link:s,linkTitle:n.titleLink,showMoreLink:a})}if(e+='<div class="serp-snippet__'+__escape(t.type)+'" data-type="'+__escape(t.type)+'">',"videos"===t.type)e+=h[t.type](i.items,t.result);else for(var o,r=0;r<i.items.length;r++)o=i.items[r],e+=h[t.type](o,t.result);e+="</div></div>"}return e})},function(t,e,i,n){t.exports=function(){i(642);var t=i(1203),e=i(1212),n=i(644),a=i(461);return function(i){var s='<div class="page-settings" data-b="'+__escape(Mu.dotBlockRoot(i,"page-settings",!0))+'">'+n.render({title:i18n("page-settings","Настройки"),tabs:!!i.auth&&{currentId:i.what,items:[{title:i18n("page-settings","Аккаунт"),href:"/settings/account",id:"account"},{title:i18n("page-settings","Прочее"),href:"/settings/other",id:"other"}]}});return i.auth?("account"===i.what&&(s+=t.render(i)),"other"!==i.what||i.token||(s+=e.render(i))):s+='<div class="typo">'+i18n("page-settings","Чтобы настроить аккаунт, %1 на Яндексе.",a.render({from:"settings"}))+"</div>",s+="</div>"}}()},function(t,e,i,n){var a={render:i(1204)};clientSide&&(a.controller=i(1211)),t.exports=a},function(t,e,i,n){t.exports=function(){i(226);var t=i(143),e=(i(332),i(1205)),n=i(1208);return function(i){var a="",s=[],o=[{id:"deezer",name:"Deezer",scope:"listening_history,email",info:i18n("page-settings","Перенесите плейлисты с Deezer"),rebindText:i18n("page-settings","Повторить импорт"),isBound:!!i.profiles.deezer},{id:"lastfm",name:"Last.fm",scope:"",info:i18n("page-settings","Передавайте статистику прослушиваний"),rebindText:i18n("page-settings","[feature/fix-lastfm-btn-text]Загрузить ТОП треков"),isBound:!!i.profiles.lastfm}];if(a+='<div class="page-settings--account" data-b="'+__escape(Mu.dotBlockRoot(i,"page-settings--account",!0))+'"><div class="page-settings__block"><h2 class="page-settings__subtitle typo-h2_bold">'+__escape(i18n("page-settings","Музыкальные предпочтения"))+'</h2><div class="page-settings__line deco-border"><div class="page-settings__line-label-container">'+e.render({icon:"wizard"+(i.wizardStatus?"":"-muted"),checked:i.wizardStatus})+'<div class="page-settings__line-label page-settings--account__wizard"><div class="typo typo-secondary deco-typo-secondary">',i.wizardStatus?a+=__escape(i18n("page-settings","Если ваши музыкальные предпочтения поменялись, уточните это здесь, чтобы мы лучше рекомендовали вам музыку")):a+=__escape(i18n("page-settings","Ответьте на несколько вопросов, чтобы мы точнее и лучше рекомендовали вам музыку")),a+='</div></div></div><div class="page-settings__line-control">'+t.render({size:"M",text:i.wizardStatus?i18n("page-settings","Уточнить"):i18n("page-settings","Ответить"),class:"page-settings--account__wizard-btn",rounded:!0})+"</div></div></div>",s.length>0){a+='<div class="page-settings__block"><h2 class="page-settings__subtitle typo-h2_bold">'+__escape(i18n("page-settings","Социальные сети"))+"</h2>";for(var r=0;r<s.length;r++)l=s[r],a+=n.render(l);a+="</div>"}a+='<div class="page-settings__block"><h2 class="page-settings__subtitle typo-h2_bold">'+__escape(i18n("page-settings","Импорт музыкальных коллекций"))+"</h2>";for(var l,c=0;c<o.length;c++)l=o[c],a+=n.render(l);return a+="</div></div>"}}()},function(t,e,i,n){var a={render:i(1206)};t.exports=a},function(t,e,i,n){var a,s;t.exports=(a=i(141),s=i(1207),function(t){var e='<div class="'+__escape(s.className(t))+'">'+a.render({icon:t.icon,class:s.iconThemeClass(t)});return t.checked&&(e+='<div class="d-bubble__checkmark deco_shadow deco-pane">'+a.render({icon:"checkmark-green-fat"})+"</div>"),e+="</div>"})},function(t,e,i,n){t.exports={className:function(t){var e=["d-bubble"];if(t.checked)switch(t.icon){case"vkontakte":case"facebook":case"deezer":case"lastfm":case"wizard":case"wizard-muted":e.push("d-bubble__"+t.icon);break;default:e.push("deco-bubble")}else switch(t.icon){case"wizard":case"wizard-muted":e.push("d-bubble__"+t.icon);break;default:e.push("deco-bubble")}return e.join(" ")},iconThemeClass:function(t){return t.checked?"local-icon-theme-black":""}}},function(t,e,i,n){var a={render:i(1209)};clientSide&&(a.controller=i(1210)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(1205);return function(i){var n="",a=i.isBound?"page-settings--social-control_bound":"",s={params:{provider:i.id,scope:i.scope}};return n+='<div class="page-settings__line page-settings--social-control deco-border typo"data-b="'+__escape(Mu.dotBlockRoot(i,"page-settings--social-control",!0))+'"><div class="page-settings__line-label-container">'+e.render({icon:i.id+(i.isBound?"":"-muted"),checked:i.isBound})+'<div class="page-settings__line-label">'+__escape(i.name),i.info&&(n+='<div class="typo-secondary">'+__escape(i.info)+"</div>"),n+='</div></div><div class="page-settings__line-control"><div class="page-settings--social-control__control '+__escape(a)+'"><span class="page-settings--social-control__bind social-bind" data-b="'+__escape(Mu.dotBlockRoot(s,"social-bind",!0))+'">'+t.render({text:i18n("page-settings","Привязать аккаунт"),rounded:!0})+'</span><div class="page-settings--social-control__bound"><span class="page-settings--social-control__rebind">'+t.render({text:i.rebindText,icon:"arrows-round",rounded:!0})+"</span> </div></div></div></div>"}}()},function(t,e,i,n){var a=i(1209);Mu.blocks.register("page-settings--social-control",function(){var t,e,i=function(){};return i.init=function(i){t=i.get("dataSrc"),e=i.get("metrika")},i.prototype.init=function(){this.provider=this.data.id,this.$cont=$(this.container),this.$rebind=this.$cont.find(".page-settings--social-control__rebind"),this.$cont.on("click",".page-settings--social-control__bind",this.onBindClick.bind(this)),this.$cont.on("click",".page-settings--social-control__rebind",this.onRebindClick.bind(this)),this.delegate("social-bind.bound",this.onBindSuccess)},i.prototype.reRender=function(t){var e=$(a(t));this.$cont.html(e.html()),this.$rebind=this.$cont.find(".page-settings--social-control__rebind"),this.data=t},i.prototype.onBindClick=function(){this.metrikaCount({authorize:1})},i.prototype.onRebindClick=function(){var e=this,i=!1;e.$rebind.hasClass("page-settings--social-control__rebind_on")||(e.$rebind.addClass("page-settings--social-control__rebind_on"),setTimeout((function(){i&&e.stopRebindAnimation(!0),i=!0}),1200),t.post("social-reimport",{provider:this.provider}).then((function(t){i&&e.stopRebindAnimation(t.success),i=!0}),(function(){i&&e.stopRebindAnimation(!1),i=!0})),this.metrikaCount({update:1}))},i.prototype.stopRebindAnimation=function(t){this.$rebind.removeClass("page-settings--social-control__rebind_on"),t&&this.$rebind.find("button").attr("disabled","disabled")},i.prototype.onBindSuccess=function(){this.reRender(Object.assign(this.data,{isBound:!0}))},i.prototype.metrikaCount=function(t){var i={};i[this.provider]=t,e.count({user_settings:{social:i}})},i}())},function(t,e,i,n){var a,s,o,r=i(40),l=i(12);Mu.blocks.register("page-settings--account",((o=function(){}).init=function(t){a=t.get("metrika"),s=t.get("popups")},o.prototype.init=function(){var t=$(this.container);t.find(".page-settings--account__edit-btn").on("click",this.metrikaCount.bind(this,{edit_profile:1})),t.find(".page-settings--account__wizard-btn").on("click",this.showWizard.bind(this))},o.prototype.metrikaCount=function(t){a.count({user_settings:t})},o.prototype.showWizard=function(){this.metrikaCount({show_wizard:1}),l.hasAppStore()?(r.send({placement:"musicMobileWizardRecomendations"}),window.location=l.getLink({},{channel:"musicMobileWizardRecomendations",tags:["webwizard"],deeplink_url:"yandexmusic://main/"})):s.toggle("wizard")},o))},function(t,e,i,n){var a={render:i(1213)};clientSide&&(a.controller=i(1214)),t.exports=a},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(354),s=i(332),i(151),o=i(125),r=i(825),function(t){var e="",i=!o()&&(!Mu.settings.adPlayerType||r()||!["225","225mp"].includes(Mu.settings.regions.working.toString()));return e+='<div class="page-settings--other" data-b="'+__escape(Mu.dotBlockRoot(t,"page-settings--other",!0))+'"><div class="page-settings__line deco-border page-settings__player-type"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","Тип плеера"))+'<div class="typo-secondary">'+__escape(i18n("page-settings","Обновите страницу, чтобы настройки вступили в силу"))+'</div></div><div class="page-settings__line-control">'+a.render({items:t.player.types,class:"page-settings--other__player-type"})+"</div></div>",i&&(e+='<div class="page-settings__line deco-border page-settings__player-branding-type"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","[feature/fav-player]Вид плеера"))+'<div class="typo-secondary">'+__escape(i18n("page-settings","Обновите страницу, чтобы настройки вступили в силу"))+'</div></div><div class="page-settings__line-control">'+a.render({items:t.brandingTypes,class:"page-settings--other__player-branding-type"})+"</div></div>"),e+='<div class="page-settings__line deco-border page-settings__default-order-toggler"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","Добавлять новые треки в начало плейлиста"))+'</div><div class="page-settings__line-control">'+s.render({id:"trackPosition",size:"M",onText:i18n("page-settings","Вкл"),offText:i18n("page-settings","Выкл"),checked:!0===t.auth.settings.addNewTrackOnPlaylistTop,fixedLength:!0})+'</div></div><div class="page-settings__line deco-border page-settings__dark-theme-toggler"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","Тёмная тема"))+'</div><div class="page-settings__line-control">'+s.render({id:"darkTheme",size:"M",onText:i18n("page-settings","Вкл"),offText:i18n("page-settings","Выкл"),checked:"black"===Mu.settings.theme,fixedLength:!0})+"</div></div>",r()&&(e+='<div class="page-settings__line deco-border page-settings__autoflow-toggler"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","Бесконечный поток музыки"))+'<div class="typo-secondary">'+__escape(i18n("page-settings","[feature/mfront-3789]Когда ваша музыка заканчивается, мы включаем поток с похожими треками. Наслаждайтесь!"))+'</div></div><div class="page-settings__line-control">'+s.render({id:"autoPlayRadio",size:"M",onText:i18n("page-settings","Вкл"),offText:i18n("page-settings","Выкл"),checked:!0===t.auth.settings.autoPlayRadio,fixedLength:!0})+"</div></div>"),e+='<div class="page-settings__line deco-border page-settings__public-access-toggler"><div class="page-settings__line-label typo">'+__escape(i18n("page-settings","Публичный доступ к моей фонотеке"))+'</div><div class="page-settings__line-control">'+s.render({id:"libraryVisibility",size:"M",checked:"public"===t.libraryVisibility,fixedLength:!0})+"</div></div></div>"})},function(t,e,i,n){Mu.blocks.register("page-settings--other",function(){let t,e,i,n,a,s;const o=function(){};return o.init=function(o){t=o.get("blocks"),e=o.get("metrika"),i=o.get("seq"),n=o.get("dataSrc"),a=o.get("auth"),s=Mu.Storage.create("localStorage")},o.prototype.init=function(){const e=$(this.container),i=e.find(".page-settings--other__player-type"),n=e.find(".page-settings--other__player-branding-type"),a=t.forElem(n.get(0));a&&a.on("change",this.onPlayerBrandingTypeChange.bind(this));const s=t.forElem(i.get(0));s.on("change",this.onPlayerTypeChange.bind(this)),s.on("toggle",this.onPlayerTypeToggle.bind(this)),this.delegate("toggler.change",this.onTogglerChange.bind(this))},o.prototype.onPlayerTypeChange=function(t){const e=t.value.id;i.setPreferredType(e),this.metrikaCount({play_audio_through:{change:e||"auto"}})},o.prototype.onPlayerTypeToggle=function(t){!0===t.state&&this.metrikaCount({play_audio_through:{dropdown:1}})},o.prototype.onPlayerBrandingTypeChange=function(t){const e=t.value.id,i=this.data.playerBrandingData,n=a.user.uid;if(i[n]?i[n].type=e:i[n]={type:e},a.isPremium()&&Mu.settings.adPlayerTypePremium){var o=JSON.parse(s.getItem("premiumBrandingPlayer"))||{};o[n]="off",s.setItem("premiumBrandingPlayer",JSON.stringify(o))}s.setItem("playerBrandingType",JSON.stringify(i));const r={};r[e]=1,this.metrikaCount({customPlayer:r})},o.prototype.onTogglerChange=function(e){const i=e.target;if(i.data.cancelling)return void delete i.data.cancelling;const s=i.isChecked(),o=function(){i.data.cancelling=!0,i.toggle(!s)},r={};switch(i.data.id){case"trackPosition":r.addNewTrackOnPlaylistTop=s,n.saveSettings(r),a&&a.user&&a.user.settings&&(a.user.settings.addNewTrackOnPlaylistTop=r.addNewTrackOnPlaylistTop),this.metrikaCount({trackPosition_top:1});break;case"darkTheme":s?(t.blocks.theme.themeOn(),r.theme="black",Mu.settings.theme="black"):(t.blocks.theme.themeOff(),r.theme="white",Mu.settings.theme="white"),n.saveSettings(r),this.metrikaCount({dark_theme:1});break;case"autoPlayRadio":r.autoPlayRadio=s,n.saveSettings(r),a&&a.user&&a.user.settings&&(a.user.settings.autoPlayRadio=r.autoPlayRadio),this.metrikaCount({autoPlayRadio:1});break;case"libraryVisibility":this.updateLibraryVisibility(s).then((function(t){t.success||o()}),o)}},o.prototype.updateLibraryVisibility=function(t){const e={userMusicVisibility:t?"public":"private"},i=n.saveSettings(e);return this.metrikaCount({private_library:1}),i},o.prototype.metrikaCount=function(t){e.count({user_settings:t})},o}())},function(t,e,i,n){t.exports=function(){i(151);return function(t){var e='<div class="sidebar-500" data-b="'+__escape(Mu.dotBlockRoot(t,"sidebar-500",!0))+'"><div class="sidebar__section"><div class="sidebar__section-title typo-h2">'+__escape(i18n("sidebar-500","Ошибка 500"))+'</div><div class="sidebar-500__description"><p>'+__escape(i18n("sidebar-500","Случилось страшное, но мы уже знаем об этом."))+'</p></div><div class="sidebar-500__link">'+__escape(i18n("sidebar-500","Попробуйте"))+'<span class="d-link d-link_marked" onclick="location.reload()">'+__escape(i18n("sidebar-500","обновить страницу"))+"</span></div></div>";return t.debug&&(e+=Mu.render("debug",t.error)),e+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h,_,m,g;t.exports=(a=i(655),s=i(73),o=i(1020),r=i(1217),l=i(1021),c=i(411),d=i(429),u=i(318),p=i(599),h=i(151),i(652),_=i(379),m=i(686),g=function(t){var e="",i=t.volume.map((function(t){return t.realId})),n=t.volume.slice();n.length=Math.min(n.length,150);var a=r.getAlbumArtists(t);return e+=m.render({type:"track",from:"sidebar-album",ids:i,items:n,loadCount:3,itemTemplate:"d-track",placeholderTemplate:"d-track",itemHeight:40,albumId:t.albumId,params:{inlineMeta:!0,showArtist:!t.isPodcast,hideArtists:a,nonSelectable:!0,reverseNumbersOrder:t.isPodcast,totalTracksNumber:t.volume.length}})},function(t){var e="";const i="/album/"+t.id,n="podcast"===t.type;e+='<div class="sidebar-album" data-b='+__escape(Mu.dotBlockRoot(t,"sidebar-album",!0))+'><div class="sidebar__section"><div class="sidebar__info">'+p.render({entity:r.sidebarTitle(t),href:i}),"explicit"===t.contentWarning&&(e+=c.render({large:!0,type:t.type})),e+="</div>";var m=function(){var e=""+__escape(t.title);return t.version&&(e+='<span class="sidebar-album__version deco-typo-secondary"> '+__escape(t.version)+"</span>"),e}();if(e+='<div class="sidebar__title sidebar-album__title typo-h2">'+h.render({href:i,content:m})+'</div><div class="sidebar__info">'+l.render(t)+"</div>"+function(t){var e="",i=r.isPlayDisabled(t);return e+='<div class="sidebar__controls sidebar-album__controls">'+_.render({type:"album",item:t,attrs:{disabled:i?"disabled":""},size:"L",class:"sidebar-album__play"})+u.render({album:t,size:"L"})+d.render({album:t})+"</div>"}(t),s().serverSide||t.available||(e+='<div class="sidebar__section-under typo-small deco-typo-secondary">',t.availableForPremiumUsers?e+=o("availableForPremium",!1,t.type):t.startDate&&a("",t.startDate,!0)>0&&(e+=o("soonAvailable")),e+="</div>"),e+="</div>",t.volumes&&t.volumes.length)for(var f,y=0;y<t.volumes.length;y++){f=t.volumes[y];const i=n?t.volumes.length-y:y+1,a=n?i18n("sidebar-album","[feature/season-sidebar]Сезон %1",i):i18n("sidebar-album","[feature/season-sidebar]Диск %1",i);e+='<div class="sidebar__section">',t.volumes.length>1&&(e+='<div class="sidebar__section-title typo deco-typo-secondary">'+__escape(a)+"</div>"),e+='<div class="sidebar__tracks">'+g({volume:f,albumId:t.id,artists:t.artists,isPodcast:n})+"</div></div>"}return e+="</div>"})},function(t,e,i,n){t.exports={isPlayDisabled:function(t){var e=t.volumes||[];return!this.activeVolumes(e).length},activeVolumes:function(t){return t.filter((function(t){return t.filter((function(t){return!t.error&&t.available}))}))},sidebarTitle:function(t){switch(t.type){case"single":return i18n("sidebar-album","[feature/nonmusic-no-install]Сингл");case"podcast":return i18n("sidebar-album","[feature/nonmusic-no-install]Подкаст");case"audiobook":return i18n("sidebar-album","[feature/mfront-3881]Аудиокнига");case"fairy-tale":return i18n("sidebar-album","[feature/mfront-3881]Аудиосказка");default:return i18n("sidebar-album","[feature/nonmusic-no-install]Альбом")}},getAlbumArtists:function(t){return t.artists.map((function(t){return t.id}))},countTracks:function(t){return t.volume.length}}},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(891),s=i(669),o=i(652),r=i(1219),l=i(318),c=i(599),d=i(515),u=i(151),p=i(381),function(t){var e="",i=t.artist.id,n="/artist/"+t.artist.id,h=t.artist.composer?i18n("sidebar-artist","Композитор"):i18n("sidebar-artist","Исполнитель");if(e+='<div class="sidebar-artist" data-b="'+Mu.dotBlockRoot(t,"sidebar-artist",!0)+'"><div class="sidebar__section">'+c.render({entity:h,href:n,class:"sidebar__info"})+'<div class="sidebar__title typo-h2">'+u.render({href:n,text:t.artist.name})+'</div><div class="sidebar__info deco-typo-secondary">'+s.render({genres:t.artist.genres})+'</div><div class="sidebar__controls">'+p.render({type:"artist",item:t.artist,tracks:t.tracks,trackIds:t.trackIds,size:"L",class:"sidebar-artist__play"})+l.render({artist:t.artist,size:"L"})+d.render({artist:t.artist,btnSize:"L",theme:"transparent"})+'<div class="sidebar__right-side">'+a.render({text:i18n("sidebar-artist","[feature/mfront-3789]Поток"),status:t.radio,artist:t.artist})+Mu.render("dislike",{artist:t.artist,tooltip:{removeText:i18n("sidebar-artist","Разблокировать исполнителя"),addText:i18n("sidebar-artist","Не рекомендовать исполнителя")},size:"L"})+"</div></div></div>",t.tracks.length){e+='<div class="sidebar__section"><div class="sidebar__section-title sidebar-artist__compose-title typo-caps"><div class="deco-typo-secondary">'+__escape(i18n("sidebar-artist","Популярные треки"))+"</div>"+u.render({href:n+"/tracks",text:i18n("sidebar-artist","[feature/sidebar-styles]Все"),style:"marked"})+'</div><div class="sidebar__tracks">';for(var _,m=0;m<t.tracks.slice(0,5).length;m++){var g=1!==(_=t.tracks.slice(0,5)[m]).artists.length||_.artists[0].decomposed?[]:[i];e+=o.render({track:_,listIndex:m,inlineMeta:!0,showArtist:!0,nonSelectable:!0,hideArtists:g})}e+="</div></div>"}if(t.albums.length){e+='<div class="sidebar__section"><div class="sidebar__section-title sidebar-artist__compose-title typo-caps"><div class="deco-typo-secondary">'+__escape(i18n("sidebar-artist","Популярные альбомы"))+"</div>";var f=n+"/albums";e+=u.render({href:f,text:i18n("sidebar-artist","[feature/sidebar-styles]Все"),style:"marked"})+"</div>"+r.render({items:t.albums.slice(0,10)})+"</div>"}return e+="</div>"})},function(t,e,i,n){var a={render:i(1220)};clientSide&&(a.controller=i(1221)),t.exports=a},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(594);return function(i){var n='<div class="d-album-slider" data-b="'+__escape(Mu.dotBlockRoot(i,"d-album-slider",!0))+'"><div class="d-album-slider__items">';if(i.items.length)for(var a,s=0;s<i.items.length;s++)a=i.items[s],n+=e.render({album:a,class:0===s?"d-album-slider__item_selected":"",notSelectable:!0});else n+=e.render({album:i.items,class:"d-album-slider__item_selected",notSelectable:!0});return n+="</div>",i.items.length>1&&(n+=t.render({type:"flat",icon:"paging-forward",class:"d-album-slider-forward"})+t.render({type:"flat",icon:"paging-backwards",class:"d-album-slider-back"})),n+="</div>"}}()},function(t,e,i,n){var a,s,o;Mu.blocks.register("d-album-slider",(s="d-album-slider__item_selected",(o=function(){}).init=function(t){a=t.get("sidebars"),this.domDelegate("click",".d-album-slider-back",(function(){Mu.blocks.forElem(this,"d-album-slider").moveThrottled(-1)})),this.domDelegate("click",".d-album-slider-forward",(function(){Mu.blocks.forElem(this,"d-album-slider").moveThrottled(1)})),this.domDelegate("mouseenter","."+s,(function(){Mu.blocks.forElem(this,"d-album-slider").onHover()})),this.domDelegate("mouseleave","."+s,(function(){Mu.blocks.forElem(this,"d-album-slider").onLeave()}))},o.prototype.init=function(){var t=this;a.on("loaded",(function(){var e,i,n;t.$cont=$(t.container),t.$items=t.$cont.find(".d-album-slider__items"),t.itemWidth=t.$items.children().eq(0).outerWidth(!0),t.data.items=t.data.items||[],t.length=t.data.items.length,t.index=0,t.moveThrottled=(e=t.move.bind(t),i=200,function(){var t=arguments;n||(e.apply(null,t),n=setTimeout((function(){n=null}),i))})}))},o.prototype.move=function(t){if(-1===t||1===t){var e=this.index+t;e>=0&&e<this.length&&(this.setSelected(this.index,!1),this.setSelected(e,!0),this.index=e,this.$items.css(this.getTransform(this.index)),this.$cont.toggleClass("d-album-slider_shifted",0!==this.index),this.$cont.toggleClass("d-album-slider_ended",this.index===this.length-1))}},o.prototype.setSelected=function(t,e){this.$items.children().eq(t).toggleClass(s,!!e)},o.prototype.getTransform=function(t){var e=t*this.itemWidth+this.itemWidth/2,i=0===t?"":"translate(-"+e+"px, 0)";return{"-webkit-transform":i,"-moz-transform":i,"-ms-transform":i,transform:i}},o.prototype.onHover=function(){var t=$(document);t.bind("DOMMouseScroll.d-album-slider",this.onScroll.bind(this)),t.bind("mousewheel.d-album-slider",this.onScroll.bind(this))},o.prototype.onLeave=function(){$(document).unbind(".d-album-slider")},o.prototype.onScroll=function(t){if(t=t.originalEvent?t.originalEvent:t,!(Math.abs(t.deltaY)>0)){var e=t.detail?t.detail:-1*t.wheelDelta,i=e>0?1:-1,n=this.$cont.offset(),a=this.$cont.width(),s=this.$cont.height();t.pageX<n.left||t.pageX>n.left+a||t.pageY<n.top||t.pageY>n.top+s||(t.preventDefault&&t.preventDefault(),Math.abs(e)>3&&this.moveThrottled(i))}},o))},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(151),s=i(293),o=i(607),r=i(1223),l=globalThis.__Mu_getUrlFn,c=function(t){var e="";return t.system&&t.system.name?e+=__escape(t.system.name):"promo-code"===t.type?e+=__escape(i18n("sidebar-order-info","Подарочный код")):"gift-2-0"!==t.type&&"dummy"!==t.type&&"samsung_galaxy_s5_gift"!==t.type&&"yandex_kit_gift"!==t.type||(e+=__escape(i18n("sidebar-order-info","Подарок"))),e},d=function(t){return'<div><div class="sidebar-order-info__label typo typo-medium">'+t.label+'</div><div class="sidebar-order-info__value">'+t.value+"</div></div>"},function(t){var e="",i=t.order.notification;if(e+='<div class="sidebar-order-info" data-b="'+__escape(Mu.dotBlockRoot(t,"sidebar-order-info",!0))+'">',i&&!i.success)e+='<div class="sidebar__section"><div class="sidebar__title typo-h2">'+__escape(i18n("sidebar-order-info","Ошибка при проведении платежа"))+'</div></div><div class="sidebar__section">'+d({label:i18n("sidebar-order-info","Код ошибки"),value:i.errorCode})+d({label:i18n("sidebar-order-info","Подробности"),value:""})+"</div>";else{e+='<div class="sidebar__section"><div class="sidebar__title typo-h2">'+__escape(i18n("sidebar-order-info","Платёж"))+'</div></div><div class="sidebar__section">';var n=function(){var e="";return"error"===t.order.status?e+=__escape(i18n("sidebar-order-info","Ошибка платежа")):"pending"===t.order.status?e+=__escape(i18n("sidebar-order-info","В обработке")):t.order.date?e+=__escape(o(t.order.date,"%d.%m.%Y")):e+=__escape(i18n("sidebar-order-info","Ошибка платежа")),e}();e+=d({label:i18n("sidebar-order-info","Когда"),value:n})+d({label:i18n("sidebar-order-info","Тип платежа"),value:c(t.order)})+d({label:i18n("sidebar-order-info","Сумма"),value:r(t.order.amount,t.order.currency)})+d({label:i18n("sidebar-order-info","Подписка на"),value:s(t.order.days,i18n("sidebar-order-info","%s день|%s дня|%s дней|"))})+'<p class="sidebar__section-under typo-small">';var u=""+a.render({href:l("feedbackMobile"),text:i18n("sidebar-order-info","Службу поддержки"),style:"marked"});e+=i18n("sidebar-order-info","Срок зачисления платежа зависит от способа оплаты, но обычно не&nbsp;превышает 15–20 минут. Если платёж задерживается, обратитесь, пожалуйста, в&nbsp;%1.",u)+"</p></div>"}return e+="</div>"})},function(t,e,i,n){t.exports=i(295)},function(t,e,i,n){var a,s,o,r,l,c,d;t.exports=(a=i(429),s=i(318),o=i(599),r=i(151),l=i(686),c=i(1225),d=i(381),function(t){var e="",i=t.auth.user.login===t.playlist.owner.login,n=(i?t.playlist.tracks:t.playlist.tracks[!t.error],"/users/"+t.playlist.owner.login+"/playlists/"+t.playlist.kind),u=t.playlist.madeFor?"/users/"+t.playlist.madeFor.userInfo.login:"/users/"+t.playlist.owner.login,p=i?["like","dislike","remove","toggleVisibility"]:null,h=r.render({href:u,text:t.playlist.owner.name,class:"sidebar-playlist__author"});return e+='<div class="sidebar-playlist" data-b="'+__escape(Mu.dotBlockRoot(t,"sidebar-playlist",!0))+'"><div class="sidebar__section"><div class="sidebar__info">'+o.render({entity:i18n("sidebar-playlist","Плейлист"),href:n})+'</div><div class="sidebar__title typo-h2">'+r.render({href:n,text:t.playlist.title,title:t.playlist.title})+'</div><div class="sidebar__info typo deco-typo-secondary">',t.playlist.madeFor?(h=r.render({text:t.playlist.madeFor.caseForms?t.playlist.madeFor.caseForms.genitive:t.playlist.madeFor.userInfo.login,class:"sidebar-playlist__author sidebar-playlist__author-genetive",noHoverColor:!0}),e+=i18n("sidebar-playlist","[feature/fix-separate-dates]Cобран для %1 %2",h,c.getStampDate(t))):3===t.playlist.kind?e+=" "+i18n("sidebar-playlist","[feature/fix-separate-dates]Автор: %1",h):e+=" "+c.getUpdatedText(t,h),e+='</div><div class="sidebar__controls">'+d.render({type:"playlist",item:t.playlist,size:"L",class:"sidebar-playlist__play"}),3!==t.playlist.kind&&(e+=s.render({playlist:t.playlist,size:"L"})),e+=a.render({playlist:t.playlist})+'</div></div><div class="sidebar__section"><div class="sidebar__tracks">'+l.render({type:"track",ids:t.playlist.trackIds,items:t.playlist.tracks,loadCount:3,itemHeight:40,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{inlineMeta:!0,showArtist:!0,actions:p,nonSelectable:!0}})+"</div></div></div>"})},function(t,e,i,n){var a=i(71),s=i(599);t.exports={getActiveAuthors:function(t){return(this.getPlaylist(t).authors||[]).filter((function(t){return!t.banned}))},isCollective:function(t){return this.getActiveAuthors(t).length},getUpdatedText:function(t,e){var i=this.getPlaylist(t),n=this.getStampDate(t);if(this.isCollective(t)){var a=this.getActiveAuthors(t).length;return i18n("sidebar-playlist","[feature/fix-separate-dates]%1 и ещё %2 обновили плейлист %3",e,a,n)}return"female"===i.owner.sex?i18n("sidebar-playlist","[feature/fix-separate-dates]%1 обновила плейлист %2",e,n):i18n("sidebar-playlist","[feature/fix-separate-dates]%1 обновил плейлист %2",e,n)},getPlaylist:function(t){return t.playlist||t||{}},getStampDate:function(t){var e=this.getPlaylist(t).modified,i=a(e,!0)||"";return s.render({title:i,class:"sidebar-playlist__date",fontStyle:"typo"})}}},function(t,e,i,n){t.exports=function(){var t=i(73),e=(i(493),i(1227),i(1020)),n=i(662),a=i(411),s=i(141),o=i(151),r=i(604),l=i(1228),c=i(1230),d=i(1231),u=i(1232),p=i(1233);const h=i(1234);var _=i(1235),m=i(1236),g=i(1021),f=i(1229),y=function(t){return""+__escape(t.title)};return function(i){var v="",b=t().serverSide,k=f.chartPosition(i),w=f.isEditable(i),x=f.isUgcTrack(i),M=f.isEpisode(i),T=(f.albumId(i),f.canLink(i)),S=f.trackUrl(i),$=f.isEpisode(i)?i18n("sidebar-track","[feature/rename-episodes]Выпуск"):i18n("sidebar-track","Трек"),L=x?"sidebar-track_ugc":"",P=!b&&w?" sidebar-track__editable sidebar-track__editable_block":"",C=f.artistName(i);v+='<div class="sidebar-track '+__escape(L)+'" data-b="'+__escape(Mu.dotBlockRoot(i,"sidebar-track",!0))+'"><div class="sidebar__section"><div class="sidebar-track__stamp sidebar__type">'+Mu.render("stamp",{entity:$,href:S})+" ","explicit"===i.track.contentWarning&&(v+=" "+a.render({large:!0,type:i.track&&i.track.type})+" "),!x&&k&&(v+=n.render({chartPosition:k})),v+='</div><h1><div class="sidebar__title sidebar-track__title deco-type typo-h2"><span class="'+__escape(P)+'">',v+=T?o.render({href:S,content:y(i.track)+" "}):w?'<span class="sidebar-track__editable-info" data-attr="title">'+y(i.track)+"</span>"+s.render({icon:"pen"}):y(i.track)+" ",v+="</span>";var D=Mu.render("track__version",i.track);if(D&&!x&&(v+='<span class="deco-typo-secondary"> '+D+" </span>"),v+="</div>",!M){const t=f.getArtists(i);!x&&t.length?f.hasComposer(t)?v+='<div class="sidebar__info">'+g.render(i)+"</div>":v+='<div class="sidebar__info sidebar__info-short">'+r.render({artists:t})+"</div>":(C||w)&&(v+='<div class="sidebar__info sidebar-track__summary"><div class="sidebar-track__summary-item"><span class="sidebar-track__summary-name deco-typo-secondary typo">'+__escape(i18n("sidebar-track","Исполнитель")+": ")+'</span><span class="',w&&(v+="sidebar-track__editable"),v+='"><span class="sidebar-track__summary-value sidebar-track__editable-info typo" data-attr="artist">'+__escape(C)+"</span>",w&&(v+=s.render({icon:"pen"})),v+="</span></div></div>")}return v+="</h1>"+m(i),b||i.track.available||i.track.availableForPremiumUsers||"no-rights"!==i.track.error||(v+='<div class="sidebar__section-under deco-typo-secondary typo-small">'+e("notAvailable",!0)+"</div>"),v+="</div>",M?v+=l(i):M||(v+=c(i)+u(i)+d(i)+_(i)),v+=p(i)+" "+h(i)+"</div>"}}()},function(t,e,i,n){t.exports=i(124)},function(t,e,i,n){var a,s;t.exports=(a=i(151),s=i(1229),function(t){var e="",i=s.isServerSide(),n=s.showFullPodcastDescriptionFromTheStart(t),o=s.showFullPodcastDescription(t),r=s.podcastDescription(t);if(r){e+='<div class="sidebar__section sidebar__section_lyric"><div class="sidebar__section-title sidebar-track__lyric-title typo-caps deco-typo-secondary">'+__escape(i18n("sidebar-episode","[feature/podcast-description]О выпуске"))+'</div><div class="sidebar-track__lyric">';var l=n?" _hidden":"";e+=a.render({text:r,class:"sidebar-track__lyric-preview deco-link-parent_marked typo deco-text-overlay"+l}),o&&(e+='<div class="sidebar-track__lyric-text deco-link-parent_marked typo ',i||n||(e+="_hidden"),e+='">'+s.fullPodcastDescription(t)+"</div>"),e+='</div><div class="sidebar__section-under">',n||(e+=a.render({text:i18n("sidebar-episode","[feature/podcast-description]Ещё"),style:o?"marked":"muted",class:"sidebar-track__static-text_lyric"})),e+="</div></div>"}return e})},function(t,e,i,n){const a=i(73),s=i(14),o=i(124);t.exports={hostname:t=>t?t.match(/^(?:\w+:)?\/\/([^:/]+)/)[1]:location.hostname,track:t=>t.track||{},isOwner(t){const e=parseInt(s().uid,10),i=this.track(t);return i.userInfo&&i.userInfo.uid===e},albumId(t){const e=this.track(t).albums||[];return e&&e.length&&e[0].id},canLink(t){const e=this.albumId(t);return e&&-1!==e},chartPosition:t=>(t.chart||{}).position,trackUrl(t){return this.canLink(t)?`/album/${this.albumId(t)}/track/${this.trackId(t)}`:""},isEditable(t){const e=this.track(t);return this.isOwner(t)&&!e.error},trackId(t){const e=this.track(t);return e.realId||e.id},isUgcTrack(t){const e=this.trackId(t);return o(e)},versionsCount(t){const e=t.otherVersions||{};return(e.remix?e.remix.length:0)+(e.live?e.live.length:0)+(e.instrumental?e.instrumental.length:0)+(e.another?e.another.length:0)},artistName(t){const e=this.track(t);return e.artists&&e.artists.length?e.artists[0].name:""},getArtists(t){const e=this.track(t);if(!e.artists||!e.artists.length)return[];const i=e.artists.filter(t=>!t.composer),n=i.filter(t=>!t.various&&!t.error),a=e.artists.filter(t=>t.composer&&!t.various);return(n.length>0?n:i.length>0?i:[]).concat(a)},isLyricAvailable(t){const e=t.lyric&&t.lyric.length>0&&t.lyric[0];return e&&e.fullLyrics},lyric(t){return this.isLyricAvailable(t)?t.lyric[0]:{}},podcastDescription:t=>t.track.shortDescription,fullPodcastDescription:t=>t.episodeDescription[0],isServerSide:()=>a().serverSide,showFull(t){const e=this.lyric(t),i=this.track(t);return e.fullLyrics&&(e.hasRights||i.availableForPremiumUsers||this.isServerSide())},showFullFromTheStart(t){return this.showFull(t)&&t.foundByLyrics&&t.foundByLyrics.length},showFullPodcastDescriptionFromTheStart(t){return this.showFullPodcastDescription(t)&&t.episodeDescription[0]===this.podcastDescription(t)},showFullPodcastDescription(t){const e=this.track(t);return t.episodeDescription&&t.episodeDescription[0]&&(e.availableForPremiumUsers||this.isServerSide())},isEpisode(t){return"podcast-episode"===this.track(t).type},hasComposer(t){if(!t)return!1;for(const e of t)if(e.composer)return!0;return!1}}},function(t,e,i,n){t.exports=function(){i(143);var t=i(151),e=i(1229);return function(i){var n="",a=e.isServerSide(),s=e.lyric(i),o=e.showFull(i),r=e.showFullFromTheStart(i);if(e.isLyricAvailable(i)){n+='<div class="sidebar__section sidebar__section_lyric"><div class="sidebar__section-title sidebar-track__lyric-title typo-caps deco-typo-secondary"><h2>'+__escape(i18n("sidebar-track","Текст песни"))+'</h2></div><div class="sidebar-track__lyric">';var l=r?" _hidden":"";n+=t.render({text:s.lyrics,class:"sidebar-track__lyric-preview typo deco-text-overlay"+l}),o&&(n+='<div class="sidebar-track__lyric-text typo ',a||r||(n+="_hidden"),n+='">'+__escape(s.fullLyrics),(s.writers||s.majorName)&&(n+=" ",s.writers&&(n+=' <div class="sidebar-track__writers">'+i18n("sidebar-track","[feature/mfront-3950]Авторы: %1",s.writers)+"</div> "),n+=" ",s.majorName&&(n+=' <div class="sidebar-track__major">'+i18n("sidebar-track","[feature/mfront-3950]Источник: %1",s.majorName)+"</div> ")),n+="</div>"),n+="</div> ",s.fullLyrics&&(n+=' <div class="sidebar__section-under"> ',r||(n+=" "+t.render({text:i18n("sidebar-track","Полный текст"),style:o?"marked":"muted",class:"sidebar-track__static-text_lyric"})+" "),n+=" ",o||(n+=" :&nbsp; "+t.render({href:s.url,target:"_blank",text:e.hostname(s.url),class:"sidebar-track__link_lyric"})+" "),n+=" </div>"),n+="</div>"}return n}}()},function(t,e,i,n){var a;t.exports=(a=i(1219),function(t){var e="";return t.alsoInAlbums&&t.alsoInAlbums.length&&"OWN_REPLACED_TO_UGC"!==t.track.trackSource&&(e+='<div class="sidebar__section sidebar__section_albums"><div class="sidebar__section-title typo-caps deco-typo-secondary">',t.hideAlbum?e+=__escape(i18n("sidebar-track","Также встречается в альбомах")):e+=__escape(i18n("sidebar-track","Встречается в альбомах")),e+='</div><div class="sidebar-track__albums">'+a.render({items:t.alsoInAlbums})+"</div></div>"),e})},function(t,e,i,n){var a,s,o;t.exports=(a=i(151),s=i(1034),o=i(624),function(t){var e="",i=o.getFilteredVideos(t);return i&&i.length>0&&(e+='<div class="sidebar__section sidebar__section_video"><h2 class="sidebar__section-title typo-caps deco-typo-secondary">'+__escape(i18n("sidebar-track","Видео"))+'</h2><div class="sidebar-track__video">'+s.render({items:i.slice(0,1),goal:"trackVideoWatcher",origin:"track|"+t.track.id})+"</div>",t.track.artists&&t.track.artists.length&&(e+='<div class="sidebar__section-under"><span class="sidebar-track__static-text sidebar-track__static-text_muted">'+__escape(i18n("sidebar-track","Искать на"))+"&nbsp;"+a.render({text:i18n("sidebar-track","[feature/mfront-4200]Яндекс Видео"),href:"//yandex.ru/video/search?text="+t.track.artists[0].name+"&nbsp;-&nbsp;"+t.track.title+"&amp;vfpm=1",style:"marked",target:"_blank"})+"</span></div>"),e+="</div>"),e})},function(t,e,i,n){var a;t.exports=(a=i(652),function(t){var e="";if(t.similarTracks&&t.similarTracks.length){e+='<div class="sidebar__section sidebar__section_similar"><div class="sidebar__section-title typo-caps deco-typo-secondary">'+__escape(i18n("sidebar-track","Похожие треки"))+'</div><div class="sidebar__tracks sidebar__tracks_similar">';for(var i,n=0;n<t.similarTracks.length;n++)i=t.similarTracks[n],e+=a.render({track:i,type:"withCover",nonSelectable:!0});e+="</div></div>"}return e})},function(t,e,i,n){t.exports=function(){i(652);return function(t){var e="";return["OWN_REPLACED_TO_UGC","UGC"].includes(t.track.trackSource)&&(e+='<div class="sidebar__section sidebar__section_similar"><div class="sidebar__section-title typo-caps deco-typo-secondary d-link deco-link d-link_marked deco-link_marked sidebar__about-btn">'+__escape(i18n("sidebar-track","[feature/mfront-4540]О треке"))+'</div> <div class="sidebar__about-content"> <div class="typo-small_bold">'+__escape(i18n("sidebar-track","[feature/mfront-4540]Источник"))+"</div> <div>"+__escape(i18n("sidebar-track","[feature/mfront-4540]Загружено пользователем"))+"</div></div></div>"),e}}()},function(t,e,i,n){var a,s,o;t.exports=(a=i(652),s=i(1229),o=function(t){var e="";if(t.tracks.length)for(var i,n=0;n<t.tracks.length;n++)i=t.tracks[n],e+=a.render({track:i,type:"withCover",nonSelectable:!0,className:"track_version_"+t.version});return e},function(t){var e="",i=t.otherVersions||{};if(s.versionsCount(t)){e+='<div class="sidebar__section"><div class="sidebar__section-title typo-caps deco-typo-secondary">'+__escape(i18n("sidebar-track","Другие версии"))+'</div><div class="sidebar__tracks sidebar__tracks_versions">';for(var n,a=0;a<["remix","live","instrumental","another"].length;a++)i[n=["remix","live","instrumental","another"][a]]&&(e+=o({tracks:i[n],version:n}));e+="</div></div>"}return e})},function(t,e,i,n){var a,s,o,r;t.exports=(a=i(429),s=i(379),o=i(318),r=i(1229),function(t){var e="";return r.isOwner(t),r.albumId(t),e+='<div class="sidebar__controls">'+s.render({type:"track",item:t.track,size:"L",class:"sidebar-track__play"})+o.render({size:"L",entry:{track:t.track},buttonTitle:{removeText:i18n("sidebar-track","[feature/sidebar-styles]Убрать из любимых треков")}})+a.render({track:t.track})+"</div>"})},function(t,e,i,n){var a,s,o,r,l,c,d,u,p,h;t.exports=(a=i(1238),s=i(1239),o=i(1240),r=i(642),l=i(1241),c=i(1244),d=i(1393),u=function(t){var e="",i="$"+t.use;return e+='<div class="color-circle__content typo-small"><div class="color-circle__circle color__'+__escape(t.use)+'"></div>Переменная в styles: '+c({text:i})+'<br><span class="typo-small_bold">'+__escape(i)+'</span><div class="color-circle__title typo-h3">'+__escape(t.name)+'</div><div class="color-circle__description typo-small">'+__escape(t.description)+"<br></div></div>"},p=function(t){for(var e,i='<h2 class="typo-h2">'+__escape(t.name)+'</h2><div class="typography__wrapper">',n=0;n<t.texts.length;n++){var a=(e=t.texts[n]).use;i+='<div class="typography__text-wrapper"><span class="typography__test-text '+__escape(a)+'">Пример&nbsp;текста</span><h3 class="typo-h3">'+__escape(e.title)+'</h3><div class="typography__description typo">'+__escape(e.description)+'</div><div class="typo-add">Для использования добавь элементу классы:&nbsp;<span class="typo-h3">«'+__escape(a)+"»</span>&nbsp;"+c({text:a})+"</div><br><br></div>"}return i+="</div>"},h=function(t){for(var e,i='<div class="fonts__wrapper">',n=0;n<t.texts.length;n++){var a=(e=t.texts[n]).use;i+='<div class="fonts__text-wrapper"><span class="fonts__test-text '+__escape(e.fontSize)+" "+__escape(a)+'">Пример&nbsp;текста</span><h3 class="typo-h3">'+__escape(e.title)+'</h3><div class="typo-add">Для использования добавь элементу классы:&nbsp;<span class="typo-h3">«'+__escape(a)+"»</span>&nbsp;"+c({text:a})+"</div><br><br></div>"}return i+="</div>"},function(t){var e='<div class="page-style-guide theme-white" data-b="'+__escape(Mu.dotBlockRoot(t,"page-style-guide"))+'"><div class="page-style-guide__main-tabs">'+r.render({currentId:t.what,items:[{title:"Элементы",href:"/style-guide/elements",id:"elements"},{title:"CSS правила",href:"/style-guide/css",id:"css"},{title:"Шрифты",href:"/style-guide/fonts",id:"fonts"}]})+"</div>";if("css"===t.what){t.linksElements='<ul class="links-elements-ul">',t.linksElements+=d({name:"Colors"}),e+='<a name="Colors"><h1 class="typo-h1_small">Colors</h1><br><div class="color-circle__wrapper">';for(var i,n=0;n<a.length;n++)i=a[n],e+=u(i);e+='</div><br><br><br><a name="Typography"><h1 class="typo-h1_small">Typography</h1>',t.linksElements+=d({name:"Typography"}),e+="<br>";for(var c,_=0;_<s.length;_++)c=s[_],e+=p(c);t.linksElements+="</ul>"}else if("fonts"===t.what){t.linksElements='<ul class="links-elements-ul">',e+='<h1 class="typo-h1_small">Fonts</h1><br><br>';for(var m,g=0;g<o.length;g++)m=o[g],e+='<a name="'+__escape(m.name)+'"><h1 class="typo-h2">'+__escape(m.name)+"</h1></a><br>",t.linksElements+=d({name:m.name}),console.log("font",m),e+=h(m)+"<br>"}else{for(var f in t.linksElements='<ul class="links-elements-ul">',l)e+=l[f]({name:f}),t.linksElements+=d({name:f});t.linksElements+="</ul>"}return e+="</div>"})},function(t,e,i,n){t.exports=[{name:"White Text",description:"Текст для черной темы",use:"color-white"},{name:"Black",description:"Черный (нет в стайл гайдах)",use:"color-black"},{name:"Active yellow",description:"Главная кнопка на экране",use:"color-yellow"},{name:"Hover yellow",description:"Состояние при ховере",use:"color-yellow_hover"},{name:"Pressed yellow",description:"Нажатое состояние главной кнопки",use:"color-yellow_pressed"},{name:"Add yellow",description:"дополнительный цвет",use:"color-yellow_pale"},{name:"Warm Background",description:"Цвет фона, на котором можно расположить белые контентные блоки, неактивные кнопки",use:"color-yellow_background"},{name:"link",description:"Цвет ссылок",use:"color-blue"},{name:"link_2",description:"Цвет ссылок для черной темы",use:"color-blue_light"},{name:"Ad Background",description:"Фон для рекламных блоков",use:"color-blue_background"},{name:"Green",description:"Цвет «удачи»",use:"color-green"},{name:"Red",description:"Цвет ошибки",use:"color-red"},{name:"Dark GrayText 2",description:"Серые подриси, сноски",use:"color-gray"},{name:"Dark GrayText",description:"Серые подриси, сноски",use:"color-gray_dark"},{name:"Dark text",description:"Текст для белой темы",use:"color-gray_darkest"},{name:"button-border-hover",description:"",use:"color-gray_light-70"},{name:"button-border",description:"",use:"color-gray_light-80"},{name:"Gray dev",description:"",use:"color-gray_light-90"},{name:"button-border-press",description:"",use:"color-gray_light-93"},{name:"button-bg-slider",description:"button-bg-slider, button-bg-disable",use:"color-gray_light-95"},{name:"Dark theme, primary",description:"Основной цвет",use:"color-gray_dark-08"},{name:"Dark theme, secondary",description:"Плашки, поля, плеер",use:"color-gray_dark-05"},{name:"Dark theme, overlay",description:"Всплывашки, блоки на странице",use:"color-gray_dark-13"}]},function(t,e,i,n){t.exports=[{name:"Основные стили",texts:[{title:"H1 title B",description:"Исполнитель, альбом, плейлист, лейбл, моя коллекция (если название короче 25 знаков)",use:"typo-h1_big"},{title:"H1 title S",description:"Исполнитель, альбом, плейлист, лейбл, моя коллекция (если название дллиннее 25 знаков)",use:"typo-h1_small"},{title:"H2 Title (bold)",description:"Заголовки в основных боках. Заголовки в холодильнике.",use:"typo-h2_bold"},{title:"H2 Title (regular)",description:"Заголовки в блоках редакторских событий",use:"typo-h2"},{title:"H3 Title subtitle (bold)",description:"Заголовок фичеров",use:"typo-h3"},{title:"H3 Title subtitle (regular)",description:"Заголовок событий",use:"typo-h3_regular"},{title:"Text",description:"Этим стилем набирается весь основной текст и подзаголовки",use:"typo"}]},{name:"Сервисные стили",texts:[{title:"Add text",description:"Дополнительные тексты, юридические  сноски",use:"typo-add"},{title:"Caps text",description:"Холодильник, плейлист, альбом, исполнитель, трек",use:"typo-caps"}]},{name:"Список Треков",texts:[{title:"Artist name",description:"",use:"typo-small_bold"},{title:"Track name",description:"",use:"typo-small"}]},{name:"Блок Альбома, Исполнитель",texts:[{title:"Track name",description:"",use:"typo-small_bold"},{title:"Artist name",description:"",use:"typo-small"}]}]},function(t,e,i,n){t.exports=[{name:"Шрифты Display",texts:[{title:"YSDisplay Regular 45/45",fontSize:"typo-h1_big",use:"typo-display_regular"},{title:"YSDisplay Regular 35/35",fontSize:"typo-h1_small",use:"typo-display_regular"},{title:"YSDisplay Regular 20/25",fontSize:"typo-h2_bold",use:"typo-display_regular"},{title:"YSDisplay Regular 18/22",fontSize:"typo-h3",use:"typo-display_regular"},{title:"YSDisplay Regular 14/20",fontSize:"typo-track",use:"typo-display_regular"},{title:"YSDisplay Medium 45/45",fontSize:"typo-h1_big",use:"typo-display_medium"},{title:"YSDisplay Medium 35/35",fontSize:"typo-h1_small",use:"typo-display_medium"},{title:"YSDisplay Medium 20/25",fontSize:"typo-h2_bold",use:"typo-display_medium"},{title:"YSDisplay Medium 18/22",fontSize:"typo-h3",use:"typo-display_medium"},{title:"YSDisplay Medium 14/20",fontSize:"typo-track",use:"typo-display_medium"},{title:"YSDisplay Bold 45/45",fontSize:"typo-h1_big",use:"typo-display_bold"},{title:"YSDisplay Bold 35/35",fontSize:"typo-h1_small",use:"typo-display_bold"},{title:"YSDisplay Bold 20/25",fontSize:"typo-h2_bold",use:"typo-display_bold"},{title:"YSDisplay Bold 18/22",fontSize:"typo-h3",use:"typo-display_bold"},{title:"YSDisplay Bold 14/20",fontSize:"typo-track",use:"typo-display_bold"}]},{name:"Шрифты Text",texts:[{title:"YSText Regular 45/45",fontSize:"typo-h1_big",use:"typo"},{title:"YSText Regular 35/35",fontSize:"typo-h1_small",use:"typo"},{title:"YSText Regular 20/25",fontSize:"typo-h2_bold",use:"typo"},{title:"YSText Regular 18/22",fontSize:"typo-h3",use:"typo"},{title:"YSText Regular 14/20",fontSize:"typo-track",use:"typo"},{title:"YSText Medium 45/45",fontSize:"typo-h1_big",use:"typo-medium"},{title:"YSText Medium 35/35",fontSize:"typo-h1_small",use:"typo-medium"},{title:"YSText Medium 20/25",fontSize:"typo-h2_bold",use:"typo-medium"},{title:"YSText Medium 18/22",fontSize:"typo-h3",use:"typo-medium"},{title:"YSText Medium 14/20",fontSize:"typo-track",use:"typo-medium"}]}]},function(t,e,i,n){e["d-links"]=i(1242),e["d-app-get-sms"]=i(1251),e["d-button"]=i(1258),e["d-button-group"]=i(1265),e["d-button-store"]=i(1272),e["d-copy"]=i(1279),e["d-devider"]=i(1286),e["d-flag"]=i(1293),e["d-header"]=i(1300),e["d-icon"]=i(1307),e["d-input"]=i(1314),e["d-link"]=i(1321),e["d-logo"]=i(1328),e["d-pager"]=i(1335),e["d-select"]=i(1342),e["d-share"]=i(1349),e["d-slider"]=i(1356),e["d-tabs"]=i(1364),e["d-toggler"]=i(1371),e["d-tooltip"]=i(1378),e.spinner=i(1386)},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-links",definitionDot:i(1245),definitionYate:i(1246),example:i(1247),exampleSrc:i(1248),changes:i(1249),readme:i(1250)})})},function(t,e,i,n){var a,s;t.exports=(a=i(642),s=i(1244),function(t){return'<a name="'+__escape(t.name)+'"></a><h2 class="typo-h2_bold">'+__escape(t.name)+'</h2><div class="element__wrapper"><h3 class="typo-caps">Пример</h3><div class="element__example">'+t.example()+'</div><h3 class="typo-caps">Код и описание</h3><div class="element__about"> <div class="element__nav-menu"> '+a.render({items:[{title:"Из dot",class:"from-dot",id:"from-dot"},{title:"Из yate",class:"from-yate",id:"from-yate"},{title:"Код примера",class:"example-code",id:"example-code"},{title:"Описание",class:"description",id:"description"},{title:"Различия с блоком yate",class:"diffs",id:"diffs"}]})+' </div> <div class="element__tab-content element__from-dot element__visible">'+s({text:t.definitionDot})+'<pre class="code">'+__escape(t.definitionDot)+'</pre></div><div class="element__tab-content element__from-yate">'+s({text:t.definitionYate})+'<pre class="code">'+__escape(t.definitionYate)+'</pre></div><div class="element__tab-content element__example-code">'+s({text:t.exampleSrc})+'<pre class="code">'+__escape(t.exampleSrc)+'</pre></div><div class="element__tab-content element__description typo">'+t.readme+'</div><div class="element__tab-content element__diffs typo">'+t.changes+"</div></div></div>"})},function(t,e,i,n){t.exports=function(t){return'<a class="typo-link typo-small page-style-guide__link" data-text="'+__escape(t.text)+'">copy</a>'}},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLinks = require("blocks/d-links"); }}\n{{/define}}\n\n{{! dLinks.render({\n\t"title": "open me",\n\t"links": [\n\t\t{\n\t\t\t"text": "no href",\n\t\t\t"class": "awesome-block__link awesome-block__link_no-href"\n\t\t},\n\t\t{\n\t\t\t"href": "/",\n\t\t\t"text": "Главная",\n\t\t\t"icon": "heart-full",\n\t\t\t"class": "awesome-block__link awesome-block__link_feed"\n\t\t}\n\t]\n}) }}\n'},function(t,e,i,n){t.exports='<div class="awesome-block">\n    apply {\n        "title": "open me"\n        "links": [\n            {\n                "text": "no href"\n                "class": "awesome-block__link awesome-block__link_no-href"\n            },\n            {\n                "href": "/"\n                "text": "Главная"\n                "class": "awesome-block__link awesome-block__link_feed"\n            }\n        ]\n    } d-links\n</div>\n'},function(t,e,i,n){var a;t.exports=(a=i(697),function(t){return'<div class="example__block">'+a.render({title:"Группа ссылок",links:[{text:"no href",flag:{name:"ru"},class:"awesome-block__link awesome-block__link_no-href"},{href:"/",text:"Главная",icon:"heart-full",class:"awesome-block__link awesome-block__link_feed"}]})+'</div><div class="example__block">'+a.render({title:"Группа ссылок с muted:true",muted:!0,links:[{text:"no href",flag:{name:"ru"},class:"awesome-block__link awesome-block__link_no-href"},{href:"/",text:"Главная",icon:"heart-full",class:"awesome-block__link awesome-block__link_feed"}]})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLinks = require("blocks/d-links"); }}\n{{/define}}\n\n<div class="example__block">\n\t{{! dLinks.render({\n\t\t"title": "Группа ссылок",\n\t\t"links": [\n\t\t\t{\n\t\t\t\t"text": "no href",\n\t\t\t\t"flag": {\n\t\t\t\t\t"name": "ru"\n\t\t\t\t},\n\t\t\t\t"class": "awesome-block__link awesome-block__link_no-href"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"href": "/",\n\t\t\t\t"text": "Главная",\n\t\t\t\t"icon": "heart-full",\n\t\t\t\t"class": "awesome-block__link awesome-block__link_feed"\n\t\t\t}\n\t\t]\n\t}) }}\n</div>\n\n<div class="example__block">\n\t{{! dLinks.render({\n\t\t"title": "Группа ссылок с muted:true",\n\t\t"muted": true,\n\t\t"links": [\n\t\t\t{\n\t\t\t\t"text": "no href",\n\t\t\t\t"flag": {\n\t\t\t\t\t"name": "ru"\n\t\t\t\t},\n\t\t\t\t"class": "awesome-block__link awesome-block__link_no-href"\n\t\t\t},\n\t\t\t{\n\t\t\t\t"href": "/",\n\t\t\t\t"text": "Главная",\n\t\t\t\t"icon": "heart-full",\n\t\t\t\t"class": "awesome-block__link awesome-block__link_feed"\n\t\t\t}\n\t\t]\n\t}) }}\n</div>\n'},function(t,e,i,n){t.exports="<p>Полностью переписанный блок. </p>\n"},function(t,e,i,n){t.exports="<p>Выпадающий список ссылок с картинками.</p>\n<p>Для вывода ссылок используется <code>d-link</code></p>\n<pre><code>{ - корневой объект, описывающий блок  \n    title - текст кнопки-переключателя, экранируется, игнорируется если есть content\n    сontent - содержимое блока, не экранируется,\n    muted - Boolean, выводится ли переключался &quot;приглушенной&quot;,\n    links: [ - массив ссылок, в виде описания отдельных блоков d-link\n    ] \n}\n</code></pre><p>Для описания настроек конкретной ссылки нужно использовать описание блока <code>d-link</code>.</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-app-get-sms",definitionDot:i(1252),definitionYate:i(1253),example:i(1254),exampleSrc:i(1255),changes:i(1256),readme:i(1257)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dAppGetSms = require("music-ui/blocks/d-app-get-sms"); }}\n{{/define}}\n\n{{! dAppGetSms.render({\n\t"caption": "Блок с заголовком"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n\t"caption": "Блок с заголовком"\n} d-app-get-sms\n'},function(t,e,i,n){var a;t.exports=(a=i(735),function(t){return"<div>"+a.render({})+"</div><br /><div>"+a.render({caption:"Блок с заголовком"})+"</div><br /><div>"+a.render({caption:"Другой размер контролов",size:"S"})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dAppGetSms = require("music-ui/blocks/d-app-get-sms"); }}\n{{/define}}\n\n<div>\n\t{{! dAppGetSms.render({}) }}\n</div>\n<br />\n<div>\n\t{{! dAppGetSms.render({\n\t\t"caption": "Блок с заголовком"\n\t}) }}\n</div>\n<br />\n<div>\n\t{{! dAppGetSms.render({\n\t\t"caption": "Другой размер контролов",\n\t\t"size": "S"\n\t}) }}\n</div>\n'},function(t,e,i,n){t.exports="<ul>\n<li>Переведен на dot блоки.</li>\n<li>В настройки добавлена возможность указания подписи блока</li>\n<li>Большая част логики валиадации сделана на базе валидации <code>d-input</code></li>\n<li>Добавлены иконки и прочий милый ux</li>\n<li>Раньше на события в блоке можно было подписаться только через <code>domDelegate</code>, теперь - на события самого блока </li>\n</ul>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    caption  - заголовок блока, необязателен\n    class - строка классов, применяемых на корневой элемент блока\n    size - размер контролов, по-умолчанию `L`\n}\n</code></pre><p>Доступные события:</p>\n<ul>\n<li><code>send</code> - срабатывает, по нажатию на кнопку <code>&quot;Получить ссылку&quot;</code>. </li>\n</ul>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-button",definitionDot:i(1259),definitionYate:i(1260),example:i(1261),exampleSrc:i(1262),changes:i(1263),readme:i(1264)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButton = require("music-ui/blocks/d-button"); }}\n{{/define}}\n\n{{! dButton.render({\n    text: "Кнопка"\n}) }}\n\n{{! dButton.render({\n    size: "M",\n    text: "Кнопка",\n    class: "add_class",\n    disabled: false,\n    icon: "twitter",\n    iconRotation: "upside-down",\n    rounded: true,\n    type: "action", /* button/action/flat/overlay */\n    attrs: {\n    \ttitle: "some title",\n        "data-attr": "content",\n        "data-attr_2": "content"\n    },\n    use_link: true,\n    href: "http://music.yandex.ru",\n    target: "_blank"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    "text": "Кнопка"\n} d-button\napply {\n    "size": "M"\n    "text": "Кнопка"\n    "class": "d-button_hollow add_class"\n    "disabled": false()\n    "icon": "twitter"\n    "attrs": {\n        "data-attr": "content"\n        "data-attr_2": "content"\n    }\n    "use_link": true()\n    "href": "http://music.yandex.ru"\n    "target": "_blank"\n} d-button\n'},function(t,e,i,n){t.exports=function(){var t=i(143);return function(e){return"link:<br>"+t.render({size:"M",text:"Кнопка",class:"d-button_hollow add_class",disabled:!1,icon:"twitter",attrs:{"data-attr":"content","data-attr_2":"content"},use_link:!0,href:"http://music.yandex.ru",target:"_blank"})+' – Кнопка "ссылка", со всеми параметрами, открывает новую вкладку<br>only icon:<br>'+t.render({size:"M",icon:"twitter"})+" "+t.render({size:"M",icon:"twitter",rounded:!0})+" "+t.render({size:"M",icon:"twitter",type:"action"})+" "+t.render({size:"M",icon:"twitter",type:"action",rounded:!0})+" "+t.render({size:"M",icon:"twitter",type:"flat"})+" "+t.render({size:"M",icon:"cross-big",type:"overlay"})+" "+t.render({size:"M",icon:"cross-big",type:"overlay",rounded:!0})+" "+t.render({size:"M",icon:"twitter",iconRotation:"upside-down"})+" "+t.render({size:"M",icon:"arrow-left",rounded:!0,type:"shadowed"})+" "+t.render({size:"M",icon:"arrow-right",rounded:!0,type:"shadowed"})+" "+t.render({size:"M",icon:"arrow-left",rounded:!0,type:"slider-control"})+" "+t.render({size:"M",icon:"arrow-right",rounded:!0,type:"slider-control"})+" "+t.render({size:"L",icon:"arrow-left",rounded:!0,type:"slider-control"})+" "+t.render({size:"L",icon:"arrow-right",rounded:!0,type:"slider-control"})+"<br>default:<br>"+t.render({size:"XL",text:"Кнопка"})+" "+t.render({size:"L",text:"Кнопка"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter"})+" "+t.render({text:"Кнопка"})+" "+t.render({text:"Кнопка",icon:"twitter"})+" "+t.render({text:"Кнопка",icon:"twitter",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка"})+"<br>transparent:<br>"+t.render({size:"XL",text:"Кнопка",type:"transparent"})+" "+t.render({size:"L",text:"Кнопка",type:"transparent"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"transparent"})+" "+t.render({text:"Кнопка",type:"transparent"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"transparent"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"transparent",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"transparent"})+"<br>half transparent:<br>"+t.render({size:"XL",text:"Кнопка",type:"half-transparent"})+" "+t.render({size:"L",text:"Кнопка",type:"half-transparent"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"half-transparent"})+" "+t.render({text:"Кнопка",type:"half-transparent"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"half-transparent"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"half-transparent",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"half-transparent"})+"<br>flat:<br>"+t.render({size:"XL",text:"Кнопка",type:"flat"})+" "+t.render({size:"L",text:"Кнопка",active:!0,type:"flat"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"flat"})+" "+t.render({text:"Кнопка",type:"flat"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"flat"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"flat",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"flat"})+"<br>borderless:<br>"+t.render({size:"XL",text:"Кнопка",type:"borderless"})+" "+t.render({size:"L",text:"Кнопка",active:!0,type:"borderless"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"borderless"})+" "+t.render({text:"Кнопка",type:"borderless"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"borderless"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"borderless",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"borderless"})+"<br>grouped (for d-button-group):<br>"+t.render({size:"XL",text:"Кнопка",type:"grouped"})+" "+t.render({size:"L",text:"Кнопка",active:!0,type:"grouped"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"grouped"})+" "+t.render({text:"Кнопка",type:"grouped"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"grouped"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"grouped",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"grouped"})+"<br>action:<br>"+t.render({size:"XL",text:"Кнопка",type:"action"})+" "+t.render({size:"L",text:"Кнопка",type:"action"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"action"})+" "+t.render({text:"Кнопка",type:"action"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"action"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"action",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"action"})+"<br>caution:<br>"+t.render({size:"XL",text:"Кнопка",type:"caution"})+" "+t.render({size:"L",text:"Кнопка",type:"caution"})+" "+t.render({size:"L",text:"Кнопка",icon:"twitter",type:"caution"})+" "+t.render({text:"Кнопка",type:"caution"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"caution"})+" "+t.render({text:"Кнопка",icon:"twitter",type:"caution",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",type:"caution"})+"<br>rainbow (просто радужная кнопка во всех темах):<br>"+t.render({size:"XL",text:"Кнопка",type:"rainbow"})+"<br>disabled:<br>"+t.render({size:"XL",text:"Кнопка",disabled:!0})+" "+t.render({size:"L",text:"Кнопка",disabled:!0})+" "+t.render({size:"L",text:"Кнопка",disabled:!0,icon:"twitter"})+" "+t.render({text:"Кнопка",disabled:!0})+" "+t.render({text:"Кнопка",disabled:!0,icon:"twitter"})+" "+t.render({text:"Кнопка",disabled:!0,icon:"twitter",iconPosition:"right"})+" "+t.render({size:"S",text:"Кнопка",disabled:!0})+"<br>rounded:</br>"+t.render({size:"XL",rounded:!0,text:"Кнопка"})+" "+t.render({size:"L",rounded:!0,text:"Кнопка"})+" "+t.render({size:"L",rounded:!0,text:"Кнопка",icon:"twitter"})+" "+t.render({text:"Кнопка",rounded:!0})+" "+t.render({rounded:!0,text:"Кнопка",icon:"twitter"})+" "+t.render({rounded:!0,text:"Кнопка",icon:"twitter",iconPosition:"right"})+" "+t.render({size:"S",rounded:!0,text:"Кнопка"})}}()},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButton = require("music-ui/blocks/d-button"); }}\n{{/define}}\n\nlink:\n<br>\n\n{{! dButton.render({\n    size: "M",\n    text: "Кнопка",\n    class: "d-button_hollow add_class",\n    disabled: false,\n    icon: "twitter",\n    attrs: {\n        "data-attr": "content",\n        "data-attr_2": "content"\n    },\n    use_link: true,\n    href: "http://music.yandex.ru",\n    target: "_blank"\n}) }} – Кнопка "ссылка", со всеми параметрами, открывает новую вкладку\n\n<br>\nonly icon:\n<br>\n\n{{! dButton.render({\n\tsize: "M",\n\ticon: "twitter"\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "twitter",\n    rounded: true\n}) }}\n\n {{! dButton.render({\n\tsize: "M",\n\ticon: "twitter",\n\ttype: "action"\n}) }}\n\n {{! dButton.render({\n\tsize: "M",\n\ticon: "twitter",\n\ttype: "action",\n\trounded: true\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "twitter",\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n\tsize: "M",\n\ticon: "cross-big",\n\ttype: "overlay"\n}) }}\n\n {{! dButton.render({\n\tsize: "M",\n\ticon: "cross-big",\n\ttype: "overlay",\n\trounded: true\n}) }}\n\n {{! dButton.render({\n\tsize: "M",\n\ticon: "twitter",\n\ticonRotation: "upside-down"\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "arrow-left",\n    rounded: true,\n    type: "shadowed"\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "arrow-right",\n    rounded: true,\n    type: "shadowed"\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "arrow-left",\n    rounded: true,\n    type: "slider-control"\n}) }}\n\n {{! dButton.render({\n    size: "M",\n    icon: "arrow-right",\n    rounded: true,\n    type: "slider-control"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    icon: "arrow-left",\n    rounded: true,\n    type: "slider-control"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    icon: "arrow-right",\n    rounded: true,\n    type: "slider-control"\n}) }}\n\n<br>\ndefault:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    iconPosition: "right"\n}) }}\n\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка"\n}) }}\n\n\n<br>\ntransparent:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "transparent"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    type: "transparent"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "transparent",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "transparent"\n}) }}\n\n\n<br>\nhalf transparent:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "half-transparent"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    type: "half-transparent"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "half-transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "half-transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "half-transparent"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "half-transparent",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "half-transparent"\n}) }}\n\n<br>\nflat:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    active: true,\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "flat"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "flat",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "flat"\n}) }}\n\n<br>\nborderless:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "borderless"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    active: true,\n    type: "borderless"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "borderless"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "borderless"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "borderless"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "borderless",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "borderless"\n}) }}\n\n<br>\ngrouped (for d-button-group):\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "grouped"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    active: true,\n    type: "grouped"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "grouped"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "grouped"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "grouped"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "grouped",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "grouped"\n}) }}\n\n<br>\naction:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "action"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    type: "action"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "action"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "action"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "action"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "action",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "action"\n}) }}\n\n<br>\ncaution:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    type: "caution"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    type: "caution"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    icon: "twitter",\n    type: "caution"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    type: "caution"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "caution"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    icon: "twitter",\n    type: "caution",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    type: "caution"\n}) }}\n\n<br>\nrainbow (просто радужная кнопка во всех темах):\n<br>\n\n{{! dButton.render({\n\tsize: "XL",\n\ttext: "Кнопка",\n\ttype: "rainbow"\n}) }}\n\n<br>\ndisabled:\n<br>\n\n{{! dButton.render({\n    size: "XL",\n    text: "Кнопка",\n    disabled: true\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    disabled: true\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    text: "Кнопка",\n    disabled: true,\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    disabled: true\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    disabled: true,\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    disabled: true,\n    icon: "twitter",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    text: "Кнопка",\n    disabled: true\n}) }}\n\n<br>\nrounded:\n</br>\n\n{{! dButton.render({\n    size: "XL",\n    rounded: true,\n    text: "Кнопка"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    rounded: true,\n    text: "Кнопка"\n}) }}\n\n {{! dButton.render({\n    size: "L",\n    rounded: true,\n    text: "Кнопка",\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    text: "Кнопка",\n    rounded: true,\n}) }}\n\n {{! dButton.render({\n    rounded: true,\n    text: "Кнопка",\n    icon: "twitter"\n}) }}\n\n {{! dButton.render({\n    rounded: true,\n    text: "Кнопка",\n    icon: "twitter",\n    iconPosition: "right"\n}) }}\n\n {{! dButton.render({\n    size: "S",\n    rounded: true,\n    text: "Кнопка"\n}) }}\n'},function(t,e,i,n){t.exports="<p>1) class и size теперь передается не в виде аргумента, а в виде свойств объекта.</p>\n"},function(t,e,i,n){t.exports="<p>Кнопка, на вход принимает объект</p>\n<pre><code>{ - корневой объект, описывающий блок  \n    size - (не обязательный) размер кнопки, допустимые значания: S, M, L, XL, Large\n    text - текст кнопки\n    additionalText - (не обязательный) доп. текст, к-рый будет под основным текстом\n    class - (не обязательный) доп. класс для кнопки, любые значения через пробел\n    disabled - (не обязательный) кнопка активна/не активна  \n    icon - (не обязательный) иконка на кнопке  \n    iconPosition - (не обязательный) позиция иконки в кнопке, допустимые значения: &quot;left&quot;, &quot;right&quot;. По-умолчанию &quot;left&quot;\n    attrs - (не обязательный) объект дополнительных аттрибутов кнопки  \n    use_link - (не обязательный) использовать тег &lt;a&gt;  \n    href - (не обязательный) ссылка перехода, будет использован тег &lt;a&gt;  \n    target - (не обязательный) аттрибут target, если используется тег &lt;a&gt;  \n}\n</code></pre><p>Размер по-умолчанию: &quot;M&quot;.</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-button-group",definitionDot:i(1266),definitionYate:i(1267),example:i(1268),exampleSrc:i(1269),changes:i(1270),readme:i(1271)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButtonGroup = require("music-ui/blocks/d-button-group"); }}\n{{/define}}\n\n{{! dButtonGroup.render({\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка2",\n        active: false\n    }]\n}) }}\n\n{{! dButtonGroup.render({\n    items: [{\n        text: "Кнопка",\n        class: "add_class",\n        icon: "twitter",\n        iconRotation: "upside-down",\n        attrs: {\n            title: "some title",\n            "data-attr": "content",\n            "data-attr_2": "content"\n        },\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    },{\n        text: "Кнопка2",\n        class: "add_class2",\n        icon: "facebook",\n        iconRotation: "upside-down",\n        attrs: {\n            title: "some title",\n            "data-attr": "content",\n            "data-attr_2": "content"\n        },\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    }]\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    items: [{\n        text: "Кнопка"\n        active: true\n    },{\n        text: "Кнопка2"\n        active: false\n    }]\n} d-button\napply {\n    items: [{\n        text: "Кнопка"\n        class: "add_class"\n        icon: "twitter"\n        iconRotation: "upside-down"\n        attrs: {\n            title: "some title"\n            "data-attr": "content"\n            "data-attr_2": "content"\n        }\n        use_link: true()\n        href: "http://music.yandex.ru"\n        target: "_blank"\n    },{\n        text: "Кнопка2"\n        class: "add_class2"\n        icon: "facebook"\n        iconRotation: "upside-down"\n        attrs: {\n            title: "some title"\n            "data-attr": "content"\n            "data-attr_2": "content"\n        },\n        use_link: true()\n        href: "http://music.yandex.ru"\n        target: "_blank"\n    }]\n} d-button\n'},function(t,e,i,n){var a;t.exports=(a=i(612),function(t){return"Со ссылками<br/><br/>"+a.render({size:"M",class:"some-additional-class",items:[{text:"Кнопка",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank",active:!0},{text:"Кнопка",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank"}]})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank",active:!0},{text:"Кнопка 2",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank"},{text:"Кнопка 3",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank"},{text:"Кнопка 4",class:"add_class",use_link:!0,href:"http://music.yandex.ru",target:"_blank"}]})+"<br></br>Без ссылок<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}]})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}]})+"<br></br>Size S<br/><br/>"+a.render({size:"S",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}]})+"<br/><br/>"+a.render({size:"S",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}]})+"<br></br>Type: lighter<br/><br/>"+a.render({size:"S",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}],type:"lighter"})+"<br/><br/>"+a.render({size:"S",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}],type:"lighter"})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}],type:"lighter"})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}],type:"lighter"})+'<br/><br/>Type: ["lighter", "spaced"]<br/><br/>'+a.render({size:"S",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}],type:["lighter","spaced"]})+"<br/><br/>"+a.render({size:"S",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}],type:["lighter","spaced"]})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",attrs:{value:1},active:!0},{text:"Кнопка 2",attrs:{value:2}}],type:["lighter","spaced"]})+"<br/><br/>"+a.render({size:"M",items:[{text:"Кнопка",active:!0},{text:"Кнопка 2",target:"_blank"},{text:"Кнопка 3",target:"_blank"},{text:"Кнопка 4",target:"_blank"}],type:["lighter","spaced"]})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButtonGroup = require("music-ui/blocks/d-button-group"); }}\n{{/define}}\n\nСо ссылками\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    class: "some-additional-class",\n    items: [{\n        text: "Кнопка",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank",\n        active: true\n    },{\n        text: "Кнопка",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    }]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank",\n        active: true\n    },{\n        text: "Кнопка 2",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        class: "add_class",\n        use_link: true,\n        href: "http://music.yandex.ru",\n        target: "_blank"\n    }]\n}) }}\n\n<br></br>\n\nБез ссылок\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }]\n}) }}\n\n<br></br>\n\nSize S\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }]\n}) }}\n\n<br></br>\n\nType: lighter\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }],\n    type: "lighter"\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }],\n    type: "lighter"\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }],\n    type: "lighter"\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }],\n    type: "lighter"\n}) }}\n\n<br/><br/>\n\nType: ["lighter", "spaced"]\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }],\n    type: ["lighter", "spaced"]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "S",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }],\n    type: ["lighter", "spaced"]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        attrs: {\n            value: 1\n        },\n        active: true\n    },{\n        text: "Кнопка 2",\n        attrs: {\n            value: 2\n        }\n    }],\n    type: ["lighter", "spaced"]\n}) }}\n\n<br/><br/>\n\n{{! dButtonGroup.render({\n    size: "M",\n    items: [{\n        text: "Кнопка",\n        active: true\n    },{\n        text: "Кнопка 2",\n        target: "_blank"\n    },{\n        text: "Кнопка 3",\n        target: "_blank"\n    },{\n        text: "Кнопка 4",\n        target: "_blank"\n    }],\n    type: ["lighter", "spaced"]\n}) }}\n'},function(t,e,i,n){t.exports="<p>checked =&gt; active</p>\n"},function(t,e,i,n){t.exports="<p>Набор кнопок, типа переключателя или паджинатора</p>\n<pre><code>{ - корневой объект, описывающий блок  \n    size - (не обязательный) размер, допустимые значания: S, M\n    class - (не обязательный) доп. класс для родителя, любые занчения через пробел\n    items - массив настроек кнопок, формат аналогичный формату кнопок\n}\n\nsize, переданный в массиве items игнорируется, наследуется из блока. Type переопределяется в grouped\n</code></pre><p>Размер по-умолчанию: &quot;M&quot;.</p>\n<p>При наличии только двух кнопок и типа не-lighter минимальный размер кнопок 140px</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-button-store",definitionDot:i(1273),definitionYate:i(1274),example:i(1275),exampleSrc:i(1276),changes:i(1277),readme:i(1278)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButtonStore = require("music-ui/blocks/d-button-store"); }}\n{{/define}}\n\n{{! dButtonStore.render({}) }}\n\n{{! dButtonStore.render({\n\t"type": "radio"\n}) }}\n'},function(t,e,i,n){t.exports='apply . d-button-store\n\napply {\n\t"type": "radio"\n} d-button-store\n'},function(t,e,i,n){var a;t.exports=(a=i(731),function(t){return"Блок сторов для Музыки<br><div>"+a.render({})+"</div><br>Блок сторов для Радио<br><div>"+a.render({type:"radio"})+"</div><br>Блок другой размер<br><div>"+a.render({size:"S"})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dButtonStore = require("music-ui/blocks/d-button-store"); }}\n{{/define}}\n\nБлок сторов для Музыки\n<br>\n<div>\n\t{{! dButtonStore.render({}) }}\n</div>\n<br>\nБлок сторов для Радио\n<br>\n<div>\n\t{{! dButtonStore.render({\n\t\t"type": "radio"\n\t}) }}\n</div>\n<br>\nБлок другой размер\n<br>\n<div>\n\t{{! dButtonStore.render({\n\t\t"size": "S"\n\t}) }}\n</div>\n'},function(t,e,i,n){t.exports="<p><code>button-store</code> имел два жестко заданных шаблона: все кнопки и радио.\nЭта реализация умеет получать флаг <code>type</code>, которая позволяет указывать необходимую конфигурацию кнопочек.</p>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    goal - строка с префиксом для целей Метрики, необязательно\n    type - строка с типом. Поддерживается `all`, `radio`, по-умолчанию `all`\n    size - размер кнопочек. Смотреть в `d-button`\n}\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-copy",definitionDot:i(1280),definitionYate:i(1281),example:i(1282),exampleSrc:i(1283),changes:i(1284),readme:i(1285)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dCopy = require("music-ui/blocks/d-copy"); }}\n{{/define}}\n\n{{! dCopy.render({\n\t\t"input": {\n\t\t\t"size": "M",\n\t\t\t"readonly": true,\n\t\t\t"text": "Копируемый текст"\n\t\t},\n\t\t"button": {\n\t\t\t"size": "M",\n\t\t\t"type": "action",\n\t\t\t"text": "Скопировать"\n\t\t},\n\t\t"successText": "Текст скопирован",\n        "errorText": "Скопировать не удалось"\n\t})\n}}\n'},function(t,e,i,n){t.exports='apply {\n\t"input": {\n\t\t"size": "M"\n\t\t"readonly": true()\n\t\t"text": "Копируемый текст"\n\t},\n\t"button": {\n\t\t"size": "M"\n\t\t"type": "action"\n\t\t"text": "Скопировать"\n\t},\n\t"successText": "Текст скопирован"\n    "errorText": "Скопировать не удалось"\n} d-copy\n'},function(t,e,i,n){var a;t.exports=(a=i(191),function(t){return"<div><div><b>Кнопка в качестве элемента управления:</b></div><br />"+a.render({input:{size:"M",readonly:!0,value:"Копируемый текст 1"},button:{size:"M",type:"action",text:"Скопировать"},successText:"Текст скопирован",errorText:"Скопировать не удалось"})+"</div><br /><div><div><b>Обратная последовательность:</b></div><br />"+a.render({input:{size:"M",readonly:!0,value:"Копируемый текст 1"},button:{size:"M",type:"action",text:"Скопировать"},revert:!0,successText:"Текст скопирован",errorText:"Скопировать не удалось"})+"</div><br /><hr /><br /><div><div> <b>Ссылка в качестве элемента управления:</b> </div> <br />"+a.render({input:{size:"M",readonly:!0,value:"Копируемый текст 2"},link:{text:"Скопировать",style:"marked"},successText:"Текст скопирован",errorText:"Скопировать не удалось"})+'</div><br /><hr /><br /><div><div><b>Копируется текст из элемента со страницы, который определяется по селектору и никак не связан с блоком d-copy:</b></div><br /><div id="d-copy__example" style="padding: 10px; border: 1px dashed black; border-radius: 3px; display: inline-block; margin-right: 10px;">Копируемый внешний текст</div>'+a.render({selector:"#d-copy__example",link:{text:"Скопировать",style:"marked"},successText:"Текст скопирован",errorText:"Скопировать не удалось"})+"</div><br />"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dCopy = require("music-ui/blocks/d-copy"); }}\n{{/define}}\n\n<div>\n\t<div>\n\t\t<b>Кнопка в качестве элемента управления:</b>\n\t</div>\n\t<br />\n\t{{! dCopy.render({\n\t\t\t"input": {\n\t\t\t\t"size": "M",\n\t\t\t\t"readonly": true,\n\t\t\t\t"value": "Копируемый текст 1"\n\t\t\t},\n\t\t\t"button": {\n\t\t\t\t"size": "M",\n\t\t\t\t"type": "action",\n\t\t\t\t"text": "Скопировать"\n\t\t\t},\n\t\t\t"successText": "Текст скопирован",\n\t        "errorText": "Скопировать не удалось"\n\t\t})\n\t}}\n</div>\n<br />\n\n<div>\n\t<div>\n\t\t<b>Обратная последовательность:</b>\n\t</div>\n\t<br />\n\t{{! dCopy.render({\n\t\t\t"input": {\n\t\t\t\t"size": "M",\n\t\t\t\t"readonly": true,\n\t\t\t\t"value": "Копируемый текст 1"\n\t\t\t},\n\t\t\t"button": {\n\t\t\t\t"size": "M",\n\t\t\t\t"type": "action",\n\t\t\t\t"text": "Скопировать"\n\t\t\t},\n\t\t\t"revert": true,\n\t\t\t"successText": "Текст скопирован",\n\t        "errorText": "Скопировать не удалось"\n\t\t})\n\t}}\n</div>\n<br /><hr /><br />\n\n<div>\n\t<div>\n        <b>Ссылка в качестве элемента управления:</b>\n    </div>\n    <br />\n\t{{! dCopy.render({\n\t\t\t"input": {\n\t\t\t\t"size": "M",\n\t\t\t\t"readonly": true,\n\t\t\t\t"value": "Копируемый текст 2"\n\t\t\t},\n\t\t\t"link": {\n\t\t\t\t"text": "Скопировать",\n\t\t\t\t"style": "marked"\n\t\t\t},\n\t\t\t"successText": "Текст скопирован",\n\t\t\t"errorText": "Скопировать не удалось"\n\t\t})\n\t}}\n</div>\n<br /><hr /><br />\n\n<div>\n\t<div>\n\t\t<b>Копируется текст из элемента со страницы, который определяется по селектору и никак не связан с блоком d-copy:</b>\n\t</div>\n\t<br />\n\n\t<div id="d-copy__example" style="padding: 10px; border: 1px dashed black; border-radius: 3px; display: inline-block; margin-right: 10px;">\n\t\tКопируемый внешний текст\n\t</div>\n\n\t{{! dCopy.render({\n\t\t\t"selector": "#d-copy__example",\n\t\t\t"link": {\n\t\t\t\t"text": "Скопировать",\n\t\t\t\t"style": "marked"\n\t\t\t},\n\t\t\t"successText": "Текст скопирован",\n\t\t\t"errorText": "Скопировать не удалось"\n\t\t})\n\t}}\n</div>\n<br />\n'},function(t,e,i,n){t.exports="<p>Новый блок</p>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    link - json объект соответствующий блоку d-link, по клику копирует текст,\n    button - json объект соответствующий блоку d-button, по клику копирует текст, приоритетнее link,\n    selector - селектор элемента содержащего копируемый текст,\n    input - json объект соответствующий блоку d-input, источник копируемого текста, приоритетнее selector,\n    class - пользовательский класс, добавлется к корню блока,\n    revert - true/false - поменять последовательность элементов, по-умолчанию false,\n    successText - текст для тултипа в случае успешного копирования,\n    errorText - текст для тултипа в случае неудачи при копировании\n}\n\nПрямая последовательность элементов (revert=false):\n    1) input\n    2) button или link\n\nОбратная последовательность элементов (revert=true):\n    1) button или link\n    2) input\n\nСобытия:\n    success - успех\n    error - провал\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-devider",definitionDot:i(1287),definitionYate:i(1288),example:i(1289),exampleSrc:i(1290),changes:i(1291),readme:i(1292)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dDevider = require("music-ui/blocks/d-devider"); }}\n{{/define}}\n\n{{! dDevider.render({\n\ttext: "Йа разделилко!"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    "text": "Йа йать разделилко!"\n} d-devider\n'},function(t,e,i,n){var a;t.exports=(a=i(221),function(t){return"<div>С текстом:<br/><br/>"+a.render({text:"Йа разделилко!"})+"<br/><br/>Без текста:<br/><br/>"+a.render({})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dDevider = require("music-ui/blocks/d-devider"); }}\n{{/define}}\n\n<div>\n\tС текстом:\n\t<br/><br/>\n\t{{! dDevider.render({\n\t\ttext: "Йа разделилко!"\n\t}) }}\n\t<br/><br/>\n\tБез текста:\n\t<br/><br/>\n\t{{! dDevider.render({}) }}\n</div>\n'},function(t,e,i,n){t.exports=""},function(t,e,i,n){t.exports="<p>Просто разделитель с текстом посредине</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-flag",definitionDot:i(1294),definitionYate:i(1295),example:i(1296),exampleSrc:i(1297),changes:i(1298),readme:i(1299)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dFlag = require("music-ui/blocks/d-flag"); }}\n{{/define}}\n\n{{! dFlag.render({\n    name: "ru",\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    name: "ru"\n} d-flag\n'},function(t,e,i,n){var a,s;t.exports=(a=i(153),s=["am","by","gb","ge","il","kg","kz","md","ru","tj","tr","uk","uz","kk"],function(t){for(var e,i="",n=0;n<s.length;n++)i+='<span class="page-style-guide__d-icon-example" title="'+__escape(e=s[n])+'">'+a.render({name:e})+"</span>";return i+='<br/><br/>Размеры:<span class="page-style-guide__d-icon-example" title="Size: default">'+a.render({name:"am"})+'</span><span class="page-style-guide__d-icon-example" title="Size: S">'+a.render({name:"am",size:"S"})+'</span>Способы указания флага.<span class="page-style-guide__d-icon-example">'+a.render({name:"uk"})+'</span><span class="page-style-guide__d-icon-example">'+a.render({code:225})+'</span><span class="page-style-guide__d-icon-example">'+a.render({lang:"hy"})+"</span>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dFlag = require("music-ui/blocks/d-flag"); }}\n\t{{ var countries = ["am", "by", "gb", "ge", "il", "kg", "kz", "md", "ru", "tj", "tr", "uk", "uz", "kk"]; }}\n{{/define}}\n\n{{~ countries : country }}\n\t<span class="page-style-guide__d-icon-example" title="{{= country }}">\n\t\t{{! dFlag.render({\n\t\t\t"name": country\n\t\t}) }}\n\t</span>\n{{~ }}\n\n<br/><br/>\n\nРазмеры:\n<span class="page-style-guide__d-icon-example" title="Size: default">\n\t{{! dFlag.render({\n\t\t"name": "am",\n\t}) }}\n</span>\n\n<span class="page-style-guide__d-icon-example" title="Size: S">\n\t{{! dFlag.render({\n\t\t"name": "am",\n\t\t"size": "S"\n\t}) }}\n</span>\n\nСпособы указания флага.\n<span class="page-style-guide__d-icon-example">\n\t{{! dFlag.render({\n\t\t"name": "uk"\n\t}) }}\n</span>\n\n<span class="page-style-guide__d-icon-example">\n\t{{! dFlag.render({\n\t\t"code": 225\n\t}) }}\n</span>\n\n<span class="page-style-guide__d-icon-example">\n\t{{! dFlag.render({\n\t\t"lang": "hy"\n\t}) }}\n</span>\n'},function(t,e,i,n){t.exports=""},function(t,e,i,n){t.exports="<p>Иконки флагов.</p>\n<p>Блок на вход принимает объект:</p>\n<pre><code>{\n    name - сокращение названия страны, ISO 3166-1 alpha-2\n    code - код страны из геобазы, альтератива name/lang\n    lang - код языка из бека, альтернатива name/code\n    size - размер флага. Доступны M и S, по-умолчанию M\n}\n</code></pre><p>Важно за основу нейминга svg с флагами берется название страны по ISO 3166-1 alpha-2. Языковая локаль конвертируется в хелпере и приводится к названию страны.</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-header",definitionDot:i(1301),definitionYate:i(1302),example:i(1303),exampleSrc:i(1304),changes:i(1305),readme:i(1306)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dHeader = require("music-ui/blocks/d-header"); }}\n{{/define}}\n\n{{! dHeader.render({\n\t\t"title": "Заголовок",\n\t\t"subtitle": "Подзаголовок",\n\t\t"tabs": {\n\t\t\tcurrentId: "tip1",\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\tid: "tip1",\n\t\t\t\t\ttitle: "Пункт - 1"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: "tip2",\n\t\t\t\t\ttitle: "Пункт - 2"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: "tip3",\n\t\t\t\t\ttitle: "Пункт - 3"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t})\n}}\n'},function(t,e,i,n){t.exports='apply {\n\t"title": "Заголовок"\n\t"subtitle": "Подзаголовок"\n\t"tabs": {\n\t\t"currentId: "tip1"\n\t\t"items": [\n\t\t\t{\n\t\t\t\t"id": "tip1"\n\t\t\t\t"title": "Пункт - 1"\n\t\t\t}\n\t\t\t{\n\t\t\t\t"id": "tip2"\n\t\t\t\t"title": "Пункт - 2"\n\t\t\t}\n\t\t\t{\n\t\t\t\t"id": "tip3"\n\t\t\t\t"title": "Пункт - 3"\n\t\t\t}\n\t\t]\n\t}\n} d-header\n'},function(t,e,i,n){var a;t.exports=(a=i(644),function(t){return'<style>.block-description {font-weight: bold;}.block-wrapper {border: 1px solid #ccc;margin: 5px 0 20px;}</style><div class="block"><div class="block-description">Только заголовок:</div><div class="block-wrapper">'+a.render({title:"Заголовок"})+'</div></div><div class="block"><div class="block-description">Заголовок и подзаголовок:</div><div class="block-wrapper">'+a.render({title:"Заголовок",subtitle:"Подзаголовок"})+'</div></div><div class="block"><div class="block-description">Заголовок и меню:</div><div class="block-wrapper">'+a.render({title:"Заголовок",tabs:{currentId:"tip1",items:[{id:"tip1",title:"Пункт - 1"},{id:"tip2",title:"Пункт - 2"},{id:"tip3",title:"Пункт - 3"}]}})+'</div></div><div class="block"><div class="block-description">Блок со всеми элементами: заголовок, меню, подзаголовок:</div><div class="block-wrapper">'+a.render({title:"Заголовок больше 25 символов",subtitle:"Подзаголовок",tabs:{currentId:"tip1",items:[{id:"tip1",title:"Пункт - 1"},{id:"tip2",title:"Пункт - 2"},{id:"tip3",title:"Пункт - 3"}]}})+"</div></div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dHeader = require("music-ui/blocks/d-header"); }}\n{{/define}}\n\n<style>\n\t.block-description {\n\t\tfont-weight: bold;\n\t}\n\n\t.block-wrapper {\n\t\tborder: 1px solid #ccc;\n\t\tmargin: 5px 0 20px;\n\t}\n</style>\n\n<div class="block">\n\t<div class="block-description">\n\t\tТолько заголовок:\n\t</div>\n\t<div class="block-wrapper">\n\t\t{{! dHeader.render({\n\t\t\t\t"title": "Заголовок"\n\t\t\t})\n\t\t}}\n\t</div>\n</div>\n\n<div class="block">\n\t<div class="block-description">\n\t\tЗаголовок и подзаголовок:\n\t</div>\n\t<div class="block-wrapper">\n\t\t{{! dHeader.render({\n\t\t\t\t"title": "Заголовок",\n\t\t\t\t"subtitle": "Подзаголовок"\n\t\t\t})\n\t\t}}\n\t</div>\n</div>\n\n<div class="block">\n\t<div class="block-description">\n\t\tЗаголовок и меню:\n\t</div>\n\t<div class="block-wrapper">\n\t\t{{! dHeader.render({\n\t\t\t\t"title": "Заголовок",\n\t\t\t\t"tabs": {\n\t\t\t\t\tcurrentId: "tip1",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip1",\n\t\t\t\t\t\t\ttitle: "Пункт - 1"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip2",\n\t\t\t\t\t\t\ttitle: "Пункт - 2"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip3",\n\t\t\t\t\t\t\ttitle: "Пункт - 3"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t})\n\t\t}}\n\t</div>\n</div>\n\n<div class="block">\n\t<div class="block-description">\n\t\tБлок со всеми элементами: заголовок, меню, подзаголовок:\n\t</div>\n\t<div class="block-wrapper">\n\t\t{{! dHeader.render({\n\t\t\t\t"title": "Заголовок больше 25 символов",\n\t\t\t\t"subtitle": "Подзаголовок",\n\t\t\t\t"tabs": {\n\t\t\t\t\tcurrentId: "tip1",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip1",\n\t\t\t\t\t\t\ttitle: "Пункт - 1"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip2",\n\t\t\t\t\t\t\ttitle: "Пункт - 2"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: "tip3",\n\t\t\t\t\t\t\ttitle: "Пункт - 3"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t})\n\t\t}}\n\t</div>\n</div>\n'},function(t,e,i,n){t.exports="<p>Новый блок, в yate такого не было.</p>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    title - заголовок\n    titleContent - произвольная верстка размещающаяся после заголовка\n    subtitle - подзаголовок\n    tabs - json объект соответствующий блоку d-tabs\n}\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-icon",definitionDot:i(1308),definitionYate:i(1309),example:i(1310),exampleSrc:i(1311),changes:i(1312),readme:i(1313)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dIcon = require("music-ui/blocks/d-icon"); }}\n{{/define}}\n\n{{! dIcon.render({\n    icon: "heart",\n    rotate: false /* false/cw/upside-down/ccw */\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    icon: "heart"\n} d-icon\n'},function(t,e,i,n){var a,s;t.exports=(a=i(141),s=["play","pause","play-small","pause-small","track-prev","track-next","emoji","heart","heart-on","heart-full-colorless","heart-full","heart-cross","share","upload","download","trash-wide","trash-narrow","disk","email","loupe","drop-cap","eye","eye-crossed","person","notes","tag","box-with-arrow","two-persons","arrows-round","globus","cog","cog-dot","cog-full","circle-crossed","circle-crossed_on","circle-crossed_on_track","circle-crossed_track","circle-with-arrow","radio","note-staff","head-male","ticket","ticket-thin","padlock","padlock-small","chainlink","cross-big","cross-medium","cross-small","plus","dropdown-big","arrow-left","arrow-right","checkmark","checkmark-green","checkmark-green-dark","checkmark-green-fat","check-circle","check-circle-green","star-circle","pen-circle","approved","arrow-search","arrow-right-thin","dropdown","dropdown-thin","settings","menu","microphone","plus-big","plus-thin","dots-horisontal","dots-vertical","pen","mobile","smartphone","headphones","arrow-up","rouble","vkontakte-circle","twitter-circle","facebook-circle","odnoklassniki-circle","instagram-circle","youtube-circle","vkontakte","twitter","facebook","odnoklassniki","deezer","lastfm","vkontakte-muted","facebook-muted","deezer-muted","lastfm-muted","repeat-gold","repeat-one-gold","shuffle-gold","equalizer-gold","hq-gold","repeat","repeat-one","shuffle","equalizer","hq","playlist-next","volume-loud","volume-quiet","volume-mute","lightning","translate","translate_on","time","bookmark","camera","thumbs-up","vote","vote-on","apple","google-play","windows","database","wizard","wizard-muted","logo","list","playback-x1","playback-x2","playback-x15","playback-x125","playback-x175"],function(t){for(var e,i="",n=0;n<s.length;n++)i+='<span class="page-style-guide__d-icon-example" title="'+__escape(e=s[n])+'">'+a.render({icon:e})+"</span>";return i+='<br/><br/>Вращение:<span class="page-style-guide__d-icon-example" title="rotate: cw">'+a.render({icon:"share",rotate:"cw"})+'</span><span class="page-style-guide__d-icon-example" title="rotate: upside-down">'+a.render({icon:"share",rotate:"upside-down"})+'</span><span class="page-style-guide__d-icon-example" title="rotate: ccw">'+a.render({icon:"share",rotate:"ccw"})+"</span>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dIcon = require("music-ui/blocks/d-icon"); }}\n\t{{ var icons = [\n\t\t"play",\n\t\t"pause",\n\t\t"play-small",\n\t\t"pause-small",\n\t\t"track-prev",\n\t\t"track-next",\n\t\t"emoji",\n\t\t"heart",\n\t\t"heart-on",\n\t\t"heart-full-colorless",\n\t\t"heart-full",\n\t\t"heart-cross",\n\t\t"share",\n\t\t"upload",\n\t\t"download",\n\t\t"trash-wide",\n\t\t"trash-narrow",\n\t\t"disk",\n\t\t"email",\n\t\t"loupe",\n\t\t"drop-cap",\n\t\t"eye",\n\t\t"eye-crossed",\n\t\t"person",\n\t\t"notes",\n\t\t"tag",\n\t\t"box-with-arrow",\n\t\t"two-persons",\n\t\t"arrows-round",\n\t\t"globus",\n\t\t"cog",\n\t\t"cog-dot",\n\t\t"cog-full",\n\t\t"circle-crossed",\n\t\t"circle-crossed_on",\n\t\t"circle-crossed_on_track",\n\t\t"circle-crossed_track",\n\t\t"circle-with-arrow",\n\t\t"radio",\n\t\t"note-staff",\n\t\t"head-male",\n\t\t"ticket",\n\t\t"ticket-thin",\n\t\t"padlock",\n\t\t"padlock-small",\n\t\t"chainlink",\n\t\t"cross-big",\n\t\t"cross-medium",\n\t\t"cross-small",\n\t\t"plus",\n\t\t"dropdown-big",\n\t\t"arrow-left",\n\t\t"arrow-right",\n\t\t"checkmark",\n\t\t"checkmark-green",\n\t\t"checkmark-green-dark",\n\t\t"checkmark-green-fat",\n\t\t"check-circle",\n\t\t"check-circle-green",\n\t\t"star-circle",\n\t\t"pen-circle",\n\t\t"approved",\n\t\t"arrow-search",\n\t\t"arrow-right-thin",\n\t\t"dropdown",\n\t\t"dropdown-thin",\n\t\t"settings",\n\t\t"menu",\n\t\t"microphone",\n\t\t"plus-big",\n\t\t"plus-thin",\n\t\t"dots-horisontal",\n\t\t"dots-vertical",\n\t\t"pen",\n\t\t"mobile",\n\t\t"smartphone",\n\t\t"headphones",\n\t\t"arrow-up",\n\t\t"rouble",\n\t\t"vkontakte-circle",\n\t\t"twitter-circle",\n\t\t"facebook-circle",\n\t\t"odnoklassniki-circle",\n\t\t"instagram-circle",\n\t\t"youtube-circle",\n\t\t"vkontakte",\n\t\t"twitter",\n\t\t"facebook",\n\t\t"odnoklassniki",\n\t\t"deezer",\n\t\t"lastfm",\n\t\t"vkontakte-muted",\n\t\t"facebook-muted",\n\t\t"deezer-muted",\n\t\t"lastfm-muted",\n\t\t"repeat-gold",\n\t\t"repeat-one-gold",\n\t\t"shuffle-gold",\n\t\t"equalizer-gold",\n\t\t"hq-gold",\n\t\t"repeat",\n\t\t"repeat-one",\n\t\t"shuffle",\n\t\t"equalizer",\n\t\t"hq",\n\t\t"playlist-next",\n\t\t"volume-loud",\n\t \t"volume-quiet",\n\t\t"volume-mute",\n\t\t"lightning",\n\t\t"translate",\n\t\t"translate_on",\n\t\t"time",\n\t\t"bookmark",\n\t\t"camera",\n\t\t"thumbs-up",\n\t\t"vote",\n\t\t"vote-on",\n\t\t"apple",\n\t\t"google-play",\n\t\t"windows",\n\t\t"database",\n\t\t"wizard",\n\t\t"wizard-muted",\n\t\t"logo",\n\t\t"list",\n\t\t"playback-x1",\n\t\t"playback-x2",\n\t\t"playback-x15",\n\t\t"playback-x125",\n\t\t"playback-x175",\n\t]; }}\n{{/define}}\n\n{{~ icons:icon }}\n\t<span class="page-style-guide__d-icon-example" title="{{= icon }}">\n\t\t{{! dIcon.render({\n\t\t\ticon: icon\n\t\t}) }}\n\t</span>\n{{~ }}\n\n<br/><br/>\n\nВращение:\n<span class="page-style-guide__d-icon-example" title="rotate: cw">\n\t{{! dIcon.render({\n\t\ticon: "share",\n\t\trotate: "cw"\n\t}) }}\n</span>\n\n<span class="page-style-guide__d-icon-example" title="rotate: upside-down">\n\t{{! dIcon.render({\n\t\ticon: "share",\n\t\trotate: "upside-down"\n\t}) }}\n</span>\n\n<span class="page-style-guide__d-icon-example" title="rotate: ccw">\n\t{{! dIcon.render({\n\t\ticon: "share",\n\t\trotate: "ccw"\n\t}) }}\n</span>\n'},function(t,e,i,n){t.exports=""},function(t,e,i,n){t.exports='<h2 id="-">Иконки!</h2>\n'},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-input",definitionDot:i(1315),definitionYate:i(1316),example:i(1317),exampleSrc:i(1318),changes:i(1319),readme:i(1320)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dInput = require("music-ui/blocks/d-input"); }}\n{{/define}}\n\n{{! dInput.render({\n\t"class": "custom-class",\n\tsize: "L",\n\tmultiline: false,\n\tplaceholder: "Подсказка",\n\tvalue: "Данные",\n\tpassword: false,\n\treadonly: false,\n\tdisabled: false,\n\tchars: /[a-zA-Z0-9]/,\n\tpattern: /^.*$/,\n\tautoValidate: true,\n\ttipSuccess: "valid",\n\ttipFail: "invalid"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n\t"class": "custom-class"\n\t"size": "L"\n\t"multiline": ""\n\t"placeholder": "Подсказка"\n\t"value": "Данные"\n\t"password": ""\n\t"readonly": ""\n\t"disabled": ""\n\t"chars": /[a-zA-Z0-9]/\n\t"pattern": /^.*$/\n\t"autoValidate": true()\n\t"tipSuccess": "valid"\n\t"tipFail": "invalid"\n} d-input\n'},function(t,e,i,n){var a;t.exports=(a=i(139),function(t){return""+a.render({placeholder:"size-S",size:"S"})+a.render({placeholder:"size-M",size:"M"})+a.render({placeholder:"size-L",size:"L"})+a.render({placeholder:"size-XL",size:"XL"})+"<br /><br />"+a.render({value:"Заранее введённый текст"})+a.render({password:!0,placeholder:"Поле для пароля"})+a.render({disabled:!0,value:"Отлюченное поле"})+a.render({readonly:!0,value:"Поле только для чтения"})+a.render({checkDirection:!0,value:"Поле с переключением направления при вводе на иврите"})+a.render({placeholder:"Введите 'qwerty'",chars:/[qwerty]/,pattern:/^qwerty$/,autoValidate:!0,tipFail:"Не qwerty",tipSuccess:"Всё ок"})+'<br /><br /><div style="height: 200px;" >'+a.render({multiline:!0,value:"Какой-то большой\nМногострочный текст"})+"</div><br /><br /><div>"+a.render({style:"transparent",wide:!0,placeholder:"Поиск трека",iconLeft:"loupe",iconRight:"cross-small",hasClear:!0})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dInput = require("music-ui/blocks/d-input"); }}\n{{/define}}\n\n{{! dInput.render({ placeholder: "size-S", size: "S" }) }}\n{{! dInput.render({ placeholder: "size-M", size: "M" }) }}\n{{! dInput.render({ placeholder: "size-L", size: "L" }) }}\n{{! dInput.render({ placeholder: "size-XL", size: "XL" }) }}\n<br />\n<br />\n{{! dInput.render({ value: "Заранее введённый текст" }) }}\n{{! dInput.render({ password: true, placeholder: "Поле для пароля" }) }}\n{{! dInput.render({ disabled: true, value: "Отлюченное поле" }) }}\n{{! dInput.render({ readonly: true, value: "Поле только для чтения" }) }}\n{{! dInput.render({ checkDirection: true, value: "Поле с переключением направления при вводе на иврите" }) }}\n{{! dInput.render({\n\tplaceholder: "Введите \'qwerty\'",\n\tchars: /[qwerty]/,\n\tpattern: /^qwerty$/,\n\tautoValidate: true,\n\ttipFail: "Не qwerty",\n\ttipSuccess: "Всё ок"\n}) }}\n\n<br />\n<br />\n<div style="height: 200px;" >\n\t{{! dInput.render({\n\t\tmultiline: true,\n\t\tvalue: "Какой-то большой\\nМногострочный текст"\n\t}) }}\n</div>\n\n<br />\n<br />\n<div>\n\t{{! dInput.render({\n\t\tstyle: "transparent",\n\t\twide: true,\n\t\tplaceholder: "Поиск трека",\n\t\ticonLeft: "loupe",\n\t\ticonRight: "cross-small",\n\t\thasClear: true,\n\t}) }}\n</div>\n'},function(t,e,i,n){t.exports="<p>Он существует. Аналогичного блока в яте не было вообще</p>\n"},function(t,e,i,n){t.exports='<h3 id="-input-">Умная обёртка для input&#39;ов</h3>\n<p>Умеет автоматически валидировать введённый текст и ограничивать возможности ввода символов (например разрешать только цифры)</p>\n<p>При изменении триггерит событие <code>change</code>\nПри включении выключении свойств <code>disabled</code> и <code>readonly</code> триггерит одноимённые события\nПри валидации триггерит событие <code>validate</code></p>\n<p>Имеет в арсенале методы:</p>\n<ul>\n<li><code>toggleDisabled(state)</code></li>\n<li><code>toggleReadonly(state)</code></li>\n<li><code>toggleValid(state)</code> - со значениями true/false отображает зелёную и красную рамку. Без аргументов возвращает обратно к нормальному виду. так же показывает соответствующий tooltip, если указан текст для него.</li>\n<li><code>value(value)</code> - если значение не передано, то возвращает текущее значение</li>\n<li><code>showTip(text)</code> - показывает подсказу под полем</li>\n<li><code>hideTip()</code> - скрывает подсказку</li>\n<li><code>validate()</code> - вызывает валидацию поля</li>\n<li><code>setPlaceholder(text)</code> - позволяет менять плейсхолдер</li>\n</ul>\n'},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-link",definitionDot:i(1322),definitionYate:i(1323),example:i(1324),exampleSrc:i(1325),changes:i(1326),readme:i(1327)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLink = require("music-ui/blocks/d-link"); }}\n{{/define}}\n\n{{! dLink.render({\n\t"text": "Ссылка",\n\t"href": "/feed",\n\t"class": "my-link",\n\t"arrow": true,\n\t"style": "marked"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n\t"text": "Ссылка"\n\t"href": "/feed"\n\t"class": "my-link"\n\t"arrow": true\n\t"style": "marked"\n} d-link\n'},function(t,e,i,n){var a;t.exports=(a=i(151),function(t){return"<div>"+a.render({text:"Без ссылки"})+"</div><br /><div>"+a.render({text:"Со ссылкой",href:"/feed"})+"</div><br /><div>"+a.render({text:"Со ссылкой и стрелкой",href:"/feed",arrow:!0})+"</div><br /><div>"+a.render({text:"Со ссылкой и стрелкой и заметный",href:"/feed",class:"my-link",arrow:!0,style:"marked"})+"</div><br /><div>"+a.render({text:"Со ссылкой и стрелкой и желтый",href:"/feed",class:"my-link",arrow:!0,style:"marked-yellow"})+"</div><br /><div>"+a.render({text:"Со ссылкой и стрелкой и незаметный",href:"/feed",class:"my-link",arrow:!0,style:"muted"})+"</div><br /><div>"+a.render({text:"Полупрозрачный без красного ховера и со стрелкой",href:"/feed",class:"my-link",arrow:!0,style:"translucent"})+"</div><br /><div>"+a.render({content:'<i class="d-icon d-icon_loupe"></i><span>С содержимым</span>',href:"/feed",arrow:!0})+"</div><br /><div>"+a.render({text:"Откроется в другом окне (target='_blank')",href:"/feed",target:"_blank",style:"muted"})+"</div><br /><div>"+a.render({text:"Инициализирован как блок (есть data-b атрибут)",asBlock:!0})+"</div><br /><div>"+a.render({text:"Не обрабатывается навигацией (страница полностью перезагрузится)",href:"/feed",notHandled:!0,style:"marked"})+"</div><br /><div>"+a.render({text:"Со ссылкой и стрелкой и желтый и не меняется по ховеру",href:"/feed",class:"my-link",arrow:!0,style:"marked-yellow",noHoverColor:!0})+"</div><br /><div>"+a.render({text:"Полупрозрачный и не меняется по ховеру",href:"/feed",class:"my-link",arrow:!0,style:"translucent",noHoverColor:!0})+"</div><br />"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLink = require("music-ui/blocks/d-link"); }}\n{{/define}}\n\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Без ссылки"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой",\n\t\t\t"href": "/feed"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой и стрелкой",\n\t\t\t"href": "/feed",\n\t\t\t"arrow": true,\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой и стрелкой и заметный",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "marked"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой и стрелкой и желтый",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "marked-yellow"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой и стрелкой и незаметный",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "muted"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Полупрозрачный без красного ховера и со стрелкой",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "translucent"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"content": "<i class=\\"d-icon d-icon_loupe\\"></i><span>С содержимым</span>",\n\t\t\t"href": "/feed",\n\t\t\t"arrow": true\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Откроется в другом окне (target=\'_blank\')",\n\t\t\t"href": "/feed",\n\t\t\t"target": "_blank",\n\t\t\t"style": "muted"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Инициализирован как блок (есть data-b атрибут)",\n\t\t\t"asBlock": true\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Не обрабатывается навигацией (страница полностью перезагрузится)",\n\t\t\t"href": "/feed",\n\t\t\t"notHandled": true,\n\t\t\t"style": "marked"\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Со ссылкой и стрелкой и желтый и не меняется по ховеру",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "marked-yellow",\n\t\t\t"noHoverColor": true\n\t\t})\n\t}}\n</div>\n<br />\n<div>\n\t{{! dLink.render({\n\t\t\t"text": "Полупрозрачный и не меняется по ховеру",\n\t\t\t"href": "/feed",\n\t\t\t"class": "my-link",\n\t\t\t"arrow": true,\n\t\t\t"style": "translucent",\n\t\t\t"noHoverColor": true\n\t\t})\n\t}}\n</div>\n<br />\n'},function(t,e,i,n){t.exports="<p>В link имелся только набор классов, d-link же используется как блок.\nВ настоящий момент поддерживаются только 5 стилей отображения: по-умолчанию, muted, marked, marked-yellow, translucent.</p>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    text - текст блока, экранируется, игнорируется если есть content\n    content - содержимое блока, не экранируется\n    href - ссылка\n    class - пользовательский класс, добавлется к корню блока\n    arrow - наличие стрелочки, по-умолчанию false\n    notHandled - не обрабатывать ссылку навигатором, по-умолчанию false\n    asBlock - инициализировать как блок, по-умолчанию false\n    target - target атрибут для ссылки\n    style - стиль отображения\n        [\n            muted - приглушенный\n            marked - яркий\n            marked-yellow - желтый\n            translucent - полупрозрачный\n        ]\n    noHoverColor - при ховере цвет ссылки не меняется, по-умолчанию false\n    flag - настройка вывода флага, смотреть в d-flag\n}\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-logo",definitionDot:i(1329),definitionYate:i(1330),example:i(1331),exampleSrc:i(1332),changes:i(1333),readme:i(1334)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLogo = require("music-ui/blocks/d-logo"); }}\n{{/define}}\n\n{{! dLogo.render({\n\ttheme: "black",\n\ttype: "radio"\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n\t"theme": "black"\n\t"type": "radio"\n} d-logo\n'},function(t,e,i,n){var a;t.exports=(a=i(451),function(t){return a.render({})+' <span style="display: inline-block; background: #000">'+a.render({theme:"white"})+"</span> "+a.render({theme:"black"})+"<br />"+a.render({type:"radio"})+' <span style="display: inline-block; background: #000">'+a.render({type:"radio",theme:"white"})+"</span> "+a.render({type:"radio",theme:"black"})+"<br />"+a.render({})+" "+a.render({link:"none"})+" "+a.render({})+"<br />"+a.render({link:"none",type:"plus"})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dLogo = require("music-ui/blocks/d-logo"); }}\n{{/define}}\n\n{{! dLogo.render({}) }}\n\n <span style="display: inline-block; background: #000">\n{{! dLogo.render({\n\ttheme: "white"\n}) }}\n</span>\n\n {{! dLogo.render({\n\ttheme: "black"\n}) }}\n\n<br />\n\n{{! dLogo.render({\n\ttype: "radio"\n}) }}\n\n <span style="display: inline-block; background: #000">\n{{! dLogo.render({\n\ttype: "radio",\n\ttheme: "white"\n}) }}\n</span>\n\n {{! dLogo.render({\n\ttype: "radio",\n\ttheme: "black"\n}) }}\n\n<br />\n\n{{! dLogo.render({}) }}\n\n {{! dLogo.render({\n\tlink: "none"\n}) }}\n\n {{! dLogo.render({}) }}\n\n\n<br />\n\n{{! dLogo.render({\n\tlink: "none",\n\ttype: "plus"\n}) }}'},function(t,e,i,n){t.exports="<ul>\n<li>все параметры передаются в данных, а не в параметрах</li>\n<li>selfish и static объеденены в параметр link, который более интуитивно-понятен</li>\n<li>более чистые стили без ненужной вложенности</li>\n</ul>\n"},function(t,e,i,n){t.exports="<p>Логотип Музыки:</p>\n<ul>\n<li><code>type</code> либо пустое значение, либо &quot;radio&quot; - для логотипа Радио, либо &quot;plus&quot; - для логотипа Яндекс Плюс</li>\n<li><code>link</code> тип ссылки. Если передать значение &quot;none&quot; - на логотипе вообще не будет ссылки. По умолчанию ведет на главную Музыки</li>\n<li><code>theme</code> - стиль логотипа: полностью белый (white), полностью чёрный (black) и классический (нет значения)</li>\n</ul>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-pager",definitionDot:i(1336),definitionYate:i(1337),example:i(1338),exampleSrc:i(1339),changes:i(1340),readme:i(1341)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dPager = require("music-ui/blocks/d-pager"); }}\n{{/define}}\n\n{{! dPager.render({\n    pager: {\n        total: 11000,\n        page: 5,\n        perPage: 100\n    },\n    baseUrl: "/style-guide/elements"\n}) }}\n\n'},function(t,e,i,n){t.exports='apply {\n    "pager": {\n        "total": 11000\n        "page": 5\n        "perPage": 100\n    }\n    "baseUrl": "/style-guide/elements"\n} d-pager\n'},function(t,e,i,n){var a;t.exports=(a=i(648),function(t){return""+a.render({pager:{total:11e3,page:5,perPage:100},baseUrl:"/style-guide/elements"})})},function(t,e,i,n){t.exports='{{define}}\n    {{ var dPager = require("music-ui/blocks/d-pager"); }}\n{{/define}}\n\n{{! dPager.render({\n    pager: {\n        total: 11000,\n        page: 5,\n        perPage: 100\n    },\n    baseUrl: "/style-guide/elements"\n}) }}\n'},function(t,e,i,n){t.exports="<p>Все данные и аргументы переехали в объект настроект</p>\n"},function(t,e,i,n){t.exports="<p>Паджинатор</p>\n<pre><code>{ - корневой объект, описывающий блок  \n    pager - стандартный pager от бэкенда\n    baseUrl - базовый урл\n    class - (не обязательный), перейдет в кнопки\n}\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-select",definitionDot:i(1343),definitionYate:i(1344),example:i(1345),exampleSrc:i(1346),changes:i(1347),readme:i(1348)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dSelect = require("music-ui/blocks/d-select"); }}\n{{/define}}\n\n/* ДЛЯ ОДНОЙ ГРУППЫ МОЖНО ПЕРЕДАВАТЬ ITEMS */\n{{! dSelect.render({\n    items: [{\n        title: "Вариант 1"\n    },{\n        title: "Вариант 2"\n    },{\n        title: "Вариант 3"\n    }]\n}) }}\n\n/* НЕСКОЛЬКО ГРУПП */\n{{! dSelect.render({\n    groups: [{\n\t\ttitle: "Группа 1",\n\t\titems:[{\n\t\t\ttitle: "Вариант 1-1"\n\t\t},{\n\t\t\ttitle: "Вариант 1-2",\n\t\t\tselected: true\n\t\t},{\n\t\t\ttitle: "Вариант 1-3"\n\t\t}]\n\t}, {\n\t\ttitle: "Группа 2",\n\t\titems: [{\n\t\t\ttitle: "Вариант 2-1",\n\t\t\tselected: true\n\t\t},{\n\t\t\ttitle: "Вариант 2-2",\n\t\t},{\n\t\t\ttitle: "Вариант 2-3"\n\t\t}]\n\t}]\n}) }}\n'},function(t,e,i,n){t.exports='/* ДЛЯ ОДНОЙ ГРУППЫ МОЖНО ПЕРЕДАВАТЬ ITEMS */\napply {\n    items: [{\n        title: "Вариант 1"\n    },{\n        title: "Вариант 2"\n    },{\n        title: "Вариант 3"\n    }]\n} d-select\n\n/* НЕСКОЛЬКО ГРУПП */\napply {\n    groups: [{\n\t\ttitle: "Группа 1",\n    \titems:[{\n\t\t\ttitle: "Вариант 1-1"\n\t\t},{\n\t\t\ttitle: "Вариант 1-2",\n\t\t\tselected: true\n\t\t},{\n\t\t\ttitle: "Вариант 1-3"\n\t\t}]\n\t}, {\n\t\ttitle: "Группа 2",\n\t\titems: [{\n\t\t\ttitle: "Вариант 2-1",\n\t\t\tselected: true\n\t\t},{\n\t\t\ttitle: "Вариант 2-2",\n\t\t},{\n\t\t\ttitle: "Вариант 2-3"\n\t\t}]\n\t}]\n} d-select\n\n'},function(t,e,i,n){var a;t.exports=(a=i(354),function(t){return'<div class="example"><div class="example__block"><div class="example__title">1 группа, значение выбрано</div>'+a.render({groups:[{items:[{title:"Вариант 1"},{title:"Вариант 2"},{title:"Вариант 3",selected:"true"}]}]})+"&nbsp;"+a.render({size:"S",groups:[{items:[{title:"Вариант 1"},{title:"Вариант 2"},{title:"Вариант 3",selected:"true"}]}]})+'<div><i>Допустимые размеры: S, M</i></div></div><div class="example__block"><div class="example__title">1 группа, значение не выбрано, сброс значения запрещен</div>'+a.render({emptyTitle:"Пусто",groups:[{items:[{title:"Вариант 1"},{title:"Вариант 2"},{title:"Вариант 3"}]}]})+'<div><i>Если нет emptyTitle, то будет отображаться "-"</i></div></div><div class="example__block"><div class="example__title">1 группа, значение не выбрано, сброс значения разрешен</div>'+a.render({resetable:!0,groups:[{items:[{title:"Вариант 1"},{title:"Вариант 2"},{title:"Вариант 3"}]}]})+'<div><i></i></div></div><div class="example__block"><div class="example__title">1 группа, мультиселект</div>'+a.render({multi:!0,groups:[{items:[{title:"Вариант 1"},{title:"Вариант 2"},{title:"Вариант 3",selected:"true"}]}]})+'<div><i>Наверху показывается последнее выбранное значение</i></div></div><div class="example__block"><div class="example__title">1 группа, 1-й элемент выносится наверх</div>'+a.render({firstOnTop:!0,groups:[{items:[{title:"Верхний"},{title:"Вариант 1",selected:!0},{title:"Вариант 2"},{title:"Вариант 3"}]}]})+'<div><i>с firstOnTop первый элемент выносится наверх, чтобы выбрать нужно кликнуть по тексту</i></div></div><div class="example__block"><div class="example__title">1 группа, 1-й элемент выносится наверх, но не выделяется при выборе</div>'+a.render({firstOnTop:!0,topWithoutHighlight:!0,groups:[{items:[{title:"Верхний"},{title:"Вариант 1",selected:!0},{title:"Вариант 2"},{title:"Вариант 3"}]}]})+'<div><i>с topWithoutHighlight</i></div></div><div class="example__block"><div class="example__title">1 группа, 1-й элемент выносится наверх, но не выбирается</div>'+a.render({firstOnTop:!0,topNotSelectable:!0,groups:[{items:[{title:"Верхний"},{title:"Вариант 1",selected:!0},{title:"Вариант 2"},{title:"Вариант 3"}]}]})+'<div><i>с topNotSelectable</i></div></div><div class="example__block"><div class="example__title">2 группы, одиночный выбор в каждой из групп</div>'+a.render({groups:[{items:[{title:"Г#1 Вариант 1",selected:!0},{title:"Г#1 Вариант 2"},{title:"Г#1 Вариант 3"}]},{items:[{title:"Г#2 Вариант 1"},{title:"Г#2 Вариант 2"},{title:"Г#2 Вариант 3"}]}]})+'<div><i>Наверх выносится последний выбранный элемент</i></div></div><div class="example__block"><div class="example__title">2 группы, множественный выбор в каждой из групп</div>'+a.render({multi:!0,groups:[{items:[{title:"Г#1 Вариант 1",selected:!0},{title:"Г#1 Вариант 2"},{title:"Г#1 Вариант 3"}]},{items:[{title:"Г#2 Вариант 1"},{title:"Г#2 Вариант 2"},{title:"Г#2 Вариант 3"}]}]})+'<div><i>Наверх выносится последний выбранный элемент</i></div></div><div class="example__block"><div class="example__title">2 группы, с заголовками</div>'+a.render({groups:[{title:"Группа №1",items:[{title:"Г#1 Вариант 1"},{title:"Г#1 Вариант 2"},{title:"Г#1 Вариант 3"}]},{title:"Группа №2",items:[{title:"Г#2 Вариант 1"},{title:"Г#2 Вариант 2"},{title:"Г#2 Вариант 3"}]}]})+'<div><i>поле title в группах</i></div></div><div class="example__block"><div class="example__title">2 группы, 1-я считается главной</div>'+a.render({firstGroupIsMain:!0,resetable:!0,groups:[{title:"Группа №1",items:[{title:"Г#1 Вариант 1"},{title:"Г#1 Вариант 2"},{title:"Г#1 Вариант 3"}]},{title:"Группа №2",items:[{title:"Г#2 Вариант 1"},{title:"Г#2 Вариант 2"},{title:"Г#2 Вариант 3"}]}]})+'<div><i>с firstGroupIsMain активное значение из первой группы преимущественно выносятся наверх</i></div></div><div class="example__block"><div class="example__title">2 группы, с вынесенным первым элементом из первой группы</div>'+a.render({firstOnTop:!0,groups:[{title:"Группа №1",items:[{title:"Г#1 главный"},{title:"Г#1 Вариант 1"},{title:"Г#1 Вариант 2"},{title:"Г#1 Вариант 3"}]},{title:"Группа №2",items:[{title:"Г#2 Вариант 1"},{title:"Г#2 Вариант 2"},{title:"Г#2 Вариант 3"}]}]})+'<div><i></i></div></div><div class="example__block"><div class="example__title">Единственное сбрасываемое значение</div>'+a.render({firstOnTop:!0,resetable:!0,groups:[{items:[{title:"Один"}]}]})+'<div><i>Элемент вынесен наверх</i></div></div><div class="example__block"><div class="example__title">Элементы со ссылками</div>'+a.render({type:"links",groups:[{items:[{title:"Вариант 1",href:"/",selected:!0},{title:"Вариант 2",href:"/"},{title:"Вариант 3 c target=_blank",href:"/",target:"_blank"}]}]})+'<div><i>Необходимо перехватывать клики, чтобы не уносило со страницы</i></div><div><i>Поддерживаются поля href и target в items</i></div></div><div class="example__block"><div class="example__title">С выпадающим списком неограниченной ширины</div>'+a.render({wide:!0,groups:[{items:[{title:"Оооочень длинный текст 🚂 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃",selected:!0}]}]})+"</div></div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dSelect = require("music-ui/blocks/d-select"); }}\n{{/define}}\n\n<div class="example">\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, значение выбрано</div>\n\t\t{{! dSelect.render({\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Вариант 1"},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3", selected: "true"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t&nbsp;\n\t\t{{! dSelect.render({\n\t\t\tsize: "S",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Вариант 1"},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3", selected: "true"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\n\t\t<div><i>Допустимые размеры: S, M</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, значение не выбрано, сброс значения запрещен</div>\n\t\t{{! dSelect.render({\n\t\t\temptyTitle: "Пусто",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Вариант 1"},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Если нет emptyTitle, то будет отображаться "-"</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, значение не выбрано, сброс значения разрешен</div>\n\t\t\t{{! dSelect.render({\n\t\t\t\tresetable: true,\n\t\t\t\tgroups: [\n\t\t\t\t\t{\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{title: "Вариант 1"},\n\t\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t\t{title: "Вариант 3"}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}) }}\n\t\t<div><i></i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, мультиселект</div>\n\t\t{{! dSelect.render({\n\t\t\tmulti: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Вариант 1"},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3", selected: "true"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Наверху показывается последнее выбранное значение</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, 1-й элемент выносится наверх</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstOnTop: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Верхний"},\n\t\t\t\t\t\t{title: "Вариант 1", selected: true},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>с firstOnTop первый элемент выносится наверх, чтобы выбрать нужно кликнуть по тексту</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, 1-й элемент выносится наверх, но не выделяется при выборе</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstOnTop: true,\n\t\t\ttopWithoutHighlight: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Верхний"},\n\t\t\t\t\t\t{title: "Вариант 1", selected: true},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>с topWithoutHighlight</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">1 группа, 1-й элемент выносится наверх, но не выбирается</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstOnTop: true,\n\t\t\ttopNotSelectable: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Верхний"},\n\t\t\t\t\t\t{title: "Вариант 1", selected: true},\n\t\t\t\t\t\t{title: "Вариант 2"},\n\t\t\t\t\t\t{title: "Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>с topNotSelectable</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">2 группы, одиночный выбор в каждой из групп</div>\n\t\t{{! dSelect.render({\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#1 Вариант 1", selected: true},\n\t\t\t\t\t\t{title: "Г#1 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#2 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Наверх выносится последний выбранный элемент</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">2 группы, множественный выбор в каждой из групп</div>\n\t\t{{! dSelect.render({\n\t\t\tmulti: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#1 Вариант 1", selected: true},\n\t\t\t\t\t\t{title: "Г#1 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#2 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Наверх выносится последний выбранный элемент</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">2 группы, с заголовками</div>\n\t\t{{! dSelect.render({\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: "Группа №1",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#1 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\ttitle: "Группа №2",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#2 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>поле title в группах</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">2 группы, 1-я считается главной</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstGroupIsMain: true,\n\t\t\tresetable: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: "Группа №1",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#1 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\ttitle: "Группа №2",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#2 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>с firstGroupIsMain активное значение из первой группы преимущественно выносятся наверх</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">2 группы, с вынесенным первым элементом из первой группы</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstOnTop: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\ttitle: "Группа №1",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#1 главный"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#1 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}, {\n\t\t\t\t\ttitle: "Группа №2",\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Г#2 Вариант 1"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 2"},\n\t\t\t\t\t\t{title: "Г#2 Вариант 3"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i></i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">Единственное сбрасываемое значение</div>\n\t\t{{! dSelect.render({\n\t\t\tfirstOnTop: true,\n\t\t\tresetable: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [{title: "Один"}]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Элемент вынесен наверх</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">Элементы со ссылками</div>\n\t\t{{! dSelect.render({\n\t\t\ttype: "links",\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Вариант 1", href:"/", selected: true},\n\t\t\t\t\t\t{title: "Вариант 2", href:"/"},\n\t\t\t\t\t\t{title: "Вариант 3 c target=_blank", href:"/", target: "_blank"}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t\t<div><i>Необходимо перехватывать клики, чтобы не уносило со страницы</i></div>\n\t\t<div><i>Поддерживаются поля href и target в items</i></div>\n\t</div>\n\n\t<div class="example__block">\n\t\t<div class="example__title">С выпадающим списком неограниченной ширины</div>\n\t\t{{! dSelect.render({\n\t\t\twide: true,\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{title: "Оооочень длинный текст 🚂 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃 🚃", selected: true},\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}) }}\n\t</div>\n\n</div>\n'},function(t,e,i,n){t.exports="<ol>\n<li>class теперь передается не в виде аргумента, а в виде свойств объекта.</li>\n<li>событие при изменении не <code>selected</code>, а <code>change</code>, чтобы больше походило на DOM API</li>\n</ol>\n"},function(t,e,i,n){t.exports='<h2 id="-html-select">Блок, отдаленно напоминающий HTML Select</h2>\n<h3 id="-">Недоработки:</h3>\n<ul>\n<li>не управляется с клавиатуры</li>\n</ul>\n<h3 id="-">Особенности</h3>\n<ul>\n<li>имеет кастомный &quot;иерархический режим&quot; (с firstOnTop=true)</li>\n<li><p>возможность работы с несколькими группами элементов</p>\n<p>  ФОРМАТ ДАННЫХ:\n  {</p>\n<pre><code>  multi (boolean) - множественный выбор внутри каждой из групп\n  resetable (boolean) - возможность сбросить значение\n  firstOnTop (boolean) - вынос первого варианта в качестве переключателя наверх (не будет показываться в селекте)\n  topNotSelectable (boolean) - вынесенный первый вариант не доступен для выбора\n  topWithoutHighlight (boolean) - выбранный вынесенный первый вариант не подсвечивается\n  firstGroupIsMain (boolean) - значение первой группы преимещественно выносится наверх\n  groups (array): [ - массив групп значений (обязательный!)\n      {\n          title (string) // Заголовок группы\n          items: [{// объект описывающий вариант\n              title (string) - текст варианта в селекте (обязательный!)\n              topTitle (string) - текст варианта при выносе наверх\n              selected (boolean) - состояние варианта\n              href (string) - cсылка на которую ведет клик (для режима type=&quot;links&quot;)\n              target (string) - HTML-target (для режима type=&quot;links&quot;)\n              class (string) - доп.класс\n          }, ...]\n      },\n      ...\n  ],\n  items (array) - массив элементов (можно использовать вместо `groups`, если нужна только 1 группа элементов)\n  class (string) - доп. класс\n  type (string) - тип, доступные варианты: undefined, &quot;links&quot;,\n  forceShowButton (boolean) - показывать кнопку со стрелкой даже если список элементов пуст\n  isFullWidth (boolean) - растянуть селект на всю доступную ширину\n</code></pre><p>  }</p>\n</li>\n</ul>\n<p>При firstOnTop=true первый элемент списка начинает вести себя как родитель:\nЕсли выбрано что-то из списка, окрашивается кнопка-выпадашка, если родитель, то родитель, если ничего, то ничего.</p>\n<p>При изменении отправляется событие <code>change</code> c параметрами: {target (object), index (object), value (object), all (array)}\nПри открытии и закрытии списка отправляется событие <code>toggle</code> c параметрами: {target (object), state (boolean)}\nПри клике по элементу отправляется событие <code>click</code> c параметрами: {target (object), domEvent (object)}</p>\n'},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-share",definitionDot:i(1350),definitionYate:i(1351),example:i(1352),exampleSrc:i(1353),changes:i(1354),readme:i(1355)})})},function(t,e,i,n){t.exports='{{ var dShare = require("music-ui/blocks/d-share"); }}\n\n{{! dShare.render({\n\t\t"link": "/link",\n\t\t"title": "Заголовок",\n\t\t"direction": "vertical",\n\t\t"withoutText": false,\n\t\t"rounded": true,\n\t\t"centered": false,\n\t\t"style": "black",\n\t\t"services": "vkontakte, twitter, facebook, odnoklassniki",\n\t\t"size": "M",\n\t\t"shareLang": "ru"\n\t})\n}}\n'},function(t,e,i,n){t.exports='apply {\n    "link": "/link"\n    "title": "Заголовок"\n    "direction": "vertical"\n    "withoutText": false()\n    "rounded": true()\n    "centered": false()\n    "style": "black"\n    "services": "vkontakte, twitter, facebook, odnoklassniki"\n    "size": "M"\n    "shareLang": "ru"\n} d-share\n'},function(t,e,i,n){t.exports=function(t){var e="",n=i(315);return e+='<style> .example__block { padding: 10px 0; border-bottom: 1px solid #ccc; } .example .example__block:last-child { border-bottom: none; } .example__title { font-weight: bold; margin-bottom: 10px; }</style><div class="example"> <div class="example__block"> <div class="example__title">Стандартный:</div> '+n.render({link:"/link",title:"Заголовок"})+' </div> <div class="example__block"> <div class="example__title">Крупные кнопки:</div> '+n.render({link:"/link",title:"Заголовок",size:"L"})+' </div> <div class="example__block"> <div class="example__title">Стиль чёрный:</div> '+n.render({link:"/link",title:"Заголовок",style:"black"})+' </div> <div class="example__block"> <div class="example__title">Стиль чёрный и круглые кнопки:</div> '+n.render({link:"/link",title:"Заголовок",style:"black",rounded:!0})+' </div> <div class="example__block"> <div class="example__title">Произвольный список сервисов:</div> '+n.render({link:"/link",title:"Заголовок",services:["gplus","facebook","moimir","reddit"]})+' </div> <div class="example__block"> <div class="example__title">Вертикальное расположение:</div> '+n.render({link:"/link",title:"Заголовок",direction:"vertical",withoutText:!0,centered:!0})+' </div> <div class="example__block"> <div class="example__title">Вертикальное расположение с текстом и выравниванием по левому краю:</div> '+n.render({link:"/link",title:"Заголовок",direction:"vertical",withoutText:!1,centered:!1})+" </div></div>"}},function(t,e,i,n){t.exports='{{ var dShare = require("music-ui/blocks/d-share"); }}\n\n<style>\n    .example__block {\n        padding: 10px 0;\n        border-bottom: 1px solid #ccc;\n    }\n\n    .example .example__block:last-child {\n        border-bottom: none;\n    }\n\n    .example__title {\n        font-weight: bold;\n        margin-bottom: 10px;\n    }\n</style>\n\n<div class="example">\n    <div class="example__block">\n        <div class="example__title">Стандартный:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок"\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Крупные кнопки:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "size": "L"\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Стиль чёрный:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "style": "black"\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Стиль чёрный и круглые кнопки:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "style": "black",\n                "rounded": true\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Произвольный список сервисов:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "services": ["gplus", "facebook", "moimir", "reddit"]\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Вертикальное расположение:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "direction": "vertical",\n                "withoutText": true,\n                "centered": true\n            })\n        }}\n    </div>\n\n    <div class="example__block">\n        <div class="example__title">Вертикальное расположение с текстом и выравниванием по левому краю:</div>\n        {{! dShare.render({\n                "link": "/link",\n                "title": "Заголовок",\n                "direction": "vertical",\n                "withoutText": false,\n                "centered": false\n            })\n        }}\n    </div>\n\n</div>\n\n'},function(t,e,i,n){t.exports="<p>Поддерживает те же наборы данных, что и блок share__buttons (link, title, track, album, playlist и т.д.)</p>\n"},function(t,e,i,n){t.exports='<p>Построен на основе поделяшки от Яндекса:\n<a href="https://tech.yandex.ru/share/">https://tech.yandex.ru/share/</a></p>\n<p><strong>Блок, на вход принимает объект:</strong></p>\n<pre><code>{\n    *link - ссылка, которой делимся,\n    *title - заголовок, которым делимся,\n    direction - направление кнопок (horizontal/vertical),\n    withoutText - отсутствие подписи у кнопок (true/false),\n    centered - выравнивание по центру (true/false),\n    style - стиль кнопок (отсутствует/black),\n    rounded - скругление кнопок (false/true),\n    services - список сервисов, массив или строка, где &quot;,&quot; разделитель. \n        По-умолчанию: vkontakte, twitter, facebook, odnoklassniki;\n    size - размер кнопок (M/L),\n    shareLang - язык, добавляется get параметром в ссылку\n}\n\nВ качестве значения параметров по-умолчанию берутся первые из списка в скобках.\n\n* - link и title используются для ручной установки заголовка и ссылки. \nВместо них можно передавать объекты: track, album, artist, genre, post, label и другие.\nВсе возможные варианты можно найти в хелпере блока (d-share__helper).\n\nСобытия:\n    loaded - вызывается после загрузки яндексовой поделяшки лежащей в основе блока,\n    shared - вызывается после того как пользователь кликнул на одну из кнопок шаринга\n\nБлок поддерживает статические методы:\ngetLink и getTitle, которые принимают на вход данные и соответственно отдают ссылку и заголовок \nсоответствующие этим данным.\n</code></pre>'},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-slider",definitionDot:i(1357),definitionYate:i(1358),example:i(1359),exampleSrc:i(1361),changes:i(1362),readme:i(1363)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dSlider = require("music-ui/blocks/d-slider"); }}\n{{/define}}\n\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    }],\n    itemTemplate: "some_yate_or_dot_template_name",\n    endless: true,\n    shrink: true\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    "itemTemplate": "some_yate_or_dot_template_name"\n    "items": .someItems\n    "endless": true()\n    "shrink": true()\n} d-slider\n'},function(t,e,i,n){var a,s;t.exports=(a=i(793),s={render:i(1360)},function(t){return"Минимал (мало элементов, он не мотается):"+a.render({items:[{name:"Elem 1"},{name:"Elem 2"},{name:"Elem 3"},{name:"Elem 4"}],itemTemplate:s})+"<br><br>Минимал (элементов хватает на всю морду):"+a.render({items:[{name:"Elem 1"},{name:"Elem 2"},{name:"Elem 3"},{name:"Elem 4"},{name:"Elem 5"},{name:"Elem 6"},{name:"Elem 7"},{name:"Elem 8"},{name:"Elem 9"},{name:"Elem 10"},{name:"Elem 11"},{name:"Elem 12"},{name:"Elem 13"},{name:"Elem 14"},{name:"Elem 15"},{name:"Elem 16"}],itemTemplate:s})+"<br><br>Бесконечный уменьшающийся (theme: video-overflow):"+a.render({items:[{name:"Elem 1"},{name:"Elem 2"},{name:"Elem 3"},{name:"Elem 4"},{name:"Elem 5"},{name:"Elem 6"},{name:"Elem 7"},{name:"Elem 8"},{name:"Elem 9"},{name:"Elem 10"}],itemTemplate:s,endless:!0,shrink:!0,theme:"video-overflow"})+"<br><br>Маленькие кнопки:"+a.render({items:[{name:"Elem 1"},{name:"Elem 2"},{name:"Elem 3"},{name:"Elem 4"},{name:"Elem 5"},{name:"Elem 6"},{name:"Elem 7"},{name:"Elem 8"},{name:"Elem 9"},{name:"Elem 10"}],itemTemplate:s,endless:!0,shrink:!0,theme:"small-buttons"})+"<br><br>Мотаем по две, круглые кнопки:"+a.render({items:[{name:"Elem 1"},{name:"Elem 2"},{name:"Elem 3"},{name:"Elem 4"},{name:"Elem 5"},{name:"Elem 6"},{name:"Elem 7"},{name:"Elem 8"},{name:"Elem 9"},{name:"Elem 10"}],itemTemplate:s,endless:!0,shrink:!0,theme:"rounded-buttons",step:2})})},function(t,e,i,n){t.exports=function(t){return'<div class="someBlock" style="width: 50px; height: 50px; border: 1px solid lightgray; margin: 0 30px;"> '+__escape(t.name)+"</div>"}},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dSlider = require("music-ui/blocks/d-slider"); }}\n\t{{ var template = {render: require("./example-template.jst")}; }}\n{{/define}}\n\nМинимал (мало элементов, он не мотается):\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    }],\n    itemTemplate: template\n}) }}\n<br>\n<br>\nМинимал (элементов хватает на всю морду):\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    },{\n        name: "Elem 5"\n    },{\n        name: "Elem 6"\n    },{\n        name: "Elem 7"\n    },{\n        name: "Elem 8"\n    },{\n        name: "Elem 9"\n    },{\n        name: "Elem 10"\n    },{\n        name: "Elem 11"\n    },{\n        name: "Elem 12"\n    },{\n        name: "Elem 13"\n    },{\n        name: "Elem 14"\n    },{\n        name: "Elem 15"\n    },{\n        name: "Elem 16"\n    }],\n    itemTemplate: template\n}) }}\n<br>\n<br>\nБесконечный уменьшающийся (theme: video-overflow):\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    },{\n\t\tname: "Elem 5"\n\t},{\n\t\tname: "Elem 6"\n\t},{\n        name: "Elem 7"\n    },{\n        name: "Elem 8"\n    },{\n        name: "Elem 9"\n    },{\n        name: "Elem 10"\n    }],\n    itemTemplate: template,\n    endless: true,\n    shrink: true,\n    theme: "video-overflow"\n}) }}\n<br>\n<br>\nМаленькие кнопки:\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    },{\n\t\tname: "Elem 5"\n\t},{\n\t\tname: "Elem 6"\n\t},{\n        name: "Elem 7"\n    },{\n        name: "Elem 8"\n    },{\n        name: "Elem 9"\n    },{\n        name: "Elem 10"\n    }],\n    itemTemplate: template,\n    endless: true,\n    shrink: true,\n    theme: "small-buttons"\n}) }}\n<br>\n<br>\nМотаем по две, круглые кнопки:\n{{! dSlider.render({\n    items: [{\n        name: "Elem 1"\n    },{\n        name: "Elem 2"\n    },{\n        name: "Elem 3"\n    },{\n        name: "Elem 4"\n    },{\n\t\tname: "Elem 5"\n\t},{\n\t\tname: "Elem 6"\n\t},{\n        name: "Elem 7"\n    },{\n        name: "Elem 8"\n    },{\n        name: "Elem 9"\n    },{\n        name: "Elem 10"\n    }],\n    itemTemplate: template,\n    endless: true,\n    shrink: true,\n    theme: "rounded-buttons",\n    step: 2\n}) }}\n'},function(t,e,i,n){t.exports=""},function(t,e,i,n){t.exports="<p>Горизонтальная über-листалка. Принимает вот такие данные, в скобках значение по умолчанию:</p>\n<p><code>items</code> - массив объектов-сущностей, без них смысла не имеет. К формату блок равнодушен</p>\n<p><code>step(1)</code> - шаг промотки при клике на стрелочки</p>\n<p><code>longStep(1)</code> - шаг промотки при долгом нажатии на стрелочку (скорость по сути)</p>\n<p><code>endless(false)</code> - бесконечная листалка, хитрО добавляет и удаляет элементы в конец или начало списка, не сильно забивая DOM</p>\n<p><code>shrink(false)</code> - уменьшает ширину контейнера до числа, делящегося на целое количество элементов (да, и при ресайзе окна тоже)</p>\n<p><code>itemTemplate</code> - просто необходим при <code>endless</code>. Может быть строкой-индетификатором yate-шаблона, а можетбыть честно заинклуженным jst-шаблоном, ^__^</p>\n<p><code>itemWidth</code> - необязательно, если не указать, посчитается само (да, в нужный момент уже после отрисовки, а не как обычно)</p>\n<p><code>theme</code> - необязательно, добавит к контейнеру класс <code>d-slider__theme-%theme%</code>, а по нему можно создать, например, стили для более других кнопочек, как сделано для темы <code>small-buttons</code></p>\n<p><code>decoTheme</code> - необязательно, добавит к контейнеру класс <code>local-theme-%theme%</code> для очевидных целей</p>\n<p><code>decoIconTheme</code> - необязательно, добавит к контейнеру класс <code>local-icon-theme-%theme%</code> для очевидных целей</p>\n<p><code>addClass</code> - необязательно, любой другой класс, который нужно добавить к контейнеру</p>\n<p>Блок нормально, а может даже и хорошо работает с десктопами, тачами, тачбарами, колесами мыши (по горизонтали мотает горизонтально прокруткой, если есть, или вертикальной с шифтом)</p>\n<p>Вешает слушатель на <code>window.onresize</code>. Так что лучше последить, что блок точно уничтожается, чтобы не поесть лишней памяти и не обрести других недокументированных возможностей.</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-tabs",definitionDot:i(1365),definitionYate:i(1366),example:i(1367),exampleSrc:i(1368),changes:i(1369),readme:i(1370)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dTabs = require("music-ui/blocks/d-tabs"); }}\n{{/define}}\n\n{{! dTabs.render({\n    currentId: it.what,\n    items: [\n        {\n            title: "Первая вкладка",\n            href: "/first-link",\n            id: "first",\n            class: "add-class"\n        }, {\n            title: "Вторая вкладка",\n            href: "/second-link",\n            id: "second",\n            class: "add-class"\n        }\n    ]\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n    "currentId": .what\n    "items": [\n        {\n            "title": "Первая вкладка"\n            "href": "/first-link"\n            "id": "first"\n            "note": "note"\n            "class": "add-class"\n        }\n        {\n            "title": "Вторая вкладка"\n            "href": "/second-link"\n            "id": "second"\n            "note": "note"\n            "class": "add-class"\n        }\n    ]\n} d-tabs\n'},function(t,e,i,n){var a;t.exports=(a=i(642),function(t){return'<div class="element__nav-menu">'+a.render({currentId:"default",items:[{title:"Первый элемент",id:"first",class:"add-class"},{title:"Элемент 2",id:"noteElement"},{title:"Активный элемент",href:"/style-guide/elements",id:"default"},{title:"Элемент с ссылкой",href:"/style-guide/elements",id:"href"}]})+"</div>"})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dTabs = require("music-ui/blocks/d-tabs"); }}\n{{/define}}\n\n\n<div class="element__nav-menu">\n\n{{! dTabs.render({\n    currentId: "default",\n    items: [\n        {\n            title: "Первый элемент",\n            id: "first",\n            class: "add-class"\n        }, {\n            title: "Элемент 2",\n            id: "noteElement"\n        }, {\n            title: "Активный элемент",\n            href: "/style-guide/elements",\n            id: "default"\n        }, {\n            title: "Элемент с ссылкой",\n            href: "/style-guide/elements",\n            id: "href"\n        }\n    ]\n}) }}\n\n</div>\n'},function(t,e,i,n){t.exports="<p>1) Убрал margin-top, он там не нужен и не везде применяется. Верхний отступ пусть создает родитель.<br>2) currentId теперь передается не в виде аргумента, а в виде свойства объекта.<br>3) Массив объектов описывающих tab лежит в свойстве корневого объекта items.</p>\n"},function(t,e,i,n){t.exports="<p>Навигационное меню, на вход принимает объект.</p>\n<pre><code>{ - корневой объект, описывающий блок  \n    currentId - id активной вкладки  \n    items - массив вкладок, каждая вкладка объект  \n        { - объект описывающий вкладку  \n            title - Имя вкладки  \n            href - (не обязательный) Ссылка, на которую ведет клик\n            id - для сопоставления с currentId\n            class - (не обязательный) доп. класс для link  \n            iconUrl - (не обязательный) url иконки, которая будет рядом с названием таба\n        }  \n    }  \n}\n</code></pre><p>Если не указан href, то вместо a.link создается span.link\nclass - дополнительный класс для элемента .link</p>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-toggler",definitionDot:i(1372),definitionYate:i(1373),example:i(1374),exampleSrc:i(1375),changes:i(1376),readme:i(1377)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dToggler = require("music-ui/blocks/d-toggler"); }}\n{{/define}}\n\n{{! dToggler.render({\n    id: "myToggler",\n    class: "external-class",\n    size: "M",\n    label: "Переключатель",\n    onText: "Да",\n    offText: "Нет",\n    checked: true,\n    disabled: false,\n    fixedLength: true\n}) }}\n'},function(t,e,i,n){t.exports='apply {\n\t"id": "myToggler"\n    "class": "external-class"\n    "size": "M"\n    "label": "Переключатель"\n    "onText": "Да"\n    "offText": "Нет"\n    "checked": true()\n    "disabled": false()\n    "fixedLength": true()\n} d-toggler\n'},function(t,e,i,n){var a;t.exports=(a=i(332),function(t){return"<div>"+a.render({size:"xs",label:"mini",withoutValue:!0})+"</div><br /><div>"+a.render({size:"s",label:"Заблокированный",onText:"Да",offText:"Нет",disabled:!0})+"</div><br /><div>"+a.render({size:"M"})+'</div><br /><div><div style="display:inline-block; border: 1px dashed rgba(0,0,0,.5)">'+a.render({size:"L",id:"myToggler",label:"Фиксированная длина",onText:"Да",offText:"Конечно нет",class:"external-class",checked:!0,fixedLength:!0})+'</div><div style="display: inline-block">&nbsp;- Граница для демонстрации</div></div><br /><br /><div><div style="display:inline-block; border: 1px dashed rgba(0,0,0,.5)">'+a.render({size:"XL",label:"Гигантикус",onText:"Отсюда",offText:"Туда",class:"external-class",checked:!1})+'</div><div style="display: inline-block">&nbsp;- Граница для демонстрации</div></div>'})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dToggler = require("music-ui/blocks/d-toggler"); }}\n{{/define}}\n\n<div>\n\t{{! dToggler.render({\n\t        size: "xs",\n\t        label: "mini",\n\t        withoutValue: true\n\t    })\n\t}}\n</div>\n<br />\n<div>\n\t{{! dToggler.render({\n\t        size: "s",\n\t        label: "Заблокированный",\n\t        onText: "Да",\n\t        offText: "Нет",\n\t        disabled: true\n\t    })\n\t}}\n</div>\n<br />\n<div>\n\t{{! dToggler.render({\n\t        size: "M"\n\t    })\n\t}}\n</div>\n<br />\n<div>\n\t<div style="display:inline-block; border: 1px dashed rgba(0,0,0,.5)">\n\t\t{{! dToggler.render({\n\t\t        size: "L",\n\t\t        id: "myToggler",\n\t\t        label: "Фиксированная длина",\n\t\t        onText: "Да",\n\t\t        offText: "Конечно нет",\n\t\t        class: "external-class",\n\t\t        checked: true,\n\t\t        fixedLength: true\n\t\t\t})\n\t\t}}\n\t</div>\n\t<div style="display: inline-block">&nbsp;- Граница для демонстрации</div>\n</div>\n<br />\n<br />\n<div>\n\t<div style="display:inline-block; border: 1px dashed rgba(0,0,0,.5)">\n\t\t{{! dToggler.render({\n\t\t        size: "XL",\n\t\t        label: "Гигантикус",\n\t\t        onText: "Отсюда",\n\t\t        offText: "Туда",\n\t\t        class: "external-class",\n\t\t        checked: false\n\t\t\t})\n\t\t}}\n\t</div>\n\t<div style="display: inline-block">&nbsp;- Граница для демонстрации</div>\n</div>\n'},function(t,e,i,n){t.exports="<p>1) Параметр leftText переименован в onText;\n2) Параметр rightText переименован в offText;\n3) Надпись рисуется с левой стороны, а значение переключателя с правой.\nРаньше надпись рисовалась справа, а значение внутри переключателя;</p>\n"},function(t,e,i,n){t.exports="<p>Переключатель, на вход принимает объект.</p>\n<pre><code>{\n    id - id скрытого checkbox&#39;а, если не задан, то создается случайный\n    size - рамер блока: *XS, S, M, L, XL. По-умолчанию M\n    label - Надпись, рисуется слева, по клику переключает значение\n    onText - текст активного переключателя\n    offText - текст неактивного переключателя\n    class - пользовательский класс, добавлется к корню блока\n    checked - значение блока, по-умолчанию false\n    disabled - блокировка, по-умолчанию false\n    fixedLength - если true, то длина блока не меняется в зависимости от показываемого текста, по-умолчанию false\n    withoutValue - скрыть значение тогглера справа от него, по-умолчанию false\n}\n</code></pre><p>Методы:</p>\n<ul>\n<li><code>check</code> - включение</li>\n<li><code>uncheck</code> - выключение</li>\n<li><code>toggle(value)</code> - переключение состояния блока, при отсутствии значения переключает на противоположное</li>\n<li><code>toggleDisabled(value)</code> - переключение доступности блока, при отсутствии значения переключает на противоположное</li>\n<li><code>isChecked</code> - проверка значения блока</li>\n</ul>\n<p>События:</p>\n<ul>\n<li><code>toggler.change</code> - отправляется при изменении значения блока, в качестве данных отправляется объект блока</li>\n</ul>\n"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"d-tooltip",definitionDot:i(1379),definitionYate:i(1380),example:i(1381),exampleSrc:i(1383),changes:i(1384),readme:i(1385)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dTooltip = require("music-ui/blocks/d-tooltip"); }}\n{{/define}}\n\n<span class="some-selector">Блок</span>\n\n{{! dTooltip.render({\n\t\tselector: ".some-selector",\n\t\ttype: "confirm",\n\t\tevent: "hover",\n\t\tside: "left",\n\t\ttheme: "black",\n\t\tclass: "some-class",\n\t\tfade: true,\n\t\tcontent: "Незаэскейпенное содержимое",\n\t\tagreeLabel: "Согласен",\n\t\tdisagreeLabel: "Не согласен",\n\t\tonAgree: function(element, tooltip) {},\n\t\tonDisagree: function(element, tooltip) {},\n\t\tonShow: function(element, tooltip) {}\n\t\tonHide: function(element, tooltip) {}\n\t})\n}}\n'},function(t,e,i,n){t.exports='apply {\n\t"selector": ".some-selector"\n\t"type": "confirm"\n\t"event": "hover"\n\t"side": "left"\n\t"theme": "black"\n\t"class": "some-class"\n\t"content": "Незаэскейпенное содержимое"\n\t"agreeLabel": "Согласен"\n\t"disagreeLabel": "Не согласен"\n} d-tooltip\n'},function(t,e,i,n){var a;t.exports=(a=i(1382),function(t){return'<style>.d-tooltip-demonstaration-line {padding: 10px;text-align: center;margin-bottom: 10px;}</style><div class="d-tooltip-demonstaration-line"><span id="blockForTooltip1">Наглый 🍆</span></div><div class="d-tooltip-demonstaration-line"><span id="blockForTooltip2">Наведи</span></div><div class="d-tooltip-demonstaration-line"><span id="blockForTooltip5">Наведи</span></div><div class="d-tooltip-demonstaration-line"><span id="blockForTooltip3">Кликни</span></div><div class="d-tooltip-demonstaration-line"><span id="blockForTooltip4">Кликни</span></div>'+a.render({selector:"#blockForTooltip1",type:"confirm",event:"hover",side:"left",theme:"black",content:"Пощадить его?",agreeLabel:"Нет",disagreeLabel:"Да",onAgree:function(t,e){t.replaceWith('<span id="blockForTooltip1-1">💩</span>'),Mu.blocks.get("d-tooltip").show("#blockForTooltip1-1",{type:"alert",event:"hover",side:"right",theme:"black",content:":-("})}})+a.render({selector:"#blockForTooltip2",type:"alert",event:"hover",side:"right",theme:"white",content:"Привет"})+a.render({selector:"#blockForTooltip5",type:"alert",event:"hover",side:"left",theme:"white",fade:!0,content:"Я плавный"})+a.render({selector:"#blockForTooltip3",type:"notice",event:"click",side:"top",theme:"black",content:"Будь осторожен!",agreeLabel:"Ок"})+a.render({selector:"#blockForTooltip4",type:"confirm",event:"click",side:"bottom",theme:"white",content:"Принять условия?"})})},function(t,e,i,n){var a={render:i(201)};clientSide&&(a.controller=i(200)),t.exports=a},function(t,e,i,n){t.exports='{{define}}\n\t{{ var dTooltip = require("music-ui/blocks/d-tooltip"); }}\n{{/define}}\n\n<style>\n\t.d-tooltip-demonstaration-line {\n\t\tpadding: 10px;\n\t\ttext-align: center;\n\t\tmargin-bottom: 10px;\n\t}\n</style>\n\n<div class="d-tooltip-demonstaration-line">\n\t<span id="blockForTooltip1">Наглый 🍆</span>\n</div>\n\n<div class="d-tooltip-demonstaration-line">\n\t<span id="blockForTooltip2">Наведи</span>\n</div>\n\n<div class="d-tooltip-demonstaration-line">\n\t<span id="blockForTooltip5">Наведи</span>\n</div>\n\n<div class="d-tooltip-demonstaration-line">\n\t<span id="blockForTooltip3">Кликни</span>\n</div>\n\n<div class="d-tooltip-demonstaration-line">\n\t<span id="blockForTooltip4">Кликни</span>\n</div>\n\n{{! dTooltip.render({\n\t\tselector: "#blockForTooltip1",\n\t\ttype: "confirm",\n\t\tevent: "hover",\n\t\tside: "left",\n\t\ttheme: "black",\n\t\tcontent: "Пощадить его?",\n\t\tagreeLabel: "Нет",\n\t\tdisagreeLabel: "Да",\n\t\tonAgree: function(element, tooltip) {\n\t\t\telement.replaceWith(\'<span id="blockForTooltip1-1">💩</span>\');\n\t\t\tMu.blocks.get("d-tooltip").show(\n\t\t\t\t"#blockForTooltip1-1",\n\t\t\t\t{\n\t\t\t\t\ttype: "alert",\n\t\t\t\t\tevent: "hover",\n\t\t\t\t\tside: "right",\n\t\t\t\t\ttheme: "black",\n\t\t\t\t\tcontent: ":-("\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t})\n}}\n\n{{! dTooltip.render({\n\t\tselector: "#blockForTooltip2",\n\t\ttype: "alert",\n\t\tevent: "hover",\n\t\tside: "right",\n\t\ttheme: "white",\n\t\tcontent: "Привет"\n\t})\n}}\n\n{{! dTooltip.render({\n\t\tselector: "#blockForTooltip5",\n\t\ttype: "alert",\n\t\tevent: "hover",\n\t\tside: "left",\n\t\ttheme: "white",\n\t\tfade: true,\n\t\tcontent: "Я плавный"\n\t})\n}}\n\n{{! dTooltip.render({\n\t\tselector: "#blockForTooltip3",\n\t\ttype: "notice",\n\t\tevent: "click",\n\t\tside: "top",\n\t\ttheme: "black",\n\t\tcontent: "Будь осторожен!",\n\t\tagreeLabel: "Ок"\n\t})\n}}\n\n{{! dTooltip.render({\n\t\tselector: "#blockForTooltip4",\n\t\ttype: "confirm",\n\t\tevent: "click",\n\t\tside: "bottom",\n\t\ttheme: "white",\n\t\tcontent: "Принять условия?"\n\t})\n}}\n'},function(t,e,i,n){t.exports="<p>Полностью новый блок, ничего не наследует от блока в yate</p>\n"},function(t,e,i,n){t.exports="<p>Блок, на вход принимает объект:</p>\n<pre><code>{\n    selector - какой либо js селектор (возьмется первый подходящий элемент),\n    *container - селектор контейнера, в который будет помещен тултип (по-умолчанию родитель selector&#39;а),\n    type - тип блока (alert/confirm/notice),\n    event - событие, на которое будет показываться тултип (отсутствует/hover/click),\n    side - с какой стороны от блока будет показывать (bottom/right/top/left),\n    theme - какую тему использовать (любая из существующих, пока white/black),\n    class - дополнительный класс, добавляется к корню,\n    content - содержимое тултипа, не эскейпится и может содержать верстку,\n    fade - плавно показывать тултип (false/true),\n    wide - выставлять максимальную ширину 250px или нет (false/true),\n    withMinWidth - с минимальной шириной 250px или нет (false/true),\n    notHideOnScroll - не скрывать при скролле (false/true),\n    scrollable - добавлять ли полосу прокрутки при высоте контента более n px\n        значения: \n            false -- по умолчанию (не добавлять)\n            true -- добавлять прокрутку, n = 400px\n            { height: &quot;769px&quot; } -- кастомная высота тултипа\n    agreeLabel - текст кнопки подтверждения,\n    disagreeLabel - текст кнопки отказа,\n    onAgree - callback подтверждения (1-й параметр - связанный блок , 2-й - сам тултип),\n    onDisagree - callback отказа (1-й параметр - связанный блок , 2-й - сам тултип)\n    onBeforeShow - callback подготовки к показу попапа (1-й параметр - связанный блок , 2-й - сам тултип),\n    onShow - callback показа попапа (1-й параметр - связанный блок , 2-й - сам тултип),\n    onHide - callback скрытия попапа (1-й параметр - связанный блок , 2-й - сам тултип)\n}\n\n* - используется только при создании через статические методы.\nВсе атрибуты кроме &quot;selector&quot; и &quot;content&quot; опциональные.\nВ качестве значения параметров по-умолчанию берутся первые из списка.\n\nТипы тултипов (type):\n    1) alert - не содержит кнопок действий,\n    2) notice - содержит кнопку подтверждения,\n    3) confirm - содержит кнопки подтверждения и отказа\n\nСобытия:\n    before-show - вызывается перед показом тутлтипа (вызывается после onBeforeShow),\n    show - показ тултипа (вызывается после onShow),\n    hide - скрытие тултипа (вызывается после onHide),\n    agree - подтверждение (вызывается после onAgree),\n    disagree - отказ (вызывается после onDisagree)\n\nСтатичные методы класса DTooltip:\n    show - создает экземпляр тултипа и показывает, принимает [selector, params] / [params]\n    getTooltip - создает экземпляр тултипа, но не показывает, принимает [selector, params] / [params]\n\nДля одного элемента создается один тултип, можно вызывать с разными параметрами и тултип будет перерисовываться.\n</code></pre>"},function(t,e,i,n){var a;t.exports=(a=i(1243),function(t){return""+a({name:"spinner",definitionDot:i(1387),definitionYate:i(1388),example:i(1389),exampleSrc:i(1390),changes:i(1391),readme:i(1392)})})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var spinner = require("music-ui/blocks/spinner"); }}\n{{/define}}\n\n{{! spinner.render() }}\n'},function(t,e,i,n){t.exports="apply . spinner\n"},function(t,e,i,n){var a;t.exports=(a=i(764),function(t){return""+a.render()})},function(t,e,i,n){t.exports='{{define}}\n\t{{ var spinner = require("music-ui/blocks/spinner"); }}\n{{/define}}\n\n{{! spinner.render() }}\n'},function(t,e,i,n){t.exports="<p>Никаких изменений. Сделано сразу без префикса d-...</p>\n"},function(t,e,i,n){t.exports="<p>Рисует спиннер. Вот так просто и тупо - никакой логики</p>\n"},function(t,e,i,n){t.exports=function(t){return'<li><a class="typo-link links-elements page-style-guide__link" data-hash="'+__escape(t.name)+'">'+__escape(t.name)+"</a></li>"}},function(t,e,i,n){var a,s;t.exports=(a=i(612),s=i(686),function(t){return'<div class="page-tag" data-b="'+__escape(Mu.dotBlockRoot(t,"page-tag"))+'"><div class="page-tag__sort">'+a.render({items:[{text:i18n("page-tag","Новые"),href:"/tag/"+encodeURIComponent(t.id)+"?sort=new",active:"new"===t.sort},{text:i18n("page-tag","Популярные"),href:"/tag/"+encodeURIComponent(t.id)+"?sort=popular",active:"popular"===t.sort}],size:"S"})+'</div><div class="page-tag__title typo typo-h2_bold">'+__escape(t.title)+'</div><div class="page-tag__playlists">'+s.render({type:"playlist-enchanced",itemTemplate:"playlist",placeholderTemplate:"playlist",variablePlaceholder:!0,ids:t.playlistIds,pageSize:32,itemHeight:300,itemWidth:230})+"</div></div>"})},function(t,e,i,n){var a;t.exports=(a=i(727),function(t){return'<div class="page-travel '+__escape(t.os)+'" data-b="'+__escape(Mu.dotBlockRoot(t,"page-travel",!0))+'"><div class="page-travel__content">'+a(t)+"</div></div>"})},function(t,e,i,n){t.exports=function(){var t=i(143),e=i(141),n=i(1397),a=i(1408),s=i(599),o=i(1016),r=i(226),l=i(1015),c=i(742),d=i(1410),u=i(1411),p=i(1412),h=i(1413),_=i(1414),m=i(1415),g=i(1416),f=i(1417),y=i(1418),v=i(119),b=i(321);i(294);return function(i){var k="",w=c.isOwner(i),x=w||"public"==i.visibility;b({user:i.owner})||i.visibility;if(k+='<div class="page-users" data-b="'+__escape(Mu.dotBlockRoot(i,"page-users",!0))+'">',"shelf"===i.what)"saved"===i.shelfSubPage?k+=_(Object.assign(i,{type:"saved"})):"recently-played"===i.shelfSubPage?k+=_(Object.assign(i,{type:"recently-played"})):"new-episodes"===i.shelfSubPage?k+=_(Object.assign(i,{type:"new-episodes"})):k+=h(i);else if("podcasts"===i.what&&i.podcastSubPage)"albums"===i.podcastSubPage?k+=d(i):"episodes"===i.podcastSubPage&&(k+=p(i)),k+=" ";else if("non-music"===i.what&&i.nonMusicSubPage&&"audiobooks"===i.nonMusicSubPage)k+=" "+u(i);else if("kids"===i.what&&i.kidsSubPage)"albums"===i.kidsSubPage&&(k+=m(i)),"tracks"===i.kidsSubPage&&(k+=g(i)),"playlists"===i.kidsSubPage&&(k+=f(i)),"artists"===i.kidsSubPage&&(k+=y(i));else{i.info&&i.info.image&&(k+='<div class="page-users__image"><div class="page-users__image-wrap"><div class="page-users__image-inner"><img class="page-users__img" src="'+__escape(i.info.image)+'" alt=""/></div></div></div>');var M=function(){var e=""+r.render({user:i.owner,size:"Huge",showAvatar:!0});return w&&(e+=t.render({size:"S",icon:"camera",type:"overlay",rounded:!0,class:"page-users__avatar-button",href:"https://passport.yandex."+Mu.settings.tld+"/profile/public?origin=music_main_userpic&retpath="+window.location.href,use_link:!0,target:"_blank"})),e}(),T=function(){var n=s.render({entity:c.stampText(w)})+'<h1 class="page-users__title typo-h1_big deco-typo '+__escape(w?" page-users__title_editable":"")+'">'+r.render({user:i.owner,size:"VeryLarge",showName:!0,userNameClass:"user__name-line-height",class:i.verified?"user_verified":""});return i.verified&&(n+=e.render({icon:"approved",title:i18n("page-users","Подтверждённый пользователь")})),w&&(n+=t.render({size:"S",icon:"pen-circle",type:"flat",attrs:{title:i18n("page-users","Сменить имя")},href:"https://passport.yandex."+Mu.settings.tld+"/profile/display-name?retpath="+window.location.href,use_link:!0,target:"_blank"})),n+="</h1>",i.info&&i.info.description&&(n+=l.render({description:i.info.description,class:"page-users__description"})),n}(),S=function(){var e="",n=(i.hasTracks||i.counts.likedArtists||i.counts.likedAlbums)&&x&&v.canUseMusicInRegion();return e+=t.render({size:"L",text:i18n("page-users","Вперемешку"),class:"page-users__shuffle-button",disabled:!n,icon:"play-small",rounded:!0,type:"action"})}(),$=function(){var e="";return w&&(e+=t.render({size:"L",text:i18n("page-users","Настройки"),class:"page-users__settings-button",disabled:!1,icon:"cog",type:"default",rounded:!0,href:"/settings"})),e}();k+=o.render({aside:M,main:T,actions:S,sideActions:!!$.length&&$})+a(i)+n(i)}return k+="</div>"}}()},function(t,e,i,n){var a,s,o,r,l,c,d,u,p;t.exports=(a=i(1398),s=i(1402),o=i(1403),r=i(1404),l=i(1405),c=i(1406),d=i(1407),u=i(742),p=i(321),function(t){var e="";t.subscribed=p({user:t.owner})||"public"!=t.visibility,t.isOwner=u.isOwner(t);var i=Mu.authData||{};return""!=i.user.login&&i.user.login==t.owner.login||"public"==t.visibility?"tracks"==t.what?e+=r(t):"playlists"==t.what||""==t.what?e+=o(t):"albums"==t.what?e+=s(t):"podcasts"==t.what||"non-music"==t.what?e+=a(t):"artists"==t.what?e+=l(t):"kids"==t.what?e+=c(t):"history"==t.what?e+=d(t):"no owner"==t.error&&(e+='<div class="page-users__caption">'+__escape(i18n("page-users","Данный раздел доступен только для авторизованных пользователей"))+"</div>"):e+='<div class="page-users__caption">'+__escape(i18n("page-users","Пользователь предпочёл скрыть свою музыку"))+"</div>",e})},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(1101),n=i(151),a=i(143),s=i(686),o=i(742);return function(i){var r="";const l=o.getTitles(),c=i.trackIds.length>5,d=["show","poetry","lecture","audiobook"],u=[],p=i.albums.length&&i.albums.filter((t,e)=>{if(d.includes(t.type))return u.push(i.albumIds[e]),t})||[],h=[],_=i.albums.length&&i.albums.filter((t,e)=>{if(!d.includes(t.type))return h.push(i.albumIds[e]),t})||[],m=_.length>4,g=p.length>4;var f='<div class="page-users__section">'+s.render({type:"album",ids:h.slice(0,4),items:_.slice(0,4),itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div>",y='<div class="page-users__section">'+s.render({type:"album",ids:u.slice(0,4),items:p.slice(0,4),itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div>",v=function(){var t="";const e=["like","dislike"];return i.isOwner&&e.push("removeFromLibrary"),t+='<div class="page-users__section_episodes">'+s.render({type:"track",ids:i.trackIds,items:i.tracks,maxShowTracksCount:5,isOwner:i.isOwner,loadCount:3,itemHeight:68,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",showArtist:!0,actions:e,showChartPosition:!0}})+"</div>"}();if(r+='<div class="page-users__'+i.what+'">',_.length&&(r+='<div class="page-users__section-wrap page-users__section-wrap_podcasts">'+e.render(Object.assign(i,{href:m&&"/users/"+i.owner.login+"/podcasts/albums",title:i18n("page-users","[feature/mfront-3752]Подкасты"),content:f}))+"</div>"),p.length&&(r+=' <div class="page-users__section-wrap page-users__section-wrap_audiobooks"> '+e.render(Object.assign(i,{href:g&&"/users/"+i.owner.login+"/non-music/audiobooks",title:i18n("page-users","[feature/mfront-3752]Аудиокниги"),content:y}))+" </div> "),i.trackIds.length&&(r+='<div class="page-users__section-wrap page-users__section-wrap_episodes">'+e.render(Object.assign(i,{href:c&&"/users/"+i.owner.login+"/podcasts/episodes",title:i18n("page-users","[feature/podcast-collection]Любимые выпуски"),content:v}))+" </div> "),r+=" ",!i.trackIds.length&&!i.albums.length){const e=a.render({text:i18n("page-users","[feature/podcast-collection]Попробовать"),size:"L",type:"action",href:"/non-music"}),s=n.render({text:i18n("page-users","[feature/podcast-collection]Что такое подкасты?"),href:"/users/yamusic-podcast/playlists/1000",class:"typo",style:"marked"});r+=t.render({title:i.isOwner?l[i.what].emptyTitleForOwner:l[i.what].emptyTitle,subtitle:l[i.what].emptySubtitleSubscribe,isOwner:i.isOwner,subscribed:i.subscribed,btn:e,link:s})+" "}return r+="</div>"}}()},function(t,e,i,n){var a={render:i(1400)};t.exports=a},function(t,e,i,n){var a;t.exports=(a=i(1401),function(t){var e='<div class="d-empty'+__escape(a.additionalClass(t))+'"><div class="d-empty__desc"><p class="d-empty__title">'+t.title+"</p>",i=function(){var e="";return t.isOwner?e+=t.subtitle:t.subscribed||(e+=i18n("d-empty","[feature/mfront-2124]Пользователь ещё ничего не добавил в этот раздел.")),e}();i&&(e+='<p class="d-empty__subtitle">'+i+"</p>"),e+="</div>";var n=a.getUrl(t);return t.isOwner&&(e+=" ",t.img&&(e+=' <div class="d-empty__img"> <img src="'+__escape(n.url)+'" alt="Empty" /> </div> '),e+=" ",t.btn&&(e+=' <div class="d-empty__btn"> '+t.btn+" </div> "),e+=" ",t.link&&(e+=' <div class="d-empty__link"> '+t.link+" </div> ")),e+="</div>"})},function(t,e,i,n){t.exports={additionalClass:function(t){var e="";return t.isOwner||(e+=" d-empty_short"),t.img||(e+=" d-empty_no-img"),e},getUrl:function(t){var e;return"like"!==t.img&&"like-album"!==t.img&&"like-artist"!==t.img||(e="/blocks/d-empty/"+t.img+".png"),{url:e}}}},function(t,e,i,n){t.exports=function(){const t=i(143),e=i(151),n=i(610),a=i(354),s=i(686),o=i(1399),r=i(742);return function(i){var l="";const c=r.getTitles();if(l+='<div class="page-users__albums">',i.albumIds.length>0)l+='<div class="page-users__section-wrap">'+n.render({title:c.albums.subheadTitle}),i.sortGroups&&i.sortGroups.length&&(l+=a.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"})),l+='<div class="page-users__section">'+s.render({type:"album",ids:i.albumIds,items:i.albums,itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div></div>";else{t.render({text:i18n("page-users","[feature/podcast-collection]Попробовать"),size:"L",type:"action",href:"/non-music"}),e.render({text:i18n("page-users","[feature/podcast-collection]Что такое подкасты?"),href:"/users/yamusic-podcast/playlists/1000",class:"typo",style:"marked"});l+=o.render({title:c.albums.emptyTitle,subtitle:c.albums.emptySubtitle,isOwner:i.isOwner,subscribed:i.subscribed,img:"like-album",btn:null,link:null})}return l+="</div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(785),n=i(610),a=i(686),s=i(143),o=i(742);return function(i){var r="";const{playlistIds:l,playlists:c}=o.getUserPlaylists(i);if(l.length){if(r+='<div class="page-users__playlists">'+n.render({title:i18n("page-users","Плейлисты")})+'<div class="page-users__section">'+a.render({type:"playlist",ids:l,items:c,owner:i.owner.uid,draggable:i.isOwner,variablePlaceholder:!0,itemTemplate:"playlist",placeholderTemplate:"playlist",notDraggablePositions:[0,1],itemHeight:300,itemWidth:230})+"</div>",i.bookmarks&&i.bookmarks.length){r+='<div class="page-users__subtitle typo typo-h2_bold">',i.isOwner?r+=__escape(i18n("page-users","Также вам понравились эти плейлисты")):r+=__escape(i18n("page-users","Также пользователю понравились эти плейлисты")),r+='</div><div class="page-users__section"><div class="page-users__section-liked-playlists">';for(var d,u=0;u<i.bookmarks.length;u++)d=i.bookmarks[u],r+=e.render({playlist:d});r+="</div>"+s.render({text:i18n("Показать ещё"),size:"L",class:"page-users__section-button-more-playlists _hidden",type:"transparent"})+"</div>"}r+="</div>"}else r+=t.render({title:i18n("page-users","Пока нет плейлистов"),subtitle:i18n("page-users","Создайте плейлист."),isOwner:i.isOwner,subscribed:i.subscribed,img:"like"});return r}}()},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(610),n=i(686),a=i(742);return function(i){var s="";if(i.trackIds.length){const t=[];i.countsTracks.favorite&&t.push({text:i18n("page-users","Любимые"),active:"favorite"==i.likeFilter,class:"like-filter__favorite"}),t.push({text:i18n("page-users","Все"),active:"all"==i.likeFilter,class:"like-filter__all"}),i.isOwner&&i.countsTracks.ugc&&t.push({text:i18n("page-users","Мои mp3"),active:"ugc"==i.likeFilter,class:"like-filter__ugc"}),s+=e.render({title:i18n("page-users","Треки"),tabs:t});const o="ugc"!=i.likeFilter;s+='<div class="page-users__tracks">'+Mu.render("table-head_track-artist",{sortEnabled:o,url:"/users/"+i.owner.login+"/tracks",sort:i.sort,dir:i.dir});const r=["like","dislike"];i.isOwner&&r.push("removeFromLibrary"),s+='<div class="page-users__section_tracks">'+n.render({type:"track",ids:a.makeIdsUniq(i.trackIds),items:i.tracks,isOwner:i.isOwner,loadCount:3,itemHeight:40,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{showArtist:!0,actions:r}})+"</div></div>"}else s+=t.render({title:i18n("page-users","Пока нет треков"),subtitle:i18n("page-users","Создайте плейлист или используйте сердечко, чтобы добавить треки в этот раздел."),isOwner:i.isOwner,subscribed:i.subscribed,img:"like"});return s}}()},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(610),n=i(354),a=i(686);return function(i){var s='<div class="page-users__artists">';if(i.artists.length){s+=e.render({title:i18n("page-users","Исполнители")}),i.sortGroups&&i.sortGroups.length&&(s+=n.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"})),s+='<div class="page-users__section">';const t=i.artists.filter(t=>!t.error),o=t.map(t=>t.id);s+=a.render({type:"artist",ids:o,items:t,itemTemplate:"artist",placeholderTemplate:"artist",itemHeight:300,itemWidth:230})+"</div>"}else s+=t.render({title:i18n("page-users","Пока нет исполнителей"),subtitle:i18n("page-users","Используйте сердечко, чтобы добавить исполнителя в этот раздел."),isOwner:i.isOwner,subscribed:i.subscribed,img:"like-artist"});return s+="</div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(1101),n=(i(151),i(143)),a=i(686),s=i(742);return function(i){var o="";const r=s.getTitles(),l=i.trackIds.length>5,c=i.playlistIds.length>4,d=i.albumIds.length>4;var u=function(){var t="";const e=["like","dislike"];return i.isOwner&&e.push("removeFromLibrary"),t+='<div class="page-users__section_episodes">'+a.render({type:"track",ids:i.trackIds,items:i.tracks,maxShowTracksCount:5,isOwner:i.isOwner,loadCount:3,itemHeight:68,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",showArtist:!0,actions:e,showChartPosition:!0}})+"</div>"}(),p='<div class="page-users__section">'+a.render({type:"playlist",ids:i.playlistIds.slice(0,4),items:i.playlists.slice(0,4),owner:i.owner.uid,draggable:i.isOwner,variablePlaceholder:!0,itemTemplate:"playlist",placeholderTemplate:"playlist",notDraggablePositions:[0,1],itemHeight:300,itemWidth:230})+"</div>",h='<div class="page-users__section">'+a.render({type:"album",ids:i.albumIds.slice(0,4),items:i.albums.slice(0,4),itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div>";if(o+='<div class="page-users__'+i.what+'">',i.trackIds.length&&(o+='<div class="page-users__section-wrap page-users__section-wrap_tracks">'+e.render(Object.assign(i,{href:l&&"/users/"+i.owner.login+"/kids/tracks",title:i18n("page-users","[feature/mfront-3281]Любимые треки и выпуски"),content:u}))+" </div>"),i.playlistIds.length&&(o+='<div class="page-users__section-wrap page-users__section-wrap_playlists">'+e.render(Object.assign(i,{href:c&&"/users/"+i.owner.login+"/kids/playlists",title:i18n("page-users","[feature/mfront-3281]Плейлисты"),content:p}))+"</div>"),i.albumIds.length&&(o+='<div class="page-users__section-wrap page-users__section-wrap_albums">'+e.render(Object.assign(i,{href:d&&"/users/"+i.owner.login+"/kids/albums",title:i18n("page-users","[feature/mfront-3281]Альбомы, подкасты и сказки"),content:h}))+"</div>"),o+=" ",!i.trackIds.length&&!i.playlistIds.length&&!i.albumIds.length){const e=n.render({text:i18n("page-users","[feature/podcast-collection]Попробовать"),size:"L",type:"action",href:"/kids"});o+=t.render({title:i.isOwner?r[i.what].emptyTitleForOwner:r[i.what].emptyTitle,subtitle:r[i.what].emptySubtitleForOwner,isOwner:i.isOwner,subscribed:i.subscribed,btn:e})+" "}return o+="</div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(1399),e=i(610),n=i(143),a=i(686);return function(i){var s='<div class="page-users__history">';if(i.tracks&&i.tracks.length>0)s+=e.render({title:i18n("page-users","Последние прослушанные треки"),button:{size:"S",text:i18n("page-users","Очистить"),class:"page-users__button-clear",disabled:!1,type:"default"}})+'<div class="page-users__section_tracks">'+a.render({type:"track",ids:i.trackIds,items:i.tracks,loadCount:3,isOwner:!0,itemHeight:64,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,params:{type:"withCover"}})+"</div>";else{var o=i18n("page-users","[feature/mfront-511-1]Чтобы в&nbsp;этом разделе появлялись треки, слушайте музыку. <br>Попробуйте найти подходящую по&nbsp;жанру или настроению.")+'<div class="page-users__history-button">'+n.render({size:"L",type:"action",text:i18n("page-users","[feature/mfront-511-1]Найти музыку"),href:"/genre"})+"</div>";s+=t.render({title:i18n("page-users","[feature/mfront-511-1]Пока нет прослушанных треков"),isOwner:i.isOwner,subscribed:i.subscribed,subtitle:o})}return s+="</div>"}}()},function(t,e,i,n){t.exports=function(){var t=i(742),e=(i(1409),i(642));i(697);return function(i){var n="",a=t.isOwner(i),s=Mu.authData||{};if(s.user.login&&s.user.login==i.owner.login||"public"==i.visibility){n+='<div class="page-users__tabs',i.profiles.length&&(n+=" page-users__tabs_spaced"),n+='">';var o=[{title:i18n("page-users","Треки"),href:"/users/"+i.owner.login+"/tracks",id:"tracks"},{title:i18n("page-users","Альбомы"),href:"/users/"+i.owner.login+"/albums",id:"albums"},{title:i18n("page-users","Исполнители"),href:"/users/"+i.owner.login+"/artists",id:"artists"},{title:i18n("page-users","Плейлисты"),href:"/users/"+i.owner.login+"/playlists",id:"playlists"},{title:i18n("page-users","[feature/mfront-3737]Подкасты и книги"),href:"/users/"+i.owner.login+"/podcasts",id:"podcasts"},{title:i18n("page-users","[feature/mfront-3281]Детям"),href:"/users/"+i.owner.login+"/kids",id:"kids"}];a&&o.push({title:i18n("page-users","История"),href:"/users/"+i.owner.login+"/history",id:"history"}),"on"!==Mu.experiments.WebPodcastsShelf||a||(o=o.filter(t=>"podcasts"!==t.id)),n+=e.render({currentId:i.what,items:o})+"</div>"}else;return n}}()},function(t,e,i,n){t.exports=i(1028)},function(t,e,i,n){t.exports=function(){const t=i(610),e=i(354),n=i(686);return function(i){var a='<div class="page-users__section-wrap"><div class="page-users__subpage-header">';const s=["show","poetry","lecture","audiobook"],o=[];a+=" ";const r=i.albums.length&&i.albums.filter((t,e)=>{if(!s.includes(t.type))return o.push(i.albumIds[e]),t});return r.length&&(a+=t.render({title:i18n("podcasts","[feature/mfront-3752]Подкасты")}),i.sortGroups&&i.sortGroups.length&&(a+=e.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"}))),a+='</div><div class="page-users__subpage-podcasts"><div class="page-users__section">'+n.render({type:"album",ids:o,items:r,itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div></div></div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(610),e=i(354),n=i(686);return function(i){var a="";const s=["show","poetry","lecture","audiobook"],o=[],r=i.albums&&i.albums.length&&i.albums.filter((t,e)=>{if(s.includes(t.type))return o.push(i.albumIds[e]),t})||[];return r.length&&(a+=' <div class="page-users__section-wrap page-users__section-wrap_audiobooks"> <div class="page-users__subpage-header"> '+t.render({title:i18n("audiobooks","[feature/mfront-3752]Аудиокниги")})+" ",i.sortGroups&&i.sortGroups.length&&(a+=" "+e.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"})+" "),a+=' </div> <div class="page-users__subpage-audiobooks"> <div class="page-users__section"> '+n.render({type:"album",ids:o,items:r,itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+" </div> </div> </div>"),a}}()},function(t,e,i,n){t.exports=function(){const t=i(1101),e=i(686);return function(i){var n="",a=function(){var t="";const n=["like","dislike"];return i.isOwner&&n.push("removeFromLibrary"),t+='<div class="page-users__section_episodes">'+e.render({type:"track",ids:i.trackIds,items:i.tracks,isOwner:i.isOwner,loadCount:3,itemHeight:68,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",showArtist:!0,actions:n,showChartPosition:!0}})+"</div>"}();return n+='<div class="page-users__section-wrap">',i.trackIds.length&&(n+=t.render(Object.assign(i,{title:i18n("episodes","[feature/podcast-collection]Любимые выпуски"),content:a}))),n+="</div>"}}()},function(t,e,i,n){var a,s;t.exports=(a=i(652),s=i(610),function(t){var e="";const i=t.shelf.recentlyPlayed.map(t=>t.track),n=t.shelf.liked.map(t=>t.track),o=0===i.length&&0===n.length;if(e+='<h1 class="',e+=o?"page-users__shelf-header-empty":"page-users__shelf-header",e+='">'+i18n("shelf","[feature/mfront-4282]Моя полка")+"</h1>",o)e+='<p class="page-users__shelf-text">'+i18n("shelf","[feature/mfront-4282]Отмечай &#10084;️️ или просто начинай слушать подкаст или книгу. А пока что мы уже вам закинули тайтл")+"</p>";else{if(i.length>0){e+=s.render({title:i18n("shelf","[feature/mfront-4282]Вы недавно слушали"),link:t.shelf.recentlyPlayedMore?`/users/${t.owner.login}/podcasts/shelf/recently-played`:null,linkTitle:t.shelf.recentlyPlayedMore?i18n("shelf","[feature/mfront-4282]Смотреть всё"):null,showMoreLink:t.shelf.recentlyPlayedMore,class:"page-users__shelf-subhead-recently"})+'<div class="page-users__shelf-recently-list">';for(var r=0;r<i.length;r++)l=i[r],e+=a.render({track:l,type:"withCover",showBest:!0,activeTabInTrackLink:"about",dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1});e+="</div> "}if(n.length>0){e+=s.render({title:i18n("shelf","[feature/mfront-4282]Вы отложили"),link:t.shelf.likedMore?`/users/${t.owner.login}/podcasts/shelf/saved`:null,linkTitle:t.shelf.likedMore?i18n("shelf","[feature/mfront-4282]Смотреть всё"):null,showMoreLink:t.shelf.likedMore,class:"page-users__shelf-subhead-liked"})+'<div class="page-users__shelf-liked-list">';for(var l,c=0;c<n.length;c++)l=n[c],e+=a.render({track:l,type:"withCover",showBest:!0,activeTabInTrackLink:"about",dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1});e+="</div>"}}return e})},function(t,e,i,n){t.exports=function(){const t=i(652),e=i(648),n=(i(354),i(610)),a=i(742);return function(i){var s="";const o=a.getShelfListTitle(i),r=a.getShelfListData(i);s+='<div class="page-users__subpage-header page-users__shelf-list-header">'+n.render({title:o}),"new-episodes"===i.type&&(s+='<div class="page-users__shelf-text">'+i18n("shelfList","[feature/mfront-4554]&#10084;️️ Подписывайся на подкасты, чтобы появились новые выпуски. А пока мы подписали вас на первый подкаст. ")+"</div> "),s+='</div><div class="page-users__shelf-list">';for(var l,c=0;c<r.length;c++)l=r[c],s+=t.render({track:l,type:"withCover",showBest:!0,activeTabInTrackLink:"about",dataTab:"about",showAlbum:!1,showReleaseDate:!0,showArtist:!1});return s+="</div>","new-episodes"!==i.type&&(s+=e.render({pager:i.shelf.pager,baseUrl:a.getBaseURL()})),s}}()},function(t,e,i,n){t.exports=function(){const t=i(610),e=i(354),n=i(686);return function(i){var a='<div class="page-users__section-wrap"><div class="page-users__subpage-header">';return i.albumIds.length&&(a+=t.render({title:i18n("kidsAlbums","[feature/mfront-3281]Альбомы, подкасты и сказки")}),i.sortGroups&&i.sortGroups.length&&(a+=e.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"}))),a+='</div><div class="page-users__subpage-kids-albums"><div class="page-users__section">'+n.render({type:"album",ids:i.albumIds,items:i.albums,itemTemplate:"album",placeholderTemplate:"album",itemHeight:300,itemWidth:230})+"</div></div></div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(1101),e=i(686);return function(i){var n="",a=function(){var t="";const n=["like","dislike"];return i.isOwner&&n.push("removeFromLibrary"),t+='<div class="page-users__section_kids-tracks">'+e.render({type:"track",ids:i.trackIds,items:i.tracks,isOwner:i.isOwner,loadCount:3,itemHeight:68,itemTemplate:"d-track",placeholderTemplate:"d-track",variablePlaceholder:!0,useRichPlaceholder:!0,params:{type:"withCover",showArtist:!0,actions:n,showChartPosition:!0}})+"</div>"}();return n+='<div class="page-users__section-wrap">',i.trackIds.length&&(n+=t.render(Object.assign(i,{title:i18n("kidsTracks","[feature/mfront-3281]Любимые треки и выпуски"),content:a}))),n+="</div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(610),e=i(354),n=i(686);return function(i){var a='<div class="page-users__section-wrap"><div class="page-users__subpage-header">';return i.playlistIds.length&&(a+=t.render({title:i18n("kidsPlaylists","[feature/mfront-3281]Плейлисты")}),i.sortGroups&&i.sortGroups.length&&(a+=e.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"}))),a+='</div><div class="page-users__subpage-kids-playlists"><div class="page-users__section"> '+n.render({type:"playlist",ids:i.playlistIds,items:i.playlists,owner:i.owner.uid,draggable:i.isOwner,variablePlaceholder:!0,itemTemplate:"playlist",placeholderTemplate:"playlist",notDraggablePositions:[0,1],itemHeight:300,itemWidth:230})+"</div></div></div>"}}()},function(t,e,i,n){t.exports=function(){const t=i(610),e=i(354),n=i(686);return function(i){var a='<div class="page-users__section-wrap"><div class="page-users__subpage-header">';return i.artists.length&&(a+=t.render({title:i18n("kidsArtists","[feature/mfront-3281]Исполнители")}),i.sortGroups&&i.sortGroups.length&&(a+=e.render({wide:!0,resetable:!1,firstGroupIsMain:!0,size:"S",groups:i.sortGroups,class:"page-users__sort"}))),a+='</div><div class="page-users__subpage-kids-artists"><div class="page-users__section"> '+n.render({type:"artist",ids:i.artistIds,items:i.artists,itemTemplate:"artist",placeholderTemplate:"artist",itemHeight:300,itemWidth:230})+"</div></div></div>"}}()},function(t,e,i,n){t.exports=function(t){return'<div class="wizard" data-b="'+__escape(Mu.dotBlockRoot(t,"wizard",!0))+'"></div>'}}])}("undefined"==typeof module?{}:module);