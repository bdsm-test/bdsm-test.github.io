!function(e){var t,n,o;t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=/[&<>"'\/]/g,o=function(e){return t[e]},function(){var e={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},t=/[&><\u2028\u2029]/g,n=function(t){return e[t]}}();e.exports=function(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var n={},o=function(r){if(r in n)return n[r].exports;if(!e[r])throw new ReferenceError("module "+r+" is not found");var a=n[r]={exports:{}};return e[r].call(t,a,a.exports,o,t),a.exports};return o(0)}([function(e,t,n,o){var r=n(1),a=["like","pay","addToPlaylist","newPaymentPopupButton","submitOrder","appsSMS","play","wizardCompleted","PlayPD","PlayPremeire","PlayDejaVu","PlayStash"];r.onMessage=function(e){var t=e.event;-1!==a.indexOf(t)&&i("event","conversion",{send_to:s+"/"+e.id})};var s=r.request.query.id;window.dataLayer=window.dataLayer||[];var i=window.gtag=function(){window.dataLayer.push(arguments)};i("js",new Date),i("config",s)},function(e,t,n,o){var r=n(2),a=new r(location.href,!0);history.replaceState(null,null,"/");var s=a.query,i="https://"+s.from,u=s.token;if(!i||!u)throw new TypeError("Wrong arguments");var c=window.parent;if(new r(document.referrer).origin!==i)throw new Error("Parent origin doesn't match one specified in request");var p=function(e){var t={token:u,data:e};c.postMessage(JSON.stringify(t),i)};window.addEventListener("message",(function(e){e.origin===i&&e.source===c&&(e.stopImmediatePropagation(),f.onMessage(JSON.parse(e.data)))}));var l=new Promise((function(e){document.addEventListener("DOMContentLoaded",(function(){p({event:"ready"}),e()}))})),f={request:a,send:p,ready:l,onMessage:function(){}};e.exports=f},function(e,t,n,o){"use strict";var r=n(3),a=n(4),s=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,i=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(u,"")}var p=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function f(e){var t,n=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},r={},a=typeof(e=e||n);if("blob:"===e.protocol)r=new d(unescape(e.pathname),{});else if("string"===a)for(t in r=new d(e,{}),l)delete r[t];else if("object"===a){for(t in e)t in l||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=s.test(e.href))}return r}function h(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!(t[2]&&t[2].length>=2),rest:t[2]&&1===t[2].length?"/"+t[3]:t[3]}}function d(e,t,n){if(e=c(e),!(this instanceof d))return new d(e,t,n);var o,s,i,u,l,w,y=p.slice(),m=typeof t,g=this,v=0;for("object"!==m&&"string"!==m&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=f(t),o=!(s=h(e||"")).protocol&&!s.slashes,g.slashes=s.slashes||o&&t.slashes,g.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(y[3]=[/(.*)/,"pathname"]);v<y.length;v++)"function"!=typeof(u=y[v])?(i=u[0],w=u[1],i!=i?g[w]=e:"string"==typeof i?~(l=e.indexOf(i))&&("number"==typeof u[2]?(g[w]=e.slice(0,l),e=e.slice(l+u[2])):(g[w]=e.slice(l),e=e.slice(0,l))):(l=i.exec(e))&&(g[w]=l[1],e=e.slice(0,l.index)),g[w]=g[w]||o&&u[3]&&t[w]||"",u[4]&&(g[w]=g[w].toLowerCase())):e=u(e);n&&(g.query=n(g.query)),o&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=n.length,r=n[o-1],a=!1,s=0;o--;)"."===n[o]?n.splice(o,1):".."===n[o]?(n.splice(o,1),s++):s&&(0===o&&(a=!0),n.splice(o,1),s--);return a&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(g.pathname,t.pathname)),"/"!==g.pathname.charAt(0)&&g.hostname&&(g.pathname="/"+g.pathname),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(u=g.auth.split(":"),g.username=u[0]||"",g.password=u[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}d.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;default:o[e]=t}for(var i=0;i<p.length;i++){var u=p[i];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var r=o+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},d.extractProtocol=h,d.location=f,d.trimLeft=c,d.qs=a,e.exports=d},function(e,t,n,o){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n,o){"use strict";var r=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function s(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(r.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=s(o),n=s(n),null===o||null===n)continue;a.push(o+"="+n)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,o={};t=n.exec(e);){var r=a(t[1]),s=a(t[2]);null===r||null===s||r in o||(o[r]=s)}return o}}])}("undefined"==typeof module?{}:module);